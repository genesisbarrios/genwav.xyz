var s$d=class s{constructor(a){this.payload=a;}};var d$8=function(r){return r.PODRockStarsJoined="step_pod_rockstars_joined",r.BlogPostRead="step_blog_post_read",r.FiveProductsPublished="step_five_products_published",r.FiveProductsCreated="step_five_products_created",r.OrderCreated="step_order_created",r.SellersClubJoined="step_sellers_club_joined",r.EtsySetupCompleted="step_etsy_setup_completed",r}(d$8||{});var s$c=class s{};var r$b=e=>{let t=new URL(e);return t.searchParams.set("t",Date.now().toString()),t.toString()};var p$b=Object.create;var h$9=Object.defineProperty,q$8=Object.defineProperties,r$a=Object.getOwnPropertyDescriptor,s$b=Object.getOwnPropertyDescriptors,t$d=Object.getOwnPropertyNames,g$d=Object.getOwnPropertySymbols,u$7=Object.getPrototypeOf,k$7=Object.prototype.hasOwnProperty,m$b=Object.prototype.propertyIsEnumerable;var l$7=(a,b,c)=>b in a?h$9(a,b,{enumerable:true,configurable:true,writable:true,value:c}):a[b]=c,w$9=(a,b)=>{for(var c in b||={})k$7.call(b,c)&&l$7(a,c,b[c]);if(g$d)for(var c of g$d(b))m$b.call(b,c)&&l$7(a,c,b[c]);return a},x$d=(a,b)=>q$8(a,s$b(b));var y$9=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(b,c)=>(typeof require<"u"?require:b)[c]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var z$c=a=>typeof a=="symbol"?a:a+"",A$f=(a,b)=>{var c={};for(var d in a)k$7.call(a,d)&&b.indexOf(d)<0&&(c[d]=a[d]);if(a!=null&&g$d)for(var d of g$d(a))b.indexOf(d)<0&&m$b.call(a,d)&&(c[d]=a[d]);return c};var B$a=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),C$g=(a,b)=>{for(var c in b)h$9(a,c,{get:b[c],enumerable:true});},v$9=(a,b,c,d)=>{if(b&&typeof b=="object"||typeof b=="function")for(let e of t$d(b))!k$7.call(a,e)&&e!==c&&h$9(a,e,{get:()=>b[e],enumerable:!(d=r$a(b,e))||d.enumerable});return a};var D$a=(a,b,c)=>(c=a!=null?p$b(u$7(a)):{},v$9(b||!a||!a.__esModule?h$9(c,"default",{value:a,enumerable:true}):c,a));var E$e=(a,b,c)=>new Promise((d,e)=>{var n=f=>{try{i(c.next(f));}catch(j){e(j);}},o=f=>{try{i(c.throw(f));}catch(j){e(j);}},i=f=>f.done?d(f.value):Promise.resolve(f.value).then(n,o);i((c=c.apply(a,b)).next());});function Wi$5(){this.__data__=[],this.size=0;}var fr$7=Wi$5;function Gi$5(t,e){return t===e||t!==t&&e!==e}var R$h=Gi$5;function Ki$6(t,e){for(var r=t.length;r--;)if(R$h(t[r][0],e))return r;return  -1}var z$b=Ki$6;var qi$4=Array.prototype,Hi$5=qi$4.splice;function ki$7(t){var e=this.__data__,r=z$b(e,t);if(r<0)return  false;var o=e.length-1;return r==o?e.pop():Hi$5.call(e,r,1),--this.size,true}var sr$5=ki$7;function zi$4(t){var e=this.__data__,r=z$b(e,t);return r<0?undefined:e[r][1]}var ur$7=zi$4;function $i$5(t){return z$b(this.__data__,t)>-1}var lr$7=$i$5;function Yi$7(t,e){var r=this.__data__,o=z$b(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}var pr$7=Yi$7;function pt$7(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}pt$7.prototype.clear=fr$7;pt$7.prototype.delete=sr$5;pt$7.prototype.get=ur$7;pt$7.prototype.has=lr$7;pt$7.prototype.set=pr$7;var $$9=pt$7;function Zi$6(){this.__data__=new $$9,this.size=0;}var mr$7=Zi$6;function Vi$5(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var dr$7=Vi$5;function Xi$6(t){return this.__data__.get(t)}var cr$6=Xi$6;function Ji$8(t){return this.__data__.has(t)}var hr$7=Ji$8;var Qi$6=typeof global=="object"&&global&&global.Object===Object&&global,Zt$6=Qi$6;var tn$7=typeof self=="object"&&self&&self.Object===Object&&self,en$5=Zt$6||tn$7||Function("return this")(),b$a=en$5;var rn$6=b$a.Symbol,v$8=rn$6;var xr$7=Object.prototype,on$6=xr$7.hasOwnProperty,an$6=xr$7.toString,Wt$6=v$8?v$8.toStringTag:undefined;function nn$9(t){var e=on$6.call(t,Wt$6),r=t[Wt$6];try{t[Wt$6]=void 0;var o=!0;}catch{}var a=an$6.call(t);return o&&(e?t[Wt$6]=r:delete t[Wt$6]),a}var gr$7=nn$9;var fn$6=Object.prototype,sn$6=fn$6.toString;function un$6(t){return sn$6.call(t)}var br$7=un$6;var ln$6="[object Null]",pn$9="[object Undefined]",yr$7=v$8?v$8.toStringTag:undefined;function mn$7(t){return t==null?t===undefined?pn$9:ln$6:yr$7&&yr$7 in Object(t)?gr$7(t):br$7(t)}var I$b=mn$7;function dn$8(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var g$c=dn$8;var cn$7="[object AsyncFunction]",hn$6="[object Function]",xn$8="[object GeneratorFunction]",gn$5="[object Proxy]";function bn$8(t){if(!g$c(t))return  false;var e=I$b(t);return e==hn$6||e==xn$8||e==cn$7||e==gn$5}var mt$9=bn$8;var yn$8=b$a["__core-js_shared__"],Vt$8=yn$8;var Ar$7=function(){var t=/[^.]+$/.exec(Vt$8&&Vt$8.keys&&Vt$8.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function An$8(t){return !!Ar$7&&Ar$7 in t}var vr$7=An$8;var vn$7=Function.prototype,Nn$7=vn$7.toString;function Tn$7(t){if(t!=null){try{return Nn$7.call(t)}catch{}try{return t+""}catch{}}return ""}var K$9=Tn$7;var On$7=/[\\^$.*+?()[\]{}|]/g,In$8=/^\[object .+?Constructor\]$/,_n$7=Function.prototype,Cn$6=Object.prototype,En$7=_n$7.toString,wn$8=Cn$6.hasOwnProperty,Sn$8=RegExp("^"+En$7.call(wn$8).replace(On$7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ln$8(t){if(!g$c(t)||vr$7(t))return  false;var e=mt$9(t)?Sn$8:In$8;return e.test(K$9(t))}var Nr$6=Ln$8;function Bn$8(t,e){return t?.[e]}var Tr$8=Bn$8;function Pn$8(t,e){var r=Tr$8(t,e);return Nr$6(r)?r:undefined}var C$f=Pn$8;var Rn$7=C$f(b$a,"Map"),Y$6=Rn$7;var Mn$8=C$f(Object,"create"),q$7=Mn$8;function jn$7(){this.__data__=q$7?q$7(null):{},this.size=0;}var Or$7=jn$7;function Un$7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ir$7=Un$7;var Dn$7="__lodash_hash_undefined__",Fn$7=Object.prototype,Wn$6=Fn$7.hasOwnProperty;function Gn$5(t){var e=this.__data__;if(q$7){var r=e[t];return r===Dn$7?undefined:r}return Wn$6.call(e,t)?e[t]:undefined}var _r$8=Gn$5;var Kn$5=Object.prototype,qn$3=Kn$5.hasOwnProperty;function Hn$5(t){var e=this.__data__;return q$7?e[t]!==undefined:qn$3.call(e,t)}var Cr$7=Hn$5;var kn$9="__lodash_hash_undefined__";function zn$5(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=q$7&&e===undefined?kn$9:e,this}var Er$7=zn$5;function dt$7(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}dt$7.prototype.clear=Or$7;dt$7.prototype.delete=Ir$7;dt$7.prototype.get=_r$8;dt$7.prototype.has=Cr$7;dt$7.prototype.set=Er$7;var De$c=dt$7;function $n$7(){this.size=0,this.__data__={hash:new De$c,map:new(Y$6||$$9),string:new De$c};}var wr$7=$n$7;function Yn$6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Sr$7=Yn$6;function Zn$5(t,e){var r=t.__data__;return Sr$7(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Z$b=Zn$5;function Vn$5(t){var e=Z$b(this,t).delete(t);return this.size-=e?1:0,e}var Lr$6=Vn$5;function Xn$5(t){return Z$b(this,t).get(t)}var Br$7=Xn$5;function Jn$3(t){return Z$b(this,t).has(t)}var Pr$7=Jn$3;function Qn$6(t,e){var r=Z$b(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}var Rr$5=Qn$6;function ct$9(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}ct$9.prototype.clear=wr$7;ct$9.prototype.delete=Lr$6;ct$9.prototype.get=Br$7;ct$9.prototype.has=Pr$7;ct$9.prototype.set=Rr$5;var ft$7=ct$9;var tf$4=200;function ef$4(t,e){var r=this.__data__;if(r instanceof $$9){var o=r.__data__;if(!Y$6||o.length<tf$4-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new ft$7(o);}return r.set(t,e),this.size=r.size,this}var Mr$7=ef$4;function ht$7(t){var e=this.__data__=new $$9(t);this.size=e.size;}ht$7.prototype.clear=mr$7;ht$7.prototype.delete=dr$7;ht$7.prototype.get=cr$6;ht$7.prototype.has=hr$7;ht$7.prototype.set=Mr$7;var M$b=ht$7;var rf$3="__lodash_hash_undefined__";function of$3(t){return this.__data__.set(t,rf$3),this}var jr$6=of$3;function af$3(t){return this.__data__.has(t)}var Ur$5=af$3;function Xt$7(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ft$7;++e<r;)this.add(t[e]);}Xt$7.prototype.add=Xt$7.prototype.push=jr$6;Xt$7.prototype.has=Ur$5;var xt$8=Xt$7;function nf$3(t,e){for(var r=-1,o=t==null?0:t.length;++r<o;)if(e(t[r],r,t))return  true;return  false}var Dr$6=nf$3;function ff$3(t,e){return t.has(e)}var gt$a=ff$3;var sf$3=1,uf$2=2;function lf$2(t,e,r,o,a,i){var n=r&sf$3,f=t.length,s=e.length;if(f!=s&&!(n&&s>f))return  false;var u=i.get(t),l=i.get(e);if(u&&l)return u==e&&l==t;var p=-1,m=true,A=r&uf$2?new xt$8:undefined;for(i.set(t,e),i.set(e,t);++p<f;){var N=t[p],_=e[p];if(o)var T=n?o(_,N,p,e,t,i):o(N,_,p,t,e,i);if(T!==undefined){if(T)continue;m=false;break}if(A){if(!Dr$6(e,function(O,nt){if(!gt$a(A,nt)&&(N===O||a(N,O,r,o,i)))return A.push(nt)})){m=false;break}}else if(!(N===_||a(N,_,r,o,i))){m=false;break}}return i.delete(t),i.delete(e),m}var Jt$9=lf$2;var pf$3=b$a.Uint8Array,bt$8=pf$3;function mf$3(t){var e=-1,r=Array(t.size);return t.forEach(function(o,a){r[++e]=[a,o];}),r}var Fr$6=mf$3;function df$3(t){var e=-1,r=Array(t.size);return t.forEach(function(o){r[++e]=o;}),r}var yt$8=df$3;var cf$2=1,hf$3=2,xf$3="[object Boolean]",gf$3="[object Date]",bf$3="[object Error]",yf$3="[object Map]",Af$3="[object Number]",vf$3="[object RegExp]",Nf$3="[object Set]",Tf$3="[object String]",Of$3="[object Symbol]",If$3="[object ArrayBuffer]",_f$3="[object DataView]",Wr$6=v$8?v$8.prototype:undefined,Fe$9=Wr$6?Wr$6.valueOf:undefined;function Cf$3(t,e,r,o,a,i,n){switch(r){case _f$3:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return  false;t=t.buffer,e=e.buffer;case If$3:return !(t.byteLength!=e.byteLength||!i(new bt$8(t),new bt$8(e)));case xf$3:case gf$3:case Af$3:return R$h(+t,+e);case bf$3:return t.name==e.name&&t.message==e.message;case vf$3:case Tf$3:return t==e+"";case yf$3:var f=Fr$6;case Nf$3:var s=o&cf$2;if(f||(f=yt$8),t.size!=e.size&&!s)return  false;var u=n.get(t);if(u)return u==e;o|=hf$3,n.set(t,e);var l=Jt$9(f(t),f(e),o,a,i,n);return n.delete(t),l;case Of$3:if(Fe$9)return Fe$9.call(t)==Fe$9.call(e)}return  false}var Gr$7=Cf$3;function Ef$3(t,e){for(var r=-1,o=e.length,a=t.length;++r<o;)t[a+r]=e[r];return t}var At$6=Ef$3;var wf$3=Array.isArray,d$7=wf$3;function Sf$3(t,e,r){var o=e(t);return d$7(t)?o:At$6(o,r(t))}var Qt$7=Sf$3;function Lf$3(t,e){for(var r=-1,o=t==null?0:t.length,a=0,i=[];++r<o;){var n=t[r];e(n,r,t)&&(i[a++]=n);}return i}var te$7=Lf$3;function Bf$3(){return []}var ee$a=Bf$3;var Pf$3=Object.prototype,Rf$3=Pf$3.propertyIsEnumerable,Kr$5=Object.getOwnPropertySymbols,Mf$3=Kr$5?function(t){return t==null?[]:(t=Object(t),te$7(Kr$5(t),function(e){return Rf$3.call(t,e)}))}:ee$a,vt$7=Mf$3;function jf$3(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}var qr$6=jf$3;function Uf$3(t){return t!=null&&typeof t=="object"}var y$8=Uf$3;var Df$3="[object Arguments]";function Ff$3(t){return y$8(t)&&I$b(t)==Df$3}var We$a=Ff$3;var Hr$5=Object.prototype,Wf$3=Hr$5.hasOwnProperty,Gf$3=Hr$5.propertyIsEnumerable,Kf$3=We$a(function(){return arguments}())?We$a:function(t){return y$8(t)&&Wf$3.call(t,"callee")&&!Gf$3.call(t,"callee")},L$a=Kf$3;function qf$3(){return  false}var kr$8=qf$3;var Yr$7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zr$6=Yr$7&&typeof module=="object"&&module&&!module.nodeType&&module,Hf$3=zr$6&&zr$6.exports===Yr$7,$r$6=Hf$3?b$a.Buffer:undefined,kf$3=$r$6?$r$6.isBuffer:undefined,zf$3=kf$3||kr$8,B$9=zf$3;var $f$3=9007199254740991,Yf$3=/^(?:0|[1-9]\d*)$/;function Zf$3(t,e){var r=typeof t;return e=e??$f$3,!!e&&(r=="number"||r!="symbol"&&Yf$3.test(t))&&t>-1&&t%1==0&&t<e}var V$8=Zf$3;var Vf$3=9007199254740991;function Xf$3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vf$3}var Nt$4=Xf$3;var Jf$3="[object Arguments]",Qf$3="[object Array]",ts$4="[object Boolean]",es$3="[object Date]",rs$4="[object Error]",os$4="[object Function]",as$3="[object Map]",is$4="[object Number]",ns$4="[object Object]",fs$3="[object RegExp]",ss$5="[object Set]",us$4="[object String]",ls$4="[object WeakMap]",ps$4="[object ArrayBuffer]",ms$4="[object DataView]",ds$5="[object Float32Array]",cs$4="[object Float64Array]",hs$4="[object Int8Array]",xs$4="[object Int16Array]",gs$3="[object Int32Array]",bs$5="[object Uint8Array]",ys$3="[object Uint8ClampedArray]",As$5="[object Uint16Array]",vs$3="[object Uint32Array]",x$c={};x$c[ds$5]=x$c[cs$4]=x$c[hs$4]=x$c[xs$4]=x$c[gs$3]=x$c[bs$5]=x$c[ys$3]=x$c[As$5]=x$c[vs$3]=true;x$c[Jf$3]=x$c[Qf$3]=x$c[ps$4]=x$c[ts$4]=x$c[ms$4]=x$c[es$3]=x$c[rs$4]=x$c[os$4]=x$c[as$3]=x$c[is$4]=x$c[ns$4]=x$c[fs$3]=x$c[ss$5]=x$c[us$4]=x$c[ls$4]=false;function Ns$5(t){return y$8(t)&&Nt$4(t.length)&&!!x$c[I$b(t)]}var Zr$6=Ns$5;function Ts$4(t){return function(e){return t(e)}}var j$9=Ts$4;var Vr$7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gt$6=Vr$7&&typeof module=="object"&&module&&!module.nodeType&&module,Os$3=Gt$6&&Gt$6.exports===Vr$7,Ge$b=Os$3&&Zt$6.process,Is$4=function(){try{var t=Gt$6&&Gt$6.require&&Gt$6.require("util").types;return t||Ge$b&&Ge$b.binding&&Ge$b.binding("util")}catch{}}(),H$a=Is$4;var Xr$5=H$a&&H$a.isTypedArray,_s$4=Xr$5?j$9(Xr$5):Zr$6,X$a=_s$4;var Cs$7=Object.prototype,Es$5=Cs$7.hasOwnProperty;function ws$4(t,e){var r=d$7(t),o=!r&&L$a(t),a=!r&&!o&&B$9(t),i=!r&&!o&&!a&&X$a(t),n=r||o||a||i,f=n?qr$6(t.length,String):[],s=f.length;for(var u in t)(e||Es$5.call(t,u))&&!(n&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V$8(u,s)))&&f.push(u);return f}var re$9=ws$4;var Ss$4=Object.prototype;function Ls$5(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Ss$4;return t===r}var J$8=Ls$5;function Bs$4(t,e){return function(r){return t(e(r))}}var oe$8=Bs$4;var Ps$4=oe$8(Object.keys,Object),Jr$6=Ps$4;var Rs$4=Object.prototype,Ms$4=Rs$4.hasOwnProperty;function js$5(t){if(!J$8(t))return Jr$6(t);var e=[];for(var r in Object(t))Ms$4.call(t,r)&&r!="constructor"&&e.push(r);return e}var ae$a=js$5;function Us$5(t){return t!=null&&Nt$4(t.length)&&!mt$9(t)}var E$d=Us$5;function Ds$4(t){return E$d(t)?re$9(t):ae$a(t)}var w$8=Ds$4;function Fs$5(t){return Qt$7(t,w$8,vt$7)}var Kt$6=Fs$5;var Ws$3=1,Gs$4=Object.prototype,Ks$4=Gs$4.hasOwnProperty;function qs$4(t,e,r,o,a,i){var n=r&Ws$3,f=Kt$6(t),s=f.length,u=Kt$6(e),l=u.length;if(s!=l&&!n)return  false;for(var p=s;p--;){var m=f[p];if(!(n?m in e:Ks$4.call(e,m)))return  false}var A=i.get(t),N=i.get(e);if(A&&N)return A==e&&N==t;var _=true;i.set(t,e),i.set(e,t);for(var T=n;++p<s;){m=f[p];var O=t[m],nt=e[m];if(o)var nr=n?o(nt,O,m,e,t,i):o(O,nt,m,t,e,i);if(!(nr===undefined?O===nt||a(O,nt,r,o,i):nr)){_=false;break}T||(T=m=="constructor");}if(_&&!T){var $t=t.constructor,Yt=e.constructor;$t!=Yt&&"constructor"in t&&"constructor"in e&&!(typeof $t=="function"&&$t instanceof $t&&typeof Yt=="function"&&Yt instanceof Yt)&&(_=false);}return i.delete(t),i.delete(e),_}var Qr$6=qs$4;var Hs$4=C$f(b$a,"DataView"),ie$c=Hs$4;var ks$5=C$f(b$a,"Promise"),ne$8=ks$5;var zs$4=C$f(b$a,"Set"),Q$b=zs$4;var $s$5=C$f(b$a,"WeakMap"),fe$8=$s$5;var to$7="[object Map]",Ys$4="[object Object]",eo$6="[object Promise]",ro$7="[object Set]",oo$6="[object WeakMap]",ao$6="[object DataView]",Zs$6=K$9(ie$c),Vs$4=K$9(Y$6),Xs$4=K$9(ne$8),Js$6=K$9(Q$b),Qs$5=K$9(fe$8),st$9=I$b;(ie$c&&st$9(new ie$c(new ArrayBuffer(1)))!=ao$6||Y$6&&st$9(new Y$6)!=to$7||ne$8&&st$9(ne$8.resolve())!=eo$6||Q$b&&st$9(new Q$b)!=ro$7||fe$8&&st$9(new fe$8)!=oo$6)&&(st$9=function(t){var e=I$b(t),r=e==Ys$4?t.constructor:undefined,o=r?K$9(r):"";if(o)switch(o){case Zs$6:return ao$6;case Vs$4:return to$7;case Xs$4:return eo$6;case Js$6:return ro$7;case Qs$5:return oo$6}return e});var P$c=st$9;var tu$4=1,io$6="[object Arguments]",no$6="[object Array]",se$8="[object Object]",eu$4=Object.prototype,fo$4=eu$4.hasOwnProperty;function ru$3(t,e,r,o,a,i){var n=d$7(t),f=d$7(e),s=n?no$6:P$c(t),u=f?no$6:P$c(e);s=s==io$6?se$8:s,u=u==io$6?se$8:u;var l=s==se$8,p=u==se$8,m=s==u;if(m&&B$9(t)){if(!B$9(e))return  false;n=true,l=false;}if(m&&!l)return i||(i=new M$b),n||X$a(t)?Jt$9(t,e,r,o,a,i):Gr$7(t,e,s,r,o,a,i);if(!(r&tu$4)){var A=l&&fo$4.call(t,"__wrapped__"),N=p&&fo$4.call(e,"__wrapped__");if(A||N){var _=A?t.value():t,T=N?e.value():e;return i||(i=new M$b),a(_,T,r,o,i)}}return m?(i||(i=new M$b),Qr$6(t,e,r,o,a,i)):false}var so$8=ru$3;function uo$8(t,e,r,o,a){return t===e?true:t==null||e==null||!y$8(t)&&!y$8(e)?t!==t&&e!==e:so$8(t,e,r,o,uo$8,a)}var Tt$7=uo$8;function ou$4(t,e){return Tt$7(t,e)}var au$4=ou$4;var iu$5="[object Symbol]";function nu$4(t){return typeof t=="symbol"||y$8(t)&&I$b(t)==iu$5}var tt$9=nu$4;function fu$4(t,e){for(var r=-1,o=t==null?0:t.length,a=Array(o);++r<o;)a[r]=e(t[r],r,t);return a}var U$e=fu$4;var lo$7=v$8?v$8.prototype:undefined,po$7=lo$7?lo$7.toString:undefined;function mo$7(t){if(typeof t=="string")return t;if(d$7(t))return U$e(t,mo$7)+"";if(tt$9(t))return po$7?po$7.call(t):"";var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}var co$7=mo$7;var uu$5=/\s/;function lu$4(t){for(var e=t.length;e--&&uu$5.test(t.charAt(e)););return e}var ho$6=lu$4;var pu$4=/^\s+/;function mu$5(t){return t&&t.slice(0,ho$6(t)+1).replace(pu$4,"")}var xo$6=mu$5;var go$6=NaN,du$5=/^[-+]0x[0-9a-f]+$/i,cu$5=/^0b[01]+$/i,hu$4=/^0o[0-7]+$/i,xu$5=parseInt;function gu$4(t){if(typeof t=="number")return t;if(tt$9(t))return go$6;if(g$c(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=g$c(e)?e+"":e;}if(typeof t!="string")return t===0?t:+t;t=xo$6(t);var r=cu$5.test(t);return r||hu$4.test(t)?xu$5(t.slice(2),r?2:8):du$5.test(t)?go$6:+t}var Ot$7=gu$4;var bo$6=1/0,bu$4=17976931348623157e292;function yu$4(t){if(!t)return t===0?t:0;if(t=Ot$7(t),t===bo$6||t===-Infinity){var e=t<0?-1:1;return e*bu$4}return t===t?t:0}var qt$5=yu$4;function Au$5(t){var e=qt$5(t),r=e%1;return e===e?r?e-r:e:0}var yo$6=Au$5;function vu$4(t){return t}var It$7=vu$4;var Ao$6=Object.create,Nu$4=function(){function t(){}return function(e){if(!g$c(e))return {};if(Ao$6)return Ao$6(e);t.prototype=e;var r=new t;return t.prototype=undefined,r}}(),vo$5=Nu$4;function Tu$4(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var No$6=Tu$4;function Ou$4(){}var To$4=Ou$4;function Iu$4(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}var et$9=Iu$4;var _u$5=800,Cu$4=16,Eu$5=Date.now;function wu$5(t){var e=0,r=0;return function(){var o=Eu$5(),a=Cu$4-(o-r);if(r=o,a>0){if(++e>=_u$5)return arguments[0]}else e=0;return t.apply(undefined,arguments)}}var Oo$6=wu$5;function Su$4(t){return function(){return t}}var Io$6=Su$4;var Lu$4=function(){try{var t=C$f(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_t$5=Lu$4;var Bu$4=_t$5?function(t,e){return _t$5(t,"toString",{configurable:true,enumerable:false,value:Io$6(e),writable:true})}:It$7,_o$6=Bu$4;var Pu$4=Oo$6(_o$6),ue$4=Pu$4;function Ru$4(t,e){for(var r=-1,o=t==null?0:t.length;++r<o&&e(t[r],r,t)!==false;);return t}var Co$7=Ru$4;function Mu$4(t,e,r,o){for(var a=t.length,i=r+(o?1:-1);o?i--:++i<a;)if(e(t[i],i,t))return i;return  -1}var Eo$6=Mu$4;function ju$4(t){return t!==t}var wo$6=ju$4;function Uu$5(t,e,r){for(var o=r-1,a=t.length;++o<a;)if(t[o]===e)return o;return  -1}var So$6=Uu$5;function Du$4(t,e,r){return e===e?So$6(t,e,r):Eo$6(t,wo$6,r)}var le$a=Du$4;function Fu$4(t,e){var r=t==null?0:t.length;return !!r&&le$a(t,e,0)>-1}var pe$a=Fu$4;function Wu$5(t,e,r){e=="__proto__"&&_t$5?_t$5(t,e,{configurable:true,enumerable:true,value:r,writable:true}):t[e]=r;}var D$9=Wu$5;var Gu$3=Object.prototype,Ku$4=Gu$3.hasOwnProperty;function qu$4(t,e,r){var o=t[e];(!(Ku$4.call(t,e)&&R$h(o,r))||r===undefined&&!(e in t))&&D$9(t,e,r);}var Ct$7=qu$4;function Hu$4(t,e,r,o){var a=!r;r||(r={});for(var i=-1,n=e.length;++i<n;){var f=e[i],s=o?o(r[f],t[f],f,r,t):undefined;s===undefined&&(s=t[f]),a?D$9(r,f,s):Ct$7(r,f,s);}return r}var F$c=Hu$4;var Lo$2=Math.max;function ku$4(t,e,r){return e=Lo$2(e===undefined?t.length-1:e,0),function(){for(var o=arguments,a=-1,i=Lo$2(o.length-e,0),n=Array(i);++a<i;)n[a]=o[e+a];a=-1;for(var f=Array(e+1);++a<e;)f[a]=o[a];return f[e]=r(n),No$6(t,this,f)}}var me$8=ku$4;function zu$4(t,e){return ue$4(me$8(t,e,It$7),t+"")}var Et$5=zu$4;function $u$4(t,e,r){if(!g$c(r))return  false;var o=typeof e;return (o=="number"?E$d(r)&&V$8(e,r.length):o=="string"&&e in r)?R$h(r[e],t):false}var wt$8=$u$4;function Yu$5(t){return Et$5(function(e,r){var o=-1,a=r.length,i=a>1?r[a-1]:undefined,n=a>2?r[2]:undefined;for(i=t.length>3&&typeof i=="function"?(a--,i):undefined,n&&wt$8(r[0],r[1],n)&&(i=a<3?undefined:i,a=1),e=Object(e);++o<a;){var f=r[o];f&&t(e,f,o,i);}return e})}var de$8=Yu$5;function Zu$2(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Bo$4=Zu$2;var Vu$5=Object.prototype,Xu$5=Vu$5.hasOwnProperty;function Ju$4(t){if(!g$c(t))return Bo$4(t);var e=J$8(t),r=[];for(var o in t)o=="constructor"&&(e||!Xu$5.call(t,o))||r.push(o);return r}var Po$9=Ju$4;function Qu$5(t){return E$d(t)?re$9(t,true):Po$9(t)}var W$a=Qu$5;var tl$4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,el$4=/^\w*$/;function rl$4(t,e){if(d$7(t))return  false;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||tt$9(t)?true:el$4.test(t)||!tl$4.test(t)||e!=null&&t in Object(e)}var St$6=rl$4;var ol$4="Expected a function";function Ke$9(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ol$4);var r=function(){var o=arguments,a=e?e.apply(this,o):o[0],i=r.cache;if(i.has(a))return i.get(a);var n=t.apply(this,o);return r.cache=i.set(a,n)||i,n};return r.cache=new(Ke$9.Cache||ft$7),r}Ke$9.Cache=ft$7;var qe$9=Ke$9;var al$4=500;function il$4(t){var e=qe$9(t,function(o){return r.size===al$4&&r.clear(),o}),r=e.cache;return e}var Ro$6=il$4;var nl$4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fl$4=/\\(\\)?/g,sl$4=Ro$6(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nl$4,function(r,o,a,i){e.push(a?i.replace(fl$4,"$1"):o||r);}),e}),Mo$7=sl$4;function ul$3(t){return t==null?"":co$7(t)}var S$a=ul$3;function ll$4(t,e){return d$7(t)?t:St$6(t,e)?[t]:Mo$7(S$a(t))}var rt$9=ll$4;function ml$4(t){if(typeof t=="string"||tt$9(t))return t;var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e}var G$8=ml$4;function dl$4(t,e){e=rt$9(e,t);for(var r=0,o=e.length;t!=null&&r<o;)t=t[G$8(e[r++])];return r&&r==o?t:undefined}var Lt$7=dl$4;function cl$4(t,e,r){var o=t==null?undefined:Lt$7(t,e);return o===undefined?r:o}var jo$4=cl$4;var Uo$6=v$8?v$8.isConcatSpreadable:undefined;function hl$4(t){return d$7(t)||L$a(t)||!!(Uo$6&&t&&t[Uo$6])}var Do$4=hl$4;function Fo$4(t,e,r,o,a){var i=-1,n=t.length;for(r||(r=Do$4),a||(a=[]);++i<n;){var f=t[i];e>0&&r(f)?e>1?Fo$4(f,e-1,r,o,a):At$6(a,f):o||(a[a.length]=f);}return a}var ce$b=Fo$4;function xl$4(t){var e=t==null?0:t.length;return e?ce$b(t,1):[]}var Wo$6=xl$4;function gl$4(t){return ue$4(me$8(t,undefined,Wo$6),t+"")}var Go$6=gl$4;var bl$4=oe$8(Object.getPrototypeOf,Object),Bt$8=bl$4;var yl$3="[object Object]",Al$2=Function.prototype,vl$4=Object.prototype,Ko$5=Al$2.toString,Nl$3=vl$4.hasOwnProperty,Tl$4=Ko$5.call(Object);function Ol$4(t){if(!y$8(t)||I$b(t)!=yl$3)return  false;var e=Bt$8(t);if(e===null)return  true;var r=Nl$3.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ko$5.call(r)==Tl$4}var qo$6=Ol$4;function Il$4(t,e,r){var o=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++o<a;)i[o]=t[o+e];return i}var he$8=Il$4;function _l$4(t,e,r){var o=t.length;return r=r===undefined?o:r,!e&&r>=o?t:he$8(t,e,r)}var Ho$5=_l$4;var Cl$4="\\ud800-\\udfff",El$3="\\u0300-\\u036f",wl$4="\\ufe20-\\ufe2f",Sl$4="\\u20d0-\\u20ff",Ll$2=El$3+wl$4+Sl$4,Bl$2="\\ufe0e\\ufe0f",Pl$4="\\u200d",Rl$3=RegExp("["+Pl$4+Cl$4+Ll$2+Bl$2+"]");function Ml$4(t){return Rl$3.test(t)}var xe$9=Ml$4;function jl$3(t){return t.split("")}var ko$7=jl$3;var zo$5="\\ud800-\\udfff",Ul$3="\\u0300-\\u036f",Dl$3="\\ufe20-\\ufe2f",Fl$3="\\u20d0-\\u20ff",Wl$3=Ul$3+Dl$3+Fl$3,Gl$3="\\ufe0e\\ufe0f",Kl$3="["+zo$5+"]",He$a="["+Wl$3+"]",ke$8="\\ud83c[\\udffb-\\udfff]",ql$3="(?:"+He$a+"|"+ke$8+")",$o$5="[^"+zo$5+"]",Yo$5="(?:\\ud83c[\\udde6-\\uddff]){2}",Zo$5="[\\ud800-\\udbff][\\udc00-\\udfff]",Hl$4="\\u200d",Vo$6=ql$3+"?",Xo$6="["+Gl$3+"]?",kl$3="(?:"+Hl$4+"(?:"+[$o$5,Yo$5,Zo$5].join("|")+")"+Xo$6+Vo$6+")*",zl$2=Xo$6+Vo$6+kl$3,$l$3="(?:"+[$o$5+He$a+"?",He$a,Yo$5,Zo$5,Kl$3].join("|")+")",Yl$3=RegExp(ke$8+"(?="+ke$8+")|"+$l$3+zl$2,"g");function Zl$3(t){return t.match(Yl$3)||[]}var Jo$4=Zl$3;function Vl$3(t){return xe$9(t)?Jo$4(t):ko$7(t)}var Qo$4=Vl$3;function Xl$4(t){return function(e){e=S$a(e);var r=xe$9(e)?Qo$4(e):undefined,o=r?r[0]:e.charAt(0),a=r?Ho$5(r,1).join(""):e.slice(1);return o[t]()+a}}var ta$7=Xl$4;var Jl$3=ta$7("toUpperCase"),ze$7=Jl$3;function Ql$2(t){return ze$7(S$a(t).toLowerCase())}var $e$b=Ql$2;function tp$3(t,e,r,o){var a=-1,i=t==null?0:t.length;for(o&&i&&(r=t[++a]);++a<i;)r=e(r,t[a],a,t);return r}var ea$5=tp$3;function ep$3(t){return function(e){return t?.[e]}}var ra$7=ep$3;var rp$3={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},op$2=ra$7(rp$3),oa$6=op$2;var ap$2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ip$3="\\u0300-\\u036f",np$3="\\ufe20-\\ufe2f",fp$2="\\u20d0-\\u20ff",sp$2=ip$3+np$3+fp$2,up$2="["+sp$2+"]",lp$2=RegExp(up$2,"g");function pp$2(t){return t=S$a(t),t&&t.replace(ap$2,oa$6).replace(lp$2,"")}var aa$7=pp$2;var mp$2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dp$2(t){return t.match(mp$2)||[]}var ia$7=dp$2;var cp$2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hp$2(t){return cp$2.test(t)}var na$6=hp$2;var pa$6="\\ud800-\\udfff",xp$2="\\u0300-\\u036f",gp$2="\\ufe20-\\ufe2f",bp$2="\\u20d0-\\u20ff",yp$2=xp$2+gp$2+bp$2,ma$6="\\u2700-\\u27bf",da$6="a-z\\xdf-\\xf6\\xf8-\\xff",Ap$2="\\xac\\xb1\\xd7\\xf7",vp$2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Np$2="\\u2000-\\u206f",Tp$2=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ca$7="A-Z\\xc0-\\xd6\\xd8-\\xde",Op$3="\\ufe0e\\ufe0f",ha$5=Ap$2+vp$2+Np$2+Tp$2,xa$7="['\u2019]",fa$5="["+ha$5+"]",Ip$1="["+yp$2+"]",ga$7="\\d+",_p$2="["+ma$6+"]",ba$7="["+da$6+"]",ya$7="[^"+pa$6+ha$5+ga$7+ma$6+da$6+ca$7+"]",Cp$2="\\ud83c[\\udffb-\\udfff]",Ep$2="(?:"+Ip$1+"|"+Cp$2+")",wp$2="[^"+pa$6+"]",Aa$7="(?:\\ud83c[\\udde6-\\uddff]){2}",va$6="[\\ud800-\\udbff][\\udc00-\\udfff]",Pt$6="["+ca$7+"]",Sp$2="\\u200d",sa$7="(?:"+ba$7+"|"+ya$7+")",Lp$2="(?:"+Pt$6+"|"+ya$7+")",ua$7="(?:"+xa$7+"(?:d|ll|m|re|s|t|ve))?",la$6="(?:"+xa$7+"(?:D|LL|M|RE|S|T|VE))?",Na$6=Ep$2+"?",Ta$7="["+Op$3+"]?",Bp$2="(?:"+Sp$2+"(?:"+[wp$2,Aa$7,va$6].join("|")+")"+Ta$7+Na$6+")*",Pp$2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rp$2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mp$2=Ta$7+Na$6+Bp$2,jp$2="(?:"+[_p$2,Aa$7,va$6].join("|")+")"+Mp$2,Up$3=RegExp([Pt$6+"?"+ba$7+"+"+ua$7+"(?="+[fa$5,Pt$6,"$"].join("|")+")",Lp$2+"+"+la$6+"(?="+[fa$5,Pt$6+sa$7,"$"].join("|")+")",Pt$6+"?"+sa$7+"+"+ua$7,Pt$6+"+"+la$6,Rp$2,Pp$2,ga$7,jp$2].join("|"),"g");function Dp$2(t){return t.match(Up$3)||[]}var Oa$7=Dp$2;function Fp$3(t,e,r){return t=S$a(t),e=r?undefined:e,e===undefined?na$6(t)?Oa$7(t):ia$7(t):t.match(e)||[]}var Ia$4=Fp$3;var Wp$2="['\u2019]",Gp$4=RegExp(Wp$2,"g");function Kp$2(t){return function(e){return ea$5(Ia$4(aa$7(e).replace(Gp$4,"")),t,"")}}var _a$5=Kp$2;var qp$2=_a$5(function(t,e,r){return e=e.toLowerCase(),t+(r?$e$b(e):e)}),Hp$3=qp$2;var kp$2=Math.ceil,zp$3=Math.max;function $p$2(t,e,r){(r?wt$8(t,e,r):e===undefined)?e=1:e=zp$3(yo$6(e),0);var o=t==null?0:t.length;if(!o||e<1)return [];for(var a=0,i=0,n=Array(kp$2(o/e));a<o;)n[i++]=he$8(t,a,a+=e);return n}var Yp$2=$p$2;function Zp$3(t,e,r){return t===t&&(r!==undefined&&(t=t<=r?t:r),e!==undefined&&(t=t>=e?t:e)),t}var Ca$7=Zp$3;function Vp$2(t,e,r){return r===undefined&&(r=e,e=undefined),r!==undefined&&(r=Ot$7(r),r=r===r?r:0),e!==undefined&&(e=Ot$7(e),e=e===e?e:0),Ca$7(Ot$7(t),e,r)}var Xp$3=Vp$2;function Jp$3(t,e){return t&&F$c(e,w$8(e),t)}var Ea$6=Jp$3;function Qp$3(t,e){return t&&F$c(e,W$a(e),t)}var wa$7=Qp$3;var Pa$5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sa$8=Pa$5&&typeof module=="object"&&module&&!module.nodeType&&module,tm$3=Sa$8&&Sa$8.exports===Pa$5,La$7=tm$3?b$a.Buffer:undefined,Ba$7=La$7?La$7.allocUnsafe:undefined;function em$4(t,e){if(e)return t.slice();var r=t.length,o=Ba$7?Ba$7(r):new t.constructor(r);return t.copy(o),o}var ge$c=em$4;function rm$4(t,e){return F$c(t,vt$7(t),e)}var Ra$7=rm$4;var om$3=Object.getOwnPropertySymbols,am$2=om$3?function(t){for(var e=[];t;)At$6(e,vt$7(t)),t=Bt$8(t);return e}:ee$a,be$9=am$2;function im$3(t,e){return F$c(t,be$9(t),e)}var Ma$7=im$3;function nm$4(t){return Qt$7(t,W$a,be$9)}var ye$8=nm$4;var fm$3=Object.prototype,sm$3=fm$3.hasOwnProperty;function um$3(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&sm$3.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ja$5=um$3;function lm$2(t){var e=new t.constructor(t.byteLength);return new bt$8(e).set(new bt$8(t)),e}var Rt$8=lm$2;function pm$2(t,e){var r=e?Rt$8(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ua$5=pm$2;var mm$3=/\w*$/;function dm$3(t){var e=new t.constructor(t.source,mm$3.exec(t));return e.lastIndex=t.lastIndex,e}var Da$6=dm$3;var Fa$7=v$8?v$8.prototype:undefined,Wa$4=Fa$7?Fa$7.valueOf:undefined;function cm$2(t){return Wa$4?Object(Wa$4.call(t)):{}}var Ga$5=cm$2;function hm$3(t,e){var r=e?Rt$8(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Ae$7=hm$3;var xm$3="[object Boolean]",gm$3="[object Date]",bm$2="[object Map]",ym$3="[object Number]",Am$3="[object RegExp]",vm$3="[object Set]",Nm$3="[object String]",Tm$4="[object Symbol]",Om$3="[object ArrayBuffer]",Im$3="[object DataView]",_m$3="[object Float32Array]",Cm$2="[object Float64Array]",Em$4="[object Int8Array]",wm$3="[object Int16Array]",Sm$3="[object Int32Array]",Lm$3="[object Uint8Array]",Bm$3="[object Uint8ClampedArray]",Pm$3="[object Uint16Array]",Rm$3="[object Uint32Array]";function Mm$3(t,e,r){var o=t.constructor;switch(e){case Om$3:return Rt$8(t);case xm$3:case gm$3:return new o(+t);case Im$3:return Ua$5(t,r);case _m$3:case Cm$2:case Em$4:case wm$3:case Sm$3:case Lm$3:case Bm$3:case Pm$3:case Rm$3:return Ae$7(t,r);case bm$2:return new o;case ym$3:case Nm$3:return new o(t);case Am$3:return Da$6(t);case vm$3:return new o;case Tm$4:return Ga$5(t)}}var Ka$3=Mm$3;function jm$3(t){return typeof t.constructor=="function"&&!J$8(t)?vo$5(Bt$8(t)):{}}var ve$a=jm$3;var Um$3="[object Map]";function Dm$3(t){return y$8(t)&&P$c(t)==Um$3}var qa$5=Dm$3;var Ha$5=H$a&&H$a.isMap,Fm$3=Ha$5?j$9(Ha$5):qa$5,ka$5=Fm$3;var Wm$3="[object Set]";function Gm$3(t){return y$8(t)&&P$c(t)==Wm$3}var za$5=Gm$3;var $a$6=H$a&&H$a.isSet,Km$3=$a$6?j$9($a$6):za$5,Ya$5=Km$3;var qm$4=1,Hm$3=2,km$3=4,Za$4="[object Arguments]",zm$3="[object Array]",$m$3="[object Boolean]",Ym$3="[object Date]",Zm$3="[object Error]",Va$6="[object Function]",Vm$3="[object GeneratorFunction]",Xm$3="[object Map]",Jm$3="[object Number]",Xa$4="[object Object]",Qm$3="[object RegExp]",td$4="[object Set]",ed$4="[object String]",rd$4="[object Symbol]",od$4="[object WeakMap]",ad$4="[object ArrayBuffer]",id$4="[object DataView]",nd$4="[object Float32Array]",fd$4="[object Float64Array]",sd$4="[object Int8Array]",ud$3="[object Int16Array]",ld$4="[object Int32Array]",pd$3="[object Uint8Array]",md$5="[object Uint8ClampedArray]",dd$4="[object Uint16Array]",cd$4="[object Uint32Array]",h$8={};h$8[Za$4]=h$8[zm$3]=h$8[ad$4]=h$8[id$4]=h$8[$m$3]=h$8[Ym$3]=h$8[nd$4]=h$8[fd$4]=h$8[sd$4]=h$8[ud$3]=h$8[ld$4]=h$8[Xm$3]=h$8[Jm$3]=h$8[Xa$4]=h$8[Qm$3]=h$8[td$4]=h$8[ed$4]=h$8[rd$4]=h$8[pd$3]=h$8[md$5]=h$8[dd$4]=h$8[cd$4]=true;h$8[Zm$3]=h$8[Va$6]=h$8[od$4]=false;function Ne$5(t,e,r,o,a,i){var n,f=e&qm$4,s=e&Hm$3,u=e&km$3;if(r&&(n=a?r(t,o,a,i):r(t)),n!==undefined)return n;if(!g$c(t))return t;var l=d$7(t);if(l){if(n=ja$5(t),!f)return et$9(t,n)}else {var p=P$c(t),m=p==Va$6||p==Vm$3;if(B$9(t))return ge$c(t,f);if(p==Xa$4||p==Za$4||m&&!a){if(n=s||m?{}:ve$a(t),!f)return s?Ma$7(t,wa$7(n,t)):Ra$7(t,Ea$6(n,t))}else {if(!h$8[p])return a?t:{};n=Ka$3(t,p,f);}}i||(i=new M$b);var A=i.get(t);if(A)return A;i.set(t,n),Ya$5(t)?t.forEach(function(T){n.add(Ne$5(T,e,r,T,t,i));}):ka$5(t)&&t.forEach(function(T,O){n.set(O,Ne$5(T,e,r,O,t,i));});var N=u?s?ye$8:Kt$6:s?W$a:w$8,_=l?undefined:N(t);return Co$7(_||t,function(T,O){_&&(O=T,T=t[O]),Ct$7(n,O,Ne$5(T,e,r,O,t,i));}),n}var Te$b=Ne$5;var hd$4=1,xd$4=4;function gd$4(t){return Te$b(t,hd$4|xd$4)}var bd$3=gd$4;var yd$3=1,Ad$3=4;function vd$4(t,e){return e=typeof e=="function"?e:undefined,Te$b(t,yd$3|Ad$3,e)}var Nd$4=vd$4;var Td$3=1,Od$2=2;function Id$2(t,e,r,o){var a=r.length,i=a,n=!o;if(t==null)return !i;for(t=Object(t);a--;){var f=r[a];if(n&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return  false}for(;++a<i;){f=r[a];var s=f[0],u=t[s],l=f[1];if(n&&f[2]){if(u===undefined&&!(s in t))return  false}else {var p=new M$b;if(o)var m=o(u,l,s,t,e,p);if(!(m===undefined?Tt$7(l,u,Td$3|Od$2,o,p):m))return  false}}return  true}var Ja$6=Id$2;function _d$3(t){return t===t&&!g$c(t)}var Oe$9=_d$3;function Cd$3(t){for(var e=w$8(t),r=e.length;r--;){var o=e[r],a=t[o];e[r]=[o,a,Oe$9(a)];}return e}var Qa$4=Cd$3;function Ed$3(t,e){return function(r){return r==null?false:r[t]===e&&(e!==undefined||t in Object(r))}}var Ie$8=Ed$3;function wd$3(t){var e=Qa$4(t);return e.length==1&&e[0][2]?Ie$8(e[0][0],e[0][1]):function(r){return r===t||Ja$6(r,t,e)}}var ti$6=wd$3;function Sd$3(t,e){return t!=null&&e in Object(t)}var ei$7=Sd$3;function Ld$3(t,e,r){e=rt$9(e,t);for(var o=-1,a=e.length,i=false;++o<a;){var n=G$8(e[o]);if(!(i=t!=null&&r(t,n)))break;t=t[n];}return i||++o!=a?i:(a=t==null?0:t.length,!!a&&Nt$4(a)&&V$8(n,a)&&(d$7(t)||L$a(t)))}var ri$6=Ld$3;function Bd$3(t,e){return t!=null&&ri$6(t,e,ei$7)}var _e$9=Bd$3;var Pd$3=1,Rd$3=2;function Md$3(t,e){return St$6(t)&&Oe$9(e)?Ie$8(G$8(t),e):function(r){var o=jo$4(r,t);return o===undefined&&o===e?_e$9(r,t):Tt$7(e,o,Pd$3|Rd$3)}}var oi$6=Md$3;function jd$4(t){return function(e){return e?.[t]}}var ai$7=jd$4;function Ud$3(t){return function(e){return Lt$7(e,t)}}var ii$6=Ud$3;function Dd$3(t){return St$6(t)?ai$7(G$8(t)):ii$6(t)}var ni$6=Dd$3;function Fd$3(t){return typeof t=="function"?t:t==null?It$7:typeof t=="object"?d$7(t)?oi$6(t[0],t[1]):ti$6(t):ni$6(t)}var ot$d=Fd$3;function Wd$3(t,e,r,o){for(var a=-1,i=t==null?0:t.length;++a<i;){var n=t[a];e(o,n,r(n),t);}return o}var fi$7=Wd$3;function Gd$3(t){return function(e,r,o){for(var a=-1,i=Object(e),n=o(e),f=n.length;f--;){var s=n[t?f:++a];if(r(i[s],s,i)===false)break}return e}}var si$6=Gd$3;var Kd$3=si$6(),Ce$9=Kd$3;function qd$3(t,e){return t&&Ce$9(t,e,w$8)}var Ee$9=qd$3;function Hd$3(t,e){return function(r,o){if(r==null)return r;if(!E$d(r))return t(r,o);for(var a=r.length,i=e?a:-1,n=Object(r);(e?i--:++i<a)&&o(n[i],i,n)!==false;);return r}}var ui$6=Hd$3;var kd$4=ui$6(Ee$9),li$6=kd$4;function zd$3(t,e,r,o){return li$6(t,function(a,i,n){e(o,a,r(a),n);}),o}var pi$7=zd$3;function $d$4(t,e){return function(r,o){var a=d$7(r)?fi$7:pi$7,i=e?e():{};return a(r,t,ot$d(o),i)}}var we$7=$d$4;function Yd$3(t,e){return t==null||t!==t?e:t}var Zd$3=Yd$3;function Vd$4(t,e,r){(r!==undefined&&!R$h(t[e],r)||r===undefined&&!(e in t))&&D$9(t,e,r);}var Ht$6=Vd$4;function Xd$3(t){return y$8(t)&&E$d(t)}var Se$7=Xd$3;function Jd$4(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var kt$4=Jd$4;function Qd$3(t){return F$c(t,W$a(t))}var mi$7=Qd$3;function tc$5(t,e,r,o,a,i,n){var f=kt$4(t,r),s=kt$4(e,r),u=n.get(s);if(u){Ht$6(t,r,u);return}var l=i?i(f,s,r+"",t,e,n):undefined,p=l===undefined;if(p){var m=d$7(s),A=!m&&B$9(s),N=!m&&!A&&X$a(s);l=s,m||A||N?d$7(f)?l=f:Se$7(f)?l=et$9(f):A?(p=false,l=ge$c(s,true)):N?(p=false,l=Ae$7(s,true)):l=[]:qo$6(s)||L$a(s)?(l=f,L$a(f)?l=mi$7(f):(!g$c(f)||mt$9(f))&&(l=ve$a(s))):p=false;}p&&(n.set(s,l),a(l,s,o,i,n),n.delete(s)),Ht$6(t,r,l);}var di$7=tc$5;function ci$5(t,e,r,o,a){t!==e&&Ce$9(e,function(i,n){if(a||(a=new M$b),g$c(i))di$7(t,e,n,r,ci$5,o,a);else {var f=o?o(kt$4(t,n),i,n+"",t,e,a):undefined;f===undefined&&(f=i),Ht$6(t,n,f);}},W$a);}var Le$8=ci$5;var ec$4=de$8(function(t,e,r,o){Le$8(t,e,r,o);}),rc$5=ec$4;function oc$4(t,e,r){for(var o=-1,a=t==null?0:t.length;++o<a;)if(r(e,t[o]))return  true;return  false}var Be$9=oc$4;var ac$4=200;function ic$4(t,e,r,o){var a=-1,i=pe$a,n=true,f=t.length,s=[],u=e.length;if(!f)return s;r&&(e=U$e(e,j$9(r))),o?(i=Be$9,n=false):e.length>=ac$4&&(i=gt$a,n=false,e=new xt$8(e));t:for(;++a<f;){var l=t[a],p=r==null?l:r(l);if(l=o||l!==0?l:0,n&&p===p){for(var m=u;m--;)if(e[m]===p)continue t;s.push(l);}else i(e,p,o)||s.push(l);}return s}var hi$8=ic$4;function nc$4(t){var e=t==null?0:t.length;return e?t[e-1]:undefined}var fc$2=nc$4;var sc$4=Object.prototype,uc$3=sc$4.hasOwnProperty,lc$2=we$7(function(t,e,r){uc$3.call(t,r)?t[r].push(e):D$9(t,r,[e]);}),pc$4=lc$2;function mc$5(t,e){return U$e(e,function(r){return t[r]})}var xi$6=mc$5;function dc$4(t){return t==null?[]:xi$6(t,w$8(t))}var Pe$8=dc$4;var cc$3="[object Map]",hc$5="[object Set]",xc$3=Object.prototype,gc$4=xc$3.hasOwnProperty;function bc$3(t){if(t==null)return  true;if(E$d(t)&&(d$7(t)||typeof t=="string"||typeof t.splice=="function"||B$9(t)||X$a(t)||L$a(t)))return !t.length;var e=P$c(t);if(e==cc$3||e==hc$5)return !t.size;if(J$8(t))return !ae$a(t).length;for(var r in t)if(gc$4.call(t,r))return  false;return  true}var yc$4=bc$3;var Ac$4="[object Number]";function vc$3(t){return typeof t=="number"||y$8(t)&&I$b(t)==Ac$4}var gi$5=vc$3;function Nc$3(t){return gi$5(t)&&t!=+t}var Tc$3=Nc$3;function Oc$3(t,e){var r={};return e=ot$d(e),Ee$9(t,function(o,a,i){D$9(r,a,e(o,a,i));}),r}var Ic$3=Oc$3;var _c$4=de$8(function(t,e,r){Le$8(t,e,r);}),Cc$4=_c$4;function Ec$4(t,e,r,o){if(!g$c(t))return t;e=rt$9(e,t);for(var a=-1,i=e.length,n=i-1,f=t;f!=null&&++a<i;){var s=G$8(e[a]),u=r;if(s==="__proto__"||s==="constructor"||s==="prototype")return t;if(a!=n){var l=f[s];u=o?o(l,s,f):undefined,u===undefined&&(u=g$c(l)?l:V$8(e[a+1])?[]:{});}Ct$7(f,s,u),f=f[s];}return t}var bi$7=Ec$4;function wc$3(t,e,r){for(var o=-1,a=e.length,i={};++o<a;){var n=e[o],f=Lt$7(t,n);r(f,n)&&bi$7(i,rt$9(n,t),f);}return i}var Re$6=wc$3;function Sc$3(t,e){if(t==null)return {};var r=U$e(ye$8(t),function(o){return [o]});return e=ot$d(e),Re$6(t,r,function(o,a){return e(o,a[0])})}var Lc$3=Sc$3;var Bc$4=/^\s+/,Pc$3=b$a.parseInt;function Rc$3(t,e,r){return r||e==null?e=0:e&&(e=+e),Pc$3(S$a(t).replace(Bc$4,""),e||0)}var Mc$3=Rc$3;var jc$4=we$7(function(t,e,r){t[r?0:1].push(e);},function(){return [[],[]]}),Uc$3=jc$4;function Dc$3(t,e){return Re$6(t,e,function(r,o){return _e$9(t,o)})}var yi$6=Dc$3;var Fc$3=Go$6(function(t,e){return t==null?{}:yi$6(t,e)}),Wc$4=Fc$3;function Gc$4(t,e,r,o){for(var a=r-1,i=t.length;++a<i;)if(o(t[a],e))return a;return  -1}var Ai$6=Gc$4;var Kc$5=Array.prototype,vi$8=Kc$5.splice;function qc$3(t,e,r,o){var a=o?Ai$6:le$a,i=-1,n=e.length,f=t;for(t===e&&(e=et$9(e)),r&&(f=U$e(t,j$9(r)));++i<n;)for(var s=0,u=e[i],l=r?r(u):u;(s=a(f,l,s,o))>-1;)f!==t&&vi$8.call(f,s,1),vi$8.call(t,s,1);return t}var Ni$6=qc$3;function Hc$4(t,e){return t&&t.length&&e&&e.length?Ni$6(t,e):t}var Ti$9=Hc$4;var kc$3=Et$5(Ti$9),zc$4=kc$3;var $c$3=Math.floor,Yc$4=Math.random;function Zc$5(t,e){return t+$c$3(Yc$4()*(e-t+1))}var Mt$5=Zc$5;var Vc$3=parseFloat,Xc$5=Math.min,Jc$6=Math.random;function Qc$4(t,e,r){if(r&&typeof r!="boolean"&&wt$8(t,e,r)&&(e=r=undefined),r===undefined&&(typeof e=="boolean"?(r=e,e=undefined):typeof t=="boolean"&&(r=t,t=undefined)),t===undefined&&e===undefined?(t=0,e=1):(t=qt$5(t),e===undefined?(e=t,t=0):e=qt$5(e)),t>e){var o=t;t=e,e=o;}if(r||t%1||e%1){var a=Jc$6();return Xc$5(t+a*(e-t+Vc$3("1e-"+((a+"").length-1))),e)}return Mt$5(t,e)}var th$3=Qc$4;function eh$4(t){var e=t.length;return e?t[Mt$5(0,e-1)]:undefined}var Me$9=eh$4;function rh$2(t){return Me$9(Pe$8(t))}var Oi$6=rh$2;function oh$2(t){var e=d$7(t)?Me$9:Oi$6;return e(t)}var ah$2=oh$2;function ih$2(t,e){var r=-1,o=t.length,a=o-1;for(e=e===undefined?o:e;++r<e;){var i=Mt$5(r,a),n=t[i];t[i]=t[r],t[r]=n;}return t.length=e,t}var je$8=ih$2;function nh$1(t){return je$8(et$9(t))}var Ii$5=nh$1;function fh$3(t){return je$8(Pe$8(t))}var _i$8=fh$3;function sh$1(t){var e=d$7(t)?Ii$5:_i$8;return e(t)}var uh$2=sh$1;var lh$2=1/0,ph$3=Q$b&&1/yt$8(new Q$b([,-0]))[1]==lh$2?function(t){return new Q$b(t)}:To$4,Ci$8=ph$3;var mh$3=200;function dh$3(t,e,r){var o=-1,a=pe$a,i=t.length,n=true,f=[],s=f;if(r)n=false,a=Be$9;else if(i>=mh$3){var u=e?null:Ci$8(t);if(u)return yt$8(u);n=false,a=gt$a,s=new xt$8;}else s=e?[]:f;t:for(;++o<i;){var l=t[o],p=e?e(l):l;if(l=r||l!==0?l:0,n&&p===p){for(var m=s.length;m--;)if(s[m]===p)continue t;e&&s.push(p),f.push(l);}else a(s,p,r)||(s!==f&&s.push(p),f.push(l));}return f}var ut$6=dh$3;function ch$2(t){return t&&t.length?ut$6(t):[]}var hh$3=ch$2;function xh$2(t,e){return t&&t.length?ut$6(t,ot$d(e)):[]}var gh$3=xh$2;function bh$2(t,e,r){var o=t.length;if(o<2)return o?ut$6(t[0]):[];for(var a=-1,i=Array(o);++a<o;)for(var n=t[a],f=-1;++f<o;)f!=a&&(i[a]=hi$8(i[a]||n,t[f],e,r));return ut$6(ce$b(i,1),e,r)}var Ei$a=bh$2;var yh$2=Et$5(function(t){return Ei$a(te$7(t,Se$7))}),Ah$3=yh$2;var jh$2={};C$g(jh$2,{Attributor:()=>k$6,AttributorStore:()=>ir$6,BlockBlot:()=>er$6,ClassAttributor:()=>Li$6,ContainerBlot:()=>Ui$7,EmbedBlot:()=>wh$2,InlineBlot:()=>ji$5,LeafBlot:()=>zt$6,ParentBlot:()=>lt$9,Registry:()=>Ue$8,Scope:()=>c$c,ScrollBlot:()=>Ph$4,StyleAttributor:()=>Bi$4,TextBlot:()=>Mh$3});var c$c=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(c$c||{}),k$6=class k{constructor(e,r,o={}){this.attrName=e,this.keyName=r;let a=c$c.TYPE&c$c.ATTRIBUTE;this.scope=o.scope!=null?o.scope&c$c.LEVEL|a:c$c.ATTRIBUTE,o.whitelist!=null&&(this.whitelist=o.whitelist);}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return this.canAdd(e,r)?(e.setAttribute(this.keyName,r),true):false}canAdd(e,r){return this.whitelist==null?true:typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1}remove(e){e.removeAttribute(this.keyName);}value(e){let r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}},it$b=class it extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name;}},vh$2=(()=>{let t=class Ze{constructor(){this.attributes={},this.classes={},this.tags={},this.types={};}static find(r,o=false){if(r==null)return null;if(this.blots.has(r))return this.blots.get(r)||null;if(o){let a=null;try{a=r.parentNode;}catch{return null}return this.find(a,o)}return null}create(r,o,a){let i=this.query(o);if(i==null)throw new it$b(`Unable to create ${o} blot`);let n=i,f=o instanceof Node||o.nodeType===Node.TEXT_NODE?o:n.create(a),s=new n(r,f,a);return Ze.blots.set(s.domNode,s),s}find(r,o=false){return Ze.find(r,o)}query(r,o=c$c.ANY){let a;return typeof r=="string"?a=this.types[r]||this.attributes[r]:r instanceof Text||r.nodeType===Node.TEXT_NODE?a=this.types.text:typeof r=="number"?r&c$c.LEVEL&c$c.BLOCK?a=this.types.block:r&c$c.LEVEL&c$c.INLINE&&(a=this.types.inline):r instanceof Element&&((r.getAttribute("class")||"").split(/\s+/).some(i=>(a=this.classes[i],!!a)),a=a||this.tags[r.tagName]),a==null?null:"scope"in a&&o&c$c.LEVEL&a.scope&&o&c$c.TYPE&a.scope?a:null}register(...r){return r.map(o=>{let a="blotName"in o,i="attrName"in o;if(!a&&!i)throw new it$b("Invalid definition");if(a&&o.blotName==="abstract")throw new it$b("Cannot register abstract class");let n=a?o.blotName:i?o.attrName:undefined;return this.types[n]=o,i?typeof o.keyName=="string"&&(this.attributes[o.keyName]=o):a&&(o.className&&(this.classes[o.className]=o),o.tagName&&(Array.isArray(o.tagName)?o.tagName=o.tagName.map(f=>f.toUpperCase()):o.tagName=o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach(f=>{(this.tags[f]==null||o.className==null)&&(this.tags[f]=o);}))),o})}};return t.blots=new WeakMap,t})(),Ue$8=vh$2;function wi$6(t,e){return (t.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}var Ve$6=class Ve extends k$6{static keys(e){return (e.getAttribute("class")||"").split(/\s+/).map(r=>r.split("-").slice(0,-1).join("-"))}add(e,r){return this.canAdd(e,r)?(this.remove(e),e.classList.add(`${this.keyName}-${r}`),true):false}remove(e){wi$6(e,this.keyName).forEach(r=>{e.classList.remove(r);}),e.classList.length===0&&e.removeAttribute("class");}value(e){let r=(wi$6(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,r)?r:""}},Li$6=Ve$6;function Ye$c(t){let e=t.split("-"),r=e.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("");return e[0]+r}var Xe$6=class Xe extends k$6{static keys(e){return (e.getAttribute("style")||"").split(";").map(r=>r.split(":")[0].trim())}add(e,r){return this.canAdd(e,r)?(e.style[Ye$c(this.keyName)]=r,true):false}remove(e){e.style[Ye$c(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style");}value(e){let r=e.style[Ye$c(this.keyName)];return this.canAdd(e,r)?r:""}},Bi$4=Xe$6,Je$7=class Je{constructor(e){this.attributes={},this.domNode=e,this.build();}attribute(e,r){r?e.add(this.domNode,r)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName]);}build(){this.attributes={};let e=Ue$8.find(this.domNode);if(e==null)return;let r=k$6.keys(this.domNode),o=Li$6.keys(this.domNode),a=Bi$4.keys(this.domNode);r.concat(o).concat(a).forEach(i=>{let n=e.scroll.query(i,c$c.ATTRIBUTE);n instanceof k$6&&(this.attributes[n.attrName]=n);});}copy(e){Object.keys(this.attributes).forEach(r=>{let o=this.attributes[r].value(this.domNode);e.format(r,o);});}move(e){this.copy(e),Object.keys(this.attributes).forEach(r=>{this.attributes[r].remove(this.domNode);}),this.attributes={};}values(){return Object.keys(this.attributes).reduce((e,r)=>(e[r]=this.attributes[r].value(this.domNode),e),{})}},ir$6=Je$7,Pi$8=class Pi{constructor(e,r){this.scroll=e,this.domNode=r,Ue$8.blots.set(r,this),this.prev=null,this.next=null;}static create(e){if(this.tagName==null)throw new it$b("Blot definition missing tagName");let r,o;return Array.isArray(this.tagName)?(typeof e=="string"?(o=e.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))):typeof e=="number"&&(o=e),typeof o=="number"?r=document.createElement(this.tagName[o-1]):o&&this.tagName.indexOf(o)>-1?r=document.createElement(o):r=document.createElement(this.tagName[0])):r=document.createElement(this.tagName),this.className&&r.classList.add(this.className),r}get statics(){return this.constructor}attach(){}clone(){let e=this.domNode.cloneNode(false);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Ue$8.blots.delete(this.domNode);}deleteAt(e,r){this.isolate(e,r).remove();}formatAt(e,r,o,a){let i=this.isolate(e,r);if(this.scroll.query(o,c$c.BLOT)!=null&&a)i.wrap(o,a);else if(this.scroll.query(o,c$c.ATTRIBUTE)!=null){let n=this.scroll.create(this.statics.scope);i.wrap(n),n.format(o,a);}}insertAt(e,r,o){let a=o==null?this.scroll.create("text",r):this.scroll.create(r,o),i=this.split(e);this.parent.insertBefore(a,i||undefined);}isolate(e,r){let o=this.split(e);if(o==null)throw new Error("Attempt to isolate at end");return o.split(r),o}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName);}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach();}replaceWith(e,r){let o=typeof e=="string"?this.scroll.create(e,r):e;return this.parent!=null&&(this.parent.insertBefore(o,this.next||undefined),this.remove()),o}split(e,r){return e===0?this:this.next}update(e,r){}wrap(e,r){let o=typeof e=="string"?this.scroll.create(e,r):e;if(this.parent!=null&&this.parent.insertBefore(o,this.next||undefined),typeof o.appendChild!="function")throw new it$b(`Cannot wrap ${e}`);return o.appendChild(this),o}};Pi$8.blotName="abstract";var Ri$4=Pi$8,Mi$7=class Mi extends Ri$4{static value(e){return  true}index(e,r){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1}position(e,r){let o=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(o+=1),[this.parent.domNode,o]}value(){return {[this.statics.blotName]:this.statics.value(this.domNode)||true}}};Mi$7.scope=c$c.INLINE_BLOT;var Nh$3=Mi$7,zt$6=Nh$3,Qe$6=class Qe{constructor(){this.head=null,this.tail=null,this.length=0;}append(...e){if(this.insertBefore(e[0],null),e.length>1){let r=e.slice(1);this.append(...r);}}at(e){let r=this.iterator(),o=r();for(;o&&e>0;)e-=1,o=r();return o}contains(e){let r=this.iterator(),o=r();for(;o;){if(o===e)return  true;o=r();}return  false}indexOf(e){let r=this.iterator(),o=r(),a=0;for(;o;){if(o===e)return a;a+=1,o=r();}return  -1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1);}offset(e){let r=0,o=this.head;for(;o!=null;){if(o===e)return r;r+=o.length(),o=o.next;}return  -1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1);}iterator(e=this.head){return ()=>{let r=e;return e!=null&&(e=e.next),r}}find(e,r=false){let o=this.iterator(),a=o();for(;a;){let i=a.length();if(e<i||r&&e===i&&(a.next==null||a.next.length()!==0))return [a,e];e-=i,a=o();}return [null,0]}forEach(e){let r=this.iterator(),o=r();for(;o;)e(o),o=r();}forEachAt(e,r,o){if(r<=0)return;let[a,i]=this.find(e),n=e-i,f=this.iterator(a),s=f();for(;s&&n<e+r;){let u=s.length();e>n?o(s,e-n,Math.min(r,n+u-e)):o(s,0,Math.min(u,e+r-n)),n+=u,s=f();}}map(e){return this.reduce((r,o)=>(r.push(e(o)),r),[])}reduce(e,r){let o=this.iterator(),a=o();for(;a;)r=e(r,a),a=o();return r}};function Si$5(t,e){let r=e.find(t);if(r)return r;try{return e.create(t)}catch{let o=e.create(c$c.INLINE);return Array.from(t.childNodes).forEach(a=>{o.domNode.appendChild(a);}),t.parentNode&&t.parentNode.replaceChild(o.domNode,t),o.attach(),o}}var Th$3=(()=>{let t=class at extends Ri$4{constructor(r,o){super(r,o),this.uiNode=null,this.build();}appendChild(r){this.insertBefore(r);}attach(){super.attach(),this.children.forEach(r=>{r.attach();});}attachUI(r){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=r,at.uiClass&&this.uiNode.classList.add(at.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild);}build(){this.children=new Qe$6,Array.from(this.domNode.childNodes).filter(r=>r!==this.uiNode).reverse().forEach(r=>{try{let o=Si$5(r,this.scroll);this.insertBefore(o,this.children.head||void 0);}catch(o){if(o instanceof it$b)return;throw o}});}deleteAt(r,o){if(r===0&&o===this.length())return this.remove();this.children.forEachAt(r,o,(a,i,n)=>{a.deleteAt(i,n);});}descendant(r,o=0){let[a,i]=this.children.find(o);return r.blotName==null&&r(a)||r.blotName!=null&&a instanceof r?[a,i]:a instanceof at?a.descendant(r,i):[null,-1]}descendants(r,o=0,a=Number.MAX_VALUE){let i=[],n=a;return this.children.forEachAt(o,a,(f,s,u)=>{(r.blotName==null&&r(f)||r.blotName!=null&&f instanceof r)&&i.push(f),f instanceof at&&(i=i.concat(f.descendants(r,s,n))),n-=u;}),i}detach(){this.children.forEach(r=>{r.detach();}),super.detach();}enforceAllowedChildren(){let r=false;this.children.forEach(o=>{r||this.statics.allowedChildren.some(a=>o instanceof a)||(o.statics.scope===c$c.BLOCK_BLOT?(o.next!=null&&this.splitAfter(o),o.prev!=null&&this.splitAfter(o.prev),o.parent.unwrap(),r=true):o instanceof at?o.unwrap():o.remove());});}formatAt(r,o,a,i){this.children.forEachAt(r,o,(n,f,s)=>{n.formatAt(f,s,a,i);});}insertAt(r,o,a){let[i,n]=this.children.find(r);if(i)i.insertAt(n,o,a);else {let f=a==null?this.scroll.create("text",o):this.scroll.create(o,a);this.appendChild(f);}}insertBefore(r,o){r.parent!=null&&r.parent.children.remove(r);let a=null;this.children.insertBefore(r,o||null),r.parent=this,o!=null&&(a=o.domNode),(this.domNode.parentNode!==r.domNode||this.domNode.nextSibling!==a)&&this.domNode.insertBefore(r.domNode,a),r.attach();}length(){return this.children.reduce((r,o)=>r+o.length(),0)}moveChildren(r,o){this.children.forEach(a=>{r.insertBefore(a,o);});}optimize(r){if(super.optimize(r),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o);}else this.remove();}path(r,o=false){let[a,i]=this.children.find(r,o),n=[[this,r]];return a instanceof at?n.concat(a.path(i,o)):(a!=null&&n.push([a,i]),n)}removeChild(r){this.children.remove(r);}replaceWith(r,o){let a=typeof r=="string"?this.scroll.create(r,o):r;return a instanceof at&&this.moveChildren(a),super.replaceWith(a)}split(r,o=false){if(!o){if(r===0)return this;if(r===this.length())return this.next}let a=this.clone();return this.parent&&this.parent.insertBefore(a,this.next||undefined),this.children.forEachAt(r,this.length(),(i,n,f)=>{let s=i.split(n,o);s!=null&&a.appendChild(s);}),a}splitAfter(r){let o=this.clone();for(;r.next!=null;)o.appendChild(r.next);return this.parent&&this.parent.insertBefore(o,this.next||undefined),o}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||undefined),this.remove();}update(r,o){let a=[],i=[];r.forEach(n=>{n.target===this.domNode&&n.type==="childList"&&(a.push(...n.addedNodes),i.push(...n.removedNodes));}),i.forEach(n=>{if(n.parentNode!=null&&n.tagName!=="IFRAME"&&document.body.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let f=this.scroll.find(n);f!=null&&(f.domNode.parentNode==null||f.domNode.parentNode===this.domNode)&&f.detach();}),a.filter(n=>n.parentNode===this.domNode&&n!==this.uiNode).sort((n,f)=>n===f?0:n.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(n=>{let f=null;n.nextSibling!=null&&(f=this.scroll.find(n.nextSibling));let s=Si$5(n,this.scroll);(s.next!==f||s.next==null)&&(s.parent!=null&&s.parent.removeChild(this),this.insertBefore(s,f||undefined));}),this.enforceAllowedChildren();}};return t.uiClass="",t})(),Oh$3=Th$3,lt$9=Oh$3;function Ih$3(t,e){if(Object.keys(t).length!==Object.keys(e).length)return  false;for(let r in t)if(t[r]!==e[r])return  false;return  true}var jt$6=class Ut extends lt$9{static create(e){return super.create(e)}static formats(e,r){let o=r.query(Ut.blotName);if(!(o!=null&&e.tagName===o.tagName)){if(typeof this.tagName=="string")return  true;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new ir$6(this.domNode);}format(e,r){if(e===this.statics.blotName&&!r)this.children.forEach(o=>{o instanceof Ut||(o=o.wrap(Ut.blotName,true)),this.attributes.copy(o);}),this.unwrap();else {let o=this.scroll.query(e,c$c.INLINE);if(o==null)return;o instanceof k$6?this.attributes.attribute(o,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r);}}formats(){let e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,o,a){this.formats()[o]!=null||this.scroll.query(o,c$c.ATTRIBUTE)?this.isolate(e,r).format(o,a):super.formatAt(e,r,o,a);}optimize(e){super.optimize(e);let r=this.formats();if(Object.keys(r).length===0)return this.unwrap();let o=this.next;o instanceof Ut&&o.prev===this&&Ih$3(r,o.formats())&&(o.moveChildren(this),o.remove());}replaceWith(e,r){let o=super.replaceWith(e,r);return this.attributes.copy(o),o}update(e,r){super.update(e,r),e.some(o=>o.target===this.domNode&&o.type==="attributes")&&this.attributes.build();}wrap(e,r){let o=super.wrap(e,r);return o instanceof Ut&&this.attributes.move(o),o}};jt$6.allowedChildren=[jt$6,zt$6],jt$6.blotName="inline",jt$6.scope=c$c.INLINE_BLOT,jt$6.tagName="SPAN";var _h$2=jt$6,ji$5=_h$2,Dt$5=class tr extends lt$9{static create(e){return super.create(e)}static formats(e,r){let o=r.query(tr.blotName);if(!(o!=null&&e.tagName===o.tagName)){if(typeof this.tagName=="string")return  true;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new ir$6(this.domNode);}format(e,r){let o=this.scroll.query(e,c$c.BLOCK);o!=null&&(o instanceof k$6?this.attributes.attribute(o,r):e===this.statics.blotName&&!r?this.replaceWith(tr.blotName):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r));}formats(){let e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,o,a){this.scroll.query(o,c$c.BLOCK)!=null?this.format(o,a):super.formatAt(e,r,o,a);}insertAt(e,r,o){if(o==null||this.scroll.query(r,c$c.INLINE)!=null)super.insertAt(e,r,o);else {let a=this.split(e);if(a!=null){let i=this.scroll.create(r,o);a.parent.insertBefore(i,a);}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,r){let o=super.replaceWith(e,r);return this.attributes.copy(o),o}update(e,r){super.update(e,r),e.some(o=>o.target===this.domNode&&o.type==="attributes")&&this.attributes.build();}};Dt$5.blotName="block",Dt$5.scope=c$c.BLOCK_BLOT,Dt$5.tagName="P",Dt$5.allowedChildren=[ji$5,Dt$5,zt$6];var Ch$2=Dt$5,er$6=Ch$2,rr$6=class rr extends lt$9{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,r){super.deleteAt(e,r),this.enforceAllowedChildren();}formatAt(e,r,o,a){super.formatAt(e,r,o,a),this.enforceAllowedChildren();}insertAt(e,r,o){super.insertAt(e,r,o),this.enforceAllowedChildren();}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove());}};rr$6.blotName="container",rr$6.scope=c$c.BLOCK_BLOT;var Eh$3=rr$6,Ui$7=Eh$3,or$5=class or extends zt$6{static formats(e,r){}format(e,r){super.formatAt(0,this.length(),e,r);}formatAt(e,r,o,a){e===0&&r===this.length()?this.format(o,a):super.formatAt(e,r,o,a);}formats(){return this.statics.formats(this.domNode,this.scroll)}},wh$2=or$5,Sh$3={attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true},Lh$4=100,Ft$6=class Ft extends lt$9{constructor(e,r){super(null,r),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(o=>{this.update(o);}),this.observer.observe(this.domNode,Sh$3),this.attach();}create(e,r){return this.registry.create(this,e,r)}find(e,r=false){let o=this.registry.find(e,r);return o?o.scroll===this?o:r?this.find(o.scroll.domNode.parentNode,true):null:null}query(e,r=c$c.ANY){return this.registry.query(e,r)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build();}detach(){super.detach(),this.observer.disconnect();}deleteAt(e,r){this.update(),e===0&&r===this.length()?this.children.forEach(o=>{o.remove();}):super.deleteAt(e,r);}formatAt(e,r,o,a){this.update(),super.formatAt(e,r,o,a);}insertAt(e,r,o){this.update(),super.insertAt(e,r,o);}optimize(e=[],r={}){super.optimize(r);let o=r.mutationsMap||new WeakMap,a=Array.from(this.observer.takeRecords());for(;a.length>0;)e.push(a.pop());let i=(s,u=true)=>{s==null||s===this||s.domNode.parentNode!=null&&(o.has(s.domNode)||o.set(s.domNode,[]),u&&i(s.parent));},n=s=>{o.has(s.domNode)&&(s instanceof lt$9&&s.children.forEach(n),o.delete(s.domNode),s.optimize(r));},f=e;for(let s=0;f.length>0;s+=1){if(s>=Lh$4)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(u=>{let l=this.find(u.target,true);l!=null&&(l.domNode===u.target&&(u.type==="childList"?(i(this.find(u.previousSibling,false)),Array.from(u.addedNodes).forEach(p=>{let m=this.find(p,false);i(m,false),m instanceof lt$9&&m.children.forEach(A=>{i(A,false);});})):u.type==="attributes"&&i(l.prev)),i(l));}),this.children.forEach(n),f=Array.from(this.observer.takeRecords()),a=f.slice();a.length>0;)e.push(a.pop());}}update(e,r={}){e=e||this.observer.takeRecords();let o=new WeakMap;e.map(a=>{let i=this.find(a.target,true);return i==null?null:o.has(i.domNode)?(o.get(i.domNode).push(a),null):(o.set(i.domNode,[a]),i)}).forEach(a=>{a!=null&&a!==this&&o.has(a.domNode)&&a.update(o.get(a.domNode)||[],r);}),r.mutationsMap=o,o.has(this.domNode)&&super.update(o.get(this.domNode),r),this.optimize(e,r);}};Ft$6.blotName="scroll",Ft$6.defaultChild=er$6,Ft$6.allowedChildren=[er$6,Ui$7],Ft$6.scope=c$c.BLOCK_BLOT,Ft$6.tagName="DIV";var Bh$3=Ft$6,Ph$4=Bh$3,ar$6=class Di extends zt$6{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode);}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r);}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,o){o==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,o);}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Di&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove());}position(e,r=false){return [this.domNode,e]}split(e,r=false){if(!r){if(e===0)return this;if(e===this.length())return this.next}let o=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(o,this.next||undefined),this.text=this.statics.value(this.domNode),o}update(e,r){e.some(o=>o.type==="characterData"&&o.target===this.domNode)&&(this.text=this.statics.value(this.domNode));}value(){return this.text}};ar$6.blotName="text",ar$6.scope=c$c.INLINE_BLOT;var Rh$2=ar$6,Mh$3=Rh$2;function B$8(e){return e}function oi$5(...e){return ii$5(e)}function ii$5(e){return e.length===0?B$8:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}function E$c(e){return typeof e=="function"}function Ze$6(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack;});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tr$5=Ze$6(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n;});function dt$6(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1);}}var V$7=class e{constructor(t){this.initialTeardown=t,this.closed=false,this._parentage=null,this._finalizers=null;}unsubscribe(){let t;if(!this.closed){this.closed=true;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(E$c(r))try{r();}catch(i){t=i instanceof tr$5?i.errors:[i];}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{ic$3(i);}catch(s){t=t??[],s instanceof tr$5?t=[...t,...s.errors]:t.push(s);}}if(t)throw new tr$5(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ic$3(t);else {if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this);}(this._finalizers=(n=this._finalizers)!==null&&n!==undefined?n:[]).push(t);}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t;}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&dt$6(n,t);}remove(t){let{_finalizers:n}=this;n&&dt$6(n,t),t instanceof e&&t._removeParent(this);}};V$7.EMPTY=(()=>{let e=new V$7;return e.closed=true,e})();var si$5=V$7.EMPTY;function nr$5(e){return e instanceof V$7||e&&"closed"in e&&E$c(e.remove)&&E$c(e.add)&&E$c(e.unsubscribe)}function ic$3(e){E$c(e)?e():e.unsubscribe();}var we$6={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};var Lt$6={setTimeout(e,t,...n){let{delegate:r}=Lt$6;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Lt$6;return (t?.clearTimeout||clearTimeout)(e)},delegate:undefined};function rr$5(e){Lt$6.setTimeout(()=>{let{onUnhandledError:t}=we$6;if(t)t(e);else throw e});}function $$8(){}var sc$3=ai$6("C",undefined,undefined);function ac$3(e){return ai$6("E",undefined,e)}function cc$2(e){return ai$6("N",e,undefined)}function ai$6(e,t,n){return {kind:e,value:t,error:n}}function Vt$7(e){e();}var pt$6=class pt extends V$7{constructor(t){super(),this.isStopped=false,t?(this.destination=t,nr$5(t)&&t.add(this)):this.destination=Dp$1;}static create(t,n,r){return new De$b(t,n,r)}next(t){this.isStopped?li$5(cc$2(t),this):this._next(t);}error(t){this.isStopped?li$5(ac$3(t),this):(this.isStopped=true,this._error(t));}complete(){this.isStopped?li$5(sc$3,this):(this.isStopped=true,this._complete());}unsubscribe(){this.closed||(this.isStopped=true,super.unsubscribe(),this.destination=null);}_next(t){this.destination.next(t);}_error(t){try{this.destination.error(t);}finally{this.unsubscribe();}}_complete(){try{this.destination.complete();}finally{this.unsubscribe();}}};var ui$5=class ui{constructor(t){this.partialObserver=t;}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t);}catch(r){or$4(r);}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t);}catch(r){or$4(r);}else or$4(t);}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete();}catch(n){or$4(n);}}},De$b=class De extends pt$6{constructor(t,n,r){super();let o;if(E$c(t)||!t)o={next:t??undefined,error:n??undefined,complete:r??undefined};else {o=t;}this.destination=new ui$5(o);}};function or$4(e){rr$5(e);}function wp$1(e){throw e}function li$5(e,t){let{onStoppedNotification:n}=we$6;n&&Lt$6.setTimeout(()=>n(e,t));}var Dp$1={closed:true,next:$$8,error:wp$1,complete:$$8};var jt$5=typeof Symbol=="function"&&Symbol.observable||"@@observable";var M$a=(()=>{class e{constructor(n){n&&(this._subscribe=n);}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Mp$1(n)?n:new De$b(n,r,o);return Vt$7(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i));}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r);}}forEach(n,r){return r=uc$2(r),new r((o,i)=>{let s=new De$b({next:a=>{try{n(a);}catch(c){i(c),s.unsubscribe();}},error:i,complete:o});this.subscribe(s);})}_subscribe(n){var r;return (r=this.source)===null||r===undefined?undefined:r.subscribe(n)}[jt$5](){return this}pipe(...n){return ii$5(n)(this)}toPromise(n){return n=uc$2(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i));})}}return e.create=t=>new e(t),e})();function uc$2(e){var t;return (t=e??we$6.Promise)!==null&&t!==undefined?t:Promise}function bp$1(e){return e&&E$c(e.next)&&E$c(e.error)&&E$c(e.complete)}function Mp$1(e){return e&&e instanceof pt$6||bp$1(e)&&nr$5(e)}var dc$3=Ze$6(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed";});var Z$a=(()=>{class e extends M$a{constructor(){super(),this.closed=false,this.currentObservers=null,this.observers=[],this.isStopped=false,this.hasError=false,this.thrownError=null;}lift(n){let r=new ir$5(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dc$3}next(n){Vt$7(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n);}});}error(n){Vt$7(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=true,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n);}});}complete(){Vt$7(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=true;let{observers:n}=this;for(;n.length;)n.shift().complete();}});}unsubscribe(){this.isStopped=this.closed=true,this.observers=this.currentObservers=null;}get observed(){var n;return ((n=this.observers)===null||n===undefined?undefined:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?si$5:(this.currentObservers=null,i.push(n),new V$7(()=>{this.currentObservers=null,dt$6(i,n);}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete();}asObservable(){let n=new M$a;return n.source=this,n}}return e.create=(t,n)=>new ir$5(t,n),e})(),ir$5=class ir extends Z$a{constructor(t,n){super(),this.destination=t,this.source=n;}next(t){var n,r;(r=(n=this.destination)===null||n===undefined?undefined:n.next)===null||r===undefined||r.call(n,t);}error(t){var n,r;(r=(n=this.destination)===null||n===undefined?undefined:n.error)===null||r===undefined||r.call(n,t);}complete(){var t,n;(n=(t=this.destination)===null||t===undefined?undefined:t.complete)===null||n===undefined||n.call(t);}_subscribe(t){var n,r;return (r=(n=this.source)===null||n===undefined?undefined:n.subscribe(t))!==null&&r!==undefined?r:si$5}};var yn$7=class yn extends Z$a{constructor(t){super(),this._value=t;}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return !n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t);}};var vn$6={now(){return (vn$6.delegate||Date).now()},delegate:undefined};var In$7=class In extends Z$a{constructor(t=1/0,n=1/0,r=vn$6){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=true,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n);}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t);}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1);}}};var be$8=new M$a(e=>e.complete());function sr$4(e){return e&&E$c(e.schedule)}function di$6(e){return e[e.length-1]}function Ne$4(e){return E$c(di$6(e))?e.pop():undefined}function ge$b(e){return sr$4(di$6(e))?e.pop():undefined}function fc$1(e,t){return typeof di$6(e)=="number"?e.pop():t}function zD(e,t,n,r){var o=arguments.length,i=o<3?t:r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function GD(e,t){return function(n,r){t(n,r,e);}}function QD(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function hc$4(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i);})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u));}catch(d){s(d);}}function c(u){try{l(r.throw(u));}catch(d){s(d);}}function l(u){u.done?i(u.value):o(u.value).then(a,c);}l((r=r.apply(e,[])).next());})}function pc$3(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return {next:function(){return e&&r>=e.length&&(e=undefined),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht$6(e){return this instanceof ht$6?(this.v=e,this):new ht$6(e)}function mc$4(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(o[f]=function(y){return new Promise(function(b,w){i.push([f,y,b,w])>1||c(f,y);})},h&&(o[f]=h(o[f])));}function c(f,h){try{l(r[f](h));}catch(y){p(i[0][3],y);}}function l(f){f.value instanceof ht$6?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f);}function u(f){c("next",f);}function d(f){c("throw",f);}function p(f,h){f(h),i.shift(),i.length&&c(i[0][0],i[0][1]);}}function gc$3(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof pc$3=="function"?pc$3(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value);})};}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a});},s);}}var Ht$5=e=>e&&typeof e.length=="number"&&typeof e!="function";function ar$5(e){return E$c(e?.then)}function cr$5(e){return E$c(e[jt$5])}function lr$6(e){return Symbol.asyncIterator&&E$c(e?.[Symbol.asyncIterator])}function ur$6(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xp$1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dr$6=xp$1();function fr$6(e){return E$c(e?.[dr$6])}function pr$6(e){return mc$4(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield ht$6(n.read());if(o)return yield ht$6(void 0);yield yield ht$6(r);}}finally{n.releaseLock();}})}function hr$6(e){return E$c(e?.getReader)}function I$a(e){if(e instanceof M$a)return e;if(e!=null){if(cr$5(e))return Cp$1(e);if(Ht$5(e))return Tp$1(e);if(ar$5(e))return _p$1(e);if(lr$6(e))return yc$3(e);if(fr$6(e))return Np$1(e);if(hr$6(e))return Sp$1(e)}throw ur$6(e)}function Cp$1(e){return new M$a(t=>{let n=e[jt$5]();if(E$c(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tp$1(e){return new M$a(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete();})}function _p$1(e){return new M$a(t=>{e.then(n=>{t.closed||(t.next(n),t.complete());},n=>t.error(n)).then(null,rr$5);})}function Np$1(e){return new M$a(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete();})}function yc$3(e){return new M$a(t=>{Ap$1(e,t).catch(n=>t.error(n));})}function Sp$1(e){return yc$3(pr$6(e))}function Ap$1(e,t){var n,r,o,i;return hc$4(this,undefined,undefined,function*(){try{for(n=gc$3(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s};}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n));}finally{if(o)throw o.error}}t.complete();})}function Y$5(e,t,n,r=0,o=false){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe();},r);if(e.add(i),!o)return i}function fi$6(e){return E$c(e?.lift)}function g$b(e){return t=>{if(fi$6(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r);}});throw new TypeError("Unable to lift unknown Observable type")}}function m$a(e,t,n,r,o){return new En$6(e,t,n,r,o)}var En$6=class En extends pt$6{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a);}catch(c){t.error(c);}}:super._next,this._error=o?function(a){try{o(a);}catch(c){t.error(c);}finally{this.unsubscribe();}}:super._error,this._complete=r?function(){try{r();}catch(a){t.error(a);}finally{this.unsubscribe();}}:super._complete;}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===undefined||t.call(this));}}};function Bt$7(e,t=0){return g$b((n,r)=>{n.subscribe(m$a(r,o=>Y$5(r,e,()=>r.next(o),t),()=>Y$5(r,e,()=>r.complete(),t),o=>Y$5(r,e,()=>r.error(o),t)));})}function mr$6(e,t=0){return g$b((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t));})}function vc$2(e,t){return I$a(e).pipe(mr$6(t),Bt$7(t))}function Ic$2(e,t){return I$a(e).pipe(mr$6(t),Bt$7(t))}function Ec$3(e,t){return new M$a(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule());})})}function wc$2(e,t){return new M$a(n=>{let r;return Y$5(n,t,()=>{r=e[dr$6](),Y$5(n,t,()=>{let o,i;try{({value:o,done:i}=r.next());}catch(s){n.error(s);return}i?n.complete():n.next(o);},0,true);}),()=>E$c(r?.return)&&r.return()})}function gr$6(e,t){if(!e)throw new Error("Iterable cannot be null");return new M$a(n=>{Y$5(n,t,()=>{let r=e[Symbol.asyncIterator]();Y$5(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value);});},0,true);});})}function Dc$2(e,t){return gr$6(pr$6(e),t)}function pi$6(e,t){if(e!=null){if(cr$5(e))return vc$2(e,t);if(Ht$5(e))return Ec$3(e,t);if(ar$5(e))return Ic$2(e,t);if(lr$6(e))return gr$6(e,t);if(fr$6(e))return wc$2(e,t);if(hr$6(e))return Dc$2(e,t)}throw ur$6(e)}function ye$7(e,t){return t?pi$6(e,t):I$a(e)}function hi$7(...e){let t=ge$b(e);return ye$7(e,t)}var Me$8=Ze$6(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence";});function Op$2(e,t){return new Promise((r,o)=>{let i=false,s;e.subscribe({next:a=>{s=a,i=true;},error:o,complete:()=>{i?r(s):o(new Me$8);}});})}function ie$b(e,t){return g$b((n,r)=>{let o=0;n.subscribe(m$a(r,i=>{r.next(e.call(t,i,o++));}));})}var{isArray:kp$1}=Array,{getPrototypeOf:Rp$1,prototype:Pp$1,keys:Fp$2}=Object;function yr$6(e){if(e.length===1){let t=e[0];if(kp$1(t))return {args:t,keys:null};if(Lp$1(t)){let n=Fp$2(t);return {args:n.map(r=>t[r]),keys:n}}}return {args:e,keys:null}}function Lp$1(e){return e&&typeof e=="object"&&Rp$1(e)===Pp$1}var{isArray:Vp$1}=Array;function jp$1(e,t){return Vp$1(t)?e(...t):e(t)}function Se$6(e){return ie$b(t=>jp$1(e,t))}function vr$6(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Hp$2(...e){let t=ge$b(e),n=Ne$4(e),{args:r,keys:o}=yr$6(e);if(r.length===0)return ye$7([],t);let i=new M$a(mi$6(r,t,o?s=>vr$6(o,s):B$8));return n?i.pipe(Se$6(n)):i}function mi$6(e,t,n=B$8){return r=>{bc$2(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)bc$2(t,()=>{let l=ye$7(e[c],t),u=false;l.subscribe(m$a(r,d=>{i[c]=d,u||(u=true,a--),a||r.next(n(i.slice()));},()=>{--s||r.complete();}));},r);},r);}}function bc$2(e,t,n){e?Y$5(n,e,t):t();}function $t$3(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=false,p=()=>{d&&!c.length&&!l&&t.complete();},f=y=>l<r?h(y):c.push(y),h=y=>{i&&t.next(y),l++;let b=false;I$a(n(y,u++)).subscribe(m$a(t,w=>{o?.(w),i?f(w):t.next(w);},()=>{b=true;},undefined,()=>{if(b)try{for(l--;c.length&&l<r;){let w=c.shift();s?Y$5(t,s,()=>h(w)):h(w);}p();}catch(w){t.error(w);}}));};return e.subscribe(m$a(t,f,()=>{d=true,p();})),()=>{a?.();}}function ve$9(e,t,n=1/0){return E$c(t)?ve$9((r,o)=>ie$b((i,s)=>t(r,i,o,s))(I$a(e(r,o))),n):(typeof t=="number"&&(n=t),g$b((r,o)=>$t$3(r,o,e,n)))}function gi$4(e){return new M$a(t=>{I$a(e()).subscribe(t);})}function Bp$1(e,t,n){return gi$4(()=>e()?t:n)}function wn$7(e=1/0){return ve$9(B$8,e)}function $p$1(...e){let t=ge$b(e),n=fc$1(e,1/0),r=e;return r.length?r.length===1?I$a(r[0]):wn$7(n)(ye$7(r,t)):be$8}function Ye$b(e,t){return g$b((n,r)=>{let o=0;n.subscribe(m$a(r,i=>e.call(t,i,o++)&&r.next(i)));})}function yi$5(e){return g$b((t,n)=>{let r=null,o=!1,i;r=t.subscribe(m$a(n,void 0,void 0,s=>{i=I$a(e(s,yi$5(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0;})),o&&(r.unsubscribe(),r=null,i.subscribe(n));})}function mt$8(e){return e<=0?()=>be$8:g$b((t,n)=>{let r=0;t.subscribe(m$a(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete());}));})}var Ir$6=class Ir extends V$7{constructor(t,n){super();}schedule(t,n=0){return this}};var Dn$6={setInterval(e,t,...n){let{delegate:r}=Dn$6;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Dn$6;return (t?.clearInterval||clearInterval)(e)},delegate:undefined};var Ae$6=class Ae extends Ir$6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=false;}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=true,this.delay=n,this.id=(r=this.id)!==null&&r!==undefined?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Dn$6.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===false)return n;n!=null&&Dn$6.clearInterval(n);}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=false;let r=this._execute(t,n);if(r)return r;this.pending===false&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null));}_execute(t,n){let r=false,o;try{this.work(t);}catch(i){r=true,o=i||new Error("Scheduled action threw falsy error");}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=false,dt$6(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe();}}};var Ut$7=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n;}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Ut$7.now=vn$6.now;var Oe$8=class Oe extends Ut$7{constructor(t,n=Ut$7.now){super(t,n),this.actions=[],this._active=false;}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=true;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=false,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var J$7=new Oe$8(Ae$6),vi$7=J$7;function Er$6(){return wn$7(1)}function Je$6(...e){return Er$6()(ye$7(e,ge$b(e)))}function Ii$4(){return g$b((e,t)=>{e.subscribe(m$a(t,$$8));})}function Ei$9(e){return ie$b(()=>e)}function wi$5(e,t){return t?n=>Je$6(t.pipe(mt$8(1),Ii$4()),n.pipe(wi$5(e))):ve$9((n,r)=>I$a(e(n,r)).pipe(mt$8(1),Ei$9(n)))}function wr$6(e){return e instanceof Date&&!isNaN(e)}function de$7(e=0,t,n=vi$7){let r=-1;return t!=null&&(sr$4(t)?n=t:r=t),new M$a(o=>{let i=wr$6(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(undefined,r):o.complete());},i)})}function Mc$2(e,t=J$7){let n=de$7(e,t);return wi$5(()=>n)}function Dr$5(e,t=B$8){return e=e??Up$2,g$b((n,r)=>{let o,i=!0;n.subscribe(m$a(r,s=>{let a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s));}));})}function Up$2(e,t){return e===t}function xc$2(e){return g$b((t,n)=>{try{t.subscribe(n);}finally{n.add(e);}})}function qt$4(e){return g$b((t,n)=>{let r=!1;t.subscribe(m$a(n,o=>{r=!0,n.next(o);},()=>{r||n.next(e),n.complete();}));})}function br$6(e=qp$1){return g$b((t,n)=>{let r=!1;t.subscribe(m$a(n,o=>{r=!0,n.next(o);},()=>r?n.complete():n.error(e())));})}function qp$1(){return new Me$8}function Cc$3(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ye$b((o,i)=>e(o,i,r)):B$8,mt$8(1),n?qt$4(t):br$6(()=>new Me$8))}function Tc$2(){return g$b((e,t)=>{let n,r=!1;e.subscribe(m$a(t,o=>{let i=n;n=o,r&&t.next([i,o]),r=!0;}));})}function Mr$6(e={}){let{connector:t=()=>new Z$a,resetOnError:n=true,resetOnComplete:r=true,resetOnRefCountZero:o=true}=e;return i=>{let s,a,c,l=0,u=false,d=false,p=()=>{a?.unsubscribe(),a=undefined;},f=()=>{p(),s=c=undefined,u=d=false;},h=()=>{let y=s;f(),y?.unsubscribe();};return g$b((y,b)=>{l++,!d&&!u&&p();let w=c=c??t();b.add(()=>{l--,l===0&&!d&&!u&&(a=Di$6(h,o));}),w.subscribe(b),!s&&l>0&&(s=new De$b({next:S=>w.next(S),error:S=>{d=!0,p(),a=Di$6(f,n,S),w.error(S);},complete:()=>{u=!0,p(),a=Di$6(f,r),w.complete();}}),I$a(y).subscribe(s));})(i)}}function Di$6(e,t,...n){if(t===true){e();return}if(t===false)return;let r=new De$b({next:()=>{r.unsubscribe(),e();}});return I$a(t(...n)).subscribe(r)}function _c$3(e,t,n){let r,o=false;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:o=false,scheduler:n}=e:r=e??1/0,Mr$6({connector:()=>new In$7(r,t,n),resetOnError:true,resetOnComplete:false,resetOnRefCountZero:o})}function Nc$2(e){return Ye$b((t,n)=>e<=n)}function Sc$2(...e){let t=ge$b(e);return g$b((n,r)=>{(t?Je$6(e,n,t):Je$6(e,n)).subscribe(r);})}function Ac$3(e,t){return g$b((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(m$a(r,c=>{o?.unsubscribe();let l=0,u=i++;I$a(e(c,u)).subscribe(o=m$a(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a();}));},()=>{s=!0,a();}));})}function Oc$2(e){return g$b((t,n)=>{I$a(e).subscribe(m$a(n,()=>n.complete(),$$8)),!n.closed&&t.subscribe(n);})}function kc$2(e,t,n){let r=E$c(e)||t||n?{next:e,error:t,complete:n}:e;return r?g$b((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(m$a(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c);},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete();},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c);},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r);}));}):B$8}function Rc$2(...e){let t=Ne$4(e);return g$b((n,r)=>{let o=e.length,i=new Array(o),s=e.map(()=>!1),a=!1;for(let c=0;c<o;c++)I$a(e[c]).subscribe(m$a(r,l=>{i[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(B$8))&&(s=null));},$$8));n.subscribe(m$a(r,c=>{if(a){let l=[c,...i];r.next(t?t(...l):l);}}));})}function bi$6(){return g$b((e,t)=>{let n=null;e._refCount++;let r=m$a(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe();});e.subscribe(r),r.closed||(n=e.connect());})}var Mi$6=class Mi extends M$a{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fi$6(t)&&(this.lift=t.lift);}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return (!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe();}connect(){let t=this._connection;if(!t){t=this._connection=new V$7;let n=this.getSubject();t.add(this.source.subscribe(m$a(n,undefined,()=>{this._teardown(),n.complete();},r=>{this._teardown(),n.error(r);},()=>this._teardown()))),t.closed&&(this._connection=null,t=V$7.EMPTY);}return t}refCount(){return bi$6()(this)}};var xi$5={now(){return (performance).now()},delegate:undefined};var Ve$5={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Ve$5;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);let o=t(i=>{n=undefined,e(i);});return new V$7(()=>n?.(o))},requestAnimationFrame(...e){let{delegate:t}=Ve$5;return (t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=Ve$5;return (t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:undefined};function Wp$1(e){return e?Pc$2(e):zp$2}function Pc$2(e){return new M$a(t=>{let n=e||xi$5,r=n.now(),o=0,i=()=>{t.closed||(o=Ve$5.requestAnimationFrame(s=>{o=0;let a=n.now();t.next({timestamp:e?a:s,elapsed:a-r}),i();}));};return i(),()=>{o&&Ve$5.cancelAnimationFrame(o);}})}var zp$2=Pc$2();var Gp$3=1,Ci$7,Ti$8={};function Fc$2(e){return e in Ti$8?(delete Ti$8[e],true):false}var Lc$2={setImmediate(e){let t=Gp$3++;return Ti$8[t]=true,Ci$7||(Ci$7=Promise.resolve()),Ci$7.then(()=>Fc$2(t)&&e()),t},clearImmediate(e){Fc$2(e);}};var{setImmediate:Qp$2,clearImmediate:Zp$2}=Lc$2,bn$7={setImmediate(...e){let{delegate:t}=bn$7;return (t?.setImmediate||Qp$2)(...e)},clearImmediate(e){let{delegate:t}=bn$7;return (t?.clearImmediate||Zp$2)(e)},delegate:undefined};var xr$6=class xr extends Ae$6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n;}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=bn$7.setImmediate(t.flush.bind(t,undefined))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&((o=i[i.length-1])===null||o===undefined?undefined:o.id)!==n&&(bn$7.clearImmediate(n),t._scheduled===n&&(t._scheduled=undefined));}};var Cr$6=class Cr extends Oe$8{flush(t){this._active=true;let n=this._scheduled;this._scheduled=undefined;let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=false,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var Yp$1=new Cr$6(xr$6);var Tr$7=class Tr extends Ae$6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n;}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var _r$7=class _r extends Oe$8{};var Jp$2=new _r$7(Tr$7);var Nr$5=class Nr extends Ae$6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n;}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Ve$5.requestAnimationFrame(()=>t.flush(undefined))))}recycleAsyncId(t,n,r=0){var o;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:i}=t;n!=null&&((o=i[i.length-1])===null||o===undefined?undefined:o.id)!==n&&(Ve$5.cancelAnimationFrame(n),t._scheduled=undefined);}};var Sr$6=class Sr extends Oe$8{flush(t){this._active=true;let n=this._scheduled;this._scheduled=undefined;let{actions:r}=this,o;t=t||r.shift();do if(o=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=false,o){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw o}}};var Kp$1=new Sr$6(Nr$5);function Xp$2(e,t){let n=E$c(e)?e:()=>e,r=o=>o.error(n());return new M$a(r)}function eh$3(e){return !!e&&(e instanceof M$a||E$c(e.lift)&&E$c(e.subscribe))}function th$2(e,t){let n=typeof t=="object";return new Promise((r,o)=>{let i=new De$b({next:s=>{r(s),i.unsubscribe();},error:o,complete:()=>{n?r(t.defaultValue):o(new Me$8);}});e.subscribe(i);})}var nh=Ze$6(e=>function(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n;});function rh$1(e,t){let{first:n,each:r,with:o=oh$1,scheduler:i=J$7,meta:s=null}=wr$6(e)?{first:e}:typeof e=="number"?{each:e}:e;if(n==null&&r==null)throw new TypeError("No timeout provided.");return g$b((a,c)=>{let l,u,d=null,p=0,f=h=>{u=Y$5(c,i,()=>{try{l.unsubscribe(),I$a(o({meta:s,lastValue:d,seen:p})).subscribe(c);}catch(y){c.error(y);}},h);};l=a.subscribe(m$a(c,h=>{u?.unsubscribe(),p++,c.next(d=h),r>0&&f(r);},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),d=null;})),!p&&f(n!=null?typeof n=="number"?n:+n-i.now():r);})}function oh$1(e){throw new nh(e)}function ih$1(...e){let t=Ne$4(e),{args:n,keys:r}=yr$6(e),o=new M$a(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=false;I$a(n[u]).subscribe(m$a(i,p=>{d||(d=true,l--),a[u]=p;},()=>c--,undefined,()=>{(!c||!d)&&(l||i.next(r?vr$6(r,a):a),i.complete());}));}});return t?o.pipe(Se$6(t)):o}var sh=["addListener","removeListener"],ah$1=["addEventListener","removeEventListener"],ch$1=["on","off"];function _i$7(e,t,n,r){if(E$c(n)&&(r=n,n=undefined),r)return _i$7(e,t,n).pipe(Se$6(r));let[o,i]=dh$2(e)?ah$1.map(s=>a=>e[s](t,a,n)):lh$1(e)?sh.map(Vc$2(e,t)):uh$1(e)?ch$1.map(Vc$2(e,t)):[];if(!o&&Ht$5(e))return ve$9(s=>_i$7(s,t,n))(I$a(e));if(!o)throw new TypeError("Invalid event target");return new M$a(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Vc$2(e,t){return n=>r=>e[n](t,r)}function lh$1(e){return E$c(e.addListener)&&E$c(e.removeListener)}function uh$1(e){return E$c(e.on)&&E$c(e.off)}function dh$2(e){return E$c(e.addEventListener)&&E$c(e.removeEventListener)}function jc$3(e,t,n){return n?jc$3(e,t).pipe(Se$6(n)):new M$a(r=>{let o=(...s)=>r.next(s.length===1?s[0]:s),i=e(o);return E$c(t)?()=>t(o,i):undefined})}function fh$2(e=0,t=J$7){return e<0&&(e=0),de$7(e,e,t)}var ph$2=new M$a($$8);var{isArray:hh$2}=Array;function Wt$5(e){return e.length===1&&hh$2(e[0])?e[0]:e}function mh$2(...e){return e=Wt$5(e),e.length===1?I$a(e[0]):new M$a(gh$2(e))}function gh$2(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(I$a(e[r]).subscribe(m$a(t,o=>{if(n){for(let i=0;i<n.length;i++)i!==r&&n[i].unsubscribe();n=null;}t.next(o);})));}}function yh$1(...e){let t=Ne$4(e),n=Wt$5(e);return n.length?new M$a(r=>{let o=n.map(()=>[]),i=n.map(()=>false);r.add(()=>{o=i=null;});for(let s=0;!r.closed&&s<n.length;s++)I$a(n[s]).subscribe(m$a(r,a=>{if(o[s].push(a),o.every(c=>c.length)){let c=o.map(l=>l.shift());r.next(t?t(...c):c),o.some((l,u)=>!l.length&&i[u])&&r.complete();}},()=>{i[s]=true,!o[s].length&&r.complete();}));return ()=>{o=i=null;}}):be$8}function Ni$5(e){return g$b((t,n)=>{let r=!1,o=null,i=null,s=!1,a=()=>{if(i?.unsubscribe(),i=null,r){r=!1;let l=o;o=null,n.next(l);}s&&n.complete();},c=()=>{i=null,s&&n.complete();};t.subscribe(m$a(n,l=>{r=!0,o=l,i||I$a(e(l)).subscribe(i=m$a(n,a,c));},()=>{s=!0,(!r||!i||i.closed)&&n.complete();}));})}function Hc$3(e,t=J$7){return Ni$5(()=>de$7(e,t))}function vh$1(e){return g$b((t,n)=>{let r=[];return t.subscribe(m$a(n,o=>r.push(o),()=>{n.next(r),n.complete();})),I$a(e).subscribe(m$a(n,()=>{let o=r;r=[],n.next(o);},$$8)),()=>{r=null;}})}function Ih$2(e){return g$b((t,n)=>{let r=null,o=null,i=()=>{o?.unsubscribe();let s=r;r=[],s&&n.next(s),I$a(e()).subscribe(o=m$a(n,i,$$8));};i(),t.subscribe(m$a(n,s=>r?.push(s),()=>{r&&n.next(r),n.complete();},void 0,()=>r=o=null));})}function Bc$3(e,t,n,r,o){return (i,s)=>{let a=n,c=t,l=0;i.subscribe(m$a(s,u=>{let d=l++;c=a?e(c,u,d):(a=true,u),s.next(c);},o));}}function Si$4(...e){let t=Ne$4(e);return t?oi$5(Si$4(...e),Se$6(t)):g$b((n,r)=>{mi$6([n,...Wt$5(e)])(r);})}function $c$2(...e){return Si$4(...e)}function Uc$2(e,t){return E$c(t)?ve$9(e,t,1):ve$9(e,1)}function qc$2(...e){let t=ge$b(e);return g$b((n,r)=>{Er$6()(ye$7([n,...e],t)).subscribe(r);})}function Eh$2(...e){return qc$2(...e)}function Wc$3(e,t=J$7){return g$b((n,r)=>{let o=null,i=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let l=i;i=null,r.next(l);}};function c(){let l=s+e,u=t.now();if(u<l){o=this.schedule(void 0,l-u),r.add(o);return}a();}n.subscribe(m$a(r,l=>{i=l,s=t.now(),o||(o=t.schedule(c,e),r.add(o));},()=>{a(),r.complete();},void 0,()=>{i=o=null;}));})}function wh$1(e,t){return g$b((n,r)=>{let o=new Set;n.subscribe(m$a(r,i=>{let s=e?e(i):i;o.has(s)||(o.add(s),r.next(i));})),t&&I$a(t).subscribe(m$a(r,()=>o.clear(),$$8));})}function Dh$2(e,t){return Dr$5((n,r)=>n[e]===r[e])}function bh$1(...e){return t=>Je$6(t,hi$7(...e))}function Ai$5(e,t){return t?n=>n.pipe(Ai$5((r,o)=>I$a(e(r,o)).pipe(ie$b((i,s)=>t(r,i,o,s))))):g$b((n,r)=>{let o=0,i=null,s=!1;n.subscribe(m$a(r,a=>{i||(i=m$a(r,void 0,()=>{i=null,s&&r.complete();}),I$a(e(a,o++)).subscribe(i));},()=>{s=!0,!i&&r.complete();}));})}function Mh$2(e,t=1/0,n){return t=(t||0)<1?1/0:t,g$b((r,o)=>$t$3(r,o,e,t,void 0,!0,n))}function xh$1(e,t,n,r){return g$b((o,i)=>{let s;!t||typeof t=="function"?s=t:{duration:n,element:s,connector:r}=t;let a=new Map,c=h=>{a.forEach(h),h(i);},l=h=>c(y=>y.error(h)),u=0,d=!1,p=new En$6(i,h=>{try{let y=e(h),b=a.get(y);if(!b){a.set(y,b=r?r():new Z$a);let w=f(y,b);if(i.next(w),n){let S=m$a(b,()=>{b.complete(),S?.unsubscribe();},void 0,void 0,()=>a.delete(y));p.add(I$a(n(w)).subscribe(S));}}b.next(s?s(h):h);}catch(y){l(y);}},()=>c(h=>h.complete()),l,()=>a.clear(),()=>(d=!0,u===0));o.subscribe(p);function f(h,y){let b=new M$a(w=>{u++;let S=y.subscribe(w);return ()=>{S.unsubscribe(),--u===0&&d&&p.unsubscribe();}});return b.key=h,b}})}function Ch$1(){return g$b((e,t)=>{e.subscribe(m$a(t,()=>{t.next(!1),t.complete();},()=>{t.next(!0),t.complete();}));})}function Oi$5(e){return e<=0?()=>be$8:g$b((t,n)=>{let r=[];t.subscribe(m$a(n,o=>{r.push(o),e<r.length&&r.shift();},()=>{for(let o of r)n.next(o);n.complete();},void 0,()=>{r=null;}));})}function Th$2(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ye$b((o,i)=>e(o,i,r)):B$8,Oi$5(1),n?qt$4(t):br$6(()=>new Me$8))}function zc$3(e,t,n=1/0){return g$b((r,o)=>{let i=t;return $t$3(r,o,(s,a)=>e(i,s,a),n,s=>{i=s;},!1,void 0,()=>i=null)})}function _h$1(...e){let t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return ie$b(n=>{let r=n;for(let o=0;o<t;o++){let i=r?.[e[o]];if(typeof i<"u")r=i;else return}return r})}function Nh$2(e){let t=1/0,n;return e!=null&&(typeof e=="object"?{count:t=1/0,delay:n}=e:t=e),t<=0?()=>be$8:g$b((r,o)=>{let i=0,s,a=()=>{if(s?.unsubscribe(),s=null,n!=null){let l=typeof n=="number"?de$7(n):I$a(n(i)),u=m$a(o,()=>{u.unsubscribe(),c();});l.subscribe(u);}else c();},c=()=>{let l=!1;s=r.subscribe(m$a(o,void 0,()=>{++i<t?s?a():l=!0:o.complete();})),l&&a();};c();})}function Gc$3(e=1/0){let t;e&&typeof e=="object"?t=e:t={count:e};let{count:n=1/0,delay:r,resetOnSuccess:o=false}=t;return n<=0?B$8:g$b((i,s)=>{let a=0,c,l=()=>{let u=!1;c=i.subscribe(m$a(s,d=>{o&&(a=0),s.next(d);},void 0,d=>{if(a++<n){let p=()=>{c?(c.unsubscribe(),c=null,l()):u=!0;};if(r!=null){let f=typeof r=="number"?de$7(r):I$a(r(d,a)),h=m$a(s,()=>{h.unsubscribe(),p();},()=>{s.complete();});f.subscribe(h);}else p();}else s.error(d);})),u&&(c.unsubscribe(),c=null,l());};l();})}function Sh$2(e){return g$b((t,n)=>{let r,o=!1,i,s=()=>{r=t.subscribe(m$a(n,void 0,void 0,a=>{i||(i=new Z$a,I$a(e(i)).subscribe(m$a(n,()=>r?s():o=!0))),i&&i.next(a);})),o&&(r.unsubscribe(),r=null,o=!1,s());};s();})}function Qc$3(e,t){return g$b(Bc$3(e,t,arguments.length>=2,!0))}function Ah$2(e){return g$b((t,n)=>{let r=!1,o=m$a(n,()=>{o?.unsubscribe(),r=!0;},$$8);I$a(e).subscribe(o),t.subscribe(m$a(n,i=>r&&n.next(i)));})}function Zc$4(e){return g$b((t,n)=>{let r=!1,o=0;t.subscribe(m$a(n,i=>(r||(r=!e(i,o++)))&&n.next(i)));})}function Yc$3(e,t=false){return g$b((n,r)=>{let o=0;n.subscribe(m$a(r,i=>{let s=e(i,o++);(s||t)&&r.next(i),!s&&r.complete();}));})}function ki$6(e,t){return g$b((n,r)=>{let{leading:o=!0,trailing:i=!1}=t??{},s=!1,a=null,c=null,l=!1,u=()=>{c?.unsubscribe(),c=null,i&&(f(),l&&r.complete());},d=()=>{c=null,l&&r.complete();},p=h=>c=I$a(e(h)).subscribe(m$a(r,u,d)),f=()=>{if(s){s=!1;let h=a;a=null,r.next(h),!l&&p(h);}};n.subscribe(m$a(r,h=>{s=!0,a=h,!(c&&!c.closed)&&(o?f():p(h));},()=>{l=!0,!(i&&s&&c&&!c.closed)&&r.complete();}));})}function Jc$5(e,t=J$7,n){let r=de$7(e,t);return ki$6(()=>r,n)}function Oh$2(e=J$7){return g$b((t,n)=>{let r=e.now();t.subscribe(m$a(n,o=>{let i=e.now(),s=i-r;r=i,n.next(new Ri$3(o,s));}));})}var Ri$3=class Ri{constructor(t,n){this.value=t,this.interval=n;}};function ji$4(e,t){return Object.is(e,t)}var U$d=null,Mn$7=false,Hi$4=1,W$9=Symbol("SIGNAL");function _$9(e){let t=U$d;return U$d=e,t}function Kc$4(){return U$d}var gt$9={version:0,lastCleanEpoch:0,dirty:false,producerNode:undefined,producerLastReadVersion:undefined,producerIndexOfThis:undefined,nextProducerIndex:0,liveConsumerNode:undefined,liveConsumerIndexOfThis:undefined,consumerAllowSignalWrites:false,consumerIsAlwaysLive:false,kind:"unknown",producerMustRecompute:()=>false,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cn$5(e){if(Mn$7)throw new Error("");if(U$d===null)return;U$d.consumerOnSignalRead(e);let t=U$d.nextProducerIndex++;if(kr$7(U$d),t<U$d.producerNode.length&&U$d.producerNode[t]!==e&&xn$7(U$d)){let n=U$d.producerNode[t];Or$6(n,U$d.producerIndexOfThis[t]);}U$d.producerNode[t]!==e&&(U$d.producerNode[t]=e,U$d.producerIndexOfThis[t]=xn$7(U$d)?nl$3(e,U$d,t):0),U$d.producerLastReadVersion[t]=e.version;}function Rh$1(){Hi$4++;}function Bi$3(e){if(!(xn$7(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Hi$4)){if(!e.producerMustRecompute(e)&&!_n$6(e)){Li$5(e);return}e.producerRecomputeValue(e),Li$5(e);}}function Xc$4(e){if(e.liveConsumerNode===undefined)return;let t=Mn$7;Mn$7=true;try{for(let n of e.liveConsumerNode)n.dirty||tl$3(n);}finally{Mn$7=t;}}function el$3(){return U$d?.consumerAllowSignalWrites!==false}function tl$3(e){e.dirty=true,Xc$4(e),e.consumerMarkedDirty?.(e);}function Li$5(e){e.dirty=false,e.lastCleanEpoch=Hi$4;}function zt$5(e){return e&&(e.nextProducerIndex=0),_$9(e)}function Tn$6(e,t){if(_$9(t),!(!e||e.producerNode===undefined||e.producerIndexOfThis===undefined||e.producerLastReadVersion===undefined)){if(xn$7(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Or$6(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop();}}function _n$6(e){kr$7(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Bi$3(n),r!==n.version))return  true}return  false}function Gt$5(e){if(kr$7(e),xn$7(e))for(let t=0;t<e.producerNode.length;t++)Or$6(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0);}function nl$3(e,t,n){if(rl$3(e),e.liveConsumerNode.length===0&&ol$3(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=nl$3(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Or$6(e,t){if(rl$3(e),e.liveConsumerNode.length===1&&ol$3(e))for(let r=0;r<e.producerNode.length;r++)Or$6(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];kr$7(o),o.producerIndexOfThis[r]=t;}}function xn$7(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function kr$7(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[];}function rl$3(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[];}function ol$3(e){return e.producerNode!==undefined}function $i$4(e){let t=Object.create(Ph$3);t.computation=e;let n=()=>{if(Bi$3(t),Cn$5(t),t.value===Ar$6)throw t.error;return t.value};return n[W$9]=t,n}var Pi$7=Symbol("UNSET"),Fi$4=Symbol("COMPUTING"),Ar$6=Symbol("ERRORED"),Ph$3=x$d(w$9({},gt$9),{value:Pi$7,dirty:true,error:null,equal:ji$4,kind:"computed",producerMustRecompute(e){return e.value===Pi$7||e.value===Fi$4},producerRecomputeValue(e){if(e.value===Fi$4)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Fi$4;let n=zt$5(e),r;try{r=e.computation();}catch(o){r=Ar$6,e.error=o;}finally{Tn$6(e,n);}if(t!==Pi$7&&t!==Ar$6&&r!==Ar$6&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++;}});function Fh$2(){throw new Error}var il$3=Fh$2;function sl$3(){il$3();}function al$3(e){il$3=e;}function cl$3(e){let t=Object.create(Ui$6);t.value=e;let n=()=>(Cn$5(t),t.value);return n[W$9]=t,n}function Nn$6(e,t){el$3()||sl$3(),e.equal(e.value,t)||(e.value=t,Vh$2(e));}function ll$3(e,t){el$3()||sl$3(),Nn$6(e,t(e.value));}var Ui$6=x$d(w$9({},gt$9),{equal:ji$4,value:undefined,kind:"signal"});function Vh$2(e){e.version++,Rh$1(),Xc$4(e);}var Vi$4=()=>{};x$d(w$9({},gt$9),{consumerIsAlwaysLive:true,consumerAllowSignalWrites:false,consumerMarkedDirty:e=>{e.schedule!==null&&e.schedule(e.ref);},hasRun:false,cleanupFn:Vi$4});var au$3="https://g.co/ng/security#xss",C$e=class C extends Error{code;constructor(t,n){super(Hh$2(t,n)),this.code=t;}};function Hh$2(e,t){return `${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var No$5=Symbol("InputSignalNode#UNSET"),cu$4=x$d(w$9({},Ui$6),{transformFn:undefined,applyValueToInputSignal(e,t){Nn$6(e,t);}});function lu$3(e,t){let n=Object.create(cu$4);n.value=e,n.transformFn=t?.transform;function r(){if(Cn$5(n),n.value===No$5)throw new C$e(-950,false);return n.value}return r[W$9]=n,r}function qn$2(e){return {toString:e}.toString()}var Rr$4="__parameters__";function Bh$2(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o];}}}function ya$6(e,t,n){return qn$2(()=>{let r=Bh$2(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Rr$4)?c[Rr$4]:Object.defineProperty(c,Rr$4,{value:[]})[Rr$4];for(;d.length<=u;)d.push(null);return (d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var je$7=globalThis;function R$g(e){for(let t in e)if(e[t]===R$g)return t;throw Error("Could not find renamed property on target object.")}function $h$1(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);}function fe$7(e){if(typeof e=="string")return e;if(Array.isArray(e))return "["+e.map(fe$7).join(", ")+"]";if(e==null)return ""+e;if(e.overriddenName)return `${e.overriddenName}`;if(e.name)return `${e.name}`;let t=e.toString();if(t==null)return ""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function rs$3(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Uh$1=R$g({__forward_ref__:R$g});function uu$4(e){return e.__forward_ref__=uu$4,e.toString=function(){return fe$7(this())},e}function z$a(e){return du$4(e)?e():e}function du$4(e){return typeof e=="function"&&e.hasOwnProperty(Uh$1)&&e.__forward_ref__===uu$4}function H$9(e){return {token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:undefined}}function qh$2(e){return {providers:e.providers||[],imports:e.imports||[]}}function So$5(e){return dl$3(e,fu$3)||dl$3(e,pu$3)}function Xk(e){return So$5(e)!==null}function dl$3(e,t){return e.hasOwnProperty(t)?e[t]:null}function Wh$2(e){let t=e&&(e[fu$3]||e[pu$3]);return t||null}function fl$3(e){return e&&(e.hasOwnProperty(pl$3)||e.hasOwnProperty(zh$1))?e[pl$3]:null}var fu$3=R$g({\u0275prov:R$g}),pl$3=R$g({\u0275inj:R$g}),pu$3=R$g({ngInjectableDef:R$g}),zh$1=R$g({ngInjectorDef:R$g}),k$5=class k{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=undefined,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==undefined&&(this.\u0275prov=H$9({token:this,providedIn:n.providedIn||"root",factory:n.factory}));}get multi(){return this}toString(){return `InjectionToken ${this._desc}`}};function hu$3(e){return e&&!!e.\u0275providers}var Gh$1=R$g({\u0275cmp:R$g}),Qh$1=R$g({\u0275dir:R$g}),Zh$2=R$g({\u0275pipe:R$g}),Yh$2=R$g({\u0275mod:R$g}),Gr$6=R$g({\u0275fac:R$g}),kn$8=R$g({__NG_ELEMENT_ID__:R$g}),hl$3=R$g({__NG_ENV_ID__:R$g});function O$b(e){return typeof e=="string"?e:e==null?"":String(e)}function Jh$2(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():O$b(e)}function Kh$2(e,t){throw new C$e(-200,e)}function va$5(e,t){throw new C$e(-201,false)}var A$e=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(A$e||{}),os$3;function mu$4(){return os$3}function se$7(e){let t=os$3;return os$3=e,t}function gu$3(e,t,n){let r=So$5(e);if(r&&r.providedIn=="root")return r.value===undefined?r.value=r.factory():r.value;if(n&A$e.Optional)return null;if(t!==undefined)return t;va$5();}var Xh$2={},Pn$7=Xh$2,is$3="__NG_DI_FLAG__",Qr$5="ngTempTokenPath",em$3="ngTokenPath",tm$2=/\n/gm,nm$3="\u0275",ml$3="__source",Kt$5;function rm$3(){return Kt$5}function Ke$8(e){let t=Kt$5;return Kt$5=e,t}function om$2(e,t=A$e.Default){if(Kt$5===undefined)throw new C$e(-203,false);return Kt$5===null?gu$3(e,undefined,t):Kt$5.get(e,t&A$e.Optional?null:undefined,t)}function pe$9(e,t=A$e.Default){return (mu$4()||om$2)(z$a(e),t)}function N$8(e,t=A$e.Default){return pe$9(e,Ao$5(t))}function Ao$5(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ss$4(e){let t=[];for(let n=0;n<e.length;n++){let r=z$a(e[n]);if(Array.isArray(r)){if(r.length===0)throw new C$e(900,false);let o,i=A$e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=im$2(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a;}t.push(pe$9(o,i));}else t.push(pe$9(r));}return t}function Ia$3(e,t){return e[is$3]=t,e.prototype[is$3]=t,e}function im$2(e){return e[is$3]}function sm$2(e,t,n,r){let o=e[Qr$5];throw t[ml$3]&&o.unshift(t[ml$3]),e.message=am$1(`
`+e.message,o,n,r),e[em$3]=o,e[Qr$5]=null,e}function am$1(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==nm$3?e.slice(2):e;let o=fe$7(t);if(Array.isArray(t))o=t.map(fe$7).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):fe$7(a)));}o=`{${i.join(", ")}}`;}return `${n}${r?"("+r+")":""}[${o}]: ${e.replace(tm$2,`
  `)}`}var eR=Ia$3(ya$6("Inject",e=>({token:e})),-1),yu$3=Ia$3(ya$6("Optional"),8);var vu$3=Ia$3(ya$6("SkipSelf"),4);function It$6(e,t){let n=e.hasOwnProperty(Gr$6);return n?e[Gr$6]:null}function cm$1(e,t,n){if(e.length!==t.length)return  false;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return  false}return  true}function lm$1(e){return e.flat(Number.POSITIVE_INFINITY)}function Ea$5(e,t){e.forEach(n=>Array.isArray(n)?Ea$5(n,t):t(n));}function Iu$3(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n);}function Zr$5(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function um$2(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function dm$2(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else {for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--;}e[t]=n,e[t+1]=r;}}function Oo$5(e,t,n){let r=Wn$5(e,t);return r>=0?e[r|1]=n:(r=~r,dm$2(e,r,t,n)),r}function qi$3(e,t){let n=Wn$5(e,t);if(n>=0)return e[n|1]}function Wn$5(e,t){return fm$2(e,t,1)}function fm$2(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1;}return ~(o<<n)}var He$9={},ee$9=[],Yr$6=new k$5(""),Eu$4=new k$5("",-1),wu$4=new k$5(""),Jr$5=class Jr{get(t,n=Pn$7){if(n===Pn$7){let r=new Error(`NullInjectorError: No provider for ${fe$7(t)}!`);throw r.name="NullInjectorError",r}return n}};function Du$3(e,t){let n=e[Yh$2]||null;return n}function Be$8(e){return e[Gh$1]||null}function wa$6(e){return e[Qh$1]||null}function bu$3(e){return e[Zh$2]||null}function pm$1(e){let t=Be$8(e)||wa$6(e)||bu$3(e);return t!==null&&t.standalone}function hm$2(e){return {\u0275providers:e}}function mm$2(...e){return {\u0275providers:Mu$3(true,e),\u0275fromNgModule:true}}function Mu$3(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s);};return Ea$5(t,s=>{let a=s;as$2(a,i,[],r)&&(o||=[],o.push(a));}),o!==undefined&&xu$4(o,i),n}function xu$4(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];Da$5(o,i=>{t(i,r);});}}function as$2(e,t,n,r){if(e=z$a(e),!e)return  false;let o=null,i=fl$3(e),s=!i&&Be$8(e);if(!i&&!s){let c=e.ngModule;if(i=fl$3(c),i)o=c;else return  false}else {if(s&&!s.standalone)return  false;o=e;}let a=r.has(o);if(s){if(a)return  false;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)as$2(l,t,n,r);}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Ea$5(i.imports,u=>{as$2(u,t,n,r)&&(l||=[],l.push(u));});}finally{}l!==undefined&&xu$4(l,t);}if(!a){let l=It$6(o)||(()=>new o);t({provide:o,useFactory:l,deps:ee$9},o),t({provide:wu$4,useValue:o,multi:true},o),t({provide:Yr$6,useValue:()=>pe$9(o),multi:true},o);}let c=i.providers;if(c!=null&&!a){let l=e;Da$5(c,u=>{t(u,l);});}}else return  false;return o!==e&&e.providers!==undefined}function Da$5(e,t){for(let n of e)hu$3(n)&&(n=n.\u0275providers),Array.isArray(n)?Da$5(n,t):t(n);}var gm$2=R$g({provide:String,useValue:R$g});function Cu$3(e){return e!==null&&typeof e=="object"&&gm$2 in e}function ym$2(e){return !!(e&&e.useExisting)}function vm$2(e){return !!(e&&e.useFactory)}function en$4(e){return typeof e=="function"}function Im$2(e){return !!e.useClass}var Tu$3=new k$5(""),Br$6={},Em$3={},Wi$4;function ko$6(){return Wi$4===undefined&&(Wi$4=new Jr$5),Wi$4}var nt$b=class nt{},Fn$6=class Fn extends nt$b{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=false;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ls$3(t,s=>this.processProvider(s)),this.records.set(Eu$4,Qt$6(undefined,this)),o.has("environment")&&this.records.set(nt$b,Qt$6(undefined,this));let i=this.records.get(Tu$3);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(wu$4,ee$9,A$e.Self));}destroy(){An$7(this),this._destroyed=true;let t=_$9(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r();}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_$9(t);}}onDestroy(t){return An$7(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){An$7(this);let n=Ke$8(this),r=se$7(undefined);try{return t()}finally{Ke$8(n),se$7(r);}}get(t,n=Pn$7,r=A$e.Default){if(An$7(this),t.hasOwnProperty(hl$3))return t[hl$3](this);r=Ao$5(r);let i=Ke$8(this),s=se$7(undefined);try{if(!(r&A$e.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=xm$2(t)&&So$5(t);l&&this.injectableDefInScope(l)?c=Qt$6(cs$3(t),Br$6):c=null,this.records.set(t,c);}if(c!=null)return this.hydrate(t,c)}let a=r&A$e.Self?ko$6():this.parent;return n=r&A$e.Optional&&n===Pn$7?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qr$5]=a[Qr$5]||[]).unshift(fe$7(t)),i)throw a;return sm$2(a,t,"R3InjectorError",this.source)}else throw a}finally{se$7(s),Ke$8(i);}}resolveInjectorInitializers(){let t=_$9(null),n=Ke$8(this),r=se$7(undefined);try{let i=this.get(Yr$6,ee$9,A$e.Self);for(let s of i)s();}finally{Ke$8(n),se$7(r),_$9(t);}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(fe$7(r));return `R3Injector[${t.join(", ")}]`}processProvider(t){t=z$a(t);let n=en$4(t)?t:z$a(t&&t.provide),r=Dm$2(t);if(!en$4(t)&&t.multi===true){let o=this.records.get(n);o||(o=Qt$6(undefined,Br$6,true),o.factory=()=>ss$4(o.multi),this.records.set(n,o)),n=t,o.multi.push(t);}this.records.set(n,r);}hydrate(t,n){let r=_$9(null);try{return n.value===Br$6&&(n.value=Em$3,n.value=n.factory()),typeof n.value=="object"&&n.value&&Mm$2(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_$9(r);}}injectableDefInScope(t){if(!t.providedIn)return  false;let n=z$a(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1);}};function cs$3(e){let t=So$5(e),n=t!==null?t.factory:It$6(e);if(n!==null)return n;if(e instanceof k$5)throw new C$e(204,false);if(e instanceof Function)return wm$2(e);throw new C$e(204,false)}function wm$2(e){if(e.length>0)throw new C$e(204,false);let n=Wh$2(e);return n!==null?()=>n.factory(e):()=>new e}function Dm$2(e){if(Cu$3(e))return Qt$6(undefined,e.useValue);{let t=_u$4(e);return Qt$6(t,Br$6)}}function _u$4(e,t,n){let r;if(en$4(e)){let o=z$a(e);return It$6(o)||cs$3(o)}else if(Cu$3(e))r=()=>z$a(e.useValue);else if(vm$2(e))r=()=>e.useFactory(...ss$4(e.deps||[]));else if(ym$2(e))r=()=>pe$9(z$a(e.useExisting));else {let o=z$a(e&&(e.useClass||e.provide));if(bm$1(e))r=()=>new o(...ss$4(e.deps));else return It$6(o)||cs$3(o)}return r}function An$7(e){if(e.destroyed)throw new C$e(205,false)}function Qt$6(e,t,n=false){return {factory:e,value:t,multi:n?[]:undefined}}function bm$1(e){return !!e.deps}function Mm$2(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function xm$2(e){return typeof e=="function"||typeof e=="object"&&e instanceof k$5}function ls$3(e,t){for(let n of e)Array.isArray(n)?ls$3(n,t):n&&hu$3(n)?ls$3(n.\u0275providers,t):t(n);}function Nu$3(e,t){e instanceof Fn$6&&An$7(e);let r=Ke$8(e),o=se$7(undefined);try{return t()}finally{Ke$8(r),se$7(o);}}function Su$3(){return mu$4()!==undefined||rm$3()!=null}function Ro$5(e){if(!Su$3())throw new C$e(-203,false)}function Tm$3(e){return typeof e=="function"}var We$9=0,x$b=1,D$8=2,X$9=3,Te$a=4,ce$a=5,tn$6=6,Kr$4=7,G$7=8,nn$8=9,$e$a=10,F$b=11,Ln$7=12,gl$3=13,dn$7=14,ae$9=15,Et$4=16,Zt$5=17,Ue$7=18,Po$8=19,Au$4=20,et$8=21,$r$5=22,wt$7=23,he$7=24,j$8=25,Ou$3=1;var Dt$4=7,Xr$4=8,rn$5=9,K$8=10;function tt$8(e){return Array.isArray(e)&&typeof e[Ou$3]=="object"}function ze$6(e){return Array.isArray(e)&&e[Ou$3]===true}function ba$6(e){return (e.flags&4)!==0}function Fo$3(e){return e.componentOffset>-1}function Lo$1(e){return (e.flags&1)===1}function rt$8(e){return !!e.template}function us$3(e){return (e[D$8]&512)!==0}function zn$4(e){return (e[D$8]&256)===256}var ds$4=class ds{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r;}isFirstChange(){return this.firstChange}};function ku$3(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r;}var tR=(()=>{let e=()=>Ru$3;return e.ngInherit=true,e})();function Ru$3(e){return e.type.prototype.ngOnChanges&&(e.setInput=Nm$2),_m$2}function _m$2(){let e=Fu$3(this),t=e?.current;if(t){let n=e.previous;if(n===He$9)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t);}}function Nm$2(e,t,n,r,o){let i=this.declaredInputs[r],s=Fu$3(e)||Sm$2(e,{previous:He$9,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new ds$4(l&&l.currentValue,n,c===He$9),ku$3(e,t,o,n);}var Pu$3="__ngSimpleChanges__";function Fu$3(e){return e[Pu$3]||null}function Sm$2(e,t){return e[Pu$3]=t}var ke$7=function(e,t,n){},Lu$3="svg",Am$2="math";function Pe$7(e){for(;Array.isArray(e);)e=e[We$9];return e}function Vu$4(e,t){return Pe$7(t[e])}function Ie$7(e,t){return Pe$7(t[e.index])}function Ma$6(e,t){return e.data[t]}function fn$5(e,t){return e[t]}function ct$8(e,t){let n=t[e];return tt$8(n)?n:n[We$9]}function Om$2(e){return (e[D$8]&4)===4}function xa$6(e){return (e[D$8]&128)===128}function km$2(e){return ze$6(e[X$9])}function ot$c(e,t){return t==null?null:e[t]}function ju$3(e){e[Zt$5]=0;}function Ca$6(e){e[D$8]&1024||(e[D$8]|=1024,xa$6(e)&&Gn$4(e));}function Rm$2(e,t){for(;e>0;)t=t[dn$7],e--;return t}function Vo$5(e){return !!(e[D$8]&9216||e[he$7]?.dirty)}function fs$2(e){e[$e$a].changeDetectionScheduler?.notify(9),e[D$8]&64&&(e[D$8]|=1024),Vo$5(e)&&Gn$4(e);}function Gn$4(e){e[$e$a].changeDetectionScheduler?.notify(0);let t=bt$7(e);for(;t!==null&&!(t[D$8]&8192||(t[D$8]|=8192,!xa$6(t)));)t=bt$7(t);}function Hu$3(e,t){if(zn$4(e))throw new C$e(911,false);e[et$8]===null&&(e[et$8]=[]),e[et$8].push(t);}function Pm$2(e,t){if(e[et$8]===null)return;let n=e[et$8].indexOf(t);n!==-1&&e[et$8].splice(n,1);}function bt$7(e){let t=e[X$9];return ze$6(t)?t[X$9]:t}var T$b={lFrame:Qu$4(null),bindingsEnabled:true,skipHydrationRootTNode:null};var ps$3=false;function Fm$2(){return T$b.lFrame.elementDepthCount}function Lm$2(){T$b.lFrame.elementDepthCount++;}function Vm$2(){T$b.lFrame.elementDepthCount--;}function $u$3(){return T$b.skipHydrationRootTNode!==null}function jm$2(e){return T$b.skipHydrationRootTNode===e}function Hm$2(){T$b.skipHydrationRootTNode=null;}function v$7(){return T$b.lFrame.lView}function P$b(){return T$b.lFrame.tView}function nR(e){return T$b.lFrame.contextLView=e,e[G$7]}function rR(e){return T$b.lFrame.contextLView=null,e}function q$6(){let e=Uu$4();for(;e!==null&&e.type===64;)e=e.parent;return e}function Uu$4(){return T$b.lFrame.currentTNode}function Bm$2(){let e=T$b.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function lt$8(e,t){let n=T$b.lFrame;n.currentTNode=e,n.isParent=t;}function Ta$6(){return T$b.lFrame.isParent}function _a$4(){T$b.lFrame.isParent=false;}function qu$3(){return T$b.lFrame.contextLView}function Wu$4(){return ps$3}function eo$5(e){let t=ps$3;return ps$3=e,t}function me$7(){let e=T$b.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function pn$8(){return T$b.lFrame.bindingIndex}function $m$2(e){return T$b.lFrame.bindingIndex=e}function Ot$6(){return T$b.lFrame.bindingIndex++}function ut$5(e){let t=T$b.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Um$2(){return T$b.lFrame.inI18n}function qm$3(e,t){let n=T$b.lFrame;n.bindingIndex=n.bindingRootIndex=e,hs$3(t);}function Wm$2(){return T$b.lFrame.currentDirectiveIndex}function hs$3(e){T$b.lFrame.currentDirectiveIndex=e;}function zm$2(e){let t=T$b.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Na$5(){return T$b.lFrame.currentQueryIndex}function jo$3(e){T$b.lFrame.currentQueryIndex=e;}function Gm$2(e){let t=e[x$b];return t.type===2?t.declTNode:t.type===1?e[ce$a]:null}function zu$3(e,t,n){if(n&A$e.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&A$e.Host);)if(o=Gm$2(i),o===null||(i=i[dn$7],o.type&10))break;if(o===null)return  false;t=o,e=i;}let r=T$b.lFrame=Gu$2();return r.currentTNode=t,r.lView=e,true}function Sa$7(e){let t=Gu$2(),n=e[x$b];T$b.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=false;}function Gu$2(){let e=T$b.lFrame,t=e===null?null:e.child;return t===null?Qu$4(e):t}function Qu$4(e){let t={currentTNode:null,isParent:true,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:false};return e!==null&&(e.child=t),t}function Zu$1(){let e=T$b.lFrame;return T$b.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Yu$4=Zu$1;function Aa$6(){let e=Zu$1();e.isParent=true,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0;}function Qm$2(e){return (T$b.lFrame.contextLView=Rm$2(e,T$b.lFrame.contextLView))[G$7]}function re$8(){return T$b.lFrame.selectedIndex}function Mt$4(e){T$b.lFrame.selectedIndex=e;}function hn$5(){let e=T$b.lFrame;return Ma$6(e.tView,e.selectedIndex)}function oR(){T$b.lFrame.currentNamespace=Lu$3;}function iR(){Zm$2();}function Zm$2(){T$b.lFrame.currentNamespace=null;}function Ym$2(){return T$b.lFrame.currentNamespace}var Ju$3=true;function Ho$4(){return Ju$3}function Bo$3(e){Ju$3=e;}function Jm$2(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Ru$3(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s);}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i));}function $o$4(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u);}}function Ur$4(e,t,n){Ku$3(e,t,3,n);}function qr$5(e,t,n,r){(e[D$8]&3)===n&&Ku$3(e,t,n,r);}function zi$3(e,t){let n=e[D$8];(n&3)===t&&(n&=16383,n+=1,e[D$8]=n);}function Ku$3(e,t,n,r){let o=r!==undefined?e[Zt$5]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Zt$5]+=65536),(a<i||i==-1)&&(Km$2(e,n,t,c),e[Zt$5]=(e[Zt$5]&4294901760)+c+2),c++;}function vl$3(e,t){let n=_$9(null);try{t.call(e);}finally{_$9(n);}}function Km$2(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[D$8]>>14<e[Zt$5]>>16&&(e[D$8]&3)===t&&(e[D$8]+=16384,vl$3(a,i)):vl$3(a,i);}var Xt$6=-1,xt$7=class xt{factory;injectImpl;resolving=false;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r;}};function Xm$2(e){return e instanceof xt$7}function eg$2(e){return (e.flags&8)!==0}function tg$2(e){return (e.flags&16)!==0}function ms$3(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i);}else {let i=o,s=n[++r];ng$2(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++;}}return r}function Xu$4(e){return e===3||e===4||e===6}function ng$2(e){return e.charCodeAt(0)===64}function Vn$4(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else {let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Il$3(e,n,o,null,t[++r]):Il$3(e,n,o,null,null));}}return e}function Il$3(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){{o!==null&&(e[i+1]=o);return}}i++,o!==null&&i++;}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o);}var Gi$4={},gs$2=class gs{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n;}get(t,n,r){r=Ao$5(r);let o=this.injector.get(t,Gi$4,r);return o!==Gi$4||n===Gi$4?o:this.parentInjector.get(t,n,r)}};function ed$3(e){return e!==Xt$6}function to$6(e){return e&32767}function rg$2(e){return e>>16}function no$5(e,t){let n=rg$2(e),r=t;for(;n>0;)r=r[dn$7],n--;return r}var ys$2=true;function ro$6(e){let t=ys$2;return ys$2=e,t}var og$2=256,td$3=og$2-1,nd$3=5,ig$2=0,Re$5={};function sg$2(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(kn$8)&&(r=n[kn$8]),r==null&&(r=n[kn$8]=ig$2++);let o=r&td$3,i=1<<o;t.data[e+(o>>nd$3)]|=i;}function oo$5(e,t){let n=rd$3(e,t);if(n!==-1)return n;let r=t[x$b];r.firstCreatePass&&(e.injectorIndex=t.length,Qi$5(r.data,e),Qi$5(t,null),Qi$5(r.blueprint,null));let o=Oa$6(e,t),i=e.injectorIndex;if(ed$3(o)){let s=to$6(o),a=no$5(o,t),c=a[x$b].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l];}return t[i+8]=o,i}function Qi$5(e,t){e.push(0,0,0,0,0,0,0,0,t);}function rd$3(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Oa$6(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=cd$3(o),r===null)return Xt$6;if(n++,o=o[dn$7],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xt$6}function vs$2(e,t,n){sg$2(e,t,n);}function ag$1(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(Xu$4(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else {if(i===t)return n[o+1];o=o+2;}}}return null}function od$3(e,t,n){if(n&A$e.Optional||e!==undefined)return e;va$5();}function id$3(e,t,n,r){if(n&A$e.Optional&&r===undefined&&(r=null),!(n&(A$e.Self|A$e.Host))){let o=e[nn$8],i=se$7(undefined);try{return o?o.get(t,r,n&A$e.Optional):gu$3(t,r,n&A$e.Optional)}finally{se$7(i);}}return od$3(r,t,n)}function sd$3(e,t,n,r=A$e.Default,o){if(e!==null){if(t[D$8]&2048&&!(r&A$e.Self)){let s=dg$2(e,t,n,r,Re$5);if(s!==Re$5)return s}let i=ad$3(e,t,n,r,Re$5);if(i!==Re$5)return i}return id$3(t,n,r,o)}function ad$3(e,t,n,r,o){let i=lg$2(n);if(typeof i=="function"){if(!zu$3(t,e,r))return r&A$e.Host?od$3(o,n,r):id$3(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&A$e.Optional))va$5(n);else return s}finally{Yu$4();}}else if(typeof i=="number"){let s=null,a=rd$3(e,t),c=Xt$6,l=r&A$e.Host?t[ae$9][ce$a]:null;for((a===-1||r&A$e.SkipSelf)&&(c=a===-1?Oa$6(e,t):t[a+8],c===Xt$6||!wl$3(r,false)?a=-1:(s=t[x$b],a=to$6(c),t=no$5(c,t)));a!==-1;){let u=t[x$b];if(El$2(i,a,u.data)){let d=cg$2(a,t,n,s,r,l);if(d!==Re$5)return d}c=t[a+8],c!==Xt$6&&wl$3(r,t[x$b].data[a+8]===l)&&El$2(i,a,t)?(s=u,a=to$6(c),t=no$5(c,t)):a=-1;}}return o}function cg$2(e,t,n,r,o,i){let s=t[x$b],a=s.data[e+8],c=r==null?Fo$3(a)&&ys$2:r!=s&&(a.type&3)!==0,l=o&A$e.Host&&i===a,u=Wr$5(a,s,n,c,l);return u!==null?Ct$6(t,s,u,a):Re$5}function Wr$5(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let h=s[f];if(f<c&&n===h||f>=c&&h.type===n)return f}if(o){let f=s[c];if(f&&rt$8(f)&&f.type===n)return c}return null}function Ct$6(e,t,n,r){let o=e[n],i=t.data;if(Xm$2(o)){let s=o;s.resolving&&Kh$2(Jh$2(i[n]));let a=ro$6(s.canSeeViewProviders);s.resolving=true;let l=s.injectImpl?se$7(s.injectImpl):null;zu$3(e,r,A$e.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&Jm$2(n,i[n],t);}finally{l!==null&&se$7(l),ro$6(a),s.resolving=false,Yu$4();}}return o}function lg$2(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(kn$8)?e[kn$8]:undefined;return typeof t=="number"?t>=0?t&td$3:ug$2:t}function El$2(e,t,n){let r=1<<e;return !!(n[t+(e>>nd$3)]&r)}function wl$3(e,t){return !(e&A$e.Self)&&!(e&A$e.Host&&t)}var vt$6=class vt{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n;}get(t,n,r){return sd$3(this._tNode,this._lView,t,Ao$5(r),n)}};function ug$2(){return new vt$6(q$6(),v$7())}function sR(e){return qn$2(()=>{let t=e.prototype.constructor,n=t[Gr$6]||Is$3(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Gr$6]||Is$3(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o);}return i=>new i})}function Is$3(e){return du$4(e)?()=>{let t=Is$3(z$a(e));return t&&t()}:It$6(e)}function dg$2(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[D$8]&2048&&!(s[D$8]&512);){let a=ad$3(i,s,n,r|A$e.Self,Re$5);if(a!==Re$5)return a;let c=i.parent;if(!c){let l=s[Au$4];if(l){let u=l.get(n,Re$5,r);if(u!==Re$5)return u}c=cd$3(s),s=s[dn$7];}i=c;}return o}function cd$3(e){let t=e[x$b],n=t.type;return n===2?t.declTNode:n===1?e[ce$a]:null}function fg$1(e){return ag$1(q$6(),e)}function Dl$2(e,t=null,n=null,r){let o=ld$3(e,t,n,r);return o.resolveInjectorInitializers(),o}function ld$3(e,t=null,n=null,r,o=new Set){let i=[n||ee$9,mm$2(e)];return r=r||(typeof e=="object"?undefined:fe$7(e)),new Fn$6(i,t||ko$6(),r||null,o)}var _e$8=class e{static THROW_IF_NOT_FOUND=Pn$7;static NULL=new Jr$5;static create(t,n){if(Array.isArray(t))return Dl$2({name:""},n,t,"");{let r=t.name??"";return Dl$2({name:r},t.parent,t.providers,r)}}static \u0275prov=H$9({token:e,providedIn:"any",factory:()=>pe$9(Eu$4)});static __NG_ELEMENT_ID__=-1};var bl$3=class bl{attributeName;constructor(t){this.attributeName=t;}__NG_ELEMENT_ID__=()=>fg$1(this.attributeName);toString(){return `HostAttributeToken ${this.attributeName}`}},pg$2=new k$5("");pg$2.__NG_ELEMENT_ID__=e=>{let t=q$6();if(t===null)throw new C$e(204,false);if(t.type&2)return t.value;if(e&A$e.Optional)return null;throw new C$e(204,false)};var ud$2=false,mn$6=(()=>{class e{static __NG_ELEMENT_ID__=hg$3;static __NG_ENV_ID__=n=>n}return e})(),io$5=class io extends mn$6{_lView;constructor(t){super(),this._lView=t;}onDestroy(t){return Hu$3(this._lView,t),()=>Pm$2(this._lView,t)}};function hg$3(){return new io$5(v$7())}var Tt$6=class Tt{},dd$3=new k$5("",{providedIn:"root",factory:()=>false});var fd$3=new k$5(""),pd$2=new k$5(""),Qn$5=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new yn$7(false);add(){this._hasPendingTasks||this.hasPendingTasks.next(true);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(false);}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(false);}static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>new e})}return e})();var Es$4=class Es extends Z$a{__isAsync;destroyRef=undefined;pendingTasks=undefined;constructor(t=false){super(),this.__isAsync=t,Su$3()&&(this.destroyRef=N$8(mn$6,{optional:true})??undefined,this.pendingTasks=N$8(Qn$5,{optional:true})??undefined);}emit(t){let n=_$9(null);try{super.next(t);}finally{_$9(n);}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c);}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof V$7&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==undefined&&this.pendingTasks?.remove(r);});}}},Xe$5=Es$4;function jn$6(...e){}function hd$3(e){let t,n;function r(){e=jn$6;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t);}catch{}}return t=setTimeout(()=>{e(),r();}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r();})),()=>r()}function Ml$3(e){return queueMicrotask(()=>e()),()=>{e=jn$6;}}var ka$4="isAngularZone",so$7=ka$4+"_ID",mg$2=0,te$6=class e{hasPendingMacrotasks=false;hasPendingMicrotasks=false;isStable=true;onUnstable=new Xe$5(false);onMicrotaskEmpty=new Xe$5(false);onStable=new Xe$5(false);onError=new Xe$5(false);constructor(t){let{enableLongStackTrace:n=false,shouldCoalesceEventChangeDetection:r=false,shouldCoalesceRunChangeDetection:o=false,scheduleInRootZone:i=ud$2}=t;if(typeof Zone>"u")throw new C$e(908,false);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=false,s.scheduleInRootZone=i,vg$2(s);}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ka$4)===true}static assertInAngularZone(){if(!e.isInAngularZone())throw new C$e(909,false)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C$e(909,false)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,gg$2,jn$6,jn$6);try{return i.runTask(s,n,r)}finally{i.cancelTask(s);}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},gg$2={};function Ra$6(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null);}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null));}finally{e.isStable=true;}}}function yg$2(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=true;function t(){hd$3(()=>{e.callbackScheduled=false,ws$3(e),e.isCheckStableRunning=true,Ra$6(e),e.isCheckStableRunning=false;});}e.scheduleInRootZone?Zone.root.run(()=>{t();}):e._outer.run(()=>{t();}),ws$3(e);}function vg$2(e){let t=()=>{yg$2(e);},n=mg$2++;e._inner=e._inner.fork({name:"angular",properties:{[ka$4]:true,[so$7]:n,[so$7+n]:true},onInvokeTask:(r,o,i,s,a,c)=>{if(Ig$1(c))return r.invokeTask(i,s,a,c);try{return xl$3(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Cl$3(e);}},onInvoke:(r,o,i,s,a,c,l)=>{try{return xl$3(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Eg$1(c)&&t(),Cl$3(e);}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ws$3(e),Ra$6(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask));},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),false)});}function ws$3(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===true?e.hasPendingMicrotasks=true:e.hasPendingMicrotasks=false;}function xl$3(e){e._nesting++,e.isStable&&(e.isStable=false,e.onUnstable.emit(null));}function Cl$3(e){e._nesting--,Ra$6(e);}var ao$5=class ao{hasPendingMicrotasks=false;hasPendingMacrotasks=false;isStable=true;onUnstable=new Xe$5;onMicrotaskEmpty=new Xe$5;onStable=new Xe$5;onError=new Xe$5;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function Ig$1(e){return md$4(e,"__ignore_ng_zone__")}function Eg$1(e){return md$4(e,"__scheduler_tick__")}function md$4(e,t){return !Array.isArray(e)||e.length!==1?false:e[0]?.data?.[t]===true}function wg$2(e="zone.js",t){return e==="noop"?new ao$5:e==="zone.js"?new te$6(t):e}var it$a=class it{_console=console;handleError(t){this._console.error("ERROR",t);}},Dg$1=new k$5("",{providedIn:"root",factory:()=>{let e=N$8(te$6),t=N$8(it$a);return n=>e.runOutsideAngular(()=>t.handleError(n))}}),co$6=class co{destroyed=false;listeners=null;errorHandler=N$8(it$a,{optional:true});destroyRef=N$8(mn$6);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=true,this.listeners=null;});}subscribe(t){if(this.destroyed)throw new C$e(953,false);return (this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==undefined&&n!==-1&&this.listeners?.splice(n,1);}}}emit(t){if(this.destroyed)throw new C$e(953,false);if(this.listeners===null)return;let n=_$9(null);try{for(let r of this.listeners)try{r(t);}catch(o){this.errorHandler?.handleError(o);}}finally{_$9(n);}}};function aR(e){return new co$6}function Tl$3(e,t){return lu$3(e,t)}function bg$1(e){return lu$3(No$5,e)}var cR=(Tl$3.required=bg$1,Tl$3);function Mg$1(){return gn$4(q$6(),v$7())}function gn$4(e,t){return new Uo$5(Ie$7(e,t))}var Uo$5=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n;}static __NG_ELEMENT_ID__=Mg$1}return e})();function gd$3(e){return e instanceof Uo$5?e.nativeElement:e}function xg$1(){return this._results[Symbol.iterator]()}var Ds$3=class Ds{_emitDistinctChangesOnly;dirty=true;_onDirty=undefined;_results=[];_changesDetected=false;_changes=undefined;length=0;first=undefined;last=undefined;get changes(){return this._changes??=new Z$a}constructor(t=false){this._emitDistinctChangesOnly=t;}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t);}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=false;let r=lm$1(t);(this._changesDetected=!cm$1(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0]);}notifyOnChanges(){this._changes!==undefined&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this);}onDirty(t){this._onDirty=t;}setDirty(){this.dirty=true,this._onDirty?.();}destroy(){this._changes!==undefined&&(this._changes.complete(),this._changes.unsubscribe());}[Symbol.iterator]=xg$1};function yd$2(e){return (e.flags&128)===128}var vd$3=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(vd$3||{}),Id$1=new Map,Cg$2=0;function Tg$1(){return Cg$2++}function _g$2(e){Id$1.set(e[Po$8],e);}function bs$4(e){Id$1.delete(e[Po$8]);}var _l$3="__ngContext__";function st$8(e,t){tt$8(t)?(e[_l$3]=t[Po$8],_g$2(t)):e[_l$3]=t;}function Ed$2(e){return Dd$2(e[Ln$7])}function wd$2(e){return Dd$2(e[Te$a])}function Dd$2(e){for(;e!==null&&!ze$6(e);)e=e[Te$a];return e}var Ms$3;function lR(e){Ms$3=e;}function bd$2(){if(Ms$3!==undefined)return Ms$3;if(typeof document<"u")return document;throw new C$e(210,false)}var uR=new k$5("",{providedIn:"root",factory:()=>Ng$1}),Ng$1="ng",Sg$1=new k$5(""),dR=new k$5("",{providedIn:"platform",factory:()=>"unknown"});var fR=new k$5(""),pR=new k$5("",{providedIn:"root",factory:()=>bd$2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ag={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:false,disableImageLazyLoadWarning:false},hR=new k$5("",{providedIn:"root",factory:()=>Ag});var Md$2=false,Rg$1=new k$5("",{providedIn:"root",factory:()=>Md$2});var Pa$4=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Pa$4||{}),qo$5=new k$5(""),Nl$2=new Set;function Le$7(e){Nl$2.has(e)||(Nl$2.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}));}var Yt$4=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yt$4||{}),xd$3=(()=>{class e{impl=null;execute(){this.impl?.execute();}static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>new e})}return e})(),Pg$1=[Yt$4.EarlyRead,Yt$4.Write,Yt$4.MixedReadWrite,Yt$4.Read],Fg$1=(()=>{class e{ngZone=N$8(te$6);scheduler=N$8(Tt$6);errorHandler=N$8(it$a,{optional:true});sequences=new Set;deferredRegistrations=new Set;executing=false;constructor(){N$8(qo$5,{optional:true});}execute(){this.executing=true;for(let n of Pg$1)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[n](r.pipelinedValue),r.snapshot));}catch(o){r.erroredOrDestroyed=true,this.errorHandler?.handleError(o);}this.executing=false;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear();}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7));}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=true,n.pipelinedValue=undefined,n.once=true):(this.sequences.delete(n),this.deferredRegistrations.delete(n));}maybeTrace(n,r){return r?r.run(Pa$4.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>new e})}return e})(),xs$3=class xs{impl;hooks;once;snapshot;erroredOrDestroyed=false;pipelinedValue=undefined;unregisterOnDestroy;constructor(t,n,r,o,i=null){this.impl=t,this.hooks=n,this.once=r,this.snapshot=i,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy());}afterRun(){this.erroredOrDestroyed=false,this.pipelinedValue=undefined,this.snapshot?.dispose(),this.snapshot=null;}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();}};function Lg$1(e,t){!t?.injector&&Ro$5();let n=t?.injector??N$8(_e$8);return Le$7("NgAfterRender"),Cd$2(e,n,t,false)}function Vg(e,t){!t?.injector&&Ro$5();let n=t?.injector??N$8(_e$8);return Le$7("NgAfterNextRender"),Cd$2(e,n,t,true)}function jg$2(e,t){if(e instanceof Function){let n=[undefined,undefined,undefined,undefined];return n[t]=e,n}else return [e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Cd$2(e,t,n,r){let o=t.get(xd$3);o.impl??=t.get(Fg$1);let i=t.get(qo$5,null,{optional:true}),s=n?.phase??Yt$4.MixedReadWrite,a=n?.manualCleanup!==true?t.get(mn$6):null,c=new xs$3(o.impl,jg$2(e,s),r,a,i?.snapshot(null));return o.impl.register(c),c}var Hg$2=()=>null;function Fa$6(e,t,n=false){return Hg$2()}var Hn$4=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Hn$4||{}),Pr$6;function Td$2(){if(Pr$6===undefined&&(Pr$6=null,je$7.trustedTypes))try{Pr$6=je$7.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e});}catch{}return Pr$6}function Wo$5(e){return Td$2()?.createHTML(e)||e}function Bg$1(e){return Td$2()?.createScriptURL(e)||e}var Fr$5;function _d$2(){if(Fr$5===undefined&&(Fr$5=null,je$7.trustedTypes))try{Fr$5=je$7.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e});}catch{}return Fr$5}function Sl$3(e){return _d$2()?.createHTML(e)||e}function Al$1(e){return _d$2()?.createScriptURL(e)||e}var qe$8=class qe{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t;}toString(){return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${au$3})`}},Cs$6=class Cs extends qe$8{getTypeName(){return "HTML"}},Ts$3=class Ts extends qe$8{getTypeName(){return "Style"}},_s$3=class _s extends qe$8{getTypeName(){return "Script"}},Ns$4=class Ns extends qe$8{getTypeName(){return "URL"}},Ss$3=class Ss extends qe$8{getTypeName(){return "ResourceURL"}};function Zn$4(e){return e instanceof qe$8?e.changingThisBreaksApplicationSecurity:e}function La$6(e,t){let n=$g$1(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return  true;throw new Error(`Required a safe ${t}, got a ${n} (see ${au$3})`)}return n===t}function $g$1(e){return e instanceof qe$8&&e.getTypeName()||null}function mR(e){return new Cs$6(e)}function gR(e){return new Ts$3(e)}function yR(e){return new _s$3(e)}function vR(e){return new Ns$4(e)}function IR(e){return new Ss$3(e)}function Ug$2(e){let t=new Os$2(e);return qg$1()?new As$4(t):t}var As$4=class As{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t;}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Wo$5(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Os$2=class Os{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Wo$5(t),n}};function qg$1(){try{return !!new window.DOMParser().parseFromString(Wo$5(""),"text/html")}catch{return  false}}var Wg$2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nd$3(e){return e=String(e),e.match(Wg$2)?e:"unsafe:"+e}function Ge$a(e){let t={};for(let n of e.split(","))t[n]=true;return t}function Yn$5(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=true);return t}var Sd$2=Ge$a("area,br,col,hr,img,wbr"),Ad$2=Ge$a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Od$1=Ge$a("rp,rt"),zg$2=Yn$5(Od$1,Ad$2),Gg$2=Yn$5(Ad$2,Ge$a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qg$2=Yn$5(Od$1,Ge$a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ol$3=Yn$5(Sd$2,Gg$2,Qg$2,zg$2),kd$3=Ge$a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zg$2=Ge$a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yg$2=Ge$a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Jg$2=Yn$5(kd$3,Zg$2,Yg$2),Kg$2=Ge$a("script,style,template"),ks$4=class ks{sanitizedSomething=false;buf=[];sanitizeChildren(t){let n=t.firstChild,r=true,o=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=true,r&&n.firstChild){o.push(n),n=ty$2(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=ey$2(n);if(i){n=i;break}n=o.pop();}}return this.buf.join("")}startElement(t){let n=kl$2(t).toLowerCase();if(!Ol$3.hasOwnProperty(n))return this.sanitizedSomething=true,!Kg$2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!Jg$2.hasOwnProperty(a)){this.sanitizedSomething=true;continue}let c=i.value;kd$3[a]&&(c=Nd$3(c)),this.buf.push(" ",s,'="',Rl$2(c),'"');}return this.buf.push(">"),true}endElement(t){let n=kl$2(t).toLowerCase();Ol$3.hasOwnProperty(n)&&!Sd$2.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"));}chars(t){this.buf.push(Rl$2(t));}};function Xg$2(e,t){return (e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ey$2(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Rd$2(t);return t}function ty$2(e){let t=e.firstChild;if(t&&Xg$2(e,t))throw Rd$2(t);return t}function kl$2(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Rd$2(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var ny$2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ry$2=/([^\#-~ |!])/g;function Rl$2(e){return e.replace(/&/g,"&amp;").replace(ny$2,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return "&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(ry$2,function(t){return "&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lr$5;function oy$2(e,t){let n=null;try{Lr$5=Lr$5||Ug$2(e);let r=t?String(t):"";n=Lr$5.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Lr$5.getInertBodyElement(r);}while(r!==i);let a=new ks$4().sanitizeChildren(Pl$3(n)||n);return Wo$5(a)}finally{if(n){let r=Pl$3(n)||n;for(;r.firstChild;)r.firstChild.remove();}}}function Pl$3(e){return "content"in e&&iy$2(e)?e.content:null}function iy$2(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var zo$4=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zo$4||{});function ER(e){let t=Va$5();return t?Sl$3(t.sanitize(zo$4.HTML,e)||""):La$6(e,"HTML")?Sl$3(Zn$4(e)):oy$2(bd$2(),O$b(e))}function sy$2(e){let t=Va$5();return t?t.sanitize(zo$4.URL,e)||"":La$6(e,"URL")?Zn$4(e):Nd$3(O$b(e))}function ay$2(e){let t=Va$5();if(t)return Al$1(t.sanitize(zo$4.RESOURCE_URL,e)||"");if(La$6(e,"ResourceURL"))return Al$1(Zn$4(e));throw new C$e(904,false)}function wR(e){return Bg$1(e[0])}function cy$2(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?ay$2:sy$2}function DR(e,t,n){return cy$2(t,n)(e)}function Va$5(){let e=v$7();return e&&e[$e$a].sanitizer}var ly$2=/^>|^->|<!--|-->|--!>|<!-$/g,uy$2=/(<|>)/g,dy$2="\u200B$1\u200B";function fy$1(e){return e.replace(ly$2,t=>t.replace(uy$2,dy$2))}function bR(e){return e.ownerDocument.defaultView}function MR(e){return e.ownerDocument}function Pd$2(e){return e instanceof Function?e():e}var at$7=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(at$7||{}),Rs$3=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Rs$3||{}),py$2;function ja$4(e,t){return py$2(e,t)}function Jt$8(e,t,n,r,o){if(r!=null){let i,s=false;ze$6(r)?i=r:tt$8(r)&&(s=true,r=r[We$9]);let a=Pe$7(r);e===0&&n!==null?o==null?Hd$2(t,n,a):lo$6(t,n,a,o||null,true):e===1&&n!==null?lo$6(t,n,a,o||null,true):e===2?Ty$2(t,a,s):e===3&&t.destroyNode(a),i!=null&&Ny$1(t,e,i,n,o);}}function hy$2(e,t){return e.createText(t)}function my$2(e,t,n){e.setValue(t,n);}function gy$2(e,t){return e.createComment(fy$1(t))}function Fd$2(e,t,n){return e.createElement(t,n)}function yy$2(e,t){Ld$2(e,t),t[We$9]=null,t[ce$a]=null;}function vy$2(e,t,n,r,o,i){r[We$9]=o,r[ce$a]=t,Zo$4(e,r,n,1,o,i);}function Ld$2(e,t){t[$e$a].changeDetectionScheduler?.notify(10),Zo$4(e,t,t[F$b],2,null,null);}function Iy$2(e){let t=e[Ln$7];if(!t)return Zi$5(e[x$b],e);for(;t;){let n=null;if(tt$8(t))n=t[Ln$7];else {let r=t[K$8];r&&(n=r);}if(!n){for(;t&&!t[Te$a]&&t!==e;)tt$8(t)&&Zi$5(t[x$b],t),t=t[X$9];t===null&&(t=e),tt$8(t)&&Zi$5(t[x$b],t),n=t&&t[Te$a];}t=n;}}function Ey$2(e,t,n,r){let o=K$8+r,i=n.length;r>0&&(n[o-1][Te$a]=t),r<i-K$8?(t[Te$a]=n[o],Iu$3(n,K$8+r,t)):(n.push(t),t[Te$a]=null),t[X$9]=n;let s=t[Et$4];s!==null&&n!==s&&Vd$3(s,t);let a=t[Ue$7];a!==null&&a.insertView(e),fs$2(t),t[D$8]|=128;}function Vd$3(e,t){let n=e[rn$5],r=t[X$9];if(tt$8(r))e[D$8]|=2;else {let o=r[X$9][ae$9];t[ae$9]!==o&&(e[D$8]|=2);}n===null?e[rn$5]=[t]:n.push(t);}function Ha$4(e,t){let n=e[rn$5],r=n.indexOf(t);n.splice(r,1);}function Bn$7(e,t){if(e.length<=K$8)return;let n=K$8+t,r=e[n];if(r){let o=r[Et$4];o!==null&&o!==e&&Ha$4(o,r),t>0&&(e[n-1][Te$a]=r[Te$a]);let i=Zr$5(e,K$8+t);yy$2(r[x$b],r);let s=i[Ue$7];s!==null&&s.detachView(i[x$b]),r[X$9]=null,r[Te$a]=null,r[D$8]&=-129;}return r}function Go$5(e,t){if(zn$4(t))return;let n=t[F$b];n.destroyNode&&Zo$4(e,t,n,3,null,null),Iy$2(t);}function Zi$5(e,t){if(zn$4(t))return;let n=_$9(null);try{t[D$8]&=-129,t[D$8]|=256,t[he$7]&&Gt$5(t[he$7]),Dy$2(e,t),wy$2(e,t),t[x$b].type===1&&t[F$b].destroy();let r=t[Et$4];if(r!==null&&ze$6(t[X$9])){r!==t[X$9]&&Ha$4(r,t);let o=t[Ue$7];o!==null&&o.detachView(e);}bs$4(t);}finally{_$9(n);}}function wy$2(e,t){let n=e.cleanup,r=t[Kr$4];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2;}else {let a=r[n[s+1]];n[s].call(a);}r!==null&&(t[Kr$4]=null);let o=t[et$8];if(o!==null){t[et$8]=null;for(let s=0;s<o.length;s++){let a=o[s];a();}}let i=t[wt$7];if(i!==null){t[wt$7]=null;for(let s of i)s.destroy();}}function Dy$2(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof xt$7)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];try{c.call(a);}finally{}}else {try{i.call(o);}finally{}}}}}function jd$3(e,t,n){return by$2(e,t.parent,n)}function by$2(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[We$9];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=e.data[r.directiveStart+o];if(i===Hn$4.None||i===Hn$4.Emulated)return null}return Ie$7(r,n)}}function lo$6(e,t,n,r,o){e.insertBefore(t,n,r,o);}function Hd$2(e,t,n){e.appendChild(t,n);}function Fl$2(e,t,n,r,o){r!==null?lo$6(e,t,n,r,o):Hd$2(e,t,n);}function Bd$2(e,t){return e.parentNode(t)}function My$2(e,t){return e.nextSibling(t)}function $d$3(e,t,n){return Cy$2(e,t,n)}function xy$2(e,t,n){return e.type&40?Ie$7(e,n):null}var Cy$2=xy$2;function Qo$3(e,t,n,r){let o=jd$3(e,r,t),i=t[F$b],s=r.parent||t[ce$a],a=$d$3(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Fl$2(i,o,n[c],a,false);else Fl$2(i,o,n,a,false);}function On$6(e,t){if(t!==null){let n=t.type;if(n&3)return Ie$7(t,e);if(n&4)return Ps$3(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return On$6(e,r);{let o=e[t.index];return ze$6(o)?Ps$3(-1,o):Pe$7(o)}}else {if(n&128)return On$6(e,t.next);if(n&32)return ja$4(t,e)()||Pe$7(e[t.index]);{let r=Ud$2(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=bt$7(e[ae$9]);return On$6(o,r)}else return On$6(e,t.next)}}}return null}function Ud$2(e,t){if(t!==null){let r=e[ae$9][ce$a],o=t.projection;return r.projection[o]}return null}function Ps$3(e,t){let n=K$8+e+1;if(n<t.length){let r=t[n],o=r[x$b].firstChild;if(o!==null)return On$6(r,o)}return t[Dt$4]}function Ty$2(e,t,n){e.removeChild(null,t,n);}function Ba$6(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&st$8(Pe$7(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Ba$6(e,t,n.child,r,o,i,false),Jt$8(t,e,o,a,i);else if(c&32){let l=ja$4(n,r),u;for(;u=l();)Jt$8(t,e,o,u,i);Jt$8(t,e,o,a,i);}else c&16?qd$2(e,t,r,n,o,i):Jt$8(t,e,o,a,i);n=s?n.projectionNext:n.next;}}function Zo$4(e,t,n,r,o,i){Ba$6(n,r,e.firstChild,t,o,i,false);}function _y$1(e,t,n){let r=t[F$b],o=jd$3(e,n,t),i=n.parent||t[ce$a],s=$d$3(i,n,t);qd$2(r,0,t,n,o,s);}function qd$2(e,t,n,r,o,i){let s=n[ae$9],c=s[ce$a].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Jt$8(t,e,o,u,i);}else {let l=c,u=s[X$9];yd$2(r)&&(l.flags|=128),Ba$6(e,t,l,u,o,i,true);}}function Ny$1(e,t,n,r,o){let i=n[Dt$4],s=Pe$7(n);i!==s&&Jt$8(t,e,r,i,o);for(let a=K$8;a<n.length;a++){let c=n[a];Zo$4(c[x$b],c,e,t,r,i);}}function Sy$2(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else {let i=r.indexOf("-")===-1?undefined:Rs$3.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Rs$3.Important),e.setStyle(n,r,o,i));}}function Ay$2(e,t,n){e.setAttribute(t,"style",n);}function Wd$2(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n);}function zd$2(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&ms$3(e,t,r),o!==null&&Wd$2(e,t,o),i!==null&&Ay$2(e,t,i);}function Oy$2(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1;}}var Gd$2="ng-template";function ky$2(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&Oy$2(t[o+1].toLowerCase(),n,0)!==-1)return  true}else if($a$5(e))return  false;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return  true}return  false}function $a$5(e){return e.type===4&&e.value!==Gd$2}function Ry$2(e,t,n){let r=e.type===4&&!n?Gd$2:e.value;return t===r}function Py$2(e,t,n){let r=4,o=e.attrs,i=o!==null?Vy$2(o):0,s=false;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!xe$8(r)&&!xe$8(c))return  false;if(s&&xe$8(c))continue;s=false,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Ry$2(e,c,n)||c===""&&t.length===1){if(xe$8(r))return  false;s=true;}}else if(r&8){if(o===null||!ky$2(e,o,c,n)){if(xe$8(r))return  false;s=true;}}else {let l=t[++a],u=Fy$2(c,o,$a$5(e),n);if(u===-1){if(xe$8(r))return  false;s=true;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(xe$8(r))return  false;s=true;}}}}return xe$8(r)||s}function xe$8(e){return (e&1)===0}function Fy$2(e,t,n,r){if(t===null)return  -1;let o=0;if(r||!n){let i=false;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=true;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else {if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2;}return  -1}else return jy$2(t,e)}function Qd$2(e,t,n=false){for(let r=0;r<t.length;r++)if(Py$2(e,t[r],n))return  true;return  false}function Ly$2(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function Vy$2(e){for(let t=0;t<e.length;t++){let n=e[t];if(Xu$4(n))return t}return e.length}function jy$2(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return  -1;if(r===t)return n;n++;}return  -1}function Hy$2(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return  true}}return  false}function Vl$2(e,t){return e?":not("+t.trim()+")":t}function By$2(e){let t=e[0],n=1,r=2,o="",i=false;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]";}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!xe$8(s)&&(t+=Vl$2(i,o),o=""),r=s,i=i||!xe$8(r);n++;}return o!==""&&(t+=Vl$2(i,o)),t}function $y$2(e){return e.map(By$2).join(",")}function Uy$1(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else {if(!xe$8(o))break;o=i;}r++;}return {attrs:t,classes:n}}var L$9={};function xR(e=1){Zd$2(P$b(),v$7(),re$8()+e);}function Zd$2(e,t,n,r){if((t[D$8]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ur$4(t,i,n);}else {let i=e.preOrderHooks;i!==null&&qr$5(t,i,0,n);}Mt$4(n);}function Yo$4(e,t=A$e.Default){let n=v$7();if(n===null)return pe$9(e,t);let r=q$6();return sd$3(r,n,z$a(e),t)}function CR(){let e="invalid";throw new Error(e)}function Yd$2(e,t,n,r,o,i){let s=_$9(null);try{let a=null;o&at$7.SignalBased&&(a=t[r][W$9]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&at$7.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),e.setInput!==null?e.setInput(t,a,i,n,r):ku$3(t,a,r,i);}finally{_$9(s);}}function qy$2(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Mt$4(~o);else {let i=o,s=n[++r],a=n[++r];qm$3(s,i);let c=t[i];a(2,c);}}}finally{Mt$4(-1);}}function Jo$3(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[We$9]=o,d[D$8]=r|4|128|8|64|1024,(l!==null||e&&e[D$8]&2048)&&(d[D$8]|=2048),ju$3(d),d[X$9]=d[dn$7]=e,d[G$7]=n,d[$e$a]=s||e&&e[$e$a],d[F$b]=a||e&&e[F$b],d[nn$8]=c||e&&e[nn$8]||null,d[ce$a]=i,d[Po$8]=Tg$1(),d[tn$6]=u,d[Au$4]=l,d[ae$9]=t.type==2?e[ae$9]:d,d}function kt$3(e,t,n,r,o){let i=e.data[t];if(i===null)i=Wy$2(e,t,n,r,o),Um$2()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Bm$2();i.injectorIndex=s===null?-1:s.injectorIndex;}return lt$8(i,true),i}function Wy$2(e,t,n,r,o){let i=Uu$4(),s=Ta$6(),a=s?i:i&&i.parent,c=e.data[t]=Jy$1(e,a,n,t,r,o);return e.firstChild===null&&(e.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Jd$3(e,t,n,r){if(n===0)return  -1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Kd$2(e,t,n,r,o){let i=re$8(),s=r&2;try{Mt$4(-1),s&&t.length>j$8&&Zd$2(e,t,j$8,!1),ke$7(s?2:0,o),n(r,o);}finally{Mt$4(i);}}function Ua$4(e,t,n){if(ba$6(t)){let r=_$9(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s);}}}finally{_$9(r);}}}function qa$4(e,t,n){(rv$2(e,t,n,Ie$7(n,t)),(n.flags&64)===64&&tf$3(e,t,n));}function Wa$3(e,t,n=Ie$7){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a;}}}function Xd$2(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=za$4(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function za$4(e,t,n,r,o,i,s,a,c,l,u){let d=j$8+r,p=d+o,f=zy$2(d,p),h=typeof l=="function"?l():l;return f[x$b]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:true,firstUpdatePass:true,staticViewQueries:false,staticContentQueries:false,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:false,ssrId:u}}function zy$2(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:L$9);return n}function Gy$2(e,t,n,r){let i=r.get(Rg$1,Md$2)||n===Hn$4.ShadowDom,s=e.selectRootElement(t,i);return s}function Yy$2(e,t,n,r){let o=sf$2(t);o.push(n),e.firstCreatePass&&af$2(e).push(r,o.length-1);}function Jy$1(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return $u$3()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:undefined,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:undefined,classes:null,classesWithoutHost:null,residualClasses:undefined,classBindings:0,styleBindings:0}}function jl$2(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;let s=t[i];if(s===undefined)continue;r??={};let a,c=at$7.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i];}e===0?Hl$3(r,n,l,a,c):Hl$3(r,n,l,a);}return r}function Hl$3(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],o!==undefined&&i.push(o);}function Ky$2(e,t,n){let r=t.directiveStart,o=t.directiveEnd,i=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=i[u],p=n?n.get(d):null,f=p?p.inputs:null,h=p?p.outputs:null;c=jl$2(0,d.inputs,u,c,f),l=jl$2(1,d.outputs,u,l,h);let y=c!==null&&s!==null&&!$a$5(t)?hv$3(c,u,s):null;a.push(y);}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l;}function Xy$1(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Jn$2(e,t,n,r,o,i,s,a){let c=Ie$7(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(Qa$3(e,n,u,r,o),Fo$3(t)&&ev$2(n,t.index)):t.type&3?(r=Xy$1(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)):t.type&12;}function ev$2(e,t){let n=ct$8(t,e);n[D$8]&16||(n[D$8]|=64);}function Ga$4(e,t,n,r){{let o=r===null?null:{"":-1},i=iv$2(e,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&ef$3(e,t,n,s,o,a),o&&sv$2(n,r,o);}n.mergedAttrs=Vn$4(n.mergedAttrs,n.attrs);}function ef$3(e,t,n,r,o,i){for(let l=0;l<r.length;l++)vs$2(oo$5(n,t),e,r[l].type);cv$2(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u);}let s=false,a=false,c=Jd$3(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Vn$4(n.mergedAttrs,u.hostAttrs),lv$2(e,n,t,c,u),av$2(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=true),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=true),c++;}Ky$2(e,n,i);}function tv$2(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;nv$2(s)!=a&&s.push(a),s.push(n,r,i);}}function nv$2(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function rv$2(e,t,n,r){let o=n.directiveStart,i=n.directiveEnd;Fo$3(n)&&uv$2(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||oo$5(n,t),st$8(r,t);let s=n.initialInputs;for(let a=o;a<i;a++){let c=e.data[a],l=Ct$6(t,e,a,n);if(st$8(l,t),s!==null&&pv$2(t,a-o,l,c,n,s),rt$8(c)){let u=ct$8(n.index,t);u[G$7]=Ct$6(t,e,a,n);}}}function tf$3(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Wm$2();try{Mt$4(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];hs$3(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ov$2(c,l);}}finally{Mt$4(-1),hs$3(s);}}function ov$2(e,t){e.hostBindings!==null&&e.hostBindings(1,t);}function iv$2(e,t){let n=e.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Qd$2(t,s.selectors,false))if(r||(r=[]),rt$8(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;Fs$4(e,t,c);}else r.unshift(s),Fs$4(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s);}return r===null?null:[r,o]}function Fs$4(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index);}function sv$2(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new C$e(-301,false);r.push(t[o],i);}}}function av$2(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rt$8(t)&&(n[""]=e);}}function cv$2(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t;}function lv$2(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=It$6(o.type)),s=new xt$7(i,rt$8(o),Yo$4);e.blueprint[r]=s,n[r]=s,tv$2(e,t,r,Jd$3(e,n,o.hostVars,L$9),o);}function nf$2(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function uv$2(e,t,n){let r=Ie$7(t,e),o=Xd$2(n),i=e[$e$a].rendererFactory,s=Ko$4(e,Jo$3(e,o,null,nf$2(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s;}function dv$2(e,t,n,r,o,i){let s=Ie$7(e,t);fv$3(t[F$b],s,i,e.value,n,r,o);}function fv$3(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else {let a=s==null?O$b(i):s(i,r||"",o);e.setAttribute(t,o,a,n);}}function pv$2(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Yd$2(r,n,c,l,u,d);}}function hv$3(e,t,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(e.hasOwnProperty(i)){r===null&&(r=[]);let s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2;}return r}function rf$2(e,t,n,r){return [e,true,0,t,null,r,null,n,null,null]}function of$2(e,t){let n=e.contentQueries;if(n!==null){let r=_$9(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];jo$3(i),a.contentQueries(2,t[s],s);}}}finally{_$9(r);}}}function Ko$4(e,t){return e[Ln$7]?e[gl$3][Te$a]=t:e[Ln$7]=t,e[gl$3]=t,t}function Ls$4(e,t,n){jo$3(0);let r=_$9(null);try{t(e,n);}finally{_$9(r);}}function sf$2(e){return e[Kr$4]??=[]}function af$2(e){return e.cleanup??=[]}function cf$1(e,t){let n=e[nn$8],r=n?n.get(it$a,null):null;r&&r.handleError(t);}function Qa$3(e,t,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],l=t[s],u=e.data[s];Yd$2(u,l,r,a,c,o);}}function Rt$7(e,t,n){let r=Vu$4(t,e);my$2(e[F$b],r,n);}function mv$2(e,t){let n=ct$8(t,e),r=n[x$b];gv$2(r,n);let o=n[We$9];o!==null&&n[tn$6]===null&&(n[tn$6]=Fa$6(o,n[nn$8])),Za$3(r,n,n[G$7]);}function gv$2(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n]);}function Za$3(e,t,n){Sa$7(t);try{let r=e.viewQuery;r!==null&&Ls$4(1,r,n);let o=e.template;o!==null&&Kd$2(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ue$7]?.finishViewCreation(e),e.staticContentQueries&&of$2(e,t),e.staticViewQueries&&Ls$4(2,e.viewQuery,n);let i=e.components;i!==null&&yv$3(t,i);}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=true,e.firstCreatePass=false),r}finally{t[D$8]&=-5,Aa$6();}}function yv$3(e,t){for(let n=0;n<t.length;n++)mv$2(e,t[n]);}function Kn$4(e,t,n,r){let o=_$9(null);try{let i=t.tView,a=e[D$8]&4096?4096:16,c=Jo$3(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Et$4]=l;let u=e[Ue$7];return u!==null&&(c[Ue$7]=u.createEmbeddedView(i)),Za$3(i,c,n),c}finally{_$9(o);}}function lf$1(e,t){let n=K$8+t;if(n<e.length)return e[n]}function on$5(e,t){return !t||t.firstChild===null||yd$2(e)}function Xn$4(e,t,n,r=true){let o=t[x$b];if(Ey$2(o,t,e,n),r){let s=Ps$3(n,e),a=t[F$b],c=Bd$2(a,e[Dt$4]);c!==null&&vy$2(o,e[ce$a],a,t,c,s);}let i=t[tn$6];i!==null&&i.firstChild!==null&&(i.firstChild=null);}function uf$1(e,t){let n=Bn$7(e,t);return n!==undefined&&Go$5(n[x$b],n),n}function uo$7(e,t,n,r,o=false){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Pe$7(i)),ze$6(i)&&vv$2(i,r);let s=n.type;if(s&8)uo$7(e,t,n.child,r);else if(s&32){let a=ja$4(n,t),c;for(;c=a();)r.push(c);}else if(s&16){let a=Ud$2(t,n);if(Array.isArray(a))r.push(...a);else {let c=bt$7(t[ae$9]);uo$7(c[x$b],c,a,r,true);}}n=o?n.projectionNext:n.next;}return r}function vv$2(e,t){for(let n=K$8;n<e.length;n++){let r=e[n],o=r[x$b].firstChild;o!==null&&uo$7(r[x$b],r,o,t);}e[Dt$4]!==e[We$9]&&t.push(e[Dt$4]);}var df$2=[];function Iv$2(e){return e[he$7]??Ev$2(e)}function Ev$2(e){let t=df$2.pop()??Object.create(Dv$2);return t.lView=e,t}function wv$2(e){e.lView[he$7]!==e&&(e.lView=null,df$2.push(e));}var Dv$2=x$d(w$9({},gt$9),{consumerIsAlwaysLive:true,kind:"template",consumerMarkedDirty:e=>{Gn$4(e.lView);},consumerOnSignalRead(){this.lView[he$7]=this;}});function bv$2(e){let t=e[he$7]??Object.create(Mv$2);return t.lView=e,t}var Mv$2=x$d(w$9({},gt$9),{consumerIsAlwaysLive:true,kind:"template",consumerMarkedDirty:e=>{let t=bt$7(e.lView);for(;t&&!ff$2(t[x$b]);)t=bt$7(t);t&&Ca$6(t);},consumerOnSignalRead(){this.lView[he$7]=this;}});function ff$2(e){return e.type!==2}function pf$2(e){if(e[wt$7]===null)return;let t=true;for(;t;){let n=false;for(let r of e[wt$7])r.dirty&&(n=true,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[D$8]&8192);}}var xv$2=100;function hf$2(e,t=true,n=0){let o=e[$e$a].rendererFactory;o.begin?.();try{Cv$2(e,n);}catch(s){throw t&&cf$1(e,s),s}finally{o.end?.();}}function Cv$2(e,t){let n=Wu$4();try{eo$5(!0),Vs$3(e,t);let r=0;for(;Vo$5(e);){if(r===xv$2)throw new C$e(103,!1);r++,Vs$3(e,1);}}finally{eo$5(n);}}function Tv$2(e,t,n,r){if(zn$4(t))return;let o=t[D$8],i=false,s=false;Sa$7(t);let a=true,c=null,l=null;(ff$2(e)?(l=Iv$2(t),c=zt$5(l)):Kc$4()===null?(a=false,l=bv$2(t),c=zt$5(l)):t[he$7]&&(Gt$5(t[he$7]),t[he$7]=null));try{ju$3(t),$m$2(e.bindingStartIndex),n!==null&&Kd$2(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&Ur$4(t,f,null);}else {let f=e.preOrderHooks;f!==null&&qr$5(t,f,0,null),zi$3(t,0);}if(s||_v$3(t),pf$2(t),mf$2(t,0),e.contentQueries!==null&&of$2(e,t),!i)if(u){let f=e.contentCheckHooks;f!==null&&Ur$4(t,f);}else {let f=e.contentHooks;f!==null&&qr$5(t,f,1),zi$3(t,1);}qy$2(e,t);let d=e.components;d!==null&&yf$2(t,d,0);let p=e.viewQuery;if(p!==null&&Ls$4(2,p,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&Ur$4(t,f);}else {let f=e.viewHooks;f!==null&&qr$5(t,f,2),zi$3(t,2);}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[$r$5]){for(let f of t[$r$5])f();t[$r$5]=null;}i||(t[D$8]&=-73);}catch(u){throw Gn$4(t),u}finally{l!==null&&(Tn$6(l,c),a&&wv$2(l)),Aa$6();}}function mf$2(e,t){for(let n=Ed$2(e);n!==null;n=wd$2(n))for(let r=K$8;r<n.length;r++){let o=n[r];gf$2(o,t);}}function _v$3(e){for(let t=Ed$2(e);t!==null;t=wd$2(t)){if(!(t[D$8]&2))continue;let n=t[rn$5];for(let r=0;r<n.length;r++){let o=n[r];Ca$6(o);}}}function Nv$3(e,t,n){let r=ct$8(t,e);gf$2(r,n);}function gf$2(e,t){xa$6(e)&&Vs$3(e,t);}function Vs$3(e,t){let r=e[x$b],o=e[D$8],i=e[he$7],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&_n$6(i)),s||=false,i&&(i.dirty=false),e[D$8]&=-9217,s)Tv$2(r,e,r.template,e[G$7]);else if(o&8192){pf$2(e),mf$2(e,1);let a=r.components;a!==null&&yf$2(e,a,1);}}function yf$2(e,t,n){for(let r=0;r<t.length;r++)Nv$3(e,t[r],n);}function Ya$4(e,t){let n=Wu$4()?64:1088;for(e[$e$a].changeDetectionScheduler?.notify(t);e;){e[D$8]|=n;let r=bt$7(e);if(us$3(e)&&!r)return e;e=r;}return null}var _t$4=class _t{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=false;get rootNodes(){let t=this._lView,n=t[x$b];return uo$7(n,t,n.firstChild,[])}constructor(t,n,r=true){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r;}get context(){return this._lView[G$7]}get dirty(){return !!(this._lView[D$8]&9280)||!!this._lView[he$7]?.dirty}set context(t){this._lView[G$7]=t;}get destroyed(){return zn$4(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[X$9];if(ze$6(t)){let n=t[Xr$4],r=n?n.indexOf(this):-1;r>-1&&(Bn$7(t,r),Zr$5(n,r));}this._attachedToViewContainer=false;}Go$5(this._lView[x$b],this._lView);}onDestroy(t){Hu$3(this._lView,t);}markForCheck(){Ya$4(this._cdRefInjectingView||this._lView,4);}markForRefresh(){Ca$6(this._cdRefInjectingView||this._lView);}detach(){this._lView[D$8]&=-129;}reattach(){fs$2(this._lView),this._lView[D$8]|=128;}detectChanges(){this._lView[D$8]|=1024,hf$2(this._lView,this.notifyErrorHandler);}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C$e(902,false);this._attachedToViewContainer=true;}detachFromAppRef(){this._appRef=null;let t=us$3(this._lView),n=this._lView[Et$4];n!==null&&!t&&Ha$4(n,this._lView),Ld$2(this._lView[x$b],this._lView);}attachToAppRef(t){if(this._attachedToViewContainer)throw new C$e(902,false);this._appRef=t;let n=us$3(this._lView),r=this._lView[Et$4];r!==null&&!n&&Vd$3(r,this._lView),fs$2(this._lView);}},fo$3=(()=>{class e{static __NG_ELEMENT_ID__=Ov$2}return e})(),Sv$2=fo$3,Av$2=class Av extends Sv$2{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r;}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Kn$4(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new _t$4(o)}};function Ov$2(){return Xo$5(q$6(),v$7())}function Xo$5(e,t){return e.type&4?new Av$2(t,e,gn$4(e,t)):null}var kv$2=()=>null;function sn$5(e,t){return kv$2()}var js$4=class js{},po$6=class po{},Hs$3=class Hs{resolveComponentFactory(t){throw Error(`No component factory found for ${fe$7(t)}.`)}},an$5=class an{static NULL=new Hs$3},ho$5=class ho{},NR=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Rv$2()}return e})();function Rv$2(){let e=v$7(),t=q$6(),n=ct$8(t.index,e);return (tt$8(n)?n:e)[F$b]}var Pv$2=(()=>{class e{static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>null})}return e})();function mo$6(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=rs$3(o,a);else if(i==2){let c=a,l=t[++s];r=rs$3(r,c+": "+l+";");}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o;}var go$5=class go extends an$5{ngModule;constructor(t){super(),this.ngModule=t;}resolveComponentFactory(t){let n=Be$8(t);return new Nt$3(n,this.ngModule)}};function Bl$1(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let o=e[r];if(o===undefined)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:at$7.None;t?n.push({propName:s,templateName:r,isSignal:(a&at$7.SignalBased)!==0}):n.push({propName:s,templateName:r});}return n}function Fv$2(e){let t=e.toLowerCase();return t==="svg"?Lu$3:t==="math"?Am$2:null}var Nt$3=class Nt extends po$6{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Bl$1(t.inputs,true);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Bl$1(this.componentDef.outputs,false)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=$y$2(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n;}create(t,n,r,o){let i=_$9(null);try{o=o||this.ngModule;let s=o instanceof nt$b?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gs$2(t,s):t,c=a.get(ho$5,null);if(c===null)throw new C$e(407,!1);let l=a.get(Pv$2,null),u=a.get(Tt$6,null),d={rendererFactory:c,sanitizer:l,changeDetectionScheduler:u},p=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=r?Gy$2(p,r,this.componentDef.encapsulation,a):Fd$2(p,f,Fv$2(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;h!==null&&(b=Fa$6(h,a,!0));let w=za$4(0,null,null,1,0,null,null,null,null,null,null),S=Jo$3(null,w,null,y,null,null,d,p,a,null,b);Sa$7(S);let le,Ee,Pt=null;try{let ue=this.componentDef,Ft,ri=null;ue.findHostDirectiveDefs?(Ft=[],ri=new Map,ue.findHostDirectiveDefs(ue,Ft,ri),Ft.push(ue)):Ft=[ue];let Ip=Lv$2(S,h);Pt=Vv$2(Ip,h,ue,Ft,S,d,p),Ee=Ma$6(w,j$8),h&&Bv$2(p,ue,h,r),n!==void 0&&$v$2(Ee,this.ngContentSelectors,n),le=Hv$2(Pt,ue,Ft,ri,S,[Uv$2]),Za$3(w,S,null);}catch(ue){throw Pt!==null&&bs$4(Pt),bs$4(S),ue}finally{Aa$6();}return new Bs$3(this.componentType,le,gn$4(Ee,S),S,Ee)}finally{_$9(i);}}},Bs$3=class Bs extends js$4{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new _t$4(o,undefined,false),this.componentType=t;}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView;Qa$3(i[x$b],i,o,t,n),this.previousInputValues.set(t,n);let s=ct$8(this._tNode.index,i);Ya$4(s,1);}}get injector(){return new vt$6(this._tNode,this._rootLView)}destroy(){this.hostView.destroy();}onDestroy(t){this.hostView.onDestroy(t);}};function Lv$2(e,t){let n=e[x$b],r=j$8;return e[r]=t,kt$3(n,r,2,"#host",null)}function Vv$2(e,t,n,r,o,i,s){let a=o[x$b];jv$3(r,e,t,s);let c=null;t!==null&&(c=Fa$6(t,o[nn$8]));let l=i.rendererFactory.createRenderer(t,n),u=Jo$3(o,Xd$2(n),null,nf$2(n),o[e.index],e,i,l,null,null,c);return a.firstCreatePass&&Fs$4(a,e,r.length-1),Ko$4(o,u),o[e.index]=u}function jv$3(e,t,n,r){for(let o of e)t.mergedAttrs=Vn$4(t.mergedAttrs,o.hostAttrs);t.mergedAttrs!==null&&(mo$6(t,t.mergedAttrs,true),n!==null&&zd$2(r,n,t));}function Hv$2(e,t,n,r,o,i){let s=q$6(),a=o[x$b],c=Ie$7(s,o);ef$3(a,o,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,p=Ct$6(o,a,d,s);st$8(p,o);}tf$3(a,o,s),c&&st$8(c,o);let l=Ct$6(o,a,s.directiveStart+s.componentOffset,s);if(e[G$7]=o[G$7]=l,i!==null)for(let u of i)u(l,t);return Ua$4(a,s,o),l}function Bv$2(e,t,n,r){if(r)ms$3(e,n,["ng-version","19.1.0"]);else {let{attrs:o,classes:i}=Uy$1(t.selectors[0]);o&&ms$3(e,n,o),i&&i.length>0&&Wd$2(e,n,i.join(" "));}}function $v$2(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null);}}function Uv$2(){let e=q$6();$o$4(v$7()[x$b],e);}var Ja$5=(()=>{class e{static __NG_ELEMENT_ID__=qv$2}return e})();function qv$2(){let e=q$6();return If$2(e,v$7())}var Wv$2=Ja$5,vf$2=class vf extends Wv$2{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r;}get element(){return gn$4(this._hostTNode,this._hostLView)}get injector(){return new vt$6(this._hostTNode,this._hostLView)}get parentInjector(){let t=Oa$6(this._hostTNode,this._hostLView);if(ed$3(t)){let n=no$5(t,this._hostLView),r=to$6(t),o=n[x$b].data[r+8];return new vt$6(o,n)}else return new vt$6(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1);}get(t){let n=$l$2(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-K$8}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=sn$5(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,on$5(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!Tm$3(t),a;if(s)a=n;else {let h=n||{};a=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef;}let c=s?t:new Nt$3(Be$8(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let y=(s?l:this.parentInjector).get(nt$b,null);y&&(i=y);}let u=Be$8(c.componentType??{}),d=sn$5(this._lContainer,u?.id??null),p=null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,on$5(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,true)}insertImpl(t,n,r){let o=t._lView;if(km$2(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else {let c=o[X$9],l=new vf$2(c,c[ce$a],c[X$9]);l.detach(l.indexOf(t));}}let i=this._adjustIndex(n),s=this._lContainer;return Xn$4(s,o,i,r),t.attachToViewContainerRef(),Iu$3(Yi$6(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=$l$2(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Bn$7(this._lContainer,n);r&&(Zr$5(Yi$6(this._lContainer),n),Go$5(r[x$b],r));}detach(t){let n=this._adjustIndex(t,-1),r=Bn$7(this._lContainer,n);return r&&Zr$5(Yi$6(this._lContainer),n)!=null?new _t$4(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function $l$2(e){return e[Xr$4]}function Yi$6(e){return e[Xr$4]||(e[Xr$4]=[])}function If$2(e,t){let n,r=t[e.index];return ze$6(r)?n=r:(n=rf$2(r,t,null,e),t[e.index]=n,Ko$4(t,n)),Gv$3(n,t,e,r),new vf$2(n,e,t)}function zv$2(e,t){let n=e[F$b],r=n.createComment(""),o=Ie$7(t,e),i=Bd$2(n,o);return lo$6(n,i,r,My$2(n,o),false),r}var Gv$3=Yv$2;function Yv$2(e,t,n,r){if(e[Dt$4])return;let o;n.type&8?o=Pe$7(r):o=zv$2(t,n),e[Dt$4]=o;}var $s$4=class e{queryList;matches=null;constructor(t){this.queryList=t;}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty();}},Us$4=class e{queries;constructor(t=[]){this.queries=t;}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone());}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t);}detachView(t){this.dirtyQueriesWithMatches(t);}finishViewCreation(t){this.dirtyQueriesWithMatches(t);}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Xa$3(t,n).matches!==null&&this.queries[n].setDirty();}},yo$5=class yo{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=tI(t):this.predicate=t;}},qs$3=class e{queries;constructor(t=[]){this.queries=t;}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n);}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t);}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i]);}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n);}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t);}},Ws$2=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=false;_declarationNodeIndex;_appliesToNextNode=true;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n;}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n);}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=false);}template(t,n){this.elementStart(t,n);}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=true,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,Jv$2(n,i)),this.matchTNodeWithReadOption(t,n,Wr$5(n,t,i,false,false));}else r===fo$3?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Wr$5(n,t,r,false,false));}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Uo$5||o===Ja$5||o===fo$3&&n.type&4)this.addMatch(n.index,-2);else {let i=Wr$5(n,t,o,false,false);i!==null&&this.addMatch(n.index,i);}else this.addMatch(n.index,r);}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n);}};function Jv$2(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function Kv$2(e,t){return e.type&11?gn$4(e,t):e.type&4?Xo$5(e,t):null}function Xv$2(e,t,n,r){return n===-1?Kv$2(t,e):n===-2?eI(e,t,r):Ct$6(e,e[x$b],n,t)}function eI(e,t,n){if(n===Uo$5)return gn$4(t,e);if(n===fo$3)return Xo$5(t,e);if(n===Ja$5)return If$2(t,e)}function Ef$2(e,t,n,r){let o=t[Ue$7].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else {let u=i[l];a.push(Xv$2(t,u,s[c+1],n.metadata.read));}}o.matches=a;}return o.matches}function zs$3(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Ef$2(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else {let l=i[a+1],u=t[-c];for(let d=K$8;d<u.length;d++){let p=u[d];p[Et$4]===p[X$9]&&zs$3(p[x$b],p,l,r);}if(u[rn$5]!==null){let d=u[rn$5];for(let p=0;p<d.length;p++){let f=d[p];zs$3(f[x$b],f,l,r);}}}}}return r}function Ka$2(e,t){return e[Ue$7].queries[t].queryList}function wf$2(e,t,n){let r=new Ds$3((n&4)===4);return Yy$2(e,t,r,r.destroy),(t[Ue$7]??=new Us$4).queries.push(new $s$4(r))-1}function Df$2(e,t,n){let r=P$b();return r.firstCreatePass&&(Mf$2(r,new yo$5(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=true)),wf$2(r,v$7(),t)}function bf$2(e,t,n,r){let o=P$b();if(o.firstCreatePass){let i=q$6();Mf$2(o,new yo$5(t,n,r),i.index),nI(o,e),(n&2)===2&&(o.staticContentQueries=true);}return wf$2(o,v$7(),n)}function tI(e){return e.split(",").map(t=>t.trim())}function Mf$2(e,t,n){e.queries===null&&(e.queries=new qs$3),e.queries.track(new Ws$2(t,n));}function nI(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t);}function Xa$3(e,t){return e.queries.getByIndex(t)}function xf$2(e,t){let n=e[x$b],r=Xa$3(n,t);return r.crossesNgTemplate?zs$3(n,e,t,[]):Ef$2(n,e,r,t)}function rI(e){return typeof e=="function"&&e[W$9]!==undefined}function oI(e,t){Le$7("NgSignals");let n=cl$3(e),r=n[W$9];return t?.equal&&(r.equal=t.equal),n.set=o=>Nn$6(r,o),n.update=o=>ll$3(r,o),n.asReadonly=Cf$2.bind(n),n}function Cf$2(){let e=this[W$9];if(e.readonlyFn===undefined){let t=()=>this();t[W$9]=e,e.readonlyFn=t;}return e.readonlyFn}function Tf$2(e){return rI(e)&&typeof e.set=="function"}function ec$3(e,t,n){let r,o=$i$4(()=>{r._dirtyCounter();let i=iI(r,e);if(t&&i===undefined)throw new C$e(-951,false);return i});return r=o[W$9],r._dirtyCounter=oI(0),r._flatValue=undefined,o}function _f$2(e){return ec$3(true,false)}function Nf$2(e){return ec$3(true,true)}function Sf$2(e){return ec$3(false,false)}function Af$2(e,t){let n=e[W$9];n._lView=v$7(),n._queryIndex=t,n._queryList=Ka$2(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1));}function iI(e,t){let n=e._lView,r=e._queryIndex;if(n===undefined||r===undefined||n[D$8]&4)return t?undefined:ee$9;let o=Ka$2(n,r),i=xf$2(n,r);return o.reset(i,gd$3),t?o.first:o._changesDetected||e._flatValue===undefined?e._flatValue=o.toArray():e._flatValue}function Ul$2(e,t){return _f$2()}function sI(e,t){return Nf$2()}var AR=(Ul$2.required=sI,Ul$2);function OR(e,t){return Sf$2()}function ql$2(e,t){return _f$2()}function aI(e,t){return Nf$2()}var kR=(ql$2.required=aI,ql$2);function RR(e,t){return Sf$2()}function Of$2(e,t){let n=Object.create(cu$4),r=new co$6;n.value=e;function o(){return Cn$5(n),Wl$2(n.value),n.value}return o[W$9]=n,o.asReadonly=Cf$2.bind(o),o.set=i=>{n.equal(n.value,i)||(Nn$6(n,i),r.emit(i));},o.update=i=>{Wl$2(n.value),o.set(i(n.value));},o.subscribe=r.subscribe.bind(r),o.destroyRef=r.destroyRef,o}function Wl$2(e){if(e===No$5)throw new C$e(952,false)}function zl$1(e,t){return Of$2(e)}function cI(e){return Of$2(No$5)}var PR=(zl$1.required=cI,zl$1);var St$5=class St{},Gs$3=class Gs{};function FR(e,t){return new $n$6(e,t??null,[])}var $n$6=class $n extends St$5{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new go$5(this);constructor(t,n,r,o=true){super(),this.ngModuleType=t,this._parent=n;let i=Du$3(t);this._bootstrapComponents=Pd$2(i.bootstrap),this._r3Injector=ld$3(t,n,[{provide:St$5,useValue:this},{provide:an$5,useValue:this.componentFactoryResolver},...r],fe$7(t),new Set(["environment"])),o&&this.resolveInjectorInitializers();}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType);}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null;}onDestroy(t){this.destroyCbs.push(t);}},Io$5=class Io extends Gs$3{moduleType;constructor(t){super(),this.moduleType=t;}create(t){return new $n$6(this.moduleType,t,[])}};function mI(e,t,n){return new $n$6(e,t,n,false)}var Qs$4=class Qs extends St$5{injector;componentFactoryResolver=new go$5(this);instance=null;constructor(t){super();let n=new Fn$6([...t.providers,{provide:St$5,useValue:this},{provide:an$5,useValue:this.componentFactoryResolver}],t.parent||ko$6(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers();}destroy(){this.injector.destroy();}onDestroy(t){this.injector.onDestroy(t);}};function gI(e,t,n=null){return new Qs$4({providers:e,parent:t,debugName:n,runEnvironmentInitializers:true}).injector}var yI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n;}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Mu$3(false,n.type),o=r.length>0?gI([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o);}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy();}finally{this.cachedInjectors.clear();}}static \u0275prov=H$9({token:e,providedIn:"environment",factory:()=>new e(pe$9(nt$b))})}return e})();function LR(e){return qn$2(()=>{let t=kf$2(e),n=x$d(w$9({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===vd$3.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(yI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??false,data:e.data||{},encapsulation:e.encapsulation||Hn$4.Emulated,styles:e.styles||ee$9,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Le$7("NgStandalone"),Rf$2(n);let r=e.dependencies;return n.directiveDefs=Eo$5(r,false),n.pipeDefs=Eo$5(r,true),n.id=wI(n),n})}function vI(e){return Be$8(e)||wa$6(e)}function II(e){return e!==null}function EI(e){return qn$2(()=>({type:e.type,bootstrap:e.bootstrap||ee$9,declarations:e.declarations||ee$9,imports:e.imports||ee$9,exports:e.exports||ee$9,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Gl$2(e,t){if(e==null)return He$9;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a=at$7.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=a!==at$7.None?[r,a]:r,t[i]=s):n[i]=r;}return n}function VR(e){return qn$2(()=>{let t=kf$2(e);return Rf$2(t),t})}function jR(e){return {type:e.type,name:e.name,factory:null,pure:e.pure!==false,standalone:e.standalone??true,onDestroy:e.type.prototype.ngOnDestroy||null}}function kf$2(e){let t={};return {type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||He$9,exportAs:e.exportAs||null,standalone:e.standalone??true,signals:e.signals===true,selectors:e.selectors||ee$9,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gl$2(e.inputs,t),outputs:Gl$2(e.outputs),debugInfo:null}}function Rf$2(e){e.features?.forEach(t=>t(e));}function Eo$5(e,t){if(!e)return null;let n=t?bu$3:vI;return ()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(II)}function wI(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function DI(e){return Object.getPrototypeOf(e.prototype).constructor}function bI(e){let t=DI(e.type),n=true,r=[e];for(;t;){let o;if(rt$8(e))o=t.\u0275cmp||t.\u0275dir;else {if(t.\u0275cmp)throw new C$e(903,false);o=t.\u0275dir;}if(o){if(n){r.push(o);let s=e;s.inputs=Vr$6(e.inputs),s.inputTransforms=Vr$6(e.inputTransforms),s.declaredInputs=Vr$6(e.declaredInputs),s.outputs=Vr$6(e.outputs);let a=o.hostBindings;a&&_I(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&CI(e,c),l&&TI(e,l),MI(e,o),$h$1(e.outputs,o.outputs),rt$8(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation);}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===bI&&(n=false);}}t=Object.getPrototypeOf(t);}xI(r);}function MI(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==undefined&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o];}}}function xI(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Vn$4(o.hostAttrs,n=Vn$4(n,o.hostAttrs));}}function Vr$6(e){return e===He$9?{}:e===ee$9?[]:e}function CI(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o);}:e.viewQuery=t;}function TI(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i);}:e.contentQueries=t;}function _I(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o);}:e.hostBindings=t;}function HR(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.findHostDirectiveDefs=Pf$2,n.hostDirectives=r?e.map(Zs$5):[e]):r?n.hostDirectives.unshift(...e.map(Zs$5)):n.hostDirectives.unshift(e);};return t.ngInherit=true,t}function Pf$2(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let o=r();for(let i of o)Ql$1(Zs$5(i),t,n);}else Ql$1(r,t,n);}function Ql$1(e,t,n){let r=wa$6(e.directive);NI(r.declaredInputs,e.inputs),Pf$2(r,t,n),n.set(r,e),t.push(r);}function Zs$5(e){return typeof e=="function"?{directive:z$a(e),inputs:He$9,outputs:He$9}:{directive:z$a(e.directive),inputs:Zl$2(e.inputs),outputs:Zl$2(e.outputs)}}function Zl$2(e){if(e===undefined||e.length===0)return He$9;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function NI(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o=e[n];e[r]=o;}}function BR(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3]);}e.inputTransforms=n;}function Ff$2(e){return tc$4(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:false}function SI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else {let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value);}}function tc$4(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Qe$5(e,t,n){return e[t]=n}function ei$6(e,t){return e[t]}function ne$7(e,t,n){let r=e[t];return Object.is(r,n)?false:(e[t]=n,true)}function cn$6(e,t,n,r){let o=ne$7(e,t,n);return ne$7(e,t+1,r)||o}function ti$5(e,t,n,r,o){let i=cn$6(e,t,n,r);return ne$7(e,t+2,o)||i}function Fe$8(e,t,n,r,o,i){let s=cn$6(e,t,n,r);return cn$6(e,t+2,o,i)||s}function AI(e){return (e.flags&32)===32}function OI(e,t,n,r,o,i,s,a,c){let l=t.consts,u=kt$3(t,e,4,s||null,a||null);Ga$4(t,n,u,ot$c(l,c)),$o$4(t,u);let d=u.tView=za$4(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function wo$5(e,t,n,r,o,i,s,a,c,l){let u=n+j$8,d=t.firstCreatePass?OI(u,t,e,r,o,i,s,a,c):t.data[u];lt$8(d,false);let p=RI(t,e);Ho$4()&&Qo$3(t,e,p,d),st$8(p,e);let f=rf$2(p,e,p,d);return e[u]=f,Ko$4(e,f),Lo$1(d)&&qa$4(t,e,d),c!=null&&Wa$3(e,d,l),d}function kI(e,t,n,r,o,i,s,a){let c=v$7(),l=P$b(),u=ot$c(l.consts,i);return wo$5(c,l,e,t,n,r,o,u,s,a),kI}var RI=PI;function PI(e,t,n,r){return Bo$3(true),t[F$b].createComment("")}var $R=(()=>{class e{log(n){console.log(n);}warn(n){console.warn(n);}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var FI=new k$5(""),LI=new k$5(""),UR=(()=>{class e{_ngZone;registry;_isZoneStable=true;_callbacks=[];taskTrackingZone=null;constructor(n,r,o){this._ngZone=n,this.registry=r,nc$3||(jI(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone");});}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=false;}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{te$6.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=true,this._runCallbacksIfReady();});}});});}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb();}});else {let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),false):true);}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n();},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o});}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady();}registerApplication(n){this.registry.registerApplication(n,this);}unregisterApplication(n){this.registry.unregisterApplication(n);}findProviders(n,r,o){return []}static \u0275fac=function(r){return new(r||e)(pe$9(te$6),pe$9(VI),pe$9(LI))};static \u0275prov=H$9({token:e,factory:e.\u0275fac})}return e})(),VI=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r);}unregisterApplication(n){this._applications.delete(n);}unregisterAllApplications(){this._applications.clear();}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=true){return nc$3?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function jI(e){nc$3=e;}var nc$3;function Lf$2(e){return !!e&&typeof e.then=="function"}function HI(e){return !!e&&typeof e.subscribe=="function"}var Vf$2=new k$5("");function qR(e){return hm$2([{provide:Vf$2,multi:true,useValue:e}])}var jf$2=(()=>{class e{resolve;reject;initialized=false;done=false;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r;});appInits=N$8(Vf$2,{optional:true})??[];injector=N$8(_e$8);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Nu$3(this.injector,o);if(Lf$2(i))n.push(i);else if(HI(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c});});n.push(s);}}let r=()=>{this.done=true,this.resolve();};Promise.all(n).then(()=>{r();}).catch(o=>{this.reject(o);}),n.length===0&&r(),this.initialized=true;}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hf$2=(()=>{class e{static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>new Do$3})}return e})(),Do$3=class Do{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t);}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--);}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t));}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n));}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run();}},BI=new k$5("");function $I(){al$3(()=>{throw new C$e(600,false)});}function UI(e){return e.isBoundToModule}var qI=10;function WI(e,t,n){try{let r=n();return Lf$2(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}function Bf$2(e,t){return Array.isArray(t)?t.reduce(Bf$2,e):w$9(w$9({},e),t)}var ln$5=(()=>{class e{_runningTick=false;_destroyed=false;_destroyListeners=[];_views=[];internalErrorHandler=N$8(Dg$1);afterRenderManager=N$8(xd$3);zonelessEnabled=N$8(dd$3);rootEffectScheduler=N$8(Hf$2);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Z$a;get allViews(){return [...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N$8(Qn$5).hasPendingTasks.pipe(ie$b(n=>!n));constructor(){N$8(qo$5,{optional:true});}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r();}});}).finally(()=>{n.unsubscribe();})}_injector=N$8(nt$b);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let o=n instanceof po$6;if(!this._injector.get(jf$2).done){!o&&pm$1(n);let f=false;throw new C$e(405,f)}let s;o?s=n:s=this._injector.get(an$5).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=UI(s)?undefined:this._injector.get(St$5),c=r||s.selector,l=s.create(_e$8.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(FI,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),zr$5(this.components,l),d?.unregisterApplication(u);}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick();}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Pa$4.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new C$e(101,false);let n=_$9(null);try{this._runningTick=!0,this.synchronize();}catch(r){this.internalErrorHandler(r);}finally{this._runningTick=false,_$9(n),this.afterTick.next();}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ho$5,null,{optional:true})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<qI;)this.synchronizeOnce();}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)zI(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews();}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Vo$5(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8;}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this);}detachView(n){let r=n;zr$5(this._views,r),r.detachFromAppRef();}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(BI,[]).forEach(o=>o(n));}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy());}finally{this._destroyed=true,this._views=[],this._destroyListeners=[];}}onDestroy(n){return this._destroyListeners.push(n),()=>zr$5(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C$e(406,false);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy();}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zr$5(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1);}function zI(e,t,n,r){if(!n&&!Vo$5(e))return;hf$2(e,t,n&&!r?0:1);}function GI(e,t,n,r){let o=v$7(),i=Ot$6();if(ne$7(o,i,t)){P$b();let a=hn$5();dv$2(a,o,e,t,n,r);}return GI}function rc$4(e,t,n,r){return ne$7(e,Ot$6(),n)?t+O$b(n)+r:L$9}function $f$2(e,t,n,r,o,i){let s=pn$8(),a=cn$6(e,s,n,o);return ut$5(2),a?t+O$b(n)+r+O$b(o)+i:L$9}function QI(e,t,n,r,o,i,s,a){let c=pn$8(),l=ti$5(e,c,n,o,s);return ut$5(3),l?t+O$b(n)+r+O$b(o)+i+O$b(s)+a:L$9}function ZI(e,t,n,r,o,i,s,a,c,l){let u=pn$8(),d=Fe$8(e,u,n,o,s,c);return ut$5(4),d?t+O$b(n)+r+O$b(o)+i+O$b(s)+a+O$b(c)+l:L$9}function YI(e,t,n,r,o,i,s,a,c,l,u,d,p,f){let h=pn$8(),y=Fe$8(e,h,n,o,s,c);return y=cn$6(e,h+4,u,p)||y,ut$5(6),y?t+O$b(n)+r+O$b(o)+i+O$b(s)+a+O$b(c)+l+O$b(u)+d+O$b(p)+f:L$9}function JI(e,t,n,r,o,i,s,a,c,l,u,d,p,f,h,y){let b=pn$8(),w=Fe$8(e,b,n,o,s,c);return w=ti$5(e,b+4,u,p,h)||w,ut$5(7),w?t+O$b(n)+r+O$b(o)+i+O$b(s)+a+O$b(c)+l+O$b(u)+d+O$b(p)+f+O$b(h)+y:L$9}function KI(e,t,n,r,o,i,s,a,c,l,u,d,p,f,h,y,b,w){let S=pn$8(),le=Fe$8(e,S,n,o,s,c);return le=Fe$8(e,S+4,u,p,h,b)||le,ut$5(8),le?t+O$b(n)+r+O$b(o)+i+O$b(s)+a+O$b(c)+l+O$b(u)+d+O$b(p)+f+O$b(h)+y+O$b(b)+w:L$9}function jr$5(e,t){return e<<17|t<<2}function At$5(e){return e>>17&32767}function XI(e){return (e&2)==2}function eE(e,t){return e&131071|t<<17}function Ys$3(e){return e|2}function un$5(e){return (e&131068)>>2}function Ji$7(e,t){return e&-131069|t<<2}function tE(e){return (e&1)===1}function Js$5(e){return e|1}function nE(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=At$5(s),c=un$5(s);e[r]=n;let l=false,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Wn$5(d,u)>0)&&(l=true);}else u=n;if(o)if(c!==0){let p=At$5(e[a+1]);e[r+1]=jr$5(p,a),p!==0&&(e[p+1]=Ji$7(e[p+1],r)),e[a+1]=eE(e[a+1],r);}else e[r+1]=jr$5(a,0),a!==0&&(e[a+1]=Ji$7(e[a+1],r)),a=r;else e[r+1]=jr$5(c,0),a===0?a=r:e[c+1]=Ji$7(e[c+1],r),c=r;l&&(e[r+1]=Ys$3(e[r+1])),Yl$2(e,u,r,true),Yl$2(e,u,r,false),rE(t,u,e,r,i),s=jr$5(a,c),i?t.classBindings=s:t.styleBindings=s;}function rE(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Wn$5(i,t)>=0&&(n[r+1]=Js$5(n[r+1]));}function Yl$2(e,t,n,r){let o=e[n+1],i=t===null,s=r?At$5(o):un$5(o),a=false;for(;s!==0&&(a===false||i);){let c=e[s],l=e[s+1];oE(c,t)&&(a=true,e[s+1]=r?Js$5(l):Ys$3(l)),s=r?At$5(l):un$5(l);}a&&(e[n+1]=r?Ys$3(o):Js$5(o));}function oE(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?true:Array.isArray(e)&&typeof t=="string"?Wn$5(e,t)>=0:false}var Ce$8={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iE(e){return e.substring(Ce$8.key,Ce$8.keyEnd)}function sE(e){return aE(e),Uf$2(e,qf$2(e,0,Ce$8.textEnd))}function Uf$2(e,t){let n=Ce$8.textEnd;return n===t?-1:(t=Ce$8.keyEnd=cE(e,Ce$8.key=t,n),qf$2(e,t,n))}function aE(e){Ce$8.key=0,Ce$8.keyEnd=0,Ce$8.value=0,Ce$8.valueEnd=0,Ce$8.textEnd=e.length;}function qf$2(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function cE(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function lE(e,t,n){let r=v$7(),o=Ot$6();if(ne$7(r,o,t)){let i=P$b(),s=hn$5();Jn$2(i,s,r,e,t,r[F$b],n,false);}return lE}function Ks$3(e,t,n,r,o){let i=t.inputs,s=o?"class":"style";Qa$3(e,n,i[s],s,r);}function uE(e,t,n){return zf$2(e,t,n,false),uE}function dE(e,t){return zf$2(e,t,null,true),dE}function WR(e){Gf$2(yE,Wf$2,e,true);}function Wf$2(e,t){for(let n=sE(t);n>=0;n=Uf$2(t,n))Oo$5(e,iE(t),true);}function zf$2(e,t,n,r){let o=v$7(),i=P$b(),s=ut$5(2);if(i.firstUpdatePass&&Zf$2(i,e,s,r),t!==L$9&&ne$7(o,s,t)){let a=i.data[re$8()];Yf$2(i,a,o,o[F$b],e,o[s+1]=IE(t,n),r,s);}}function Gf$2(e,t,n,r){let o=P$b(),i=ut$5(2);o.firstUpdatePass&&Zf$2(o,null,i,r);let s=v$7();if(n!==L$9&&ne$7(s,i,n)){let a=o.data[re$8()];if(Jf$2(a,r)&&!Qf$2(o,i)){let c=a.classesWithoutHost;c!==null&&(n=rs$3(c,n||"")),Ks$3(o,a,s,n,r);}else vE(o,a,s,s[F$b],s[i+1],s[i+1]=gE(e,t,n),r,i);}}function Qf$2(e,t){return t>=e.expandoStartIndex}function Zf$2(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[re$8()],s=Qf$2(e,n);Jf$2(i,r)&&t===null&&!s&&(t=false),t=fE(o,i,t,r),nE(o,i,t,n,s,r);}}function fE(e,t,n,r){let o=zm$2(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ki$5(null,e,t,n,r),n=Un$6(n,t.attrs,r),i=null);else {let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Ki$5(o,e,t,n,r),i===null){let c=pE(e,t,r);c!==undefined&&Array.isArray(c)&&(c=Ki$5(null,e,t,c[1],r),c=Un$6(c,t.attrs,r),hE(e,t,r,c));}else i=mE(e,t,r);}return i!==undefined&&(r?t.residualClasses=i:t.residualStyles=i),n}function pE(e,t,n){let r=n?t.classBindings:t.styleBindings;if(un$5(r)!==0)return e[At$5(r)]}function hE(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[At$5(o)]=r;}function mE(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Un$6(r,s,n);}return Un$6(r,t.attrs,n)}function Ki$5(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Un$6(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Un$6(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===undefined?[]:["",e]),Oo$5(e,s,n?true:t[++i]));}return e===undefined?null:e}function gE(e,t,n){if(n==null||n==="")return ee$9;let r=[],o=Zn$4(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],true);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function yE(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Oo$5(e,r,n);}function vE(e,t,n,r,o,i,s,a){o===L$9&&(o=ee$9);let c=0,l=0,u=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;u!==null||d!==null;){let p=c<o.length?o[c+1]:undefined,f=l<i.length?i[l+1]:undefined,h=null,y;u===d?(c+=2,l+=2,p!==f&&(h=d,y=f)):d===null||u!==null&&u<d?(c+=2,h=u):(l+=2,h=d,y=f),h!==null&&Yf$2(e,t,n,r,h,y,s,a),u=c<o.length?o[c]:null,d=l<i.length?i[l]:null;}}function Yf$2(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=tE(l)?Jl$2(c,t,n,o,un$5(l),s):undefined;if(!bo$5(u)){bo$5(i)||XI(l)&&(i=Jl$2(c,null,n,o,a,s));let d=Vu$4(re$8(),n);Sy$2(r,s,d,o,i);}}function Jl$2(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===L$9&&(p=d?ee$9:undefined);let f=d?qi$3(p,r):u===r?p:undefined;if(l&&!bo$5(f)&&(f=qi$3(c,r)),bo$5(f)&&(a=f,s))return a;let h=e[o+1];o=s?At$5(h):un$5(h);}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=qi$3(c,r));}return a}function bo$5(e){return e!==undefined}function IE(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=fe$7(Zn$4(e)))),e}function Jf$2(e,t){return (e.flags&(t?8:16))!==0}function zR(e,t,n){let r=v$7(),o=rc$4(r,e,t,n);Gf$2(Oo$5,Wf$2,o,true);}function GR(){return v$7()[ae$9][G$7]}var Xs$3=class Xs{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s);}else this.attach(r,i);}move(t,n){this.attach(n,this.detach(t));}};function Xi$5(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function EE(e,t,n){let r,o,i=0,s=e.length-1;if(Array.isArray(t)){let c=t.length-1;for(;i<=s&&i<=c;){let l=e.at(i),u=t[i],d=Xi$5(i,l,i,u,n);if(d!==0){d<0&&e.updateValue(i,u),i++;continue}let p=e.at(s),f=t[c],h=Xi$5(s,p,c,f,n);if(h!==0){h<0&&e.updateValue(s,f),s--,c--;continue}let y=n(i,l),b=n(s,p),w=n(i,u);if(Object.is(w,b)){let S=n(c,f);Object.is(S,y)?(e.swap(i,s),e.updateValue(s,f),c--,s--):e.move(s,i),e.updateValue(i,u),i++;continue}if(r??=new Mo$6,o??=Xl$3(e,i,s,n),ea$4(e,r,i,w))e.updateValue(i,u),i++,s++;else if(o.has(w))r.set(y,e.detach(i)),s--;else {let S=e.create(i,t[i]);e.attach(i,S),i++,s++;}}for(;i<=c;)Kl$2(e,r,n,i,t[i]),i++;}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&i<=s;){let u=e.at(i),d=l.value,p=Xi$5(i,u,i,d,n);if(p!==0)p<0&&e.updateValue(i,d),i++,l=c.next();else {r??=new Mo$6,o??=Xl$3(e,i,s,n);let f=n(i,d);if(ea$4(e,r,i,f))e.updateValue(i,d),i++,s++,l=c.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,l=c.next();else {let h=n(i,u);r.set(h,e.detach(i)),s--;}}}for(;!l.done;)Kl$2(e,r,n,e.length,l.value),l=c.next();}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c);});}function ea$4(e,t,n,r){return t!==undefined&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),true):false}function Kl$2(e,t,n,r,o){if(ea$4(e,t,r,n(r,o)))e.updateValue(r,o);else {let i=e.create(r,o);e.attach(r,i);}}function Xl$3(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var Mo$6=class Mo{kvMap=new Map;_vMap=undefined;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return  false;let n=this.kvMap.get(t);return this._vMap!==undefined&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),true}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===undefined&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n);}else this.kvMap.set(t,n);}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==undefined){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n);}}};function QR(e,t){Le$7("NgControlFlow");let n=v$7(),r=Ot$6(),o=n[r]!==L$9?n[r]:-1,i=o!==-1?xo$5(n,j$8+o):undefined,s=0;if(ne$7(n,r,e)){let a=_$9(null);try{if(i!==void 0&&uf$1(i,s),e!==-1){let c=j$8+e,l=xo$5(n,c),u=oa$5(n[x$b],c),d=sn$5(l,u.tView.ssrId),p=Kn$4(n,u,t,{dehydratedView:d});Xn$4(l,p,s,on$5(u,d));}}finally{_$9(a);}}else if(i!==undefined){let a=lf$1(i,s);a!==undefined&&(a[G$7]=t);}}var ta$6=class ta{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r;}get $count(){return this.lContainer.length-K$8}};function ZR(e){return e}function YR(e,t){return t}var na$5=class na{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r;}};function JR(e,t,n,r,o,i,s,a,c,l,u,d,p){Le$7("NgControlFlow");let f=v$7(),h=P$b(),y=c!==undefined,b=v$7(),w=a?s.bind(b[ae$9][G$7]):s,S=new na$5(y,w);b[j$8+e]=S,wo$5(f,h,e+1,t,n,r,o,ot$c(h.consts,i)),y&&wo$5(f,h,e+2,c,l,u,d,ot$c(h.consts,p));}var ra$6=class ra extends Xs$3{lContainer;hostLView;templateTNode;operationsCounter=undefined;needsIndexUpdate=false;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r;}get length(){return this.lContainer.length-K$8}at(t){return this.getLView(t)[G$7].$implicit}attach(t,n){let r=n[tn$6];this.needsIndexUpdate||=t!==this.length,Xn$4(this.lContainer,n,t,on$5(this.templateTNode,r));}detach(t){return this.needsIndexUpdate||=t!==this.length-1,wE(this.lContainer,t)}create(t,n){let r=sn$5(this.lContainer,this.templateTNode.tView.ssrId),o=Kn$4(this.hostLView,this.templateTNode,new ta$6(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){Go$5(t[x$b],t),this.operationsCounter?.recordDestroy();}updateValue(t,n){this.getLView(t)[G$7].$implicit=n;}reset(){this.needsIndexUpdate=false,this.operationsCounter?.reset();}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[G$7].$index=t;}getLView(t){return DE(this.lContainer,t)}};function KR(e){let t=_$9(null),n=re$8();try{let r=v$7(),o=r[x$b],i=r[n],s=n+1,a=xo$5(r,s);if(i.liveCollection===void 0){let l=oa$5(o,s);i.liveCollection=new ra$6(a,r,l);}else i.liveCollection.reset();let c=i.liveCollection;if(EE(c,e,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){let l=Ot$6(),u=c.length===0;if(ne$7(r,l,u)){let d=n+2,p=xo$5(r,d);if(u){let f=oa$5(o,d),h=sn$5(p,f.tView.ssrId),y=Kn$4(r,f,void 0,{dehydratedView:h});Xn$4(p,y,0,on$5(f,h));}else uf$1(p,0);}}}finally{_$9(t);}}function xo$5(e,t){return e[t]}function wE(e,t){return Bn$7(e,t)}function DE(e,t){return lf$1(e,t)}function oa$5(e,t){return Ma$6(e,t)}function bE(e,t,n,r,o,i){let s=t.consts,a=ot$c(s,o),c=kt$3(t,e,2,r,a);return Ga$4(t,n,c,ot$c(s,i)),c.attrs!==null&&mo$6(c,c.attrs,false),c.mergedAttrs!==null&&mo$6(c,c.mergedAttrs,true),t.queries!==null&&t.queries.elementStart(t,c),c}function Kf$2(e,t,n,r){let o=v$7(),i=P$b(),s=j$8+e,a=o[F$b],c=i.firstCreatePass?bE(s,i,o,t,n,r):i.data[s],l=xE(i,o,c,a,t);o[s]=l;let u=Lo$1(c);return lt$8(c,true),zd$2(a,l,c),!AI(c)&&Ho$4()&&Qo$3(i,o,l,c),Fm$2()===0&&st$8(l,o),Lm$2(),u&&(qa$4(i,o,c),Ua$4(i,c,o)),r!==null&&Wa$3(o,c),Kf$2}function Xf$2(){let e=q$6();Ta$6()?_a$4():(e=e.parent,lt$8(e,false));let t=e;jm$2(t)&&Hm$2(),Vm$2();let n=P$b();return n.firstCreatePass&&($o$4(n,e),ba$6(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&eg$2(t)&&Ks$3(n,t,v$7(),t.classesWithoutHost,true),t.stylesWithoutHost!=null&&tg$2(t)&&Ks$3(n,t,v$7(),t.stylesWithoutHost,false),Xf$2}function ME(e,t,n,r){return Kf$2(e,t,n,r),Xf$2(),ME}var xE=(e,t,n,r,o,i)=>(Bo$3(true),Fd$2(r,o,Ym$2()));function CE(e,t,n,r,o){let i=t.consts,s=ot$c(i,r),a=kt$3(t,e,8,"ng-container",s);s!==null&&mo$6(a,s,true);let c=ot$c(i,o);return Ga$4(t,n,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function ep$2(e,t,n){let r=v$7(),o=P$b(),i=e+j$8,s=o.firstCreatePass?CE(i,o,r,t,n):o.data[i];lt$8(s,true);let a=_E(o,r);return r[i]=a,Ho$4()&&Qo$3(o,r,a,s),st$8(a,r),Lo$1(s)&&(qa$4(o,r,s),Ua$4(o,s,r)),n!=null&&Wa$3(r,s),ep$2}function tp$2(){let e=q$6(),t=P$b();return Ta$6()?_a$4():(e=e.parent,lt$8(e,false)),t.firstCreatePass&&($o$4(t,e),ba$6(e)&&t.queries.elementEnd(e)),tp$2}function TE(e,t,n){return ep$2(e,t,n),tp$2(),TE}var _E=(e,t,n,r)=>(Bo$3(true),gy$2(t[F$b],""));function XR(){return v$7()}function NE(e,t,n){let r=v$7(),o=Ot$6();if(ne$7(r,o,t)){let i=P$b(),s=hn$5();Jn$2(i,s,r,e,t,r[F$b],n,true);}return NE}var yt$7=undefined;function SE(e){let n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var AE=["en",[["a","p"],["AM","PM"],yt$7],[["AM","PM"],yt$7,yt$7],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yt$7,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yt$7,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yt$7,"{1} 'at' {0}",yt$7],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",SE],es$2={};function OE(e){let t=kE(e),n=eu$3(t);if(n)return n;let r=t.split("-")[0];if(n=eu$3(r),n)return n;if(r==="en")return AE;throw new C$e(701,false)}function eP(e){return OE(e)[np$2.PluralCase]}function eu$3(e){return e in es$2||(es$2[e]=je$7.ng&&je$7.ng.common&&je$7.ng.common.locales&&je$7.ng.common.locales[e]),es$2[e]}var np$2=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(np$2||{});function kE(e){return e.toLowerCase().replace(/_/g,"-")}var Co$6="en-US",RE="USD";function FE(e){typeof e=="string"&&(e.toLowerCase().replace(/_/g,"-"));}function VE(e,t,n,r){let o=v$7(),i=P$b(),s=q$6();return rp$2(i,o,o[F$b],s,e,t,r),VE}function jE(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Kr$4],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2);}return null}function rp$2(e,t,n,r,o,i,s){let a=Lo$1(r),l=e.firstCreatePass&&af$2(e),u=t[G$7],d=sf$2(t),p=true;if(r.type&3||s){let y=Ie$7(r,t),b=s?s(y):y,w=d.length,S=s?Ee=>s(Pe$7(Ee[r.index])):r.index,le=null;if(!s&&a&&(le=jE(e,t,o,r.index)),le!==null){let Ee=le.__ngLastListenerFn__||le;Ee.__ngNextListenerFn__=i,le.__ngLastListenerFn__=i,p=false;}else {i=nu$3(r,t,u,i);let Ee=n.listen(b,o,i);d.push(i,Ee),l&&l.push(o,S,w,w+1);}}else i=nu$3(r,t,u,i);let f=r.outputs,h;if(p&&f!==null&&(h=f[o])){let y=h.length;if(y)for(let b=0;b<y;b+=2){let w=h[b],S=h[b+1],Pt=t[w][S].subscribe(i),ue=d.length;d.push(i,Pt),l&&l.push(o,r.index,ue,-(ue+1));}}}function tu$3(e,t,n,r){let o=_$9(null);try{return ke$7(6,t,n),n(r)!==!1}catch(i){return cf$1(e,i),false}finally{_$9(o);}}function nu$3(e,t,n,r){return function o(i){if(i===Function)return r;let s=e.componentOffset>-1?ct$8(e.index,t):t;Ya$4(s,5);let a=tu$3(t,n,r,i),c=o.__ngNextListenerFn__;for(;c;)a=tu$3(t,n,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function tP(e=1){return Qm$2(e)}function HE(e,t){let n=null,r=Ly$2(e);for(let o=0;o<t.length;o++){let i=t[o];if(i==="*"){n=o;continue}if(r===null?Qd$2(e,i,true):Hy$2(r,i))return o}return n}function nP(e){let t=v$7()[ae$9][ce$a];if(!t.projection){let n=e?e.length:1,r=t.projection=um$2(n,null),o=r.slice(),i=t.child;for(;i!==null;){if(i.type!==128){let s=e?HE(i,e):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i);}i=i.next;}}}function rP(e,t=0,n,r,o,i){let s=v$7(),a=P$b(),c=r?e+1:null;c!==null&&wo$5(s,a,c,r,o,i,null,n);let l=kt$3(a,j$8+e,16,null,n||null);l.projection===null&&(l.projection=t),_a$4();let d=!s[tn$6]||$u$3();s[ae$9][ce$a].projection[l.projection]===null&&c!==null?BE(s,a,c):d&&(l.flags&32)!==32&&_y$1(a,s,l);}function BE(e,t,n){let r=j$8+n,o=t.data[r],i=e[r],s=sn$5(i,o.tView.ssrId),a=Kn$4(e,o,undefined,{dehydratedView:s});Xn$4(i,a,0,on$5(o,s));}function $E(e,t,n){return op$1(e,"",t,"",n),$E}function op$1(e,t,n,r,o){let i=v$7(),s=rc$4(i,t,n,r);if(s!==L$9){let a=P$b(),c=hn$5();Jn$2(a,c,i,e,s,i[F$b],o,false);}return op$1}function UE(e,t,n,r,o,i,s){let a=v$7(),c=$f$2(a,t,n,r,o,i);if(c!==L$9){let l=P$b(),u=hn$5();Jn$2(l,u,a,e,c,a[F$b],s,false);}return UE}function oP(e,t,n,r){bf$2(e,t,n,r);}function iP(e,t,n){Df$2(e,t,n);}function sP(e){let t=v$7(),n=P$b(),r=Na$5();jo$3(r+1);let o=Xa$3(n,r);if(e.dirty&&Om$2(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else {let i=xf$2(t,r);e.reset(i,gd$3),e.notifyOnChanges();}return  true}return  false}function aP(){return Ka$2(v$7(),Na$5())}function cP(e,t,n,r,o){Af$2(t,bf$2(e,n,r,o));}function lP(e,t,n,r){Af$2(e,Df$2(t,n,r));}function uP(e=1){jo$3(Na$5()+e);}function oc$3(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r;}function dP(e){let t=qu$3();return fn$5(t,j$8+e)}function fP(e,t=""){let n=v$7(),r=P$b(),o=e+j$8,i=r.firstCreatePass?kt$3(r,o,1,t,null):r.data[o],s=qE(r,n,i,t);n[o]=s,Ho$4()&&Qo$3(r,n,s,i),lt$8(i,false);}var qE=(e,t,n,r,o)=>(Bo$3(true),hy$2(t[F$b],r));function WE(e){return ip$2("",e,""),WE}function ip$2(e,t,n){let r=v$7(),o=rc$4(r,e,t,n);return o!==L$9&&Rt$7(r,re$8(),o),ip$2}function zE(e,t,n,r,o){let i=v$7(),s=$f$2(i,e,t,n,r,o);return s!==L$9&&Rt$7(i,re$8(),s),zE}function GE(e,t,n,r,o,i,s){let a=v$7(),c=QI(a,e,t,n,r,o,i,s);return c!==L$9&&Rt$7(a,re$8(),c),GE}function QE(e,t,n,r,o,i,s,a,c){let l=v$7(),u=ZI(l,e,t,n,r,o,i,s,a,c);return u!==L$9&&Rt$7(l,re$8(),u),QE}function ZE(e,t,n,r,o,i,s,a,c,l,u,d,p){let f=v$7(),h=YI(f,e,t,n,r,o,i,s,a,c,l,u,d,p);return h!==L$9&&Rt$7(f,re$8(),h),ZE}function YE(e,t,n,r,o,i,s,a,c,l,u,d,p,f,h){let y=v$7(),b=JI(y,e,t,n,r,o,i,s,a,c,l,u,d,p,f,h);return b!==L$9&&Rt$7(y,re$8(),b),YE}function JE(e,t,n,r,o,i,s,a,c,l,u,d,p,f,h,y,b){let w=v$7(),S=KI(w,e,t,n,r,o,i,s,a,c,l,u,d,p,f,h,y,b);return S!==L$9&&Rt$7(w,re$8(),S),JE}function KE(e,t,n){Tf$2(t)&&(t=t());let r=v$7(),o=Ot$6();if(ne$7(r,o,t)){let i=P$b(),s=hn$5();Jn$2(i,s,r,e,t,r[F$b],n,false);}return KE}function pP(e,t){let n=Tf$2(e);return n&&e.set(t),n}function XE(e,t){let n=v$7(),r=P$b(),o=q$6();return rp$2(r,n,n[F$b],o,e,t),XE}var sp$1={};function ew$1(e){let t=P$b(),n=v$7(),r=e+j$8,o=kt$3(t,r,128,null,null);return lt$8(o,false),oc$3(t,n,r,sp$1),ew$1}function hP(e){Le$7("NgLet");let t=P$b(),n=v$7(),r=re$8();return oc$3(t,n,r,e),e}function mP(e){let t=qu$3(),n=fn$5(t,j$8+e);if(n===sp$1)throw new C$e(314,false);return n}function tw$1(e,t,n){let r=P$b();if(r.firstCreatePass){let o=rt$8(e);ia$6(n,r.data,r.blueprint,o,true),ia$6(t,r.data,r.blueprint,o,false);}}function ia$6(e,t,n,r,o){if(e=z$a(e),Array.isArray(e))for(let i=0;i<e.length;i++)ia$6(e[i],t,n,r,o);else {let i=P$b(),s=v$7(),a=q$6(),c=en$4(e)?e:z$a(e.provide),l=_u$4(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(en$4(e)||!e.multi){let f=new xt$7(l,o,Yo$4),h=ns$3(c,t,o?u:u+p,d);h===-1?(vs$2(oo$5(a,s),i,c),ts$3(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[h]=f,s[h]=f);}else {let f=ns$3(c,t,u+p,d),h=ns$3(c,t,u,u+p),y=f>=0&&n[f],b=h>=0&&n[h];if(o&&!b||!o&&!y){vs$2(oo$5(a,s),i,c);let w=ow$1(o?rw$1:nw$1,n.length,o,r,l);!o&&b&&(n[h].providerFactory=w),ts$3(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(w),s.push(w);}else {let w=ap$1(n[o?h:f],l,!o&&r);ts$3(i,e,f>-1?f:h,w);}!o&&r&&b&&n[h].componentProviders++;}}}function ts$3(e,t,n,r){let o=en$4(t),i=Im$2(t);if(o||i){let c=(i?z$a(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c);}else l.push(n,c);}}}function ap$1(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ns$3(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return  -1}function nw$1(e,t,n,r){return sa$6(this.multi,[])}function rw$1(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ct$6(n,n[x$b],this.providerFactory.index,r);i=a.slice(0,s),sa$6(o,i);for(let c=s;c<a.length;c++)i.push(a[c]);}else i=[],sa$6(o,i);return i}function sa$6(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r());}return t}function ow$1(e,t,n,r,o){let i=new xt$7(e,n,Yo$4);return i.multi=[],i.index=t,i.componentProviders=0,ap$1(i,o,r&&!n),i}function gP(e,t=[]){return n=>{n.providersResolver=(r,o)=>tw$1(r,o?o(e):e,t);}}function yP(e,t,n){let r=e.\u0275cmp;r.directiveDefs=Eo$5(t,false),r.pipeDefs=Eo$5(n,true);}function vP(e,t,n){let r=me$7()+e,o=v$7();return o[r]===L$9?Qe$5(o,r,t()):ei$6(o,r)}function IP(e,t,n,r){return cp$1(v$7(),me$7(),e,t,n,r)}function EP(e,t,n,r,o){return lp$1(v$7(),me$7(),e,t,n,r,o)}function wP(e,t,n,r,o,i){return up$1(v$7(),me$7(),e,t,n,r,o,i)}function DP(e,t,n,r,o,i,s){return dp$1(v$7(),me$7(),e,t,n,r,o,i,s)}function bP(e,t,n,r,o,i,s,a){let c=me$7()+e,l=v$7(),u=Fe$8(l,c,n,r,o,i);return ne$7(l,c+4,s)||u?Qe$5(l,c+5,t(n,r,o,i,s)):ei$6(l,c+5)}function MP(e,t,n,r,o,i,s,a,c,l){let u=me$7()+e,d=v$7(),p=Fe$8(d,u,n,r,o,i);return ti$5(d,u+4,s,a,c)||p?Qe$5(d,u+7,t(n,r,o,i,s,a,c)):ei$6(d,u+7)}function xP(e,t,n,r,o,i,s,a,c,l,u){let d=me$7()+e,p=v$7(),f=Fe$8(p,d,n,r,o,i);return Fe$8(p,d+4,s,a,c,l)||f?Qe$5(p,d+8,t(n,r,o,i,s,a,c,l)):ei$6(p,d+8)}function CP(e,t,n,r){return iw$1(v$7(),me$7(),e,t,n,r)}function er$5(e,t){let n=e[t];return n===L$9?undefined:n}function cp$1(e,t,n,r,o,i){let s=t+n;return ne$7(e,s,o)?Qe$5(e,s+1,i?r.call(i,o):r(o)):er$5(e,s+1)}function lp$1(e,t,n,r,o,i,s){let a=t+n;return cn$6(e,a,o,i)?Qe$5(e,a+2,s?r.call(s,o,i):r(o,i)):er$5(e,a+2)}function up$1(e,t,n,r,o,i,s,a){let c=t+n;return ti$5(e,c,o,i,s)?Qe$5(e,c+3,a?r.call(a,o,i,s):r(o,i,s)):er$5(e,c+3)}function dp$1(e,t,n,r,o,i,s,a,c){let l=t+n;return Fe$8(e,l,o,i,s,a)?Qe$5(e,l+4,c?r.call(c,o,i,s,a):r(o,i,s,a)):er$5(e,l+4)}function iw$1(e,t,n,r,o,i){let s=t+n,a=false;for(let c=0;c<o.length;c++)ne$7(e,s++,o[c])&&(a=true);return a?Qe$5(e,s,r.apply(i,o)):er$5(e,s)}function TP(e,t){let n=P$b(),r,o=e+j$8;n.firstCreatePass?(r=sw$1(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=It$6(r.type)),a=se$7(Yo$4);try{let c=ro$6(!1),l=i();return ro$6(c),oc$3(n,v$7(),o,l),l}finally{se$7(a);}}function sw$1(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function _P(e,t,n){let r=e+j$8,o=v$7(),i=fn$5(o,r);return ni$5(o,r)?cp$1(o,me$7(),t,i.transform,n,i):i.transform(n)}function NP(e,t,n,r){let o=e+j$8,i=v$7(),s=fn$5(i,o);return ni$5(i,o)?lp$1(i,me$7(),t,s.transform,n,r,s):s.transform(n,r)}function SP(e,t,n,r,o){let i=e+j$8,s=v$7(),a=fn$5(s,i);return ni$5(s,i)?up$1(s,me$7(),t,a.transform,n,r,o,a):a.transform(n,r,o)}function AP$1(e,t,n,r,o,i){let s=e+j$8,a=v$7(),c=fn$5(a,s);return ni$5(a,s)?dp$1(a,me$7(),t,c.transform,n,r,o,i,c):c.transform(n,r,o,i)}function ni$5(e,t){return e[x$b].data[t].pure}function OP(e,t){return Xo$5(e,t)}var aa$6=class aa{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n;}},kP=(()=>{class e{compileModuleSync(n){return new Io$5(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Du$3(n),i=Pd$2(o.declarations).reduce((s,a)=>{let c=Be$8(a);return c&&s.push(new Nt$3(c)),s},[]);return new aa$6(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();new k$5("");function lw$1(e,t,n){let r=new Io$5(n);return Promise.resolve(r)}var uw$1=(()=>{class e{zone=N$8(te$6);changeDetectionScheduler=N$8(Tt$6);applicationRef=N$8(ln$5);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick();});}}));}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe();}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dw$1({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new te$6(x$d(w$9({},fp$1()),{scheduleInRootZone:n})),[{provide:te$6,useFactory:e},{provide:Yr$6,multi:true,useFactory:()=>{let r=N$8(uw$1,{optional:true});return ()=>r.initialize()}},{provide:Yr$6,multi:true,useFactory:()=>{let r=N$8(fw$1);return ()=>{r.initialize();}}},t===true?{provide:fd$3,useValue:true}:[],{provide:pd$2,useValue:n??ud$2}]}function fp$1(e){return {enableLongStackTrace:false,shouldCoalesceEventChangeDetection:e?.eventCoalescing??false,shouldCoalesceRunChangeDetection:e?.runCoalescing??false}}var fw$1=(()=>{class e{subscription=new V$7;initialized=false;zone=N$8(te$6);pendingTasks=N$8(Qn$5);initialize(){if(this.initialized)return;this.initialized=true;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te$6.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null);});}));}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te$6.assertInAngularZone(),n??=this.pendingTasks.add();}));}ngOnDestroy(){this.subscription.unsubscribe();}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var pw$1=(()=>{class e{appRef=N$8(ln$5);taskService=N$8(Qn$5);ngZone=N$8(te$6);zonelessEnabled=N$8(dd$3);tracing=N$8(qo$5,{optional:true});disableScheduling=N$8(fd$3,{optional:true})??false;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:true}}];subscriptions=new V$7;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(so$7):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N$8(pd$2,{optional:true})??false);cancelScheduledCallback=null;useMicrotaskScheduler=false;runningTick=false;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup();})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup();})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ao$5||!this.zoneIsDefined);}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=false;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=true;break}case 13:{this.appRef.dirtyFlags|=16,r=true;break}case 14:{this.appRef.dirtyFlags|=2,r=true;break}case 12:{r=true;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8;}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Ml$3:hd$3;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()));}shouldScheduleTick(n){return !(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(so$7+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick();},void 0,this.schedulerTickApplyArgs);}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup();}this.useMicrotaskScheduler=true,Ml$3(()=>{this.useMicrotaskScheduler=false,this.taskService.remove(n);});}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup();}cleanup(){if(this.runningTick=false,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n);}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hw$1(){return typeof $localize<"u"&&$localize.locale||Co$6}var pp$1=new k$5("",{providedIn:"root",factory:()=>N$8(pp$1,A$e.Optional|A$e.SkipSelf)||hw$1()}),RP=new k$5("",{providedIn:"root",factory:()=>RE});var To$3=new k$5(""),mw$1=new k$5("");function Sn$7(e){return !e.moduleRef}function gw$1(e){let t=Sn$7(e)?e.r3Injector:e.moduleRef.injector,n=t.get(te$6);return n.run(()=>{Sn$7(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(it$a,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i);}});}),Sn$7(e)){let i=()=>t.destroy(),s=e.platformInjector.get(To$3);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i);});}else {let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(To$3);s.add(i),e.moduleRef.onDestroy(()=>{zr$5(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i);});}return WI(r,n,()=>{let i=t.get(jf$2);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(pp$1,Co$6);if(FE(s||Co$6),!t.get(mw$1,!0))return Sn$7(e)?t.get(ln$5):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Sn$7(e)){let c=t.get(ln$5);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return yw$1(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function yw$1(e,t){let n=e.injector.get(ln$5);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new C$e(-403,false);t.push(e);}var hp$1=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=false;constructor(n){this._injector=n;}bootstrapModuleFactory(n,r){let o=r?.scheduleInRootZone,i=()=>wg$2(r?.ngZone,x$d(w$9({},fp$1({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),s=r?.ignoreChangesOutsideZone,a=[dw$1({ngZoneFactory:i,ignoreChangesOutsideZone:s}),{provide:Tt$6,useExisting:pw$1}],c=mI(n.moduleType,this.injector,a);return gw$1({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let o=Bf$2({},r);return lw$1(this.injector,o,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n);}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C$e(404,false);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(To$3,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=true;}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(pe$9(_e$8))};static \u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Rn$6=null,mp$1=new k$5("");function vw$1(e){if(Rn$6&&!Rn$6.get(mp$1,false))throw new C$e(400,false);$I(),Rn$6=e;let t=e.get(hp$1);return Dw$1(e),t}function Iw$1(e,t,n=[]){let r=`Platform: ${t}`,o=new k$5(r);return (i=[])=>{let s=gp$1();if(!s||s.injector.get(mp$1,false)){let a=[...n,...i,{provide:o,useValue:true}];e?e(a):vw$1(Ew$1(a,r));}return ww$1()}}function Ew$1(e=[],t){return _e$8.create({name:t,providers:[{provide:Tu$3,useValue:"platform"},{provide:To$3,useValue:new Set([()=>Rn$6=null])},...e]})}function ww$1(e){let t=gp$1();if(!t)throw new C$e(401,false);return t}function gp$1(){return Rn$6?.get(hp$1)??null}function Dw$1(e){let t=e.get(Sg$1,null);Nu$3(e,()=>{t?.forEach(n=>n());});}var bw$1=(()=>{class e{static __NG_ELEMENT_ID__=Mw$1}return e})();function Mw$1(e){return xw$1(q$6(),v$7(),(e&16)===16)}function xw$1(e,t,n){if(Fo$3(e)&&!n){let r=ct$8(e.index,t);return new _t$4(r,r)}else if(e.type&175){let r=t[ae$9];return new _t$4(r,t)}return null}var ca$6=class ca{constructor(){}supports(t){return Ff$2(t)}create(t){return new la$5(t)}},Cw$1=(e,t)=>t,la$5=class la{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Cw$1;}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n);}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<ou$3(r,o,i)?n:r,a=ou$3(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else {i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let p=0;p<l;p++){let f=p<i.length?i[p]:i[p]=0,h=f+p;u<=h&&h<l&&(i[p]=f+1);}let d=s.previousIndex;i[d]=u-l;}}a!==c&&t(s,a,c);}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n);}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n);}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n);}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n);}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n);}diff(t){if(t==null&&(t=[]),!Ff$2(t))throw new C$e(900,false);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=false,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=true):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next;}else o=0,SI(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=true):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++;}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null;}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new ua$6(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n;}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null);}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new _o$5),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _o$5),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ua$6=class ua{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n;}},da$5=class da{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t);}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},_o$5=class _o{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new da$5,this.map.set(n,r)),r.add(t);}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear();}};function ou$3(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}var fa$4=class fa{constructor(){}supports(t){return t instanceof Map||tc$4(t)}create(){return new pa$5}},pa$5=class pa{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n);}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n);}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n);}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n);}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n);}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||tc$4(t)))throw new C$e(900,false);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else {let i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i);}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null;}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let o=this._records.get(t);this._maybeAddToChanges(o,n);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new ha$4(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null;}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t));}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t);}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t);}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r));}},ha$4=class ha{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t;}};function iu$4(){return new Tw$1([new ca$6])}var Tw$1=(()=>{class e{factories;static \u0275prov=H$9({token:e,providedIn:"root",factory:iu$4});constructor(n){this.factories=n;}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o);}return new e(n)}static extend(n){return {provide:e,useFactory:r=>e.create(n,r||iu$4()),deps:[[e,new vu$3,new yu$3]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new C$e(901,false)}}return e})();function su$3(){return new _w$1([new fa$4])}var _w$1=(()=>{class e{static \u0275prov=H$9({token:e,providedIn:"root",factory:su$3});factories;constructor(n){this.factories=n;}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o);}return new e(n)}static extend(n){return {provide:e,useFactory:r=>e.create(n,r||su$3()),deps:[[e,new vu$3,new yu$3]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new C$e(901,false)}}return e})();var FP=Iw$1(null,"core",[]),LP=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(pe$9(ln$5))};static \u0275mod=EI({type:e});static \u0275inj=qh$2({})}return e})();function VP(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function jP(e,t=NaN){return !isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function HP(e,t){Le$7("NgSignals");let n=$i$4(e);return t?.equal&&(n[W$9].equal=t.equal),n}function BP$1(e){let t=_$9(null);try{return e()}finally{_$9(t);}}var yp$1=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r;}static __NG_ELEMENT_ID__=Nw$1}return e})();function Nw$1(){return new yp$1(v$7(),q$6())}(()=>{class e extends Do$3{pendingTasks=N$8(Qn$5);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()));}flush(){try{super.flush();}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null);}}static \u0275prov=H$9({token:e,providedIn:"root",factory:()=>new e})}return e})();var ga$6=class ga{[W$9];constructor(t){this[W$9]=t;}destroy(){this[W$9].destroy();}};function Pw$1(e,t){Le$7("NgSignals"),!t?.injector&&Ro$5();let n=t?.injector??N$8(_e$8),r=t?.manualCleanup!==true?n.get(mn$6):null,o,i=n.get(yp$1,null,{optional:true}),s=n.get(Tt$6);return i!==null&&!t?.forceRoot?(o=Vw$1(i.view,s,e),r instanceof io$5&&r._lView===i.view&&(r=null)):o=jw$1(e,n.get(Hf$2),s),o.injector=n,r!==null&&(o.onDestroyFn=r.onDestroy(()=>o.destroy())),new ga$6(o)}var vp$1=x$d(w$9({},gt$9),{consumerIsAlwaysLive:true,consumerAllowSignalWrites:true,dirty:true,hasRun:false,cleanupFns:undefined,zone:null,kind:"effect",onDestroyFn:jn$6,run(){if(this.dirty=false,this.hasRun&&!_n$6(this))return;this.hasRun=true;let e=r=>(this.cleanupFns??=[]).push(r),t=zt$5(this),n=eo$5(false);try{this.maybeCleanup(),this.fn(e);}finally{eo$5(n),Tn$6(this,t);}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()();}finally{this.cleanupFns=[];}}}),Fw$1=x$d(w$9({},vp$1),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13);},destroy(){Gt$5(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this);}}),Lw$1=x$d(w$9({},vp$1),{consumerMarkedDirty(){this.view[D$8]|=8192,Gn$4(this.view),this.notifier.notify(14);},destroy(){Gt$5(this),this.onDestroyFn(),this.maybeCleanup(),this.view[wt$7]?.delete(this);}});function Vw$1(e,t,n){let r=Object.create(Lw$1);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=n,e[wt$7]??=new Set,e[wt$7].add(r),r.consumerMarkedDirty(r),r}function jw$1(e,t,n){let r=Object.create(Fw$1);return r.fn=e,r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(13),r}function $P(e,t){let n=Be$8(e),r=t.elementInjector||ko$6();return new Nt$3(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}function UP(e){let t=Be$8(e);if(!t)return null;let n=new Nt$3(t);return {get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Ps$2=null;function Te$9(){return Ps$2}function Ls$3(t){Ps$2??=t;}var sn$4=class sn{};var L$8=new k$5(""),yr$5=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(pa$4),providedIn:"platform"})}return t})(),Ns$3=new k$5(""),pa$4=(()=>{class t extends yr$5{_location;_history;_doc=N$8(L$8);constructor(){super(),this._location=window.location,this._history=window.history;}getBaseHrefFromDOM(){return Te$9().getBaseHref(this._doc)}onPopState(e){let n=Te$9().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,false),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Te$9().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,false),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e;}pushState(e,n,i){this._history.pushState(e,n,i);}replaceState(e,n,i){this._history.replaceState(e,n,i);}forward(){this._history.forward();}back(){this._history.back();}historyGo(e=0){this._history.go(e);}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function wr$5(t,r){if(t.length==0)return r;if(r.length==0)return t;let e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,e==2?t+r.substring(1):e==1?t+r:t+"/"+r}function ws$2(t){let r=t.match(/#|\?|$/),e=r&&r.index||t.length,n=e-(t[e-1]==="/"?1:0);return t.slice(0,n)+t.slice(e)}function fe$6(t){return t&&t[0]!=="?"?"?"+t:t}var pe$8=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(Cr$5),providedIn:"root"})}return t})(),ks$3=new k$5(""),Cr$5=(()=>{class t extends pe$8{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??N$8(L$8).location?.origin??"";}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e));}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return wr$5(this._baseHref,e)}path(e=false){let n=this._platformLocation.pathname+fe$6(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+fe$6(s));this._platformLocation.pushState(e,n,o);}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+fe$6(s));this._platformLocation.replaceState(e,n,o);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e);}static \u0275fac=function(n){return new(n||t)(pe$9(yr$5),pe$9(ks$3,8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xs$2=(()=>{class t extends pe$8{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n);}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e));}getBaseHref(){return this._baseHref}path(e=false){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=wr$5(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+fe$6(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,n,o);}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+fe$6(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,o);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e);}static \u0275fac=function(n){return new(n||t)(pe$9(yr$5),pe$9(ks$3,8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),Xe$4=(()=>{class t{_subject=new Z$a;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=va$4(ws$2(Cs$5(n))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(true),pop:true,state:i.state,type:i.type});});}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[];}path(e=false){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+fe$6(n))}normalize(e){return t.stripTrailingSlash(ma$5(this._basePath,Cs$5(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe$6(n)),i);}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe$6(n)),i);}forward(){this._locationStrategy.forward();}back(){this._locationStrategy.back();}historyGo(e=0){this._locationStrategy.historyGo?.(e);}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state);}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null);}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n));}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n??undefined,complete:i??undefined})}static normalizeQueryParams=fe$6;static joinWithSlash=wr$5;static stripTrailingSlash=ws$2;static \u0275fac=function(n){return new(n||t)(pe$9(pe$8))};static \u0275prov=H$9({token:t,factory:()=>ga$5(),providedIn:"root"})}return t})();function ga$5(){return new Xe$4(pe$9(pe$8))}function ma$5(t,r){if(!t||!r.startsWith(t))return r;let e=r.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:r}function Cs$5(t){return t.replace(/\/index.html$/,"")}function va$4(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var Us$3={ADP:[undefined,undefined,0],AFN:[undefined,"\u060B",0],ALL:[undefined,undefined,0],AMD:[undefined,"\u058F",2],AOA:[undefined,"Kz"],ARS:[undefined,"$"],AUD:["A$","$"],AZN:[undefined,"\u20BC"],BAM:[undefined,"KM"],BBD:[undefined,"$"],BDT:[undefined,"\u09F3"],BHD:[undefined,undefined,3],BIF:[undefined,undefined,0],BMD:[undefined,"$"],BND:[undefined,"$"],BOB:[undefined,"Bs"],BRL:["R$"],BSD:[undefined,"$"],BWP:[undefined,"P"],BYN:[undefined,undefined,2],BYR:[undefined,undefined,0],BZD:[undefined,"$"],CAD:["CA$","$",2],CHF:[undefined,undefined,2],CLF:[undefined,undefined,4],CLP:[undefined,"$",0],CNY:["CN\xA5","\xA5"],COP:[undefined,"$",2],CRC:[undefined,"\u20A1",2],CUC:[undefined,"$"],CUP:[undefined,"$"],CZK:[undefined,"K\u010D",2],DJF:[undefined,undefined,0],DKK:[undefined,"kr",2],DOP:[undefined,"$"],EGP:[undefined,"E\xA3"],ESP:[undefined,"\u20A7",0],EUR:["\u20AC"],FJD:[undefined,"$"],FKP:[undefined,"\xA3"],GBP:["\xA3"],GEL:[undefined,"\u20BE"],GHS:[undefined,"GH\u20B5"],GIP:[undefined,"\xA3"],GNF:[undefined,"FG",0],GTQ:[undefined,"Q"],GYD:[undefined,"$",2],HKD:["HK$","$"],HNL:[undefined,"L"],HRK:[undefined,"kn"],HUF:[undefined,"Ft",2],IDR:[undefined,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[undefined,undefined,0],IRR:[undefined,undefined,0],ISK:[undefined,"kr",0],ITL:[undefined,undefined,0],JMD:[undefined,"$"],JOD:[undefined,undefined,3],JPY:["\xA5",undefined,0],KHR:[undefined,"\u17DB"],KMF:[undefined,"CF",0],KPW:[undefined,"\u20A9",0],KRW:["\u20A9",undefined,0],KWD:[undefined,undefined,3],KYD:[undefined,"$"],KZT:[undefined,"\u20B8"],LAK:[undefined,"\u20AD",0],LBP:[undefined,"L\xA3",0],LKR:[undefined,"Rs"],LRD:[undefined,"$"],LTL:[undefined,"Lt"],LUF:[undefined,undefined,0],LVL:[undefined,"Ls"],LYD:[undefined,undefined,3],MGA:[undefined,"Ar",0],MGF:[undefined,undefined,0],MMK:[undefined,"K",0],MNT:[undefined,"\u20AE",2],MRO:[undefined,undefined,0],MUR:[undefined,"Rs",2],MXN:["MX$","$"],MYR:[undefined,"RM"],NAD:[undefined,"$"],NGN:[undefined,"\u20A6"],NIO:[undefined,"C$"],NOK:[undefined,"kr",2],NPR:[undefined,"Rs"],NZD:["NZ$","$"],OMR:[undefined,undefined,3],PHP:["\u20B1"],PKR:[undefined,"Rs",2],PLN:[undefined,"z\u0142"],PYG:[undefined,"\u20B2",0],RON:[undefined,"lei"],RSD:[undefined,undefined,0],RUB:[undefined,"\u20BD"],RWF:[undefined,"RF",0],SBD:[undefined,"$"],SEK:[undefined,"kr",2],SGD:[undefined,"$"],SHP:[undefined,"\xA3"],SLE:[undefined,undefined,2],SLL:[undefined,undefined,0],SOS:[undefined,undefined,0],SRD:[undefined,"$"],SSP:[undefined,"\xA3"],STD:[undefined,undefined,0],STN:[undefined,"Db"],SYP:[undefined,"\xA3",0],THB:[undefined,"\u0E3F"],TMM:[undefined,undefined,0],TND:[undefined,undefined,3],TOP:[undefined,"T$"],TRL:[undefined,undefined,0],TRY:[undefined,"\u20BA"],TTD:[undefined,"$"],TWD:["NT$","$",2],TZS:[undefined,undefined,2],UAH:[undefined,"\u20B4"],UGX:[undefined,undefined,0],USD:["$"],UYI:[undefined,undefined,0],UYU:[undefined,"$"],UYW:[undefined,undefined,4],UZS:[undefined,undefined,2],VEF:[undefined,"Bs",2],VND:["\u20AB",undefined,0],VUV:[undefined,undefined,0],XAF:["FCFA",undefined,0],XCD:["EC$","$"],XOF:["F\u202FCFA",undefined,0],XPF:["CFPF",undefined,0],XXX:["\xA4"],YER:[undefined,undefined,0],ZAR:[undefined,"R"],ZMK:[undefined,undefined,0],ZMW:[undefined,"ZK"],ZWD:[undefined,undefined,0]},cn$5=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(cn$5||{}),Ye$a=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}(Ye$a||{}),$$7=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}($$7||{}),I$9=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(I$9||{}),H$8=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(H$8||{}),P$a={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Da$4(t){return OE(t)[np$2.LocaleId]}function ya$5(t,r,e){let n=OE(t),i=[n[np$2.DayPeriodsFormat],n[np$2.DayPeriodsStandalone]],s=J$6(i,r);return J$6(s,e)}function wa$5(t,r,e){let n=OE(t),i=[n[np$2.DaysFormat],n[np$2.DaysStandalone]],s=J$6(i,r);return J$6(s,e)}function Ca$5(t,r,e){let n=OE(t),i=[n[np$2.MonthsFormat],n[np$2.MonthsStandalone]],s=J$6(i,r);return J$6(s,e)}function Ea$4(t,r){let n=OE(t)[np$2.Eras];return J$6(n,r)}function Kt$4(t,r){let e=OE(t);return J$6(e[np$2.DateFormat],r)}function Xt$5(t,r){let e=OE(t);return J$6(e[np$2.TimeFormat],r)}function Jt$7(t,r){let n=OE(t)[np$2.DateTimeFormat];return J$6(n,r)}function X$8(t,r){let e=OE(t),n=e[np$2.NumberSymbols][r];if(typeof n>"u"){if(r===P$a.CurrencyDecimal)return e[np$2.NumberSymbols][P$a.Decimal];if(r===P$a.CurrencyGroup)return e[np$2.NumberSymbols][P$a.Group]}return n}function Er$5(t,r){return OE(t)[np$2.NumberFormats][r]}function Sa$6(t){return OE(t)[np$2.Currencies]}var ba$5=eP;function Bs$2(t){if(!t[np$2.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[np$2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Aa$5(t){let r=OE(t);return Bs$2(r),(r[np$2.ExtraData][2]||[]).map(n=>typeof n=="string"?ar$4(n):[ar$4(n[0]),ar$4(n[1])])}function Ra$5(t,r,e){let n=OE(t);Bs$2(n);let i=[n[np$2.ExtraData][0],n[np$2.ExtraData][1]],s=J$6(i,r)||[];return J$6(s,e)||[]}function J$6(t,r){for(let e=r;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function ar$4(t){let[r,e]=t.split(":");return {hours:+r,minutes:+e}}function Ta$5(t,r,e="en"){let n=Sa$6(e)[t]||Us$3[t]||[],i=n[1];return r==="narrow"&&typeof i=="string"?i:n[0]||t}var Ia$2=2;function Ma$5(t){let r,e=Us$3[t];return e&&(r=e[2]),typeof r=="number"?r:Ia$2}var Fa$5=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qt$5={},_a$3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Oa$5(t,r,e,n){let i=$a$4(t);r=he$6(e,r)||r;let o=[],a;for(;r;)if(a=_a$3.exec(r),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;r=l;}else {o.push(r);break}let u=i.getTimezoneOffset();n&&(u=$s$3(n,u),i=ja$3(i,n));let c="";return o.forEach(l=>{let d=Ua$3(l);c+=d?d(i,e,u):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'");}),c}function on$4(t,r,e){let n=new Date(0);return n.setFullYear(t,r,e),n.setHours(0,0,0),n}function he$6(t,r){let e=Da$4(t);if(Qt$5[e]??={},Qt$5[e][r])return Qt$5[e][r];let n="";switch(r){case "shortDate":n=Kt$4(t,H$8.Short);break;case "mediumDate":n=Kt$4(t,H$8.Medium);break;case "longDate":n=Kt$4(t,H$8.Long);break;case "fullDate":n=Kt$4(t,H$8.Full);break;case "shortTime":n=Xt$5(t,H$8.Short);break;case "mediumTime":n=Xt$5(t,H$8.Medium);break;case "longTime":n=Xt$5(t,H$8.Long);break;case "fullTime":n=Xt$5(t,H$8.Full);break;case "short":let i=he$6(t,"shortTime"),s=he$6(t,"shortDate");n=en$3(Jt$7(t,H$8.Short),[i,s]);break;case "medium":let o=he$6(t,"mediumTime"),a=he$6(t,"mediumDate");n=en$3(Jt$7(t,H$8.Medium),[o,a]);break;case "long":let u=he$6(t,"longTime"),c=he$6(t,"longDate");n=en$3(Jt$7(t,H$8.Long),[u,c]);break;case "full":let l=he$6(t,"fullTime"),d=he$6(t,"fullDate");n=en$3(Jt$7(t,H$8.Full),[l,d]);break}return n&&(Qt$5[e][r]=n),n}function en$3(t,r){return r&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return r!=null&&n in r?r[n]:e})),t}function ne$6(t,r,e="-",n,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=e));let o=String(t);for(;o.length<r;)o="0"+o;return n&&(o=o.slice(o.length-r)),s+o}function Pa$3(t,r){return ne$6(t,3).substring(0,r)}function O$a(t,r,e=0,n=false,i=false){return function(s,o){let a=La$5(t,s);if((e>0||a>-e)&&(a+=e),t===3)a===0&&e===-12&&(a=12);else if(t===6)return Pa$3(a,r);let u=X$8(o,P$a.MinusSign);return ne$6(a,r,u,n,i)}}function La$5(t,r){switch(t){case 0:return r.getFullYear();case 1:return r.getMonth();case 2:return r.getDate();case 3:return r.getHours();case 4:return r.getMinutes();case 5:return r.getSeconds();case 6:return r.getMilliseconds();case 7:return r.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function M$9(t,r,e=$$7.Format,n=false){return function(i,s){return Na$4(i,s,t,r,e,n)}}function Na$4(t,r,e,n,i,s){switch(e){case 2:return Ca$5(r,i,n)[t.getMonth()];case 1:return wa$5(r,i,n)[t.getDay()];case 0:let o=t.getHours(),a=t.getMinutes();if(s){let c=Aa$5(r),l=Ra$5(r,i,n),d=c.findIndex(p=>{if(Array.isArray(p)){let[g,b]=p,E=o>=g.hours&&a>=g.minutes,w=o<b.hours||o===b.hours&&a<b.minutes;if(g.hours<b.hours){if(E&&w)return  true}else if(E||w)return  true}else if(p.hours===o&&p.minutes===a)return  true;return  false});if(d!==-1)return l[d]}return ya$5(r,i,n)[o<12?0:1];case 3:return Ea$4(r,n)[t.getFullYear()<=0?0:1];default:let u=e;throw new Error(`unexpected translation type ${u}`)}}function tn$5(t){return function(r,e,n){let i=-1*n,s=X$8(e,P$a.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return (i>=0?"+":"")+ne$6(o,2,s)+ne$6(Math.abs(i%60),2,s);case 1:return "GMT"+(i>=0?"+":"")+ne$6(o,1,s);case 2:return "GMT"+(i>=0?"+":"")+ne$6(o,2,s)+":"+ne$6(Math.abs(i%60),2,s);case 3:return n===0?"Z":(i>=0?"+":"")+ne$6(o,2,s)+":"+ne$6(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var ka$3=0,rn$4=4;function xa$5(t){let r=on$4(t,ka$3,1).getDay();return on$4(t,0,1+(r<=rn$4?rn$4:rn$4+7)-r)}function js$3(t){let r=t.getDay(),e=r===0?-3:rn$4-r;return on$4(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ur$5(t,r=false){return function(e,n){let i;if(r){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7);}else {let s=js$3(e),o=xa$5(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5);}return ne$6(i,t,X$8(n,P$a.MinusSign))}}function nn$7(t,r=false){return function(e,n){let s=js$3(e).getFullYear();return ne$6(s,t,X$8(n,P$a.MinusSign),r)}}var cr$4={};function Ua$3(t){if(cr$4[t])return cr$4[t];let r;switch(t){case "G":case "GG":case "GGG":r=M$9(3,I$9.Abbreviated);break;case "GGGG":r=M$9(3,I$9.Wide);break;case "GGGGG":r=M$9(3,I$9.Narrow);break;case "y":r=O$a(0,1,0,false,true);break;case "yy":r=O$a(0,2,0,true,true);break;case "yyy":r=O$a(0,3,0,false,true);break;case "yyyy":r=O$a(0,4,0,false,true);break;case "Y":r=nn$7(1);break;case "YY":r=nn$7(2,true);break;case "YYY":r=nn$7(3);break;case "YYYY":r=nn$7(4);break;case "M":case "L":r=O$a(1,1,1);break;case "MM":case "LL":r=O$a(1,2,1);break;case "MMM":r=M$9(2,I$9.Abbreviated);break;case "MMMM":r=M$9(2,I$9.Wide);break;case "MMMMM":r=M$9(2,I$9.Narrow);break;case "LLL":r=M$9(2,I$9.Abbreviated,$$7.Standalone);break;case "LLLL":r=M$9(2,I$9.Wide,$$7.Standalone);break;case "LLLLL":r=M$9(2,I$9.Narrow,$$7.Standalone);break;case "w":r=ur$5(1);break;case "ww":r=ur$5(2);break;case "W":r=ur$5(1,true);break;case "d":r=O$a(2,1);break;case "dd":r=O$a(2,2);break;case "c":case "cc":r=O$a(7,1);break;case "ccc":r=M$9(1,I$9.Abbreviated,$$7.Standalone);break;case "cccc":r=M$9(1,I$9.Wide,$$7.Standalone);break;case "ccccc":r=M$9(1,I$9.Narrow,$$7.Standalone);break;case "cccccc":r=M$9(1,I$9.Short,$$7.Standalone);break;case "E":case "EE":case "EEE":r=M$9(1,I$9.Abbreviated);break;case "EEEE":r=M$9(1,I$9.Wide);break;case "EEEEE":r=M$9(1,I$9.Narrow);break;case "EEEEEE":r=M$9(1,I$9.Short);break;case "a":case "aa":case "aaa":r=M$9(0,I$9.Abbreviated);break;case "aaaa":r=M$9(0,I$9.Wide);break;case "aaaaa":r=M$9(0,I$9.Narrow);break;case "b":case "bb":case "bbb":r=M$9(0,I$9.Abbreviated,$$7.Standalone,true);break;case "bbbb":r=M$9(0,I$9.Wide,$$7.Standalone,true);break;case "bbbbb":r=M$9(0,I$9.Narrow,$$7.Standalone,true);break;case "B":case "BB":case "BBB":r=M$9(0,I$9.Abbreviated,$$7.Format,true);break;case "BBBB":r=M$9(0,I$9.Wide,$$7.Format,true);break;case "BBBBB":r=M$9(0,I$9.Narrow,$$7.Format,true);break;case "h":r=O$a(3,1,-12);break;case "hh":r=O$a(3,2,-12);break;case "H":r=O$a(3,1);break;case "HH":r=O$a(3,2);break;case "m":r=O$a(4,1);break;case "mm":r=O$a(4,2);break;case "s":r=O$a(5,1);break;case "ss":r=O$a(5,2);break;case "S":r=O$a(6,1);break;case "SS":r=O$a(6,2);break;case "SSS":r=O$a(6,3);break;case "Z":case "ZZ":case "ZZZ":r=tn$5(0);break;case "ZZZZZ":r=tn$5(3);break;case "O":case "OO":case "OOO":case "z":case "zz":case "zzz":r=tn$5(1);break;case "OOOO":case "ZZZZ":case "zzzz":r=tn$5(2);break;default:return null}return cr$4[t]=r,r}function $s$3(t,r){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?r:e}function Ba$5(t,r){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+r),t}function ja$3(t,r,e){let n=-1,i=t.getTimezoneOffset(),s=$s$3(r,i);return Ba$5(t,n*(s-i))}function $a$4(t){if(Es$3(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return on$4(i,s-1,o)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(Fa$5))return za$3(n)}let r=new Date(t);if(!Es$3(r))throw new Error(`Unable to convert "${t}" into a date`);return r}function za$3(t){let r=new Date(0),e=0,n=0,i=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(r,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-e,a=Number(t[5]||0)-n,u=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(r,o,a,u,c),r}function Es$3(t){return t instanceof Date&&!isNaN(t.valueOf())}var Va$4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ss$2=22,an$4=".",gt$8="0",Ga$3=";",Ha$3=",",lr$5="#",bs$3="\xA4",qa$3="%";function Sr$5(t,r,e,n,i,s,o=false){let a="",u=false;if(!isFinite(t))a=X$8(e,P$a.Infinity);else {let c=Xa$2(t);o&&(c=Ka$1(c));let l=r.minInt,d=r.minFrac,p=r.maxFrac;if(s){let ee=s.match(Va$4);if(ee===null)throw new Error(`${s} is not a valid digit info`);let F=ee[1],_e=ee[3],$t=ee[5];F!=null&&(l=dr$5(F)),_e!=null&&(d=dr$5(_e)),$t!=null?p=dr$5($t):_e!=null&&d>p&&(p=d);}Ja$4(c,d,p);let g=c.digits,b=c.integerLen,E=c.exponent,w=[];for(u=g.every(ee=>!ee);b<l;b++)g.unshift(0);for(;b<0;b++)g.unshift(0);b>0?w=g.splice(b,g.length):(w=g,g=[0]);let k=[];for(g.length>=r.lgSize&&k.unshift(g.splice(-r.lgSize,g.length).join(""));g.length>r.gSize;)k.unshift(g.splice(-r.gSize,g.length).join(""));g.length&&k.unshift(g.join("")),a=k.join(X$8(e,n)),w.length&&(a+=X$8(e,i)+w.join("")),E&&(a+=X$8(e,P$a.Exponential)+"+"+E);}return t<0&&!u?a=r.negPre+a+r.negSuf:a=r.posPre+a+r.posSuf,a}function Wa$2(t,r,e,n,i){let s=Er$5(r,cn$5.Currency),o=br$5(s,X$8(r,P$a.MinusSign));return o.minFrac=Ma$5(n),o.maxFrac=o.minFrac,Sr$5(t,o,r,P$a.CurrencyGroup,P$a.CurrencyDecimal,i).replace(bs$3,e).replace(bs$3,"").trim()}function Za$2(t,r,e){let n=Er$5(r,cn$5.Percent),i=br$5(n,X$8(r,P$a.MinusSign));return Sr$5(t,i,r,P$a.Group,P$a.Decimal,e,true).replace(new RegExp(qa$3,"g"),X$8(r,P$a.PercentSign))}function Ya$3(t,r,e){let n=Er$5(r,cn$5.Decimal),i=br$5(n,X$8(r,P$a.MinusSign));return Sr$5(t,i,r,P$a.Group,P$a.Decimal,e)}function br$5(t,r="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(Ga$3),i=n[0],s=n[1],o=i.indexOf(an$4)!==-1?i.split(an$4):[i.substring(0,i.lastIndexOf(gt$8)+1),i.substring(i.lastIndexOf(gt$8)+1)],a=o[0],u=o[1]||"";e.posPre=a.substring(0,a.indexOf(lr$5));for(let l=0;l<u.length;l++){let d=u.charAt(l);d===gt$8?e.minFrac=e.maxFrac=l+1:d===lr$5?e.maxFrac=l+1:e.posSuf+=d;}let c=a.split(Ha$3);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let l=i.length-e.posPre.length-e.posSuf.length,d=s.indexOf(lr$5);e.negPre=s.substring(0,d).replace(/'/g,""),e.negSuf=s.slice(d+l).replace(/'/g,"");}else e.negPre=r+e.posPre,e.negSuf=e.posSuf;return e}function Ka$1(t){if(t.digits[0]===0)return t;let r=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(r===0?t.digits.push(0,0):r===1&&t.digits.push(0),t.integerLen+=2),t}function Xa$2(t){let r=Math.abs(t)+"",e=0,n,i,s,o,a;for((i=r.indexOf(an$4))>-1&&(r=r.replace(an$4,"")),(s=r.search(/e/i))>0?(i<0&&(i=s),i+=+r.slice(s+1),r=r.substring(0,s)):i<0&&(i=r.length),s=0;r.charAt(s)===gt$8;s++);if(s===(a=r.length))n=[0],i=1;else {for(a--;r.charAt(a)===gt$8;)a--;for(i-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(r.charAt(s));}return i>Ss$2&&(n=n.splice(0,Ss$2-1),e=i-1,i=1),{digits:n,exponent:e,integerLen:i}}function Ja$4(t,r,e){if(r>e)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${e}).`);let n=t.digits,i=n.length-t.integerLen,s=Math.min(Math.max(r,i),e),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let d=o;d<n.length;d++)n[d]=0;}else {i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let d=1;d<o;d++)n[d]=0;}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++;}else n[o-1]++;for(;i<Math.max(0,s);i++)n.push(0);let u=s!==0,c=r+t.integerLen,l=n.reduceRight(function(d,p,g,b){return p=p+d,b[g]=p<10?p:p-10,u&&(b[g]===0&&g>=c?b.pop():u=false),p>=10?1:0},0);l&&(n.unshift(l),t.integerLen++);}function dr$5(t){let r=parseInt(t);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+t);return r}var zs$2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:function(n){let i=null;return n?i=new n:i=(s=>new eu$2(s))(pe$9(pp$1)),i},providedIn:"root"})}return t})();function Qa$2(t,r,e,n){let i=`=${t}`;if(r.indexOf(i)>-1||(i=e.getPluralCategory(t,n),r.indexOf(i)>-1))return i;if(r.indexOf("other")>-1)return "other";throw new Error(`No plural message found for value "${t}"`)}var eu$2=(()=>{class t extends zs$2{locale;constructor(e){super(),this.locale=e;}getPluralCategory(e,n){switch(ba$5(n||this.locale)(e)){case Ye$a.Zero:return "zero";case Ye$a.One:return "one";case Ye$a.Two:return "two";case Ye$a.Few:return "few";case Ye$a.Many:return "many";default:return "other"}}static \u0275fac=function(n){return new(n||t)(pe$9(pp$1))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();function ln$4(t,r){r=encodeURIComponent(r);for(let e of t.split(";")){let n=e.indexOf("="),[i,s]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===r)return decodeURIComponent(s)}return null}var hr$5=/\s+/,As$3=[],Ld$1=(()=>{class t{_ngEl;_renderer;initialClasses=As$3;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n;}set klass(e){this.initialClasses=e!=null?e.trim().split(hr$5):As$3;}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(hr$5):e;}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,true);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,true);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff();}_updateState(e,n){let i=this.stateMap.get(e);i!==undefined?(i.enabled!==n&&(i.changed=true,i.enabled=n),i.touched=true):this.stateMap.set(e,{enabled:n,changed:true,touched:true});}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],i=e[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=false):i.touched||(i.enabled&&this._toggleClass(n,false),this.stateMap.delete(n)),i.touched=false;}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(hr$5).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i);});}static \u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(NR))};static \u0275dir=VR({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})(),Nd$2=(()=>{class t{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(e){this._viewContainerRef=e;}_needToReCreateNgModuleInstance(e){return e.ngComponentOutletNgModule!==undefined||e.ngComponentOutletNgModuleFactory!==undefined}_needToReCreateComponentInstance(e){return e.ngComponentOutlet!==undefined||e.ngComponentOutletContent!==undefined||e.ngComponentOutletInjector!==undefined||this._needToReCreateNgModuleInstance(e)}ngOnChanges(e){if(this._needToReCreateComponentInstance(e)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=undefined,this.ngComponentOutlet)){let n=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(e)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=FR(this.ngComponentOutletNgModule,Rs$2(n)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Rs$2(n)):this._moduleRef=undefined),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:n,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent});}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let e of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(e,true);this._applyInputStateDiff(this._componentRef);}}ngOnDestroy(){this._moduleRef?.destroy();}_applyInputStateDiff(e){for(let[n,i]of this._inputsUsed)i?(e.setInput(n,this.ngComponentOutletInputs[n]),this._inputsUsed.set(n,false)):(e.setInput(n,undefined),this._inputsUsed.delete(n));}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5))};static \u0275dir=VR({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[tR]})}return t})();function Rs$2(t){return t.get(St$5).injector}var fr$5=class fr{$implicit;ngForOf;index;count;constructor(r,e,n,i){this.$implicit=r,this.ngForOf=e,this.index=n,this.count=i;}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return !this.even}},kd$2=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=true;}set ngForTrackBy(e){this._trackByFn=e;}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=true;_differ=null;_trackByFn;constructor(e,n,i){this._viewContainer=e,this._template=n,this._differs=i;}set ngForTemplate(e){e&&(this._template=e);}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=false;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy));}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e);}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((i,s,o)=>{if(i.previousIndex==null)n.createEmbeddedView(this._template,new fr$5(i.item,this._ngForOf,-1,-1),o===null?undefined:o);else if(o==null)n.remove(s===null?undefined:s);else if(s!==null){let a=n.get(s);n.move(a,o),Ts$2(a,i);}});for(let i=0,s=n.length;i<s;i++){let a=n.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf;}e.forEachIdentityChange(i=>{let s=n.get(i.currentIndex);Ts$2(s,i);});}static ngTemplateContextGuard(e,n){return  true}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5),Yo$4(fo$3),Yo$4(Tw$1))};static \u0275dir=VR({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Ts$2(t,r){t.context.$implicit=r.item;}var xd$2=(()=>{class t{_viewContainer;_context=new pr$5;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n;}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView();}set ngIfThen(e){Is$2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView();}set ngIfElse(e){Is$2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView();}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)));}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return  true}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5),Yo$4(fo$3))};static \u0275dir=VR({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),pr$5=class pr{$implicit=null;ngIf=null};function Is$2(t,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${fe$7(r)}'.`)}var un$4=class un{_viewContainerRef;_templateRef;_created=false;constructor(r,e){this._viewContainerRef=r,this._templateRef=e;}create(){this._created=true,this._viewContainerRef.createEmbeddedView(this._templateRef);}destroy(){this._created=false,this._viewContainerRef.clear();}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy();}},Vs$2=(()=>{class t{_defaultViews=[];_defaultUsed=false;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=false;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(true);}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e);}_matchCase(e){let n=e===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=false),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let n of this._defaultViews)n.enforceState(e);}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),Ud$1=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(e,n,i){this.ngSwitch=i,i._addCase(),this._view=new un$4(e,n);}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase));}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5),Yo$4(fo$3),Yo$4(Vs$2,9))};static \u0275dir=VR({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})(),Bd$1=(()=>{class t{constructor(e,n,i){i._addDefault(new un$4(e,n));}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5),Yo$4(fo$3),Yo$4(Vs$2,9))};static \u0275dir=VR({type:t,selectors:[["","ngSwitchDefault",""]]})}return t})();var jd$2=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,i){this._ngEl=e,this._differs=n,this._renderer=i;}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create());}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e);}}_setStyle(e,n){let[i,s]=e.split("."),o=i.indexOf("-")===-1?undefined:Rs$3.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o);}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue));}static \u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(_w$1),Yo$4(NR))};static \u0275dir=VR({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),$d$2=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e;}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??undefined});}}_shouldRecreateView(e){return !!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):false,get:(e,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static \u0275fac=function(n){return new(n||t)(Yo$4(Ja$5))};static \u0275dir=VR({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[tR]})}return t})();function oe$7(t,r){return new C$e(2100,false)}var gr$5=class gr{createSubscription(r,e){return BP$1(()=>r.subscribe({next:e,error:n=>{throw n}}))}dispose(r){BP$1(()=>r.unsubscribe());}},mr$5=class mr{createSubscription(r,e){return r.then(e,n=>{throw n})}dispose(r){}},tu$2=new mr$5,nu$2=new gr$5,zd$1=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=true;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e;}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null;}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e);}finally{this.markForCheckOnValueUpdate=true;}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n));}_selectStrategy(e){if(Lf$2(e))return tu$2;if(HI(e))return nu$2;throw oe$7()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null;}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck());}static \u0275fac=function(n){return new(n||t)(Yo$4(bw$1,16))};static \u0275pipe=jR({name:"async",type:t,pure:false})}return t})(),Vd$2=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw oe$7();return e.toLowerCase()}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=jR({name:"lowercase",type:t,pure:true})}return t})(),ru$2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Gd$1=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw oe$7();return e.replace(ru$2,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=jR({name:"titlecase",type:t,pure:true})}return t})(),Hd$1=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw oe$7();return e.toUpperCase()}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=jR({name:"uppercase",type:t,pure:true})}return t})(),iu$3="mediumDate",su$2=new k$5(""),ou$2=new k$5(""),qd$1=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,n,i){this.locale=e,this.defaultTimezone=n,this.defaultOptions=i;}transform(e,n,i,s){if(e==null||e===""||e!==e)return null;try{let o=n??this.defaultOptions?.dateFormat??iu$3,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Oa$5(e,o,s||this.locale,a)}catch(o){throw oe$7(t,o.message)}}static \u0275fac=function(n){return new(n||t)(Yo$4(pp$1,16),Yo$4(su$2,24),Yo$4(ou$2,24))};static \u0275pipe=jR({name:"date",type:t,pure:true})}return t})(),au$2=/#/g,Wd$1=(()=>{class t{_localization;constructor(e){this._localization=e;}transform(e,n,i){if(e==null)return "";if(typeof n!="object"||n===null)throw oe$7();let s=Qa$2(e,Object.keys(n),this._localization,i);return n[s].replace(au$2,e.toString())}static \u0275fac=function(n){return new(n||t)(Yo$4(zs$2,16))};static \u0275pipe=jR({name:"i18nPlural",type:t,pure:true})}return t})();function uu$3(t,r){return {key:t,value:r}}var Zd$1=(()=>{class t{differs;constructor(e){this.differs=e;}differ;keyValues=[];compareFn=Ms$2;transform(e,n=Ms$2){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let i=this.differ.diff(e),s=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(uu$3(o.key,o.currentValue));})),(i||s)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||t)(Yo$4(_w$1,16))};static \u0275pipe=jR({name:"keyvalue",type:t,pure:false})}return t})();function Ms$2(t,r){let e=t.key,n=r.key;if(e===n)return 0;if(e===undefined)return 1;if(n===undefined)return  -1;if(e===null)return 1;if(n===null)return  -1;if(typeof e=="string"&&typeof n=="string")return e<n?-1:1;if(typeof e=="number"&&typeof n=="number")return e-n;if(typeof e=="boolean"&&typeof n=="boolean")return e<n?-1:1;let i=String(e),s=String(n);return i==s?0:i<s?-1:1}var Yd$1=(()=>{class t{_locale;constructor(e){this._locale=e;}transform(e,n,i){if(!Ar$5(e))return null;i||=this._locale;try{let s=Rr$3(e);return Ya$3(s,i,n)}catch(s){throw oe$7(t,s.message)}}static \u0275fac=function(n){return new(n||t)(Yo$4(pp$1,16))};static \u0275pipe=jR({name:"number",type:t,pure:true})}return t})(),Kd$1=(()=>{class t{_locale;constructor(e){this._locale=e;}transform(e,n,i){if(!Ar$5(e))return null;i||=this._locale;try{let s=Rr$3(e);return Za$2(s,i,n)}catch(s){throw oe$7(t,s.message)}}static \u0275fac=function(n){return new(n||t)(Yo$4(pp$1,16))};static \u0275pipe=jR({name:"percent",type:t,pure:true})}return t})(),Xd$1=(()=>{class t{_locale;_defaultCurrencyCode;constructor(e,n="USD"){this._locale=e,this._defaultCurrencyCode=n;}transform(e,n=this._defaultCurrencyCode,i="symbol",s,o){if(!Ar$5(e))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Ta$5(a,i==="symbol"?"wide":"narrow",o):a=i);try{let u=Rr$3(e);return Wa$2(u,o,a,n,s)}catch(u){throw oe$7(t,u.message)}}static \u0275fac=function(n){return new(n||t)(Yo$4(pp$1,16),Yo$4(RP,16))};static \u0275pipe=jR({name:"currency",type:t,pure:true})}return t})();function Ar$5(t){return !(t==null||t===""||t!==t)}function Rr$3(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Jd$2=(()=>{class t{transform(e,n,i){if(e==null)return null;if(!this.supports(e))throw oe$7();return e.slice(n,i)}supports(e){return typeof e=="string"||Array.isArray(e)}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=jR({name:"slice",type:t,pure:false})}return t})();var Gs$2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})(),Tr$6="browser",cu$3="server";function Qd$1(t){return t===Tr$6}function dn$6(t){return t===cu$3}var Hs$2=(()=>{class t{static \u0275prov=H$9({token:t,providedIn:"root",factory:()=>new vr$5(N$8(L$8),window)})}return t})(),vr$5=class vr{document;window;offset=()=>[0,0];constructor(r,e){this.document=r,this.window=e;}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r;}getScrollPosition(){return [this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1]);}scrollToAnchor(r){let e=lu$2(this.document,r);e&&(this.scrollToElement(e),e.focus());}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r;}scrollToElement(r){let e=r.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1]);}};function lu$2(t,r){let e=t.getElementById(r)||t.getElementsByName(r)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(r)||s.querySelector(`[name="${r}"]`);if(o)return o}i=n.nextNode();}}return null}var Ke$7=class Ke{};var qs$2=t=>t.src,du$3=new k$5("",{providedIn:"root",factory:()=>qs$2});var hu$2=new k$5("",{providedIn:"root",factory:()=>new Set}),fu$2=(()=>{class t{preloadedImages=N$8(hu$2);document=N$8(L$8);createPreloadLinkTag(e,n,i,s){if(this.preloadedImages.has(n))return;this.preloadedImages.add(n);let o=e.createElement("link");e.setAttribute(o,"as","image"),e.setAttribute(o,"href",n),e.setAttribute(o,"rel","preload"),e.setAttribute(o,"fetchpriority","high"),s&&e.setAttribute(o,"imageSizes",s),i&&e.setAttribute(o,"imageSrcset",i),e.appendChild(this.document.head,o);}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Fs$3=/^((\s*\d+w\s*(,|$)){1,})$/;var pu$2=[1,2],gu$2=640;var mu$3=1920,vu$2=1080;var eh$2=(()=>{class t{imageLoader=N$8(du$3);config=Du$2(N$8(hR));renderer=N$8(NR);imgElement=N$8(Uo$5).nativeElement;injector=N$8(_e$8);isServer=dn$6(N$8(dR));preloadLinkCreator=N$8(fu$2);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=false;loaderParams;disableOptimizedSrcset=false;fill=false;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Le$7("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes();}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Fs$3.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw"),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),e,this.sizes);}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){this._renderedSrc;this.updateSrcAndSrcset(true);}}callImageLoader(e){let n=e;return this.loaderParams&&(n.loaderParams=this.loaderParams),this.imageLoader(n)}getLoadingBehavior(){return !this.priority&&this.loading!==undefined?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e);}return this._renderedSrc}getRewrittenSrcset(){let e=Fs$3.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let s=e?parseFloat(i):parseFloat(i)*this.width;return `${this.callImageLoader({src:this.ngSrc,width:s})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,n=e;return this.sizes?.trim()==="100vw"&&(n=e.filter(s=>s>=gu$2)),n.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(e=false){e&&(this._renderedSrc=null);let n=this.getRewrittenSrc();this.setHostAttribute("src",n);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return pu$2.map(n=>`${this.callImageLoader({src:this.ngSrc,width:this.width*n})} ${n}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=false;return this.sizes||(e=this.width>mu$3||this.height>vu$2),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==qs$2&&!e}generatePlaceholder(e){let{placeholderResolution:n}=this.config;return e===true?`url(${this.callImageLoader({src:this.ngSrc,width:n,isPlaceholder:true})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return !e||!e.hasOwnProperty("blur")?true:!!e.blur}removePlaceholderOnLoad(e){let n=()=>{let o=this.injector.get(bw$1);i(),s(),this.placeholder=false,o.markForCheck();},i=this.renderer.listen(e,"load",n),s=this.renderer.listen(e,"error",n);yu$2(e,n);}setHostAttribute(e,n){this.renderer.setAttribute(this.imgElement,e,n);}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(n,i){n&2&&uE("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null);},inputs:{ngSrc:[2,"ngSrc","ngSrc",wu$3],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",jP],height:[2,"height","height",jP],loading:"loading",priority:[2,"priority","priority",VP],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",VP],fill:[2,"fill","fill",VP],placeholder:[2,"placeholder","placeholder",Cu$2],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[BR,tR]})}return t})();function Du$2(t){let r={};return t.breakpoints&&(r.breakpoints=t.breakpoints.sort((e,n)=>e-n)),Object.assign({},Ag,t,r)}function yu$2(t,r){t.complete&&t.naturalWidth&&r();}function wu$3(t){return typeof t=="string"?t:Zn$4(t)}function Cu$2(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:VP(t)}var vt$5=class vt{},fn$4=class fn{},je$6=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let i=e.slice(0,n),s=e.slice(n+1).trim();this.addHeaderEntry(i,s);}});}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.addHeaderEntry(n,e);})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n);});}:this.headers=new Map;}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r);}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null));}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e));});}clone(r){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case "a":case "s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let i=(r.op==="a"?this.headers.get(e):undefined)||[];i.push(...n),this.headers.set(e,i);break;case "d":let s=r.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else {let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o);}break}}addHeaderEntry(r,e){let n=r.toLowerCase();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e]);}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=r.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(r,i);}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)));}};var Mr$5=class Mr{encodeKey(r){return Zs$4(r)}encodeValue(r){return Zs$4(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Eu$3(t,r){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,s)),r.decodeValue(i.slice(s+1))],u=e.get(o)||[];u.push(a),e.set(o,u);}),e}var Su$2=/%(\d[a-f0-9])/gi,bu$2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zs$4(t){return encodeURIComponent(t).replace(Su$2,(r,e)=>bu$2[e]??r)}function hn$4(t){return `${t}`}var Ie$6=class t{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new Mr$5,r.fromString){if(r.fromObject)throw new C$e(2805,false);this.map=Eu$3(r.fromString,this.encoder);}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],i=Array.isArray(n)?n.map(hn$4):[hn$4(n)];this.map.set(e,i);})):this.map=null;}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let i=r[n];Array.isArray(i)?i.forEach(s=>{e.push({param:n,value:s,op:"a"});}):e.push({param:n,value:i,op:"a"});}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case "a":case "s":let e=(r.op==="a"?this.map.get(r.param):undefined)||[];e.push(hn$4(r.value)),this.map.set(r.param,e);break;case "d":if(r.value!==undefined){let n=this.map.get(r.param)||[],i=n.indexOf(hn$4(r.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param);}else {this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null);}},Ys$2=class Ys{defaultValue;constructor(r){this.defaultValue=r;}},Fr$4=class Fr{map=new Map;set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Au$3(t){switch(t){case "DELETE":case "GET":case "HEAD":case "OPTIONS":case "JSONP":return  false;default:return  true}}function Ks$2(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Xs$2(t){return typeof Blob<"u"&&t instanceof Blob}function Js$4(t){return typeof FormData<"u"&&t instanceof FormData}function Ru$2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var no$4="X-Request-URL",ro$5="text/plain",io$4="application/json",Tu$2=`${io$4}, ${ro$5}, */*`,mt$7=class t{url;body=null;headers;context;reportProgress=false;withCredentials=false;responseType="json";method;params;urlWithParams;transferCache;constructor(r,e,n,i){this.url=e,this.method=r.toUpperCase();let s;if(Au$3(this.method)||i?(this.body=n!==undefined?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new je$6,this.context??=new Fr$4,!this.params)this.params=new Ie$6,this.urlWithParams=e;else {let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else {let a=e.indexOf("?"),u=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+u+o;}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ks$2(this.body)||Xs$2(this.body)||Js$4(this.body)||Ru$2(this.body)?this.body:this.body instanceof Ie$6?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Js$4(this.body)?null:Xs$2(this.body)?this.body.type||null:Ks$2(this.body)?null:typeof this.body=="string"?ro$5:this.body instanceof Ie$6?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?io$4:null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,i=r.responseType||this.responseType,s=r.transferCache??this.transferCache,o=r.body!==undefined?r.body:this.body,a=r.withCredentials??this.withCredentials,u=r.reportProgress??this.reportProgress,c=r.headers||this.headers,l=r.params||this.params,d=r.context??this.context;return r.setHeaders!==undefined&&(c=Object.keys(r.setHeaders).reduce((p,g)=>p.set(g,r.setHeaders[g]),c)),r.setParams&&(l=Object.keys(r.setParams).reduce((p,g)=>p.set(g,r.setParams[g]),l)),new t(e,n,o,{params:l,headers:c,context:d,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Je$5=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Je$5||{}),Dt$3=class Dt{headers;status;statusText;url;ok;type;constructor(r,e=200,n="OK"){this.headers=r.headers||new je$6,this.status=r.status!==undefined?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300;}},_r$6=class t extends Dt$3{constructor(r={}){super(r);}type=Je$5.ResponseHeader;clone(r={}){return new t({headers:r.headers||this.headers,status:r.status!==undefined?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||undefined})}},pn$7=class t extends Dt$3{body;constructor(r={}){super(r),this.body=r.body!==undefined?r.body:null;}type=Je$5.Response;clone(r={}){return new t({body:r.body!==undefined?r.body:this.body,headers:r.headers||this.headers,status:r.status!==undefined?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||undefined})}},gn$3=class gn extends Dt$3{name="HttpErrorResponse";message;error;ok=false;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null;}},Iu$2=200,Mu$2=204,Fu$2=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Fu$2||{});function Ir$5(t,r){return {body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _u$3=(()=>{class t{handler;constructor(e){this.handler=e;}request(e,n,i={}){let s;if(e instanceof mt$7)s=e;else {let u;i.headers instanceof je$6?u=i.headers:u=new je$6(i.headers);let c;i.params&&(i.params instanceof Ie$6?c=i.params:c=new Ie$6({fromObject:i.params})),s=new mt$7(e,n,i.body!==undefined?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache});}let o=hi$7(s).pipe(Uc$2(u=>this.handler.handle(u)));if(e instanceof mt$7||i.observe==="events")return o;let a=o.pipe(Ye$b(u=>u instanceof pn$7));switch(i.observe||"body"){case "body":switch(s.responseType){case "arraybuffer":return a.pipe(ie$b(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case "blob":return a.pipe(ie$b(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case "text":return a.pipe(ie$b(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case "json":default:return a.pipe(ie$b(u=>u.body))}case "response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Ie$6().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,Ir$5(i,n))}post(e,n,i={}){return this.request("POST",e,Ir$5(i,n))}put(e,n,i={}){return this.request("PUT",e,Ir$5(i,n))}static \u0275fac=function(n){return new(n||t)(pe$9(vt$5))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();var Ou$2=new k$5("");function so$6(t,r){return r(t)}function Pu$2(t,r){return (e,n)=>r.intercept(e,{handle:i=>t(i,n)})}function Lu$2(t,r,e){return (n,i)=>Nu$3(e,()=>r(n,s=>t(s,i)))}var Nu$2=new k$5(""),Or$5=new k$5(""),ku$2=new k$5(""),oo$4=new k$5("",{providedIn:"root",factory:()=>true});function xu$3(){let t=null;return (r,e)=>{t===null&&(t=(N$8(Nu$2,{optional:true})??[]).reduceRight(Pu$2,so$6));let n=N$8(Qn$5);if(N$8(oo$4)){let s=n.add();return t(r,e).pipe(xc$2(()=>n.remove(s)))}else return t(r,e)}}var Qs$3=(()=>{class t extends vt$5{backend;injector;chain=null;pendingTasks=N$8(Qn$5);contributeToStability=N$8(oo$4);constructor(e,n){super(),this.backend=e,this.injector=n;}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Or$5),...this.injector.get(ku$2,[])]));this.chain=n.reduceRight((i,s)=>Lu$2(i,s,this.injector),so$6);}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(xc$2(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(pe$9(fn$4),pe$9(nt$b))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();var Uu$3=/^\)\]\}',?\n/,Bu$3=RegExp(`^${no$4}:`,"m");function ju$2(t){return "responseURL"in t&&t.responseURL?t.responseURL:Bu$3.test(t.getAllResponseHeaders())?t.getResponseHeader(no$4):null}var eo$4=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e;}handle(e){if(e.method==="JSONP")throw new C$e(-2800,false);let n=this.xhrFactory;return (n.\u0275loadImpl?ye$7(n.\u0275loadImpl()):hi$7(null)).pipe(Ac$3(()=>new M$a(s=>{let o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=true),e.headers.forEach((E,w)=>o.setRequestHeader(E,w.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept",Tu$2),!e.headers.has("Content-Type")){let E=e.detectContentTypeHeader();E!==null&&o.setRequestHeader("Content-Type",E);}if(e.responseType){let E=e.responseType.toLowerCase();o.responseType=E!=="json"?E:"text";}let a=e.serializeBody(),u=null,c=()=>{if(u!==null)return u;let E=o.statusText||"OK",w=new je$6(o.getAllResponseHeaders()),k=ju$2(o)||e.url;return u=new _r$6({headers:w,status:o.status,statusText:E,url:k}),u},l=()=>{let{headers:E,status:w,statusText:k,url:ee}=c(),F=null;w!==Mu$2&&(F=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=F?Iu$2:0);let _e=w>=200&&w<300;if(e.responseType==="json"&&typeof F=="string"){let $t=F;F=F.replace(Uu$3,"");try{F=F!==""?JSON.parse(F):null;}catch(ha){F=$t,_e&&(_e=false,F={error:ha,text:F});}}_e?(s.next(new pn$7({body:F,headers:E,status:w,statusText:k,url:ee||undefined})),s.complete()):s.error(new gn$3({error:F,headers:E,status:w,statusText:k,url:ee||undefined}));},d=E=>{let{url:w}=c(),k=new gn$3({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||undefined});s.error(k);},p=false,g=E=>{p||(s.next(c()),p=true);let w={type:Je$5.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),e.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w);},b=E=>{let w={type:Je$5.UploadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),s.next(w);};return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",g),a!==null&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),s.next({type:Je$5.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",g),a!==null&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort();}})))}static \u0275fac=function(n){return new(n||t)(pe$9(Ke$7))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),ao$4=new k$5(""),$u$2="XSRF-TOKEN",zu$2=new k$5("",{providedIn:"root",factory:()=>$u$2}),Vu$3="X-XSRF-TOKEN",Gu$1=new k$5("",{providedIn:"root",factory:()=>Vu$3}),mn$5=class mn{},Hu$2=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,i){this.doc=e,this.platform=n,this.cookieName=i;}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ln$4(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(pe$9(L$8),pe$9(dR),pe$9(zu$2))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();function qu$2(t,r){let e=t.url.toLowerCase();if(!N$8(ao$4)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(t);let n=N$8(mn$5).getToken(),i=N$8(Gu$1);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),r(t)}var uo$6=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(uo$6||{});function Wu$3(t,r){return {\u0275kind:t,\u0275providers:r}}function gh$1(...t){let r=[_u$3,eo$4,Qs$3,{provide:vt$5,useExisting:Qs$3},{provide:fn$4,useFactory:()=>N$8(Ou$2,{optional:true})??N$8(eo$4)},{provide:Or$5,useValue:qu$2,multi:true},{provide:ao$4,useValue:true},{provide:mn$5,useClass:Hu$2}];for(let e of t)r.push(...e.\u0275providers);return hm$2(r)}var to$5=new k$5("");function mh$1(){return Wu$3(uo$6.LegacyInterceptors,[{provide:to$5,useFactory:xu$3},{provide:Or$5,useExisting:to$5,multi:true}])}var Lr$4=class Lr extends sn$4{supportsDOMEvents=true},Nr$4=class t extends Lr$4{static makeCurrent(){Ls$3(new t);}onAndCancel(r,e,n,i){return r.addEventListener(e,n,i),()=>{r.removeEventListener(e,n,i);}}dispatchEvent(r,e){r.dispatchEvent(e);}remove(r){r.remove();}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=Yu$3();return e==null?null:Ku$2(e)}resetBaseElement(){yt$6=null;}getUserAgent(){return window.navigator.userAgent}getCookie(r){return ln$4(document.cookie,r)}},yt$6=null;function Yu$3(){return yt$6=yt$6||document.querySelector("base"),yt$6?yt$6.getAttribute("href"):null}function Ku$2(t){return new URL(t,document.baseURI).pathname}var kr$6=class kr{addToWindow(r){je$7.getAngularTestability=(n,i=true)=>{let s=r.findTestabilityInTree(n,i);if(s==null)throw new C$e(5103,false);return s},je$7.getAllAngularTestabilities=()=>r.getAllTestabilities(),je$7.getAllAngularRootElements=()=>r.getAllRootElements();let e=n=>{let i=je$7.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&n();};i.forEach(a=>{a.whenStable(o);});};je$7.frameworkStabilizers||(je$7.frameworkStabilizers=[]),je$7.frameworkStabilizers.push(e);}findTestabilityInTree(r,e,n){if(e==null)return null;let i=r.getTestability(e);return i??(n?Te$9().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,true):this.findTestabilityInTree(r,e.parentElement,true):null)}},Xu$3=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),xr$5=new k$5(""),go$4=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(i=>{i.manager=this;}),this._plugins=e.slice().reverse();}addEventListener(e,n,i,s){return this._findPluginFor(n).addEventListener(e,n,i,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new C$e(5101,false);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(pe$9(xr$5),pe$9(te$6))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),Dn$5=class Dn{_doc;constructor(r){this._doc=r;}manager},vn$5="ng-app-id";function co$5(t){for(let r of t)r.remove();}function lo$5(t,r){let e=r.createElement("style");return e.textContent=t,e}function Ju$2(t,r,e,n){let i=t.head?.querySelectorAll(`style[${vn$5}="${r}"],link[${vn$5}="${r}"]`);if(i)for(let s of i)s.removeAttribute(vn$5),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]});}function Ur$3(t,r){let e=r.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var mo$5=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,i,s={}){this.doc=e,this.appId=n,this.nonce=i,this.isServer=dn$6(s),Ju$2(e,n,this.inline,this.external),this.hosts.add(e.head);}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,lo$5);n?.forEach(i=>this.addUsage(i,this.external,Ur$3));}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external));}addUsage(e,n,i){let s=n.get(e);s?s.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))});}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(co$5(i.elements),n.delete(e)));}ngOnDestroy(){for(let[,{elements:e}]of [...this.inline,...this.external])co$5(e);this.hosts.clear();}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,lo$5(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,Ur$3(n,this.doc)));}removeHost(e){this.hosts.delete(e);}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(vn$5,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(pe$9(L$8),pe$9(uR),pe$9(pR,8),pe$9(dR))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),Pr$5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jr$4=/%COMP%/g,vo$4="%COMP%",Qu$3=`_nghost-${vo$4}`,ec$2=`_ngcontent-${vo$4}`,tc$3=true,nc$2=new k$5("",{providedIn:"root",factory:()=>tc$3});function rc$3(t){return ec$2.replace(jr$4,t)}function ic$2(t){return Qu$3.replace(jr$4,t)}function Do$2(t,r){return r.map(e=>e.replace(jr$4,t))}var ho$4=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,s,o,a,u,c=null,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=l,this.platformIsServer=dn$6(a),this.defaultRenderer=new wt$6(e,o,u,this.platformIsServer,this.tracingService);}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Hn$4.ShadowDom&&(n=x$d(w$9({},n),{encapsulation:Hn$4.Emulated}));let i=this.getOrCreateRenderer(e,n);return i instanceof yn$6?i.applyToHost(e):i instanceof Ct$5&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,s=i.get(n.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(n.encapsulation){case Hn$4.Emulated:s=new yn$6(u,c,n,this.appId,l,o,a,d,this.tracingService);break;case Hn$4.ShadowDom:return new Br$5(u,c,e,n,o,a,this.nonce,d,this.tracingService);default:s=new Ct$5(u,c,n,l,o,a,d,this.tracingService);break}i.set(n.id,s);}return s}ngOnDestroy(){this.rendererByCompId.clear();}componentReplaced(e){this.rendererByCompId.get(e)?.destroy(),this.rendererByCompId.delete(e);}static \u0275fac=function(n){return new(n||t)(pe$9(go$4),pe$9(mo$5),pe$9(uR),pe$9(nc$2),pe$9(L$8),pe$9(dR),pe$9(te$6),pe$9(pR),pe$9(qo$5,8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),wt$6=class wt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=true;constructor(r,e,n,i,s){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.tracingService=s;}destroy(){}destroyNode=null;createElement(r,e){return e?this.doc.createElementNS(Pr$5[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(fo$2(r)?r.content:r).appendChild(e);}insertBefore(r,e,n){r&&(fo$2(r)?r.content:r).insertBefore(e,n);}removeChild(r,e){e.remove();}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new C$e(-5104,false);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,i){if(i){e=i+":"+e;let s=Pr$5[i];s?r.setAttributeNS(s,e,n):r.setAttribute(e,n);}else r.setAttribute(e,n);}removeAttribute(r,e,n){if(n){let i=Pr$5[n];i?r.removeAttributeNS(i,e):r.removeAttribute(`${n}:${e}`);}else r.removeAttribute(e);}addClass(r,e){r.classList.add(e);}removeClass(r,e){r.classList.remove(e);}setStyle(r,e,n,i){i&(Rs$3.DashCase|Rs$3.Important)?r.style.setProperty(e,n,i&Rs$3.Important?"important":""):r.style[e]=n;}removeStyle(r,e,n){n&Rs$3.DashCase?r.style.removeProperty(e):r.style[e]="";}setProperty(r,e,n){r!=null&&(r[e]=n);}setValue(r,e){r.nodeValue=e;}listen(r,e,n,i){if(typeof r=="string"&&(r=Te$9().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);let s=this.decoratePreventDefault(n);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(r,e,s)),this.eventManager.addEventListener(r,e,s,i)}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===false&&e.preventDefault();}}};function fo$2(t){return t.tagName==="TEMPLATE"&&t.content!==undefined}var Br$5=class Br extends wt$6{sharedStylesHost;hostEl;shadowRoot;constructor(r,e,n,i,s,o,a,u,c){super(r,s,o,u,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Do$2(i.id,i.styles);for(let p of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g);}let d=i.getExternalStyles?.();if(d)for(let p of d){let g=Ur$3(p,s);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g);}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot);}},Ct$5=class Ct extends wt$6{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,e,n,i,s,o,a,u,c){super(r,s,o,a,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?Do$2(c,n.styles):n.styles,this.styleUrls=n.getExternalStyles?.(c);}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls);}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls);}},yn$6=class yn extends Ct$5{contentAttr;hostAttr;constructor(r,e,n,i,s,o,a,u,c){let l=i+"-"+n.id;super(r,e,n,s,o,a,u,c,l),this.contentAttr=rc$3(l),this.hostAttr=ic$2(l);}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"");}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}},sc$2=(()=>{class t extends Dn$5{constructor(e){super(e);}supports(e){return  true}addEventListener(e,n,i,s){return e.addEventListener(n,i,s),()=>this.removeEventListener(e,n,i,s)}removeEventListener(e,n,i,s){return e.removeEventListener(n,i,s)}static \u0275fac=function(n){return new(n||t)(pe$9(L$8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})(),po$5=["alt","control","meta","shift"],oc$2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ac$2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},uc$1=(()=>{class t extends Dn$5{constructor(e){super(e);}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,i,s){let o=t.parseEventName(n),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Te$9().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),po$5.forEach(c=>{let l=n.indexOf(c);l>-1&&(n.splice(l,1),o+=c+".");}),o+=s,n.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,n){let i=oc$2[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?false:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),po$5.forEach(o=>{if(o!==i){let a=ac$2[o];a(e)&&(s+=o+".");}}),s+=i,s===n)}static eventCallback(e,n,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>n(s));}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(pe$9(L$8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();function cc$1(){Nr$4.makeCurrent();}function lc$1(){return new it$a}function dc$2(){return lR(document),document}var hc$3=[{provide:dR,useValue:Tr$6},{provide:Sg$1,useValue:cc$1,multi:true},{provide:L$8,useFactory:dc$2,deps:[]}],Oh$1=Iw$1(FP,"browser",hc$3);var fc=[{provide:LI,useClass:kr$6,deps:[]},{provide:FI,useClass:UR,deps:[te$6,VI,LI]},{provide:UR,useClass:UR,deps:[te$6,VI,LI]}],pc$2=[{provide:Tu$3,useValue:"root"},{provide:it$a,useFactory:lc$1,deps:[]},{provide:xr$5,useClass:sc$2,multi:true,deps:[L$8,te$6,dR]},{provide:xr$5,useClass:uc$1,multi:true,deps:[L$8]},ho$4,mo$5,go$4,{provide:ho$5,useExisting:ho$4},{provide:Ke$7,useClass:Xu$3,deps:[]},[]],Ph$2=(()=>{class t{constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({providers:[...pc$2,...fc],imports:[Gs$2,LP]})}return t})(),Lh$3=(()=>{class t{_doc;_dom;constructor(e){this._doc=e,this._dom=Te$9();}addTag(e,n=false){return e?this._getOrCreateElement(e,n):null}addTags(e,n=false){return e?e.reduce((i,s)=>(s&&i.push(this._getOrCreateElement(s,n)),i),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return [];let n=this._doc.querySelectorAll(`meta[${e}]`);return n?[].slice.call(n):[]}updateTag(e,n){if(!e)return null;n=n||this._parseSelector(e);let i=this.getTag(n);return i?this._setMetaElementAttributes(e,i):this._getOrCreateElement(e,true)}removeTag(e){this.removeTagElement(this.getTag(e));}removeTagElement(e){e&&this._dom.remove(e);}_getOrCreateElement(e,n=false){if(!n){let o=this._parseSelector(e),a=this.getTags(o).filter(u=>this._containsAttributes(e,u))[0];if(a!==undefined)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(e,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(e,n){return Object.keys(e).forEach(i=>n.setAttribute(this._getMetaKeyMap(i),e[i])),n}_parseSelector(e){let n=e.name?"name":"property";return `${n}="${e[n]}"`}_containsAttributes(e,n){return Object.keys(e).every(i=>n.getAttribute(this._getMetaKeyMap(i))===e[i])}_getMetaKeyMap(e){return gc$2[e]||e}static \u0275fac=function(n){return new(n||t)(pe$9(L$8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gc$2={httpEquiv:"http-equiv"},yo$4=(()=>{class t{_doc;constructor(e){this._doc=e;}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||"";}static \u0275fac=function(n){return new(n||t)(pe$9(L$8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mc$3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:function(n){let i=null;return n?i=new(n||t):i=pe$9(vc$1),i},providedIn:"root"})}return t})(),vc$1=(()=>{class t extends mc$3{_doc;constructor(e){super(),this._doc=e;}sanitize(e,n){if(n==null)return null;switch(e){case zo$4.NONE:return n;case zo$4.HTML:return La$6(n,"HTML")?Zn$4(n):oy$2(this._doc,String(n)).toString();case zo$4.STYLE:return La$6(n,"Style")?Zn$4(n):n;case zo$4.SCRIPT:if(La$6(n,"Script"))return Zn$4(n);throw new C$e(5200,false);case zo$4.URL:return La$6(n,"URL")?Zn$4(n):Nd$3(String(n));case zo$4.RESOURCE_URL:if(La$6(n,"ResourceURL"))return Zn$4(n);throw new C$e(5201,false);default:throw new C$e(5202,false)}}bypassSecurityTrustHtml(e){return mR(e)}bypassSecurityTrustStyle(e){return gR(e)}bypassSecurityTrustScript(e){return yR(e)}bypassSecurityTrustUrl(e){return vR(e)}bypassSecurityTrustResourceUrl(e){return IR(e)}static \u0275fac=function(n){return new(n||t)(pe$9(L$8))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var y$7="primary",Lt$5=Symbol("RouteTitle"),Hr$4=class Hr{params;constructor(r){this.params=r||{};}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return []}get keys(){return Object.keys(this.params)}};function it$9(t){return new Hr$4(t)}function yc$2(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return {consumed:t.slice(0,n.length),posParams:i}}function wc$1(t,r){if(t.length!==r.length)return  false;for(let e=0;e<t.length;++e)if(!ae$8(t[e],r[e]))return  false;return  true}function ae$8(t,r){let e=t?qr$4(t):undefined,n=r?qr$4(r):undefined;if(!e||!n||e.length!=n.length)return  false;let i;for(let s=0;s<e.length;s++)if(i=e[s],!_o$4(t[i],r[i]))return  false;return  true}function qr$4(t){return [...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _o$4(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return  false;let e=[...t].sort(),n=[...r].sort();return e.every((i,s)=>n[s]===i)}else return t===r}function Oo$4(t){return t.length>0?t[t.length-1]:null}function Fe$7(t){return eh$3(t)?t:Lf$2(t)?ye$7(Promise.resolve(t)):hi$7(t)}var Cc$2={exact:Lo,subset:No$4},Po$7={exact:Ec$2,subset:Sc$1,ignored:()=>true};function wo$4(t,r,e){return Cc$2[e.paths](t.root,r.root,e.matrixParams)&&Po$7[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function Ec$2(t,r){return ae$8(t,r)}function Lo(t,r,e){if(!ze$5(t.segments,r.segments)||!En$5(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return  false;for(let n in r.children)if(!t.children[n]||!Lo(t.children[n],r.children[n],e))return  false;return  true}function Sc$1(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>_o$4(t[e],r[e]))}function No$4(t,r,e){return ko$5(t,r,r.segments,e)}function ko$5(t,r,e,n){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return !(!ze$5(i,e)||r.hasChildren()||!En$5(i,e,n))}else if(t.segments.length===e.length){if(!ze$5(t.segments,e)||!En$5(t.segments,e,n))return  false;for(let i in r.children)if(!t.children[i]||!No$4(t.children[i],r.children[i],n))return  false;return  true}else {let i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return !ze$5(t.segments,i)||!En$5(t.segments,i,n)||!t.children[y$7]?false:ko$5(t.children[y$7],r,s,n)}}function En$5(t,r,e){return r.every((n,i)=>Po$7[e](t[i].parameters,n.parameters))}var me$6=class me{root;queryParams;fragment;_queryParamMap;constructor(r=new R$f([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n;}get queryParamMap(){return this._queryParamMap??=it$9(this.queryParams),this._queryParamMap}toString(){return Rc$1.serialize(this)}},R$f=class R{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this);}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sn$6(this)}},$e$9=class $e{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e;}get parameterMap(){return this._parameterMap??=it$9(this.parameters),this._parameterMap}toString(){return Uo$4(this)}};function bc$1(t,r){return ze$5(t,r)&&t.every((e,n)=>ae$8(e.parameters,r[n].parameters))}function ze$5(t,r){return t.length!==r.length?false:t.every((e,n)=>e.path===r[n].path)}function Ac$2(t,r){let e=[];return Object.entries(t.children).forEach(([n,i])=>{n===y$7&&(e=e.concat(r(i,n)));}),Object.entries(t.children).forEach(([n,i])=>{n!==y$7&&(e=e.concat(r(i,n)));}),e}var Nt$2=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>new st$7,providedIn:"root"})}return t})(),st$7=class st{parse(r){let e=new Zr$4(r);return new me$6(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${Et$3(r.root,true)}`,n=Mc$1(r.queryParams),i=typeof r.fragment=="string"?`#${Tc$1(r.fragment)}`:"";return `${e}${n}${i}`}},Rc$1=new st$7;function Sn$6(t){return t.segments.map(r=>Uo$4(r)).join("/")}function Et$3(t,r){if(!t.hasChildren())return Sn$6(t);if(r){let e=t.children[y$7]?Et$3(t.children[y$7],false):"",n=[];return Object.entries(t.children).forEach(([i,s])=>{i!==y$7&&n.push(`${i}:${Et$3(s,false)}`);}),n.length>0?`${e}(${n.join("//")})`:e}else {let e=Ac$2(t,(n,i)=>i===y$7?[Et$3(t.children[y$7],false)]:[`${i}:${Et$3(n,false)}`]);return Object.keys(t.children).length===1&&t.children[y$7]!=null?`${Sn$6(t)}/${e[0]}`:`${Sn$6(t)}/(${e.join("//")})`}}function xo$4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn$6(t){return xo$4(t).replace(/%3B/gi,";")}function Tc$1(t){return encodeURI(t)}function Wr$4(t){return xo$4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn$6(t){return decodeURIComponent(t)}function Co$5(t){return bn$6(t.replace(/\+/g,"%20"))}function Uo$4(t){return `${Wr$4(t.path)}${Ic$1(t.parameters)}`}function Ic$1(t){return Object.entries(t).map(([r,e])=>`;${Wr$4(r)}=${Wr$4(e)}`).join("")}function Mc$1(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(i=>`${wn$6(e)}=${wn$6(i)}`).join("&"):`${wn$6(e)}=${wn$6(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var Fc$1=/^[^\/()?;#]+/;function $r$4(t){let r=t.match(Fc$1);return r?r[0]:""}var _c$2=/^[^\/()?;=#]+/;function Oc$1(t){let r=t.match(_c$2);return r?r[0]:""}var Pc$1=/^[^=?&#]+/;function Lc$1(t){let r=t.match(Pc$1);return r?r[0]:""}var Nc$1=/^[^&#]+/;function kc$1(t){let r=t.match(Nc$1);return r?r[0]:""}var Zr$4=class Zr{url;remaining;constructor(r){this.url=r,this.remaining=r;}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R$f([],{}):new R$f([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return {};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(true));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(false)),(r.length>0||Object.keys(e).length>0)&&(n[y$7]=new R$f(r,e)),n}parseSegment(){let r=$r$4(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new C$e(4009,false);return this.capture(r),new $e$9(bn$6(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=Oc$1(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=$r$4(this.remaining);i&&(n=i,this.capture(n));}r[bn$6(e)]=bn$6(n);}parseQueryParam(r){let e=Lc$1(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=kc$1(this.remaining);o&&(n=o,this.capture(n));}let i=Co$5(e),s=Co$5(n);if(r.hasOwnProperty(i)){let o=r[i];Array.isArray(o)||(o=[o],r[i]=o),o.push(s);}else r[i]=s;}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=$r$4(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new C$e(4010,false);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):r&&(s=y$7);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[y$7]:new R$f([],o),this.consumeOptional("//");}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),true):false}capture(r){if(!this.consumeOptional(r))throw new C$e(4011,false)}};function Bo$2(t){return t.segments.length>0?new R$f([],{[y$7]:t}):t}function jo$2(t){let r={};for(let[n,i]of Object.entries(t.children)){let s=jo$2(i);if(n===y$7&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))r[o]=a;else (s.segments.length>0||s.hasChildren())&&(r[n]=s);}let e=new R$f(t.segments,r);return xc$1(e)}function xc$1(t){if(t.numberOfChildren===1&&t.children[y$7]){let r=t.children[y$7];return new R$f(t.segments.concat(r.segments),r.children)}return t}function Ve$4(t){return t instanceof me$6}function Uc$1(t,r,e=null,n=null){let i=$o$3(t);return zo$3(i,r,e,n)}function $o$3(t){let r;function e(s){let o={};for(let u of s.children){let c=e(u);o[u.outlet]=c;}let a=new R$f(s.url,o);return s===t&&(r=a),a}let n=e(t.root),i=Bo$2(n);return r??i}function zo$3(t,r,e,n){let i=t;for(;i.parent;)i=i.parent;if(r.length===0)return zr$4(i,i,i,e,n);let s=Bc$2(r);if(s.toRoot())return zr$4(i,i,new R$f([],{}),e,n);let o=jc$2(s,i,t),a=o.processChildren?bt$6(o.segmentGroup,o.index,s.commands):Go$4(o.segmentGroup,o.index,s.commands);return zr$4(i,o.segmentGroup,a,e,n)}function An$6(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Tt$5(t){return typeof t=="object"&&t!=null&&t.outlets}function zr$4(t,r,e,n,i){let s={};n&&Object.entries(n).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`;});let o;t===r?o=e:o=Vo$4(t,r,e);let a=Bo$2(jo$2(o));return new me$6(a,s,i)}function Vo$4(t,r,e){let n={};return Object.entries(t.children).forEach(([i,s])=>{s===r?n[i]=e:n[i]=Vo$4(s,r,e);}),new R$f(t.segments,n)}var Rn$5=class Rn{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&An$6(n[0]))throw new C$e(4003,false);let i=n.find(Tt$5);if(i&&i!==Oo$4(n))throw new C$e(4004,false)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Bc$2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Rn$5(true,0,t);let r=0,e=false,n=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c;}),[...i,{outlets:a}]}if(s.segmentPath)return [...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?e=true:a===".."?r++:a!=""&&i.push(a));}),i):[...i,s]},[]);return new Rn$5(e,r,n)}var tt$7=class tt{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n;}};function jc$2(t,r,e){if(t.isAbsolute)return new tt$7(r,true,0);if(!e)return new tt$7(r,false,NaN);if(e.parent===null)return new tt$7(e,true,0);let n=An$6(t.commands[0])?0:1,i=e.segments.length-1+n;return $c$1(e,i,t.numberOfDoubleDots)}function $c$1(t,r,e){let n=t,i=r,s=e;for(;s>i;){if(s-=i,n=n.parent,!n)throw new C$e(4005,false);i=n.segments.length;}return new tt$7(n,false,i-s)}function zc$2(t){return Tt$5(t[0])?t[0].outlets:{[y$7]:t}}function Go$4(t,r,e){if(t??=new R$f([],{}),t.segments.length===0&&t.hasChildren())return bt$6(t,r,e);let n=Vc$1(t,r,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new R$f(t.segments.slice(0,n.pathIndex),{});return s.children[y$7]=new R$f(t.segments.slice(n.pathIndex),t.children),bt$6(s,0,i)}else return n.match&&i.length===0?new R$f(t.segments,{}):n.match&&!t.hasChildren()?Yr$5(t,r,e):n.match?bt$6(t,0,i):Yr$5(t,r,e)}function bt$6(t,r,e){if(e.length===0)return new R$f(t.segments,{});{let n=zc$2(e),i={};if(Object.keys(n).some(s=>s!==y$7)&&t.children[y$7]&&t.numberOfChildren===1&&t.children[y$7].segments.length===0){let s=bt$6(t.children[y$7],r,e);return new R$f(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Go$4(t.children[s],r,o));}),Object.entries(t.children).forEach(([s,o])=>{n[s]===undefined&&(i[s]=o);}),new R$f(t.segments,i)}}function Vc$1(t,r,e){let n=0,i=r,s={match:false,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=e.length)return s;let o=t.segments[i],a=e[n];if(Tt$5(a))break;let u=`${a}`,c=n<e.length-1?e[n+1]:null;if(i>0&&u===undefined)break;if(u&&c&&typeof c=="object"&&c.outlets===undefined){if(!So$4(u,c,o))return s;n+=2;}else {if(!So$4(u,{},o))return s;n++;}i++;}return {match:true,pathIndex:i,commandIndex:n}}function Yr$5(t,r,e){let n=t.segments.slice(0,r),i=0;for(;i<e.length;){let s=e[i];if(Tt$5(s)){let u=Gc$2(s.outlets);return new R$f(n,u)}if(i===0&&An$6(e[0])){let u=t.segments[r];n.push(new $e$9(u.path,Eo$4(e[0]))),i++;continue}let o=Tt$5(s)?s.outlets[y$7]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&An$6(a)?(n.push(new $e$9(o,Eo$4(a))),i+=2):(n.push(new $e$9(o,{})),i++);}return new R$f(n,{})}function Gc$2(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Yr$5(new R$f([],{}),0,n));}),r}function Eo$4(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function So$4(t,r,e){return t==e.path&&ae$8(r,e.parameters)}var At$4="imperative",N$7=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(N$7||{}),Q$a=class Q{id;url;constructor(r,e){this.id=r,this.url=e;}},ot$b=class ot extends Q$a{type=N$7.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",i=null){super(r,e),this.navigationTrigger=n,this.restoredState=i;}toString(){return `NavigationStart(id: ${this.id}, url: '${this.url}')`}},ie$a=class ie extends Q$a{urlAfterRedirects;type=N$7.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n;}toString(){return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},W$8=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(W$8||{}),Tn$5=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Tn$5||{}),ge$a=class ge extends Q$a{reason;code;type=N$7.NavigationCancel;constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i;}toString(){return `NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Me$7=class Me extends Q$a{reason;code;type=N$7.NavigationSkipped;constructor(r,e,n,i){super(r,e),this.reason=n,this.code=i;}},It$5=class It extends Q$a{error;target;type=N$7.NavigationError;constructor(r,e,n,i){super(r,e),this.error=n,this.target=i;}toString(){return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},In$6=class In extends Q$a{urlAfterRedirects;state;type=N$7.RoutesRecognized;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i;}toString(){return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kr$3=class Kr extends Q$a{urlAfterRedirects;state;type=N$7.GuardsCheckStart;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i;}toString(){return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xr$3=class Xr extends Q$a{urlAfterRedirects;state;shouldActivate;type=N$7.GuardsCheckEnd;constructor(r,e,n,i,s){super(r,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s;}toString(){return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jr$4=class Jr extends Q$a{urlAfterRedirects;state;type=N$7.ResolveStart;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i;}toString(){return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qr$4=class Qr extends Q$a{urlAfterRedirects;state;type=N$7.ResolveEnd;constructor(r,e,n,i){super(r,e),this.urlAfterRedirects=n,this.state=i;}toString(){return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ei$5=class ei{route;type=N$7.RouteConfigLoadStart;constructor(r){this.route=r;}toString(){return `RouteConfigLoadStart(path: ${this.route.path})`}},ti$4=class ti{route;type=N$7.RouteConfigLoadEnd;constructor(r){this.route=r;}toString(){return `RouteConfigLoadEnd(path: ${this.route.path})`}},ni$4=class ni{snapshot;type=N$7.ChildActivationStart;constructor(r){this.snapshot=r;}toString(){return `ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ri$5=class ri{snapshot;type=N$7.ChildActivationEnd;constructor(r){this.snapshot=r;}toString(){return `ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ii$4=class ii{snapshot;type=N$7.ActivationStart;constructor(r){this.snapshot=r;}toString(){return `ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},si$4=class si{snapshot;type=N$7.ActivationEnd;constructor(r){this.snapshot=r;}toString(){return `ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mn$6=class Mn{routerEvent;position;anchor;type=N$7.Scroll;constructor(r,e,n){this.routerEvent=r,this.position=e,this.anchor=n;}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return `Scroll(anchor: '${this.anchor}', position: '${r}')`}},Mt$3=class Mt{},at$6=class at{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e;}};function Hc$2(t,r){return t.providers&&!t._injector&&(t._injector=gI(t.providers,r,`Route: ${t.path}`)),t._injector??r}function re$7(t){return t.outlet||y$7}function qc$1(t,r){let e=t.filter(n=>re$7(n)===r);return e.push(...t.filter(n=>re$7(n)!==r)),e}function kt$2(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var oi$4=class oi{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return kt$2(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new xt$6(this.rootInjector);}},xt$6=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e;}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i);}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null);}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e;}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new oi$4(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(pe$9(nt$b))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fn$5=class Fn{_root;constructor(r){this._root=r;}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=ai$5(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=ai$5(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=ui$4(r,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return ui$4(r,this._root).map(e=>e.value)}};function ai$5(t,r){if(t===r.value)return r;for(let e of r.children){let n=ai$5(t,e);if(n)return n}return null}function ui$4(t,r){if(t===r.value)return [r];for(let e of r.children){let n=ui$4(t,e);if(n.length)return n.unshift(r),n}return []}var q$5=class q{value;children;constructor(r,e){this.value=r,this.children=e;}toString(){return `TreeNode(${this.value})`}};function et$7(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var _n$5=class _n extends Fn$5{snapshot;constructor(r,e){super(r),this.snapshot=e,vi$6(this,r);}toString(){return this.snapshot.toString()}};function Ho$3(t){let r=Wc$2(t),e=new yn$7([new $e$9("",{})]),n=new yn$7({}),i=new yn$7({}),s=new yn$7({}),o=new yn$7(""),a=new Ge$9(e,n,s,o,i,y$7,t,r.root);return a.snapshot=r.root,new _n$5(new q$5(a,[]),r)}function Wc$2(t){let r={},e={},n={},i="",s=new nt$a([],r,n,i,e,y$7,t,null,{});return new Pn$6("",new q$5(s,[]))}var Ge$9=class Ge{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,i,s,o,a,u){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie$b(c=>c[Lt$5]))??hi$7(undefined),this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=s;}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie$b(r=>it$9(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie$b(r=>it$9(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function On$5(t,r,e="emptyOnly"){let n,{routeConfig:i}=t;return r!==null&&(e==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:w$9(w$9({},r.params),t.params),data:w$9(w$9({},r.data),t.data),resolve:w$9(w$9(w$9(w$9({},t.data),r.data),i?.data),t._resolvedData)}:n={params:w$9({},t.params),data:w$9({},t.data),resolve:w$9(w$9({},t.data),t._resolvedData??{})},i&&Wo$4(i)&&(n.resolve[Lt$5]=i.title),n}var nt$a=class nt{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Lt$5]}constructor(r,e,n,i,s,o,a,u,c){this.url=r,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c;}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=it$9(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=it$9(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return `Route(url:'${r}', path:'${e}')`}},Pn$6=class Pn extends Fn$5{url;constructor(r,e){super(e),this.url=r,vi$6(this,e);}toString(){return qo$4(this._root)}};function vi$6(t,r){r.value._routerState=t,r.children.forEach(e=>vi$6(t,e));}function qo$4(t){let r=t.children.length>0?` { ${t.children.map(qo$4).join(", ")} } `:"";return `${t.value}${r}`}function Vr$5(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ae$8(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),ae$8(r.params,e.params)||t.paramsSubject.next(e.params),wc$1(r.url,e.url)||t.urlSubject.next(e.url),ae$8(r.data,e.data)||t.dataSubject.next(e.data);}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data);}function ci$4(t,r){let e=ae$8(t.params,r.params)&&bc$1(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||ci$4(t.parent,r.parent))}function Wo$4(t){return typeof t.title=="string"||t.title===null}var Zc$3=new k$5(""),Yc$2=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=y$7;activateEvents=new Xe$5;deactivateEvents=new Xe$5;attachEvents=new Xe$5;detachEvents=new Xe$5;routerOutletData=cR(undefined);parentContexts=N$8(xt$6);location=N$8(Ja$5);changeDetector=N$8(bw$1);inputBinder=N$8(Un$5,{optional:true});supportsBindingToComponentInputs=true;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName();}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this);}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName();}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector));}get isActivated(){return !!this.activated}get component(){if(!this.activated)throw new C$e(4012,false);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C$e(4012,false);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C$e(4012,false);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance);}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e);}}activateWith(e,n){if(this.isActivated)throw new C$e(4013,false);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new li$4(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance);}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[tR]})}return t})(),li$4=class t{route;childContexts;parent;outletData;__ngOutletInjector(r){return new t(this.route,this.childContexts,r,this.outletData)}constructor(r,e,n,i){this.route=r,this.childContexts=e,this.parent=n,this.outletData=i;}get(r,e){return r===Ge$9?this.route:r===xt$6?this.childContexts:r===Zc$3?this.outletData:this.parent.get(r,e)}},Un$5=new k$5(""),bo$4=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e);}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e);}subscribeToRouteData(e){let{activatedRoute:n}=e,i=Hp$2([n.queryParams,n.params,n.data]).pipe(Ac$3(([s,o,a],u)=>(a=w$9(w$9(w$9({},s),o),a),u===0?hi$7(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=UP(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);});this.outletDataSubscriptions.set(e,i);}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();function Kc$3(t,r,e){let n=Ft$5(t,r._root,e?e._root:undefined);return new _n$5(n,r)}function Ft$5(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let i=Xc$3(t,r,e);return new q$5(n,i)}else {if(t.shouldAttach(r.value)){let s=t.retrieve(r.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(a=>Ft$5(t,a)),o}}let n=Jc$4(r.value),i=r.children.map(s=>Ft$5(t,s));return new q$5(n,i)}}function Xc$3(t,r,e){return r.children.map(n=>{for(let i of e.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ft$5(t,n,i);return Ft$5(t,n)})}function Jc$4(t){return new Ge$9(new yn$7(t.url),new yn$7(t.params),new yn$7(t.queryParams),new yn$7(t.fragment),new yn$7(t.data),t.outlet,t.component,t)}var _t$3=class _t{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e;}},Zo$3="ngNavigationCancelingError";function Ln$6(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=Ve$4(r)?{redirectTo:r,navigationBehaviorOptions:undefined}:r,i=Yo$3(false,W$8.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function Yo$3(t,r){let e=new Error(`NavigationCancelingError: ${""}`);return e[Zo$3]=true,e.cancellationCode=r,e}function Qc$2(t){return Ko$3(t)&&Ve$4(t.url)}function Ko$3(t){return !!t&&t[Zo$3]}var el$2=(t,r,e,n)=>ie$b(i=>(new di$5(r,i.targetRouterState,i.currentRouterState,e,n).activate(t),i)),di$5=class di{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,i,s){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s;}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Vr$5(this.futureState.root),this.activateChildRoutes(e,n,r);}deactivateChildRoutes(r,e,n){let i=et$7(e);r.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o];}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n);});}deactivateRoutes(r,e,n){let i=r.value,s=e?e.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(r,e,o.children);}else this.deactivateChildRoutes(r,e,n);else s&&this.deactivateRouteAndItsChildren(e,n);}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e);}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,s=et$7(r);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:o,route:r,contexts:a});}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),i=n&&r.value.component?n.children:e,s=et$7(r);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null);}activateChildRoutes(r,e,n){let i=et$7(e);r.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new si$4(s.value.snapshot));}),r.children.length&&this.forwardEvent(new ri$5(r.value.snapshot));}activateRoutes(r,e,n){let i=r.value,s=e?e.value:null;if(Vr$5(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,e,o.children);}else this.activateChildRoutes(r,e,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vr$5(a.route.value),this.activateChildRoutes(r,null,o.children);}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(r,null,o.children);}else this.activateChildRoutes(r,null,n);}},Nn$5=class Nn{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1];}},rt$7=class rt{component;route;constructor(r,e){this.component=r,this.route=e;}};function tl$2(t,r,e){let n=t._root,i=r?r._root:null;return St$4(n,i,e,[n.value])}function nl$2(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return !r||r.length===0?null:{node:t,guards:r}}function ct$7(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!Xk(t)?t:r.get(t):n}function St$4(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=et$7(r);return t.children.forEach(o=>{rl$2(o,s[o.value.outlet],e,n.concat([o.value]),i),delete s[o.value.outlet];}),Object.entries(s).forEach(([o,a])=>Rt$6(a,e.getContext(o),i)),i}function rl$2(t,r,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=r?r.value:null,a=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=il$2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nn$5(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?St$4(t,r,a?a.children:null,n,i):St$4(t,r,e,n,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rt$7(a.outlet.component,o));}else o&&Rt$6(r,a,i),i.canActivateChecks.push(new Nn$5(n)),s.component?St$4(t,null,a?a.children:null,n,i):St$4(t,null,e,n,i);return i}function il$2(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case "pathParamsChange":return !ze$5(t.url,r.url);case "pathParamsOrQueryParamsChange":return !ze$5(t.url,r.url)||!ae$8(t.queryParams,r.queryParams);case "always":return  true;case "paramsOrQueryParamsChange":return !ci$4(t,r)||!ae$8(t.queryParams,r.queryParams);case "paramsChange":default:return !ci$4(t,r)}}function Rt$6(t,r,e){let n=et$7(t),i=t.value;Object.entries(n).forEach(([s,o])=>{i.component?r?Rt$6(o,r.children.getContext(s),e):Rt$6(o,null,e):Rt$6(o,r,e);}),i.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new rt$7(r.outlet.component,i)):e.canDeactivateChecks.push(new rt$7(null,i)):e.canDeactivateChecks.push(new rt$7(null,i));}function Ut$6(t){return typeof t=="function"}function sl$2(t){return typeof t=="boolean"}function ol$2(t){return t&&Ut$6(t.canLoad)}function al$2(t){return t&&Ut$6(t.canActivate)}function ul$2(t){return t&&Ut$6(t.canActivateChild)}function cl$2(t){return t&&Ut$6(t.canDeactivate)}function ll$2(t){return t&&Ut$6(t.canMatch)}function Xo$4(t){return t instanceof Me$8||t?.name==="EmptyError"}var Cn$4=Symbol("INITIAL_VALUE");function ut$4(){return Ac$3(t=>Hp$2(t.map(r=>r.pipe(mt$8(1),Sc$2(Cn$4)))).pipe(ie$b(r=>{for(let e of r)if(e!==true){if(e===Cn$4)return Cn$4;if(e===false||dl$2(e))return e}return  true}),Ye$b(r=>r!==Cn$4),mt$8(1)))}function dl$2(t){return Ve$4(t)||t instanceof _t$3}function hl$2(t,r){return ve$9(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?hi$7(x$d(w$9({},e),{guardsResult:true})):fl$2(o,n,i,t).pipe(ve$9(a=>a&&sl$2(a)?pl$2(n,s,t,r):hi$7(a)),ie$b(a=>x$d(w$9({},e),{guardsResult:a})))})}function fl$2(t,r,e,n){return ye$7(t).pipe(ve$9(i=>yl$2(i.component,i.route,e,r,n)),Cc$3(i=>i!==true,true))}function pl$2(t,r,e,n){return ye$7(r).pipe(Uc$2(i=>Je$6(ml$2(i.route.parent,n),gl$2(i.route,n),Dl$1(t,i.path,e),vl$2(t,i.route,e))),Cc$3(i=>i!==true,true))}function gl$2(t,r){return t!==null&&r&&r(new ii$4(t)),hi$7(true)}function ml$2(t,r){return t!==null&&r&&r(new ni$4(t)),hi$7(true)}function vl$2(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return hi$7(true);let i=n.map(s=>gi$4(()=>{let o=kt$2(r)??e,a=ct$7(s,o),u=al$2(a)?a.canActivate(r,t):Nu$3(o,()=>a(r,t));return Fe$7(u).pipe(Cc$3())}));return hi$7(i).pipe(ut$4())}function Dl$1(t,r,e){let n=r[r.length-1],s=r.slice(0,r.length-1).reverse().map(o=>nl$2(o)).filter(o=>o!==null).map(o=>gi$4(()=>{let a=o.guards.map(u=>{let c=kt$2(o.node)??e,l=ct$7(u,c),d=ul$2(l)?l.canActivateChild(n,t):Nu$3(c,()=>l(n,t));return Fe$7(d).pipe(Cc$3())});return hi$7(a).pipe(ut$4())}));return hi$7(s).pipe(ut$4())}function yl$2(t,r,e,n,i){let s=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!s||s.length===0)return hi$7(true);let o=s.map(a=>{let u=kt$2(r)??i,c=ct$7(a,u),l=cl$2(c)?c.canDeactivate(t,r,e,n):Nu$3(u,()=>c(t,r,e,n));return Fe$7(l).pipe(Cc$3())});return hi$7(o).pipe(ut$4())}function wl$2(t,r,e,n){let i=r.canLoad;if(i===undefined||i.length===0)return hi$7(true);let s=i.map(o=>{let a=ct$7(o,t),u=ol$2(a)?a.canLoad(r,e):Nu$3(t,()=>a(r,e));return Fe$7(u)});return hi$7(s).pipe(ut$4(),Jo$2(n))}function Jo$2(t){return oi$5(kc$2(r=>{if(typeof r!="boolean")throw Ln$6(t,r)}),ie$b(r=>r===true))}function Cl$2(t,r,e,n){let i=r.canMatch;if(!i||i.length===0)return hi$7(true);let s=i.map(o=>{let a=ct$7(o,t),u=ll$2(a)?a.canMatch(r,e):Nu$3(t,()=>a(r,e));return Fe$7(u)});return hi$7(s).pipe(ut$4(),Jo$2(n))}var Ot$5=class Ot{segmentGroup;constructor(r){this.segmentGroup=r||null;}},Pt$5=class Pt extends Error{urlTree;constructor(r){super(),this.urlTree=r;}};function Qe$4(t){return Xp$2(new Ot$5(t))}function El$1(t){return Xp$2(new C$e(4e3,false))}function Sl$2(t){return Xp$2(Yo$3(false,W$8.GuardRejected))}var hi$6=class hi{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e;}lineralizeSegments(r,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return hi$7(n);if(i.numberOfChildren>1||!i.children[y$7])return El$1(`${r.redirectTo}`);i=i.children[y$7];}}applyRedirectCommands(r,e,n,i,s){if(typeof e!="string"){let a=e,{queryParams:u,fragment:c,routeConfig:l,url:d,outlet:p,params:g,data:b,title:E}=i,w=Nu$3(s,()=>a({params:g,data:b,queryParams:u,fragment:c,routeConfig:l,url:d,outlet:p,title:E}));if(w instanceof me$6)throw new Pt$5(w);e=w;}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new Pt$5(o);return o}applyRedirectCreateUrlTree(r,e,n,i){let s=this.createSegmentGroup(r,e.root,n,i);return new me$6(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[i]=e[a];}else n[i]=s;}),n}createSegmentGroup(r,e,n,i){let s=this.createSegments(r,e.segments,n,i),o={};return Object.entries(e.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(r,u,n,i);}),new R$f(s,o)}createSegments(r,e,n,i){return e.map(s=>s.path[0]===":"?this.findPosParam(r,s,i):this.findOrReturn(s,n))}findPosParam(r,e,n){let i=n[e.path.substring(1)];if(!i)throw new C$e(4001,false);return i}findOrReturn(r,e){let n=0;for(let i of e){if(i.path===r.path)return e.splice(n),i;n++;}return r}},fi$5={matched:false,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bl$2(t,r,e,n,i){let s=Qo$2(t,r,e);return s.matched?(n=Hc$2(r,n),Cl$2(n,r,e,i).pipe(ie$b(o=>o===true?s:w$9({},fi$5)))):hi$7(s)}function Qo$2(t,r,e){if(r.path==="**")return Al(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?w$9({},fi$5):{matched:true,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(r.matcher||yc$2)(e,t,r);if(!i)return w$9({},fi$5);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path;});let o=i.consumed.length>0?w$9(w$9({},s),i.consumed[i.consumed.length-1].parameters):s;return {matched:true,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Al(t){return {matched:true,parameters:t.length>0?Oo$4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ao$4(t,r,e,n){return e.length>0&&Il$2(t,e,n)?{segmentGroup:new R$f(r,Tl$2(n,new R$f(e,t.children))),slicedSegments:[]}:e.length===0&&Ml$2(t,e,n)?{segmentGroup:new R$f(t.segments,Rl$1(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new R$f(t.segments,t.children),slicedSegments:e}}function Rl$1(t,r,e,n){let i={};for(let s of e)if(Bn$6(t,r,s)&&!n[re$7(s)]){let o=new R$f([],{});i[re$7(s)]=o;}return w$9(w$9({},n),i)}function Tl$2(t,r){let e={};e[y$7]=r;for(let n of t)if(n.path===""&&re$7(n)!==y$7){let i=new R$f([],{});e[re$7(n)]=i;}return e}function Il$2(t,r,e){return e.some(n=>Bn$6(t,r,n)&&re$7(n)!==y$7)}function Ml$2(t,r,e){return e.some(n=>Bn$6(t,r,n))}function Bn$6(t,r,e){return (t.hasChildren()||r.length>0)&&e.pathMatch==="full"?false:e.path===""}function Fl$1(t,r,e){return r.length===0&&!t.children[e]}var pi$5=class pi{};function _l$2(t,r,e,n,i,s,o="emptyOnly"){return new gi$3(t,r,e,n,i,o,s).recognize()}var Ol$2=31,gi$3=class gi{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=true;constructor(r,e,n,i,s,o,a){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hi$6(this.urlSerializer,this.urlTree);}noMatchError(r){return new C$e(4002,`'${r.segmentGroup}'`)}recognize(){let r=Ao$4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(ie$b(({children:e,rootSnapshot:n})=>{let i=new q$5(n,e),s=new Pn$6("",i),o=Uc$1(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(r){let e=new nt$a([],Object.freeze({}),Object.freeze(w$9({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),y$7,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,y$7,e).pipe(ie$b(n=>({children:n,rootSnapshot:e})),yi$5(n=>{if(n instanceof Pt$5)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ot$5?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,i,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,s):this.processSegment(r,e,n,n.segments,i,true,s).pipe(ie$b(o=>o instanceof q$5?[o]:[]))}processChildren(r,e,n,i){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return ye$7(s).pipe(Uc$2(o=>{let a=n.children[o],u=qc$1(e,o);return this.processSegmentGroup(r,u,a,o,i)}),Qc$3((o,a)=>(o.push(...a),o)),qt$4(null),Th$2(),ve$9(o=>{if(o===null)return Qe$4(n);let a=ea$3(o);return Pl$2(a),hi$7(a)}))}processSegment(r,e,n,i,s,o,a){return ye$7(e).pipe(Uc$2(u=>this.processSegmentAgainstRoute(u._injector??r,e,u,n,i,s,o,a).pipe(yi$5(c=>{if(c instanceof Ot$5)return hi$7(null);throw c}))),Cc$3(u=>!!u),yi$5(u=>{if(Xo$4(u))return Fl$1(n,i,s)?hi$7(new pi$5):Qe$4(n);throw u}))}processSegmentAgainstRoute(r,e,n,i,s,o,a,u){return re$7(n)!==o&&(o===y$7||!Bn$6(i,s,n))?Qe$4(i):n.redirectTo===undefined?this.matchSegmentAgainstRoute(r,i,n,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,i,e,n,s,o,u):Qe$4(i)}expandSegmentAgainstRouteUsingRedirect(r,e,n,i,s,o,a){let{matched:u,parameters:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:p}=Qo$2(e,i,s);if(!u)return Qe$4(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ol$2&&(this.allowRedirects=false));let g=new nt$a(s,c,Object.freeze(w$9({},this.urlTree.queryParams)),this.urlTree.fragment,Ro$4(i),re$7(i),i.component??i._loadedComponent??null,i,To$2(i)),b=On$5(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let E=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,g,r);return this.applyRedirects.lineralizeSegments(i,E).pipe(ve$9(w=>this.processSegment(r,n,e,w.concat(p),o,false,a)))}matchSegmentAgainstRoute(r,e,n,i,s,o){let a=bl$2(e,n,i,r,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(Ac$3(u=>u.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(Ac$3(({routes:c})=>{let l=n._loadedInjector??r,{parameters:d,consumedSegments:p,remainingSegments:g}=u,b=new nt$a(p,d,Object.freeze(w$9({},this.urlTree.queryParams)),this.urlTree.fragment,Ro$4(n),re$7(n),n.component??n._loadedComponent??null,n,To$2(n)),E=On$5(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(E.params),b.data=Object.freeze(E.data);let{segmentGroup:w,slicedSegments:k}=Ao$4(e,p,g,c);if(k.length===0&&w.hasChildren())return this.processChildren(l,c,w,b).pipe(ie$b(F=>new q$5(b,F)));if(c.length===0&&k.length===0)return hi$7(new q$5(b,[]));let ee=re$7(n)===s;return this.processSegment(l,c,w,k,ee?y$7:s,true,b).pipe(ie$b(F=>new q$5(b,F instanceof q$5?[F]:[])))}))):Qe$4(e)))}getChildConfig(r,e,n){return e.children?hi$7({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==undefined?hi$7({routes:e._loadedRoutes,injector:e._loadedInjector}):wl$2(r,e,n,this.urlSerializer).pipe(ve$9(i=>i?this.configLoader.loadChildren(r,e).pipe(kc$2(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector;})):Sl$2())):hi$7({routes:[],injector:r})}};function Pl$2(t){t.sort((r,e)=>r.value.outlet===y$7?-1:e.value.outlet===y$7?1:r.value.outlet.localeCompare(e.value.outlet));}function Ll$1(t){let r=t.value.routeConfig;return r&&r.path===""}function ea$3(t){let r=[],e=new Set;for(let n of t){if(!Ll$1(n)){r.push(n);continue}let i=r.find(s=>n.value.routeConfig===s.value.routeConfig);i!==undefined?(i.children.push(...n.children),e.add(i)):r.push(n);}for(let n of e){let i=ea$3(n.children);r.push(new q$5(n.value,i));}return r.filter(n=>!e.has(n))}function Ro$4(t){return t.data||{}}function To$2(t){return t.resolve||{}}function Nl$1(t,r,e,n,i,s){return ve$9(o=>_l$2(t,r,e,n,o.extractedUrl,i,s).pipe(ie$b(({state:a,tree:u})=>x$d(w$9({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function kl$1(t,r){return ve$9(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return hi$7(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of ta$5(u))o.add(c);let a=0;return ye$7(o).pipe(Uc$2(u=>s.has(u)?xl$2(u,n,t,r):(u.data=On$5(u,u.parent,t).resolve,hi$7(undefined))),kc$2(()=>a++),Oi$5(1),ve$9(u=>a===o.size?hi$7(e):be$8))})}function ta$5(t){let r=t.children.map(e=>ta$5(e)).flat();return [t,...r]}function xl$2(t,r,e,n){let i=t.routeConfig,s=t._resolve;return i?.title!==undefined&&!Wo$4(i)&&(s[Lt$5]=i.title),Ul$1(s,t,r,n).pipe(ie$b(o=>(t._resolvedData=o,t.data=On$5(t,t.parent,e).resolve,null)))}function Ul$1(t,r,e,n){let i=qr$4(t);if(i.length===0)return hi$7({});let s={};return ye$7(i).pipe(ve$9(o=>Bl(t[o],r,e,n).pipe(Cc$3(),kc$2(a=>{if(a instanceof _t$3)throw Ln$6(new st$7,a);s[o]=a;}))),Oi$5(1),ie$b(()=>s),yi$5(o=>Xo$4(o)?be$8:Xp$2(o)))}function Bl(t,r,e,n){let i=kt$2(r)??n,s=ct$7(t,i),o=s.resolve?s.resolve(r,e):Nu$3(i,()=>s(r,e));return Fe$7(o)}function Gr$5(t){return Ac$3(r=>{let e=t(r);return e?ye$7(e).pipe(ie$b(()=>r)):hi$7(r)})}var na$4=(()=>{class t{buildTitle(e){let n,i=e.root;for(;i!==undefined;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(s=>s.outlet===y$7);return n}getResolvedTitleForRoute(e){return e.data[Lt$5]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(jl$1),providedIn:"root"})}return t})(),jl$1=(()=>{class t extends na$4{title;constructor(e){super(),this.title=e;}updateTitle(e){let n=this.buildTitle(e);n!==undefined&&this.title.setTitle(n);}static \u0275fac=function(n){return new(n||t)(pe$9(yo$4))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bt$6=new k$5("",{providedIn:"root",factory:()=>({})}),$l$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=LR({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&ME(0,"router-outlet");},dependencies:[Yc$2],encapsulation:2})}return t})();function Di$5(t){let r=t.children&&t.children.map(Di$5),e=r?x$d(w$9({},t),{children:r}):w$9({},t);return !e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==y$7&&(e.component=$l$1),e}var kn$7=new k$5(""),yi$4=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N$8(kP);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return hi$7(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Fe$7(e.loadComponent()).pipe(ie$b(ra$5),kc$2(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s;}),xc$2(()=>{this.componentLoaders.delete(e);})),i=new Mi$6(n,()=>new Z$a).pipe(bi$6());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return hi$7({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=zl(n,this.compiler,e,this.onLoadEndListener).pipe(xc$2(()=>{this.childrenLoaders.delete(n);})),o=new Mi$6(s,()=>new Z$a).pipe(bi$6());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zl(t,r,e,n){return Fe$7(t.loadChildren()).pipe(ie$b(ra$5),ve$9(i=>i instanceof Gs$3||Array.isArray(i)?hi$7(i):ye$7(r.compileModuleAsync(i))),ie$b(i=>{n&&n(t);let s,o;return Array.isArray(i)?(o=i,true):(s=i.create(e).injector,o=s.get(kn$7,[],{optional:true,self:true}).flat()),{routes:o.map(Di$5),injector:s}}))}function Vl$1(t){return t&&typeof t=="object"&&"default"in t}function ra$5(t){return Vl$1(t)?t.default:t}var wi$4=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(Gl$1),providedIn:"root"})}return t})(),Gl$1=(()=>{class t{shouldProcessUrl(e){return  true}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ia$5=new k$5(""),sa$5=new k$5("");function Hl$2(t,r,e){let n=t.get(sa$5),i=t.get(L$8);return t.get(te$6).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=false,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c;}),a=i.startViewTransition(()=>(s(),ql$1(t))),{onViewTransitionCreated:u}=n;return u&&Nu$3(t,()=>u({transition:a,from:r,to:e})),o})}function ql$1(t){return new Promise(r=>{Vg({read:()=>setTimeout(r)},{injector:t});})}var oa$4=new k$5(""),Ci$6=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Z$a;transitionAbortSubject=new Z$a;configLoader=N$8(yi$4);environmentInjector=N$8(nt$b);urlSerializer=N$8(Nt$2);rootContexts=N$8(xt$6);location=N$8(Xe$4);inputBindingEnabled=N$8(Un$5,{optional:true})!==null;titleStrategy=N$8(na$4);options=N$8(Bt$6,{optional:true})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N$8(wi$4);createViewTransition=N$8(ia$5,{optional:true});navigationErrorHandler=N$8(oa$4,{optional:true});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>hi$7(undefined);rootComponentType=null;constructor(){let e=i=>this.events.next(new ei$5(i)),n=i=>this.events.next(new ti$4(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e;}complete(){this.transitions?.complete();}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(x$d(w$9(w$9({},this.transitions.value),e),{id:n}));}setupNavigations(e,n,i){return this.transitions=new yn$7({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(true),source:At$4,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ye$b(s=>s.id!==0),ie$b(s=>x$d(w$9({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ac$3(s=>{let o=false,a=false;return hi$7(s).pipe(Ac$3(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",W$8.SupersededByNewNavigation),be$8;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?x$d(w$9({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&l!=="reload"){let d="";return this.events.next(new Me$7(u.id,this.urlSerializer.serialize(u.rawUrl),d,Tn$5.IgnoredSameUrlNavigation)),u.resolve(false),be$8}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return hi$7(u).pipe(Ac$3(d=>{let p=this.transitions?.getValue();return this.events.next(new ot$b(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?be$8:Promise.resolve(d)}),Nl$1(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),kc$2(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=x$d(w$9({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new In$6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p);}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:b,extras:E}=u,w=new ot$b(d,this.urlSerializer.serialize(p),g,b);this.events.next(w);let k=Ho$3(this.rootComponentType).snapshot;return this.currentTransition=s=x$d(w$9({},u),{targetSnapshot:k,urlAfterRedirects:p,extras:x$d(w$9({},E),{skipLocationChange:false,replaceUrl:false})}),this.currentNavigation.finalUrl=p,hi$7(s)}else {let d="";return this.events.next(new Me$7(u.id,this.urlSerializer.serialize(u.extractedUrl),d,Tn$5.IgnoredByUrlHandlingStrategy)),u.resolve(false),be$8}}),kc$2(u=>{let c=new Kr$3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c);}),ie$b(u=>(this.currentTransition=s=x$d(w$9({},u),{guards:tl$2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),hl$2(this.environmentInjector,u=>this.events.next(u)),kc$2(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Ln$6(this.urlSerializer,u.guardsResult);let c=new Xr$3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c);}),Ye$b(u=>u.guardsResult?true:(this.cancelNavigationTransition(u,"",W$8.GuardRejected),false)),Gr$5(u=>{if(u.guards.canActivateChecks.length)return hi$7(u).pipe(kc$2(c=>{let l=new Jr$4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l);}),Ac$3(c=>{let l=false;return hi$7(c).pipe(kl$1(this.paramsInheritanceStrategy,this.environmentInjector),kc$2({next:()=>l=true,complete:()=>{l||this.cancelNavigationTransition(c,"",W$8.NoDataFromResolver);}}))}),kc$2(c=>{let l=new Qr$4(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l);}))}),Gr$5(u=>{let c=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(kc$2(p=>{l.component=p;}),ie$b(()=>{})));for(let p of l.children)d.push(...c(p));return d};return Hp$2(c(u.targetSnapshot.root)).pipe(qt$4(null),mt$8(1))}),Gr$5(()=>this.afterPreactivation()),Ac$3(()=>{let{currentSnapshot:u,targetSnapshot:c}=s,l=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return l?ye$7(l).pipe(ie$b(()=>s)):hi$7(s)}),ie$b(u=>{let c=Kc$3(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=x$d(w$9({},u),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),kc$2(()=>{this.events.next(new Mt$3);}),el$2(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mt$8(1),kc$2({next:u=>{o=true,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ie$a(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(true);},complete:()=>{o=true;}}),Oc$2(this.transitionAbortSubject.pipe(kc$2(u=>{throw u}))),xc$2(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",W$8.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null);}),yi$5(u=>{if(a=true,Ko$3(u))this.events.next(new ge$a(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Qc$2(u)?this.events.next(new at$6(u.url,u.navigationBehaviorOptions)):s.resolve(false);else {let c=new It$5(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??undefined);try{let l=Nu$3(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof _t$3){let{message:d,cancellationCode:p}=Ln$6(this.urlSerializer,l);this.events.next(new ge$a(s.id,this.urlSerializer.serialize(s.extractedUrl),d,p)),this.events.next(new at$6(l.redirectTo,l.navigationBehaviorOptions));}else throw this.events.next(c),u}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(false):s.reject(l);}}return be$8}))}))}cancelNavigationTransition(e,n,i){let s=new ge$a(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(s),e.resolve(false);}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wl$1(t){return t!==At$4}var Zl$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(Yl$1),providedIn:"root"})}return t})(),mi$5=class mi{shouldDetach(r){return  false}store(r,e){}shouldAttach(r){return  false}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},Yl$1=(()=>{class t extends mi$5{static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aa$5=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:()=>N$8(Kl$1),providedIn:"root"})}return t})(),Kl$1=(()=>{class t extends aa$5{location=N$8(Xe$4);urlSerializer=N$8(Nt$2);options=N$8(Bt$6,{optional:true})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N$8(wi$4);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new me$6;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Ho$3(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return {rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state);})}handleRouterEvent(e,n){if(e instanceof ot$b)this.stateMemento=this.createStateMemento();else if(e instanceof Me$7)this.rawUrlTree=n.initialUrl;else if(e instanceof In$6){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??i,n);}}else e instanceof Mt$3?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof ge$a&&(e.code===W$8.GuardRejected||e.code===W$8.NoDataFromResolver)?this.restoreHistory(n):e instanceof It$5?this.restoreHistory(n,true):e instanceof ie$a&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId);}setBrowserUrl(e,n){let i=e instanceof me$6?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let s=this.browserPageId,o=w$9(w$9({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(i,"",o);}else {let s=w$9(w$9({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",s);}}restoreHistory(e,n=false){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree());}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree());}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree);}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId));}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ua$5(t,r){t.events.pipe(Ye$b(e=>e instanceof ie$a||e instanceof ge$a||e instanceof It$5||e instanceof Me$7),ie$b(e=>e instanceof ie$a||e instanceof Me$7?0:(e instanceof ge$a?e.code===W$8.Redirect||e.code===W$8.SupersededByNewNavigation:false)?2:1),Ye$b(e=>e!==2),mt$8(1)).subscribe(()=>{r();});}var Xl$2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jl$1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ve$8=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=false;nonRouterCurrentEntryChangeSubscription;console=N$8($R);stateManager=N$8(aa$5);options=N$8(Bt$6,{optional:true})||{};pendingTasks=N$8(Qn$5);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N$8(Ci$6);urlSerializer=N$8(Nt$2);location=N$8(Xe$4);urlHandlingStrategy=N$8(wi$4);_events=new Z$a;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=false;routeReuseStrategy=N$8(Zl$1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N$8(kn$7,{optional:true})?.flat()??[];componentInputBindingEnabled=!!N$8(Un$5,{optional:true});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e);}}),this.subscribeToNavigationEvents();}eventsSubscription=new V$7;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof ge$a&&n.code!==W$8.Redirect&&n.code!==W$8.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ie$a)this.navigated=!0;else if(n instanceof at$6){let o=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),u=w$9({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Wl$1(i.source)},o);this.scheduleNavigation(a,At$4,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise});}}ed$2(n)&&this._events.next(n);}catch(i){this.navigationTransitions.transitionAbortSubject.next(i);}});this.eventsSubscription.add(e);}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e;}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(true),At$4,this.stateManager.restoredState());}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n);},0);});}navigateToSyncWithBrowser(e,n,i){let s={replaceUrl:true},o=i?.navigationId?i:null;if(i){let u=w$9({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u);}let a=this.parseUrl(e);this.scheduleNavigation(a,n,o,s);}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Di$5),this.navigated=false;}ngOnDestroy(){this.dispose();}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=undefined),this.disposed=true,this.eventsSubscription.unsubscribe();}createUrlTree(e,n={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=n,c=u?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case "merge":l=w$9(w$9({},this.currentUrlTree.queryParams),s);break;case "preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null;}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=$o$3(p);}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root;}return zo$3(d,e,l,c??null)}navigateByUrl(e,n={skipLocationChange:false}){let i=Ve$4(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,At$4,null,n)}navigate(e,n={skipLocationChange:false}){return Ql(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===true?i=w$9({},Xl$2):n===false?i=w$9({},Jl$1):i=n,Ve$4(e))return wo$4(this.currentUrlTree,e,i);let s=this.parseUrl(e);return wo$4(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,s])=>(s!=null&&(n[i]=s),n),{})}scheduleNavigation(e,n,i,s,o){if(this.disposed)return Promise.resolve(false);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,p)=>{a=d,u=p;});let l=this.pendingTasks.add();return ua$5(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l));}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ql(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new C$e(4008,false)}function ed$2(t){return !(t instanceof Mt$3)&&!(t instanceof at$6)}var Io$4=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Z$a;constructor(e,n,i,s,o,a){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof ie$a&&this.updateHref();}):this.setTabIndexIfNotOnNativeEl("0");}preserveFragment=false;skipLocationChange=false;replaceUrl=false;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e);}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this);}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ve$4(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"));}onClick(e,n,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||i||s||o||typeof this.target=="string"&&this.target!="_self"))return  true;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe();}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:DR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n);}applyAttributeValue(e,n){let i=this.renderer,s=this.el.nativeElement;n!==null?i.setAttribute(s,e,n):i.removeAttribute(s,e);}get urlTree(){return this.routerLinkInput===null?null:Ve$4(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==undefined?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(Yo$4(ve$8),Yo$4(Ge$9),fg$1("tabindex"),Yo$4(NR),Yo$4(Uo$5),Yo$4(pe$8))};static \u0275dir=VR({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&VE("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&GI("target",i.target);},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",VP],skipLocationChange:[2,"skipLocationChange","skipLocationChange",VP],replaceUrl:[2,"replaceUrl","replaceUrl",VP],routerLink:"routerLink"},features:[BR,tR]})}return t})(),ef$2=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=false;get isActive(){return this._isActive}routerLinkActiveOptions={exact:false};ariaCurrentWhenActive;isActiveChange=new Xe$5;constructor(e,n,i,s,o){this.router=e,this.element=n,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof ie$a&&this.update();});}ngAfterContentInit(){hi$7(this.links.changes,hi$7(null)).pipe(wn$7()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges();});}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=ye$7(e).pipe(wn$7()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update();});}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i);}ngOnChanges(e){this.update();}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe();}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n);}),e&&this.ariaCurrentWhenActive!==undefined?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e));});}isLinkActive(e){let n=td$2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||false;return i=>{let s=i.urlTree;return s?e.isActive(s,n):false}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||t)(Yo$4(ve$8),Yo$4(Uo$5),Yo$4(NR),Yo$4(bw$1),Yo$4(Io$4,8))};static \u0275dir=VR({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,s){if(n&1&&oP(s,Io$4,5),n&2){let o;sP(o=aP())&&(i.links=o);}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[tR]})}return t})();function td$2(t){return !!t.paths}var xn$6=class xn{};var nd$2=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,s,o){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=o;}setUpPreloading(){this.subscription=this.router.events.pipe(Ye$b(e=>e instanceof ie$a),Uc$2(()=>this.preload())).subscribe(()=>{});}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe();}processRoutes(e,n){let i=[];for(let s of n){s.providers&&!s._injector&&(s._injector=gI(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===undefined||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes));}return ye$7(i).pipe(wn$7())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===undefined?i=this.loader.loadChildren(e,n):i=hi$7(null);let s=i.pipe(ve$9(o=>o===null?hi$7(undefined):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return ye$7([s,o]).pipe(wn$7())}else return s})}static \u0275fac=function(n){return new(n||t)(pe$9(ve$8),pe$9(kP),pe$9(nt$b),pe$9(xn$6),pe$9(yi$4))};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ca$5=new k$5(""),rd$2=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,i,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled";}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents();}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ot$b?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ie$a?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Me$7&&e.code===Tn$5.IgnoredSameUrlNavigation&&(this.lastSource=undefined,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment));})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mn$6&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]));})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mn$6(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n));});},0);});}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe();}static \u0275fac=function(n){CR();};static \u0275prov=H$9({token:t,factory:t.\u0275fac})}return t})();function id$2(t){return t.routerState.root}function jt$4(t,r){return {\u0275kind:t,\u0275providers:r}}function sd$2(){let t=N$8(_e$8);return r=>{let e=t.get(ln$5);if(r!==e.components[0])return;let n=t.get(ve$8),i=t.get(la$4);t.get(Ei$8)===1&&n.initialNavigation(),t.get(da$4,null,A$e.Optional)?.setUpPreloading(),t.get(ca$5,null,A$e.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe());}}var la$4=new k$5("",{factory:()=>new Z$a}),Ei$8=new k$5("",{providedIn:"root",factory:()=>1});function od$2(){return jt$4(2,[{provide:Ei$8,useValue:0},{provide:Vf$2,multi:true,deps:[_e$8],useFactory:r=>{let e=r.get(Ns$3,Promise.resolve());return ()=>e.then(()=>new Promise(n=>{let i=r.get(ve$8),s=r.get(la$4);ua$5(i,()=>{n(true);}),r.get(Ci$6).afterPreactivation=()=>(n(true),s.closed?hi$7(undefined):s),i.initialNavigation();}))}}])}function ad$2(){return jt$4(3,[{provide:Vf$2,multi:true,useFactory:()=>{let r=N$8(ve$8);return ()=>{r.setUpLocationChangeListener();}}},{provide:Ei$8,useValue:2}])}var da$4=new k$5("");function ud$1(t){return jt$4(0,[{provide:da$4,useExisting:nd$2},{provide:xn$6,useExisting:t}])}function cd$2(){return jt$4(8,[bo$4,{provide:Un$5,useExisting:bo$4}])}function ld$2(t){let r=[{provide:ia$5,useValue:Hl$2},{provide:sa$5,useValue:w$9({skipNextTransition:false},t)}];return jt$4(9,r)}var Mo$5=new k$5("ROUTER_FORROOT_GUARD"),dd$2=[Xe$4,{provide:Nt$2,useClass:st$7},ve$8,xt$6,{provide:Ge$9,useFactory:id$2,deps:[ve$8]},yi$4,[]],tf$2=(()=>{class t{constructor(e){}static forRoot(e,n){return {ngModule:t,providers:[dd$2,[],{provide:kn$7,multi:true,useValue:e},{provide:Mo$5,useFactory:gd$2,deps:[[ve$8,new yu$3,new vu$3]]},n?.errorHandler?{provide:oa$4,useValue:n.errorHandler}:[],{provide:Bt$6,useValue:n||{}},n?.useHash?fd$2():pd$1(),hd$2(),n?.preloadingStrategy?ud$1(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?md$3(n):[],n?.bindToComponentInputs?cd$2().\u0275providers:[],n?.enableViewTransitions?ld$2().\u0275providers:[],vd$2()]}}static forChild(e){return {ngModule:t,providers:[{provide:kn$7,multi:true,useValue:e}]}}static \u0275fac=function(n){return new(n||t)(pe$9(Mo$5,8))};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})();function hd$2(){return {provide:ca$5,useFactory:()=>{let t=N$8(Hs$2),r=N$8(te$6),e=N$8(Bt$6),n=N$8(Ci$6),i=N$8(Nt$2);return e.scrollOffset&&t.setOffset(e.scrollOffset),new rd$2(i,n,t,r,e)}}}function fd$2(){return {provide:pe$8,useClass:xs$2}}function pd$1(){return {provide:pe$8,useClass:Cr$5}}function gd$2(t){return "guarded"}function md$3(t){return [t.initialNavigation==="disabled"?ad$2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?od$2().\u0275providers:[]]}var Fo$2=new k$5("");function vd$2(){return [{provide:Fo$2,useFactory:sd$2},{provide:BI,multi:true,useExisting:Fo$2}]}
var jc$1=B$a(_n=>{var Ch=_n&&_n.__extends||function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r]);},t(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(o,e);function n(){this.constructor=o;}o.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n);}}();Object.defineProperty(_n,"__esModule",{value:true});_n.assert=_n.AssertionError=undefined;var zc=function(t){Ch(o,t);function o(e){return t.call(this,"Assertion Error. ".concat(e))||this}return o}(Error);_n.AssertionError=zc;function yh(t,o){if(o===undefined&&(o="'condition' is falsy."),!t)throw new zc(o)}_n.assert=yh;});var Hc$1=B$a(cr=>{Object.defineProperty(cr,"__esModule",{value:true});cr.guid=undefined;function vh(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return "".concat(t()).concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t()).concat(t()).concat(t())}cr.guid=vh;});var Wc$1=B$a(bn=>{var wh=bn&&bn.__createBinding||(Object.create?function(t,o,e,n){n===undefined&&(n=e);var i=Object.getOwnPropertyDescriptor(o,e);(!i||("get"in i?!o.__esModule:i.writable||i.configurable))&&(i={enumerable:true,get:function(){return o[e]}}),Object.defineProperty(t,n,i);}:function(t,o,e,n){n===undefined&&(n=e),t[n]=o[e];}),Uc=bn&&bn.__exportStar||function(t,o){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(o,e)&&wh(o,t,e);};Object.defineProperty(bn,"__esModule",{value:true});Uc(jc$1(),bn);Uc(Hc$1(),bn);});var Qc$1=B$a(Gc=>{Object.defineProperty(Gc,"__esModule",{value:true});});var Kc$2=B$a(Cn=>{var xh=Cn&&Cn.__createBinding||(Object.create?function(t,o,e,n){n===undefined&&(n=e);var i=Object.getOwnPropertyDescriptor(o,e);(!i||("get"in i?!o.__esModule:i.writable||i.configurable))&&(i={enumerable:true,get:function(){return o[e]}}),Object.defineProperty(t,n,i);}:function(t,o,e,n){n===undefined&&(n=e),t[n]=o[e];}),Yc=Cn&&Cn.__exportStar||function(t,o){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(o,e)&&xh(o,t,e);};Object.defineProperty(Cn,"__esModule",{value:true});Yc(Wc$1(),Cn);Yc(Qc$1(),Cn);});var od$1=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n;}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n);}registerOnTouched(e){this.onTouched=e;}registerOnChange(e){this.onChange=e;}setDisabledState(e){this.setProperty("disabled",e);}static \u0275fac=function(n){return new(n||t)(Yo$4(NR),Yo$4(Uo$5))};static \u0275dir=VR({type:t})}return t})(),na$3=(()=>{class t extends od$1{static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275dir=VR({type:t,features:[bI]})}return t})(),Fe$6=new k$5(""),Oh={provide:Fe$6,useExisting:uu$4(()=>ia$4),multi:true},ia$4=(()=>{class t extends na$3{writeValue(e){this.setProperty("checked",e);}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275dir=VR({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,i){n&1&&VE("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()});},standalone:false,features:[gP([Oh]),bI]})}return t})(),Mh$1={provide:Fe$6,useExisting:uu$4(()=>wn$5),multi:true};function Ph$1(){let t=Te$9()?Te$9().getUserAgent():"";return /android (\d+)/.test(t.toLowerCase())}var kh$1=new k$5(""),wn$5=(()=>{class t extends od$1{_compositionMode;_composing=false;constructor(e,n,i){super(e,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Ph$1());}writeValue(e){let n=e??"";this.setProperty("value",n);}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e);}_compositionStart(){this._composing=true;}_compositionEnd(e){this._composing=false,this._compositionMode&&this.onChange(e);}static \u0275fac=function(n){return new(n||t)(Yo$4(NR),Yo$4(Uo$5),Yo$4(kh$1,8))};static \u0275dir=VR({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&VE("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)});},standalone:false,features:[gP([Mh$1]),bI]})}return t})();function yn$5(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function rd$1(t){return t!=null&&typeof t.length=="number"}var xn$5=new k$5(""),Ln$5=new k$5(""),Sh$1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cn$4=class cn{static min(o){return Th$1(o)}static max(o){return Ih$1(o)}static required(o){return sd$1(o)}static requiredTrue(o){return Dh$1(o)}static email(o){return Eh$1(o)}static minLength(o){return Vh$1(o)}static maxLength(o){return Ah$1(o)}static pattern(o){return Rh(o)}static nullValidator(o){return pr$4()}static compose(o){return ud(o)}static composeAsync(o){return hd$1(o)}};function Th$1(t){return o=>{if(yn$5(o.value)||yn$5(t))return null;let e=parseFloat(o.value);return !isNaN(e)&&e<t?{min:{min:t,actual:o.value}}:null}}function Ih$1(t){return o=>{if(yn$5(o.value)||yn$5(t))return null;let e=parseFloat(o.value);return !isNaN(e)&&e>t?{max:{max:t,actual:o.value}}:null}}function sd$1(t){return yn$5(t.value)?{required:true}:null}function Dh$1(t){return t.value===true?null:{required:true}}function Eh$1(t){return yn$5(t.value)||Sh$1.test(t.value)?null:{email:true}}function Vh$1(t){return o=>yn$5(o.value)||!rd$1(o.value)?null:o.value.length<t?{minlength:{requiredLength:t,actualLength:o.value.length}}:null}function Ah$1(t){return o=>rd$1(o.value)&&o.value.length>t?{maxlength:{requiredLength:t,actualLength:o.value.length}}:null}function Rh(t){if(!t)return pr$4;let o,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),o=new RegExp(e)):(e=t.toString(),o=t),n=>{if(yn$5(n.value))return null;let i=n.value;return o.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function pr$4(t){return null}function ad$1(t){return t!=null}function ld$1(t){return Lf$2(t)?ye$7(t):t}function cd$1(t){let o={};return t.forEach(e=>{o=e!=null?w$9(w$9({},o),e):o;}),Object.keys(o).length===0?null:o}function dd$1(t,o){return o.map(e=>e(t))}function Fh$1(t){return !t.validate}function pd(t){return t.map(o=>Fh$1(o)?o:e=>o.validate(e))}function ud(t){if(!t)return null;let o=t.filter(ad$1);return o.length==0?null:function(e){return cd$1(dd$1(e,o))}}function oa$3(t){return t!=null?ud(pd(t)):null}function hd$1(t){if(!t)return null;let o=t.filter(ad$1);return o.length==0?null:function(e){let n=dd$1(e,o).map(ld$1);return ih$1(n).pipe(ie$b(cd$1))}}function ra$4(t){return t!=null?hd$1(pd(t)):null}function Xc$2(t,o){return t===null?[o]:Array.isArray(t)?[...t,o]:[t,o]}function gd$1(t){return t._rawValidators}function md$2(t){return t._rawAsyncValidators}function Zs$3(t){return t?Array.isArray(t)?t:[t]:[]}function ur$4(t,o){return Array.isArray(t)?t.includes(o):t===o}function Zc$2(t,o){let e=Zs$3(o);return Zs$3(t).forEach(i=>{ur$4(e,i)||e.push(i);}),e}function Jc$3(t,o){return Zs$3(o).filter(e=>!ur$4(t,e))}var hr$4=class hr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=oa$3(this._rawValidators);}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=ra$4(this._rawAsyncValidators);}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(o){this._onDestroyCallbacks.push(o);}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[];}reset(o=undefined){this.control&&this.control.reset(o);}hasError(o,e){return this.control?this.control.hasError(o,e):false}getError(o,e){return this.control?this.control.getError(o,e):null}},vt$4=class vt extends hr$4{name;get formDirective(){return null}get path(){return null}},zt$4=class zt extends hr$4{_parent=null;name=null;valueAccessor=null},gr$4=class gr{_cd;constructor(o){this._cd=o;}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return !!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return !!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return !!this._cd?.control?.invalid}get isPending(){return !!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qh$1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"};x$d(w$9({},qh$1),{"[class.ng-submitted]":"isSubmitted"});var Vt$6=(()=>{class t extends gr$4{constructor(e){super(e);}static \u0275fac=function(n){return new(n||t)(Yo$4(zt$4,2))};static \u0275dir=VR({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&dE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending);},standalone:false,features:[bI]})}return t})(),fd$1=(()=>{class t extends gr$4{constructor(e){super(e);}static \u0275fac=function(n){return new(n||t)(Yo$4(vt$4,10))};static \u0275dir=VR({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){n&2&&dE("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted);},standalone:false,features:[bI]})}return t})();var Hi$3="VALID",dr$4="INVALID",di$4="PENDING",Ui$5="DISABLED",vn$4=class vn{},mr$4=class mr extends vn$4{value;source;constructor(o,e){super(),this.value=o,this.source=e;}},Gi$3=class Gi extends vn$4{pristine;source;constructor(o,e){super(),this.pristine=o,this.source=e;}},Qi$4=class Qi extends vn$4{touched;source;constructor(o,e){super(),this.touched=o,this.source=e;}},pi$4=class pi extends vn$4{status;source;constructor(o,e){super(),this.status=o,this.source=e;}},Js$3=class Js extends vn$4{source;constructor(o){super(),this.source=o;}},ea$2=class ea extends vn$4{source;constructor(o){super(),this.source=o;}};function sa$4(t){return (yr$4(t)?t.validators:t)||null}function Lh$2(t){return Array.isArray(t)?oa$3(t):t||null}function aa$4(t,o){return (yr$4(o)?o.asyncValidators:t)||null}function $h(t){return Array.isArray(t)?ra$4(t):t||null}function yr$4(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _d$1(t,o,e){let n=t.controls;if(!(o?Object.keys(n):n).length)throw new C$e(1e3,"");if(!n[e])throw new C$e(1001,"")}function bd$1(t,o,e){t._forEachChild((n,i)=>{if(e[i]===undefined)throw new C$e(1002,"")});}var ui$3=class ui{_pendingDirty=false;_hasOwnPendingAsyncValidator=null;_pendingTouched=false;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(o,e){this._assignValidators(o),this._assignAsyncValidators(e);}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o;}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o;}get parent(){return this._parent}get status(){return BP$1(this.statusReactive)}set status(o){BP$1(()=>this.statusReactive.set(o));}_status=HP(()=>this.statusReactive());statusReactive=oI(undefined);get valid(){return this.status===Hi$3}get invalid(){return this.status===dr$4}get pending(){return this.status==di$4}get disabled(){return this.status===Ui$5}get enabled(){return this.status!==Ui$5}errors;get pristine(){return BP$1(this.pristineReactive)}set pristine(o){BP$1(()=>this.pristineReactive.set(o));}_pristine=HP(()=>this.pristineReactive());pristineReactive=oI(true);get dirty(){return !this.pristine}get touched(){return BP$1(this.touchedReactive)}set touched(o){BP$1(()=>this.touchedReactive.set(o));}_touched=HP(()=>this.touchedReactive());touchedReactive=oI(false);get untouched(){return !this.touched}_events=new Z$a;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o);}setAsyncValidators(o){this._assignAsyncValidators(o);}addValidators(o){this.setValidators(Zc$2(o,this._rawValidators));}addAsyncValidators(o){this.setAsyncValidators(Zc$2(o,this._rawAsyncValidators));}removeValidators(o){this.setValidators(Jc$3(o,this._rawValidators));}removeAsyncValidators(o){this.setAsyncValidators(Jc$3(o,this._rawAsyncValidators));}hasValidator(o){return ur$4(this._rawValidators,o)}hasAsyncValidator(o){return ur$4(this._rawAsyncValidators,o)}clearValidators(){this.validator=null;}clearAsyncValidators(){this.asyncValidator=null;}markAsTouched(o={}){let e=this.touched===false;this.touched=true;let n=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsTouched(x$d(w$9({},o),{sourceControl:n})),e&&o.emitEvent!==false&&this._events.next(new Qi$4(true,n));}markAllAsTouched(o={}){this.markAsTouched({onlySelf:true,emitEvent:o.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(o));}markAsUntouched(o={}){let e=this.touched===true;this.touched=false,this._pendingTouched=false;let n=o.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:true,emitEvent:o.emitEvent,sourceControl:n});}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,n),e&&o.emitEvent!==false&&this._events.next(new Qi$4(false,n));}markAsDirty(o={}){let e=this.pristine===true;this.pristine=false;let n=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsDirty(x$d(w$9({},o),{sourceControl:n})),e&&o.emitEvent!==false&&this._events.next(new Gi$3(false,n));}markAsPristine(o={}){let e=this.pristine===false;this.pristine=true,this._pendingDirty=false;let n=o.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:true,emitEvent:o.emitEvent});}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o,n),e&&o.emitEvent!==false&&this._events.next(new Gi$3(true,n));}markAsPending(o={}){this.status=di$4;let e=o.sourceControl??this;o.emitEvent!==false&&(this._events.next(new pi$4(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.markAsPending(x$d(w$9({},o),{sourceControl:e}));}disable(o={}){let e=this._parentMarkedDirty(o.onlySelf);this.status=Ui$5,this.errors=null,this._forEachChild(i=>{i.disable(x$d(w$9({},o),{onlySelf:true}));}),this._updateValue();let n=o.sourceControl??this;o.emitEvent!==false&&(this._events.next(new mr$4(this.value,n)),this._events.next(new pi$4(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x$d(w$9({},o),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(true));}enable(o={}){let e=this._parentMarkedDirty(o.onlySelf);this.status=Hi$3,this._forEachChild(n=>{n.enable(x$d(w$9({},o),{onlySelf:true}));}),this.updateValueAndValidity({onlySelf:true,emitEvent:o.emitEvent}),this._updateAncestors(x$d(w$9({},o),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(false));}_updateAncestors(o,e){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e));}setParent(o){this._parent=o;}getRawValue(){return this.value}updateValueAndValidity(o={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hi$3||this.status===di$4)&&this._runAsyncValidator(n,o.emitEvent);}let e=o.sourceControl??this;o.emitEvent!==false&&(this._events.next(new mr$4(this.value,e)),this._events.next(new pi$4(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(x$d(w$9({},o),{sourceControl:e}));}_updateTreeValidity(o={emitEvent:true}){this._forEachChild(e=>e._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:true,emitEvent:o.emitEvent});}_setInitialStatus(){this.status=this._allControlsDisabled()?Ui$5:Hi$3;}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o,e){if(this.asyncValidator){this.status=di$4,this._hasOwnPendingAsyncValidator={emitEvent:e!==false};let n=ld$1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:o});});}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let o=this._hasOwnPendingAsyncValidator?.emitEvent??false;return this._hasOwnPendingAsyncValidator=null,o}return  false}setErrors(o,e={}){this.errors=o,this._updateControlsErrors(e.emitEvent!==false,this,e.shouldHaveEmitted);}get(o){let e=o;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(o,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[o]:null}hasError(o,e){return !!this.getError(o,e)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o,e,n){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),(o||n)&&this._events.next(new pi$4(this.status,e)),this._parent&&this._parent._updateControlsErrors(o,e,n);}_initObservables(){this.valueChanges=new Xe$5,this.statusChanges=new Xe$5;}_calculateStatus(){return this._allControlsDisabled()?Ui$5:this.errors?dr$4:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di$4)?di$4:this._anyControlsHaveStatus(dr$4)?dr$4:Hi$3}_anyControlsHaveStatus(o){return this._anyControls(e=>e.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o,e){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!o.onlySelf&&this._parent._updatePristine(o,e),i&&this._events.next(new Gi$3(this.pristine,e));}_updateTouched(o={},e){this.touched=this._anyControlsTouched(),this._events.next(new Qi$4(this.touched,e)),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,e);}_onDisabledChange=[];_registerOnCollectionChange(o){this._onCollectionChange=o;}_setUpdateStrategy(o){yr$4(o)&&o.updateOn!=null&&(this._updateOn=o.updateOn);}_parentMarkedDirty(o){let e=this._parent&&this._parent.dirty;return !o&&!!e&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=Lh$2(this._rawValidators);}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=$h(this._rawAsyncValidators);}},dn$5=class dn extends ui$3{constructor(o,e,n){super(sa$4(e),aa$4(n,e)),this.controls=o,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:true,emitEvent:!!this.asyncValidator});}controls;registerControl(o,e){return this.controls[o]?this.controls[o]:(this.controls[o]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(o,e,n={}){this.registerControl(o,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange();}removeControl(o,e={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange();}setControl(o,e,n={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],e&&this.registerControl(o,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange();}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,e={}){bd$1(this,true,o),Object.keys(o).forEach(n=>{_d$1(this,true,n),this.controls[n].setValue(o[n],{onlySelf:true,emitEvent:e.emitEvent});}),this.updateValueAndValidity(e);}patchValue(o,e={}){o!=null&&(Object.keys(o).forEach(n=>{let i=this.controls[n];i&&i.patchValue(o[n],{onlySelf:true,emitEvent:e.emitEvent});}),this.updateValueAndValidity(e));}reset(o={},e={}){this._forEachChild((n,i)=>{n.reset(o?o[i]:null,{onlySelf:true,emitEvent:e.emitEvent});}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e);}getRawValue(){return this._reduceChildren({},(o,e,n)=>(o[n]=e.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(false,(e,n)=>n._syncPendingControls()?true:e);return o&&this.updateValueAndValidity({onlySelf:true}),o}_forEachChild(o){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&o(n,e);});}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange);});}_updateValue(){this.value=this._reduceValue();}_anyControls(o){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&o(n))return  true;return  false}_reduceValue(){let o={};return this._reduceChildren(o,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(o,e){let n=o;return this._forEachChild((i,r)=>{n=e(n,i,r);}),n}_allControlsDisabled(){for(let o of Object.keys(this.controls))if(this.controls[o].enabled)return  false;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}};var QO=dn$5;var ta$4=class ta extends dn$5{};var hi$5=new k$5("",{providedIn:"root",factory:()=>vr$4}),vr$4="always";function wr$4(t,o){return [...o.path,t]}function Yi$5(t,o,e=vr$4){la$3(t,o),o.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&o.valueAccessor.setDisabledState?.(t.disabled),Nh$1(t,o),jh$1(t,o),zh(t,o),Bh$1(t,o);}function fr$4(t,o,e=true){let n=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(n),o.valueAccessor.registerOnTouched(n)),br$4(t,o),t&&(o._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}));}function _r$5(t,o){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(o);});}function Bh$1(t,o){if(o.valueAccessor.setDisabledState){let e=n=>{o.valueAccessor.setDisabledState(n);};t.registerOnDisabledChange(e),o._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e);});}}function la$3(t,o){let e=gd$1(t);o.validator!==null?t.setValidators(Xc$2(e,o.validator)):typeof e=="function"&&t.setValidators([e]);let n=md$2(t);o.asyncValidator!==null?t.setAsyncValidators(Xc$2(n,o.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();_r$5(o._rawValidators,i),_r$5(o._rawAsyncValidators,i);}function br$4(t,o){let e=false;if(t!==null){if(o.validator!==null){let i=gd$1(t);if(Array.isArray(i)&&i.length>0){let r=i.filter(s=>s!==o.validator);r.length!==i.length&&(e=true,t.setValidators(r));}}if(o.asyncValidator!==null){let i=md$2(t);if(Array.isArray(i)&&i.length>0){let r=i.filter(s=>s!==o.asyncValidator);r.length!==i.length&&(e=true,t.setAsyncValidators(r));}}}let n=()=>{};return _r$5(o._rawValidators,n),_r$5(o._rawAsyncValidators,n),e}function Nh$1(t,o){o.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=true,t._pendingDirty=true,t.updateOn==="change"&&Cd$1(t,o);});}function zh(t,o){o.valueAccessor.registerOnTouched(()=>{t._pendingTouched=true,t.updateOn==="blur"&&t._pendingChange&&Cd$1(t,o),t.updateOn!=="submit"&&t.markAsTouched();});}function Cd$1(t,o){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:false}),o.viewToModelUpdate(t._pendingValue),t._pendingChange=false;}function jh$1(t,o){let e=(n,i)=>{o.valueAccessor.writeValue(n),i&&o.viewToModelUpdate(n);};t.registerOnChange(e),o._registerOnDestroy(()=>{t._unregisterOnChange(e);});}function yd$1(t,o){la$3(t,o);}function Hh$1(t,o){return br$4(t,o)}function ca$4(t,o){if(!t.hasOwnProperty("model"))return  false;let e=t.model;return e.isFirstChange()?true:!Object.is(o,e.currentValue)}function Uh(t){return Object.getPrototypeOf(t.constructor)===na$3}function vd$1(t,o){t._syncPendingControls(),o.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=false);});}function da$3(t,o){if(!o)return null;let e,n,i;return o.forEach(r=>{r.constructor===wn$5?e=r:Uh(r)?n=r:i=r;}),i||n||e||null}function Wh$1(t,o){let e=t.indexOf(o);e>-1&&t.splice(e,1);}var Gh={provide:vt$4,useExisting:uu$4(()=>Qh)},Wi$3=Promise.resolve(),Qh=(()=>{class t extends vt$4{callSetDisabledState;get submitted(){return BP$1(this.submittedReactive)}_submitted=HP(()=>this.submittedReactive());submittedReactive=oI(false);_directives=new Set;form;ngSubmit=new Xe$5;options;constructor(e,n,i){super(),this.callSetDisabledState=i,this.form=new dn$5({},oa$3(e),ra$4(n));}ngAfterViewInit(){this._setUpdateStrategy();}get formDirective(){return this}get control(){return this.form}get path(){return []}get controls(){return this.form.controls}addControl(e){Wi$3.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Yi$5(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:false}),this._directives.add(e);});}getControl(e){return this.form.get(e.path)}removeControl(e){Wi$3.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e);});}addFormGroup(e){Wi$3.then(()=>{let n=this._findContainer(e.path),i=new dn$5({});yd$1(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:false});});}removeFormGroup(e){Wi$3.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name);});}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Wi$3.then(()=>{this.form.get(e.path).setValue(n);});}setValue(e){this.control.setValue(e);}onSubmit(e){return this.submittedReactive.set(true),vd$1(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm();}resetForm(e=undefined){this.form.reset(e),this.submittedReactive.set(false);}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn);}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||t)(Yo$4(xn$5,10),Yo$4(Ln$5,10),Yo$4(hi$5,8))};static \u0275dir=VR({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){n&1&&VE("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()});},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:false,features:[gP([Gh]),bI]})}return t})();function ed$1(t,o){let e=t.indexOf(o);e>-1&&t.splice(e,1);}function td$1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Nt$1=class Nt extends ui$3{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=false;constructor(o=null,e,n){super(sa$4(e),aa$4(n,e)),this._applyFormState(o),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:true,emitEvent:!!this.asyncValidator}),yr$4(e)&&(e.nonNullable||e.initialValueIsDefault)&&(td$1(o)?this.defaultValue=o.value:this.defaultValue=o);}setValue(o,e={}){this.value=this._pendingValue=o,this._onChange.length&&e.emitModelToViewChange!==false&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==false)),this.updateValueAndValidity(e);}patchValue(o,e={}){this.setValue(o,e);}reset(o=this.defaultValue,e={}){this._applyFormState(o),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=false;}_updateValue(){}_anyControls(o){return  false}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o);}_unregisterOnChange(o){ed$1(this._onChange,o);}registerOnDisabledChange(o){this._onDisabledChange.push(o);}_unregisterOnDisabledChange(o){ed$1(this._onDisabledChange,o);}_forEachChild(o){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:true,emitModelToViewChange:false}),true):false}_applyFormState(o){td$1(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:true,emitEvent:false}):this.enable({onlySelf:true,emitEvent:false})):this.value=this._pendingValue=o;}},KO=Nt$1,Yh$1=t=>t instanceof Nt$1,Kh$1=(()=>{class t extends vt$4{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this);}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this);}get control(){return this.formDirective.getFormGroup(this)}get path(){return wr$4(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275dir=VR({type:t,standalone:false,features:[bI]})}return t})();var Xh$1={provide:zt$4,useExisting:uu$4(()=>jt$3)},nd$1=Promise.resolve(),jt$3=(()=>{class t extends zt$4{_changeDetectorRef;callSetDisabledState;control=new Nt$1;static ngAcceptInputType_isDisabled;_registered=false;viewModel;name="";isDisabled;model;options;update=new Xe$5;constructor(e,n,i,r,s,p){super(),this._changeDetectorRef=s,this.callSetDisabledState=p,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=da$3(this,r);}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)});}this._setUpControl();}"isDisabled"in e&&this._updateDisabled(e),ca$4(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e);}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=true;}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn);}_isStandalone(){return !this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yi$5(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:false});}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName();}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name;}_updateValue(e){nd$1.then(()=>{this.control.setValue(e,{emitViewToModelChange:false}),this._changeDetectorRef?.markForCheck();});}_updateDisabled(e){let n=e.isDisabled.currentValue,i=n!==0&&VP(n);nd$1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck();});}_getPath(e){return this._parent?wr$4(e,this._parent):[e]}static \u0275fac=function(n){return new(n||t)(Yo$4(vt$4,9),Yo$4(xn$5,10),Yo$4(Ln$5,10),Yo$4(Fe$6,10),Yo$4(bw$1,8),Yo$4(hi$5,8))};static \u0275dir=VR({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:false,features:[gP([Xh$1]),bI,tR]})}return t})(),XO=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:false})}return t})();var Zh$1={provide:Fe$6,useExisting:uu$4(()=>pa$3),multi:true},pa$3=(()=>{class t extends na$3{writeValue(e){this.setProperty("value",parseFloat(e));}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n));};}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275dir=VR({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(n,i){n&1&&VE("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()});},standalone:false,features:[gP([Zh$1]),bI]})}return t})(),ua$4=new k$5(""),Jh$1={provide:zt$4,useExisting:uu$4(()=>xr$4)},xr$4=(()=>{class t extends zt$4{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Xe$5;static _ngModelWarningSentOnce=false;_ngModelWarningSent=false;constructor(e,n,i,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=da$3(this,i);}ngOnChanges(e){if(this._isControlChanged(e)){let n=e.form.previousValue;n&&fr$4(n,this,false),Yi$5(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:false});}ca$4(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.form&&fr$4(this.form,this,false);}get path(){return []}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e);}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(n){return new(n||t)(Yo$4(xn$5,10),Yo$4(Ln$5,10),Yo$4(Fe$6,10),Yo$4(ua$4,8),Yo$4(hi$5,8))};static \u0275dir=VR({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:false,features:[gP([Jh$1]),bI,tR]})}return t})(),eg$1={provide:vt$4,useExisting:uu$4(()=>Or$4)},Or$4=(()=>{class t extends vt$4{callSetDisabledState;get submitted(){return BP$1(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e);}_submitted=HP(()=>this._submittedReactive());_submittedReactive=oI(false);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Xe$5;constructor(e,n,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(n);}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form);}ngOnDestroy(){this.form&&(br$4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}));}get formDirective(){return this}get control(){return this.form}get path(){return []}addControl(e){let n=this.form.get(e.path);return Yi$5(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:false}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){fr$4(e.control||null,e,false),Wh$1(this.directives,e);}addFormGroup(e){this._setUpFormContainer(e);}removeFormGroup(e){this._cleanUpFormContainer(e);}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e);}removeFormArray(e){this._cleanUpFormContainer(e);}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n);}onSubmit(e){return this._submittedReactive.set(true),vd$1(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Js$3(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm();}resetForm(e=undefined){this.form.reset(e),this._submittedReactive.set(false),this.form._events.next(new ea$2(this.form));}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,i=this.form.get(e.path);n!==i&&(fr$4(n||null,e),Yh$1(i)&&(Yi$5(i,e,this.callSetDisabledState),e.control=i));}),this.form._updateTreeValidity({emitEvent:false});}_setUpFormContainer(e){let n=this.form.get(e.path);yd$1(n,e),n.updateValueAndValidity({emitEvent:false});}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Hh$1(n,e)&&n.updateValueAndValidity({emitEvent:false});}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{});}_updateValidators(){la$3(this.form,this),this._oldForm&&br$4(this._oldForm,this);}_checkFormPresent(){this.form;}static \u0275fac=function(n){return new(n||t)(Yo$4(xn$5,10),Yo$4(Ln$5,10),Yo$4(hi$5,8))};static \u0275dir=VR({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,i){n&1&&VE("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()});},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:false,features:[gP([eg$1]),bI,tR]})}return t})(),tg$1={provide:vt$4,useExisting:uu$4(()=>wd$1)},wd$1=(()=>{class t extends Kh$1{name=null;constructor(e,n,i){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(i);}_checkParentType(){Od(this._parent);}static \u0275fac=function(n){return new(n||t)(Yo$4(vt$4,13),Yo$4(xn$5,10),Yo$4(Ln$5,10))};static \u0275dir=VR({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:false,features:[gP([tg$1]),bI]})}return t})(),ng$1={provide:vt$4,useExisting:uu$4(()=>xd$1)},xd$1=(()=>{class t extends vt$4{_parent;name=null;constructor(e,n,i){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(i);}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this);}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this);}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return wr$4(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Od(this._parent);}static \u0275fac=function(n){return new(n||t)(Yo$4(vt$4,13),Yo$4(xn$5,10),Yo$4(Ln$5,10))};static \u0275dir=VR({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:false,features:[gP([ng$1]),bI]})}return t})();function Od(t){return !(t instanceof wd$1)&&!(t instanceof Or$4)&&!(t instanceof xd$1)}var ig$1={provide:zt$4,useExisting:uu$4(()=>ha$3)},ha$3=(()=>{class t extends zt$4{_ngModelWarningConfig;_added=false;viewModel;control;name=null;set isDisabled(e){}model;update=new Xe$5;static _ngModelWarningSentOnce=false;_ngModelWarningSent=false;constructor(e,n,i,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=da$3(this,r);}ngOnChanges(e){this._added||this._setUpControl(),ca$4(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model));}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e);}get path(){return wr$4(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=true;}static \u0275fac=function(n){return new(n||t)(Yo$4(vt$4,13),Yo$4(xn$5,10),Yo$4(Ln$5,10),Yo$4(Fe$6,10),Yo$4(ua$4,8))};static \u0275dir=VR({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:false,features:[gP([ig$1]),bI,tR]})}return t})();var og$1=(()=>{class t{_validator=pr$4;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):pr$4,this._onChange&&this._onChange();}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e;}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,features:[tR]})}return t})();var rg$1={provide:xn$5,useExisting:uu$4(()=>$n$5),multi:true};var $n$5=(()=>{class t extends og$1{required;inputName="required";normalizeInput=VP;createValidator=e=>sd$1;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275dir=VR({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){n&2&&GI("required",i._enabled?"":null);},inputs:{required:"required"},standalone:false,features:[gP([rg$1]),bI]})}return t})();var Md$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})(),Cr$4=class Cr extends ui$3{constructor(o,e,n){super(sa$4(e),aa$4(n,e)),this.controls=o,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:true,emitEvent:!!this.asyncValidator});}controls;at(o){return this.controls[this._adjustIndex(o)]}push(o,e={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange();}insert(o,e,n={}){this.controls.splice(o,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent});}removeAt(o,e={}){let n=this._adjustIndex(o);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent});}setControl(o,e,n={}){let i=this._adjustIndex(o);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange();}get length(){return this.controls.length}setValue(o,e={}){bd$1(this,false,o),o.forEach((n,i)=>{_d$1(this,false,i),this.at(i).setValue(n,{onlySelf:true,emitEvent:e.emitEvent});}),this.updateValueAndValidity(e);}patchValue(o,e={}){o!=null&&(o.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:true,emitEvent:e.emitEvent});}),this.updateValueAndValidity(e));}reset(o=[],e={}){this._forEachChild((n,i)=>{n.reset(o[i],{onlySelf:true,emitEvent:e.emitEvent});}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e);}getRawValue(){return this.controls.map(o=>o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}));}_adjustIndex(o){return o<0?o+this.length:o}_syncPendingControls(){let o=this.controls.reduce((e,n)=>n._syncPendingControls()?true:e,false);return o&&this.updateValueAndValidity({onlySelf:true}),o}_forEachChild(o){this.controls.forEach((e,n)=>{o(e,n);});}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value);}_anyControls(o){return this.controls.some(e=>e.enabled&&o(e))}_setUpControls(){this._forEachChild(o=>this._registerControl(o));}_allControlsDisabled(){for(let o of this.controls)if(o.enabled)return  false;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange);}_find(o){return this.at(o)??null}},ZO=Cr$4;function id$1(t){return !!t&&(t.asyncValidators!==undefined||t.validators!==undefined||t.updateOn!==undefined)}var sg$1=(()=>{class t{useNonNullable=false;get nonNullable(){let e=new t;return e.useNonNullable=true,e}group(e,n=null){let i=this._reduceControls(e),r={};return id$1(n)?r=n:n!==null&&(r.validators=n.validator,r.asyncValidators=n.asyncValidator),new dn$5(i,r)}record(e,n=null){let i=this._reduceControls(e);return new ta$4(i,n)}control(e,n,i){let r={};return this.useNonNullable?(id$1(n)?r=n:(r.validators=n,r.asyncValidators=i),new Nt$1(e,x$d(w$9({},r),{nonNullable:true}))):new Nt$1(e,n,i)}array(e,n,i){let r=e.map(s=>this._createControl(s));return new Cr$4(r,n,i)}_reduceControls(e){let n={};return Object.keys(e).forEach(i=>{n[i]=this._createControl(e[i]);}),n}_createControl(e){if(e instanceof Nt$1)return e;if(e instanceof ui$3)return e;if(Array.isArray(e)){let n=e[0],i=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(n,i,r)}else return this.control(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var JO=(()=>{class t extends sg$1{group(e,n=null){return super.group(e,n)}control(e,n,i){return super.control(e,n,i)}array(e,n,i){return super.array(e,n,i)}static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Tt$4=(()=>{class t{static withConfig(e){return {ngModule:t,providers:[{provide:hi$5,useValue:e.callSetDisabledState??vr$4}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({imports:[Md$1]})}return t})(),Ki$4=(()=>{class t{static withConfig(e){return {ngModule:t,providers:[{provide:ua$4,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:hi$5,useValue:e.callSetDisabledState??vr$4}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({imports:[Md$1]})}return t})();function Pd$1(t){return t!=null&&`${t}`!="false"}function ga$4(t,o=0){return lg$1(t)?Number(t):arguments.length===2?o:0}function lg$1(t){return !isNaN(parseFloat(t))&&!isNaN(Number(t))}function gi$2(t){return Array.isArray(t)?t:[t]}function je$5(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Mr$4(t){return t instanceof Uo$5?t.nativeElement:t}var fa$3;try{fa$3=typeof Intl<"u"&&Intl.v8BreakIterator;}catch{fa$3=false;}var ht$5=(()=>{class t{_platformId=N$8(dR);isBrowser=this._platformId?Qd$1(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||fa$3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xi$4;function cg$1(){if(Xi$4==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xi$4=!0}));}finally{Xi$4=Xi$4||false;}return Xi$4}function kd$1(t){return cg$1()?t:!!t.capture}var Ht$4=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Ht$4||{}),Pr$4,Bn$5;function kr$5(){if(Bn$5==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Bn$5=false,Bn$5;if("scrollBehavior"in document.documentElement.style)Bn$5=true;else {let t=Element.prototype.scrollTo;t?Bn$5=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Bn$5=false;}}return Bn$5}function mi$4(){if(typeof document!="object"||!document)return Ht$4.NORMAL;if(Pr$4==null){let t=document.createElement("div"),o=t.style;t.dir="rtl",o.width="1px",o.overflow="auto",o.visibility="hidden",o.pointerEvents="none",o.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),Pr$4=Ht$4.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Pr$4=t.scrollLeft===0?Ht$4.NEGATED:Ht$4.INVERTED),t.remove();}return Pr$4}var ma$4;function dg$1(){if(ma$4==null){let t=typeof document<"u"?document.head:null;ma$4=!!(t&&(t.createShadowRoot||t.attachShadow));}return ma$4}function pg$1(t){if(dg$1()){let o=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&o instanceof ShadowRoot)return o}return null}function Sd$1(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let o=t.shadowRoot.activeElement;if(o===t)break;t=o;}return t}function On$4(t){return t.composedPath?t.composedPath()[0]:t.target}function _a$2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ug$1=new k$5("cdk-dir-doc",{providedIn:"root",factory:hg$2});function hg$2(){return N$8(L$8)}var gg$1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function mg$1(t){let o=t?.toLowerCase()||"";return o==="auto"&&typeof navigator<"u"&&navigator?.language?gg$1.test(navigator.language)?"rtl":"ltr":o==="rtl"?"rtl":"ltr"}var Zi$4=(()=>{class t{value="ltr";change=new Xe$5;constructor(){let e=N$8(ug$1,{optional:true});if(e){let n=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.value=mg$1(n||i||"ltr");}}ngOnDestroy(){this.change.complete();}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ji$6=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})();function CM(t){return t&&typeof t.connect=="function"&&!(t instanceof Mi$6)}var Sr$4=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(Sr$4||{}),yM=new k$5("_ViewRepeater"),Td$1=class Td{applyChanges(o,e,n,i,r){o.forEachOperation((s,p,O)=>{let D,V;if(s.previousIndex==null){let j=n(s,p,O);D=e.createEmbeddedView(j.templateRef,j.context,j.index),V=Sr$4.INSERTED;}else O==null?(e.remove(p),V=Sr$4.REMOVED):(D=e.get(p),e.move(D,O),V=Sr$4.MOVED);r&&r({context:D?.context,operation:V,record:s});});}detach(){}};var Tr$5=(()=>{class t{_listeners=[];notify(e,n){for(let i of this._listeners)i(e,n);}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n);}}ngOnDestroy(){this._listeners=[];}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _g$1=20,ba$4=(()=>{class t{_ngZone=N$8(te$6);_platform=N$8(ht$5);_document=N$8(L$8,{optional:true});constructor(){}_scrolled=new Z$a;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)));}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e));}scrolled(e=_g$1){return this._platform.isBrowser?new M$a(n=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(Hc$3(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener();}}):hi$7()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete();}ancestorScrolled(e,n){let i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Ye$b(r=>!r||i.indexOf(r)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((i,r)=>{this._scrollableContainsElement(r,e)&&n.push(r);}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let i=Mr$4(n),r=e.getElementRef().nativeElement;do if(i==r)return  true;while(i=i.parentElement);return  false}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return _i$7(e.document,"scroll").subscribe(()=>this._scrolled.next())});}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null);}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BM=(()=>{class t{elementRef=N$8(Uo$5);scrollDispatcher=N$8(ba$4);ngZone=N$8(te$6);dir=N$8(Zi$4,{optional:true});_destroyed=new Z$a;_elementScrolled=new M$a(e=>this.ngZone.runOutsideAngular(()=>_i$7(this.elementRef.nativeElement,"scroll").pipe(Oc$2(this._destroyed)).subscribe(e)));constructor(){}ngOnInit(){this.scrollDispatcher.register(this);}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete();}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&mi$4()!=Ht$4.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),mi$4()==Ht$4.INVERTED?e.left=e.right:mi$4()==Ht$4.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e);}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;kr$5()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left));}measureScrollOffset(e){let n="left",i="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?i:n:e=="end"&&(e=s?n:i),s&&mi$4()==Ht$4.INVERTED?e==n?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:s&&mi$4()==Ht$4.NEGATED?e==n?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==n?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),bg=20,Ca$4=(()=>{class t{_platform=N$8(ht$5);_listeners;_viewportSize;_change=new Z$a;_document=N$8(L$8,{optional:true});constructor(){let e=N$8(te$6),n=N$8(ho$5).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=r=>this._change.next(r);this._listeners=[n.listen("window","resize",i),n.listen("window","orientationchange",i)];}this.change().subscribe(()=>this._viewportSize=null);});}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete();}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return {top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return {top:0,left:0};let e=this._document,n=this._getWindow(),i=e.documentElement,r=i.getBoundingClientRect(),s=-r.top||e.body.scrollTop||n.scrollY||i.scrollTop||0,p=-r.left||e.body.scrollLeft||n.scrollX||i.scrollLeft||0;return {top:s,left:p}}change(e=bg){return e>0?this._change.pipe(Hc$3(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0};}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dd$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})(),ya$4=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({imports:[Ji$6,Dd$1,Ji$6,Dd$1]})}return t})();var eo$3=class eo{_attachedHost;attach(o){return this._attachedHost=o,o.attach(this)}detach(){let o=this._attachedHost;o!=null&&(this._attachedHost=null,o.detach());}get isAttached(){return this._attachedHost!=null}setAttachedHost(o){this._attachedHost=o;}},Mn$5=class Mn extends eo$3{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(o,e,n,i,r){super(),this.component=o,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r;}},Nn$4=class Nn extends eo$3{templateRef;viewContainerRef;context;injector;constructor(o,e,n,i){super(),this.templateRef=o,this.viewContainerRef=e,this.context=n,this.injector=i;}get origin(){return this.templateRef.elementRef}attach(o,e=this.context){return this.context=e,super.attach(o)}detach(){return this.context=undefined,super.detach()}},va$3=class va extends eo$3{element;constructor(o){super(),this.element=o instanceof Uo$5?o.nativeElement:o;}},Ir$4=class Ir{_attachedPortal;_disposeFn;_isDisposed=false;hasAttached(){return !!this._attachedPortal}attach(o){if(o instanceof Mn$5)return this._attachedPortal=o,this.attachComponentPortal(o);if(o instanceof Nn$4)return this._attachedPortal=o,this.attachTemplatePortal(o);if(this.attachDomPortal&&o instanceof va$3)return this._attachedPortal=o,this.attachDomPortal(o)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn();}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=true;}setDisposeFn(o){this._disposeFn=o;}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null);}};var fi$4=class fi extends Ir$4{outletElement;_appRef;_defaultInjector;_document;constructor(o,e,n,i,r){super(),this.outletElement=o,this._appRef=n,this._defaultInjector=i,this._document=r;}attachComponentPortal(o){let e;if(o.viewContainerRef){let n=o.injector||o.viewContainerRef.injector,i=n.get(St$5,null,{optional:true})||undefined;e=o.viewContainerRef.createComponent(o.component,{index:o.viewContainerRef.length,injector:n,ngModuleRef:i,projectableNodes:o.projectableNodes||undefined}),this.setDisposeFn(()=>e.destroy());}else e=$P(o.component,{elementInjector:o.injector||this._defaultInjector||_e$8.NULL,environmentInjector:this._appRef.injector,projectableNodes:o.projectableNodes||undefined}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy();});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=o,e}attachTemplatePortal(o){let e=o.viewContainerRef,n=e.createEmbeddedView(o.templateRef,o.context,{injector:o.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);i!==-1&&e.remove(i);}),this._attachedPortal=o,n}attachDomPortal=o=>{let e=o.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=o,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n);});};dispose(){super.dispose(),this.outletElement.remove();}_getComponentRootNode(o){return o.hostView.rootNodes[0]}};var QM=(()=>{class t extends Ir$4{_moduleRef=N$8(St$5,{optional:true});_document=N$8(L$8);_viewContainerRef=N$8(Ja$5);_isInitialized=false;_attachedRef;constructor(){super();}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null);}attached=new Xe$5;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=true;}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null;}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,i=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||undefined,ngModuleRef:this._moduleRef||undefined});return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(i,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i);});};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[bI]})}return t})();var Ed$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})();var Dr$4=new WeakMap,to$4=(()=>{class t{_appRef;_injector=N$8(_e$8);_environmentInjector=N$8(nt$b);load(e){let n=this._appRef=this._appRef||this._injector.get(ln$5),i=Dr$4.get(n);i||(i={loaders:new Set,refs:[]},Dr$4.set(n,i),n.onDestroy(()=>{Dr$4.get(n)?.refs.forEach(r=>r.destroy()),Dr$4.delete(n);})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push($P(e,{environmentInjector:this._environmentInjector})));}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vd$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=LR({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,i){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return t})();function _i$6(t,...o){return o.length?o.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Cg$1(t){if(t.type==="characterData"&&t.target instanceof Comment)return  true;if(t.type==="childList"){for(let o=0;o<t.addedNodes.length;o++)if(!(t.addedNodes[o]instanceof Comment))return  false;for(let o=0;o<t.removedNodes.length;o++)if(!(t.removedNodes[o]instanceof Comment))return  false;return  true}return  false}var Ad$1=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rd$1=(()=>{class t{_mutationObserverFactory=N$8(Ad$1);_observedElements=new Map;_ngZone=N$8(te$6);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n));}observe(e){let n=Mr$4(e);return new M$a(i=>{let s=this._observeElement(n).pipe(ie$b(p=>p.filter(O=>!Cg$1(O))),Ye$b(p=>!!p.length)).subscribe(p=>{this._ngZone.run(()=>{i.next(p);});});return ()=>{s.unsubscribe(),this._unobserveElement(n);}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else {let n=new Z$a,i=this._mutationObserverFactory.create(r=>n.next(r));i&&i.observe(e,{characterData:true,childList:true,subtree:true}),this._observedElements.set(e,{observer:i,stream:n,count:1});}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e));}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:i}=this._observedElements.get(e);n&&n.disconnect(),i.complete(),this._observedElements.delete(e);}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Er$4=(()=>{class t{_contentObserver=N$8(Rd$1);_elementRef=N$8(Uo$5);event=new Xe$5;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe();}_disabled=false;get debounce(){return this._debounce}set debounce(e){this._debounce=ga$4(e),this._subscribe();}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe();}ngOnDestroy(){this._unsubscribe();}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Wc$3(this.debounce)):e).subscribe(this.event);}_unsubscribe(){this._currentSubscription?.unsubscribe();}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",VP],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[BR]})}return t})(),Vr$4=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({providers:[Ad$1]})}return t})();var Ld=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})(),Fd$1=new Set,zn$3,yg$1=(()=>{class t{_platform=N$8(ht$5);_nonce=N$8(pR,{optional:true});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wg$1;}matchMedia(e){return (this._platform.WEBKIT||this._platform.BLINK)&&vg$1(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vg$1(t,o){if(!Fd$1.has(t))try{zn$3||(zn$3=document.createElement("style"),o&&zn$3.setAttribute("nonce",o),zn$3.setAttribute("type","text/css"),document.head.appendChild(zn$3)),zn$3.sheet&&(zn$3.sheet.insertRule(`@media ${t} {body{ }}`,0),Fd$1.add(t));}catch(e){console.error(e);}}function wg$1(t){return {matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Ar$4=(()=>{class t{_mediaMatcher=N$8(yg$1);_zone=N$8(te$6);_queries=new Map;_destroySubject=new Z$a;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete();}isMatched(e){return qd(gi$2(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=qd(gi$2(e)).map(s=>this._registerQuery(s).observable),r=Hp$2(i);return r=Je$6(r.pipe(mt$8(1)),r.pipe(Nc$2(1),Wc$3(0))),r.pipe(ie$b(s=>{let p={matches:false,breakpoints:{}};return s.forEach(({matches:O,query:D})=>{p.matches=p.matches||O,p.breakpoints[D]=O;}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),r={observable:new M$a(s=>{let p=O=>this._zone.run(()=>s.next(O));return n.addListener(p),()=>{n.removeListener(p);}}).pipe(Sc$2(n),ie$b(({matches:s})=>({query:e,matches:s})),Oc$2(this._destroySubject)),mql:n};return this._queries.set(e,r),r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qd(t){return t.map(o=>o.split(",")).reduce((o,e)=>o.concat(e)).map(o=>o.trim())}var zg$1=200,Oa$4=class Oa{_letterKeyStream=new Z$a;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Z$a;selectedItem=this._selectedItem;constructor(o,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:zg$1;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(o),this._setupKeyHandler(n);}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete();}setCurrentSelectedItemIndex(o){this._selectedItemIndex=o;}setItems(o){this._items=o;}handleKey(o){let e=o.keyCode;o.key&&o.key.length===1?this._letterKeyStream.next(o.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e));}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[];}_setupKeyHandler(o){this._letterKeyStream.pipe(kc$2(e=>this._pressedLetters.push(e)),Wc$3(o),Ye$b(()=>this._pressedLetters.length>0),ie$b(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let i=(this._selectedItemIndex+n)%this._items.length,r=this._items[i];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(r);break}}this._pressedLetters=[];});}},Rr$2=class Rr{_items;_activeItemIndex=-1;_activeItem=oI(null);_wrap=false;_typeaheadSubscription=V$7.EMPTY;_itemChangesSubscription;_vertical=true;_horizontal;_allowedModifierKeys=[];_homeAndEnd=false;_pageUpAndDown={enabled:false,delta:10};_effectRef;_typeahead;_skipPredicateFn=o=>o.disabled;constructor(o,e){this._items=o,o instanceof Ds$3?this._itemChangesSubscription=o.changes.subscribe(n=>this._itemsChanged(n.toArray())):rI(o)&&(this._effectRef=Pw$1(()=>this._itemsChanged(o()),{injector:e}));}tabOut=new Z$a;change=new Z$a;skipPredicate(o){return this._skipPredicateFn=o,this}withWrap(o=true){return this._wrap=o,this}withVerticalOrientation(o=true){return this._vertical=o,this}withHorizontalOrientation(o){return this._horizontal=o,this}withAllowedModifierKeys(o){return this._allowedModifierKeys=o,this}withTypeAhead(o=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Oa$4(e,{debounceInterval:typeof o=="number"?o:undefined,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n);}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(o=true){return this._homeAndEnd=o,this}withPageUpDown(o=true,e=10){return this._pageUpAndDown={enabled:o,delta:e},this}setActiveItem(o){let e=this._activeItem();this.updateActiveItem(o),this._activeItem()!==e&&this.change.next(this._activeItemIndex);}onKeydown(o){let e=o.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!o[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(i||_i$6(o,"shiftKey"))&&this._typeahead?.handleKey(o);return}this._typeahead?.reset(),o.preventDefault();}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return !!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1);}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1);}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1);}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1);}updateActiveItem(o){let e=this._getItemsArray(),n=typeof o=="number"?o:e.indexOf(o),i=e[n];this._activeItem.set(i??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n);}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete();}_setActiveItemByDelta(o){this._wrap?this._setActiveInWrapMode(o):this._setActiveInDefaultMode(o);}_setActiveInWrapMode(o){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let i=(this._activeItemIndex+o*n+e.length)%e.length,r=e[i];if(!this._skipPredicateFn(r)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(o){this._setActiveItemByIndex(this._activeItemIndex+o,o);}_setActiveItemByIndex(o,e){let n=this._getItemsArray();if(n[o]){for(;this._skipPredicateFn(n[o]);)if(o+=e,!n[o])return;this.setActiveItem(o);}}_getItemsArray(){return rI(this._items)?this._items():this._items instanceof Ds$3?this._items.toArray():this._items}_itemsChanged(o){this._typeahead?.setItems(o);let e=this._activeItem();if(e){let n=o.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n));}}},no$3=class no extends Rr$2{setActiveItem(o){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(o),this.activeItem&&this.activeItem.setActiveStyles();}},Fr$3=class Fr extends Rr$2{_origin="program";setFocusOrigin(o){return this._origin=o,this}setActiveItem(o){super.setActiveItem(o),this.activeItem&&this.activeItem.focus(this._origin);}};var jg$1=(()=>{class t{_platform=N$8(ht$5);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Ug$1(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return  false;let n=Hg$1(Jg$1(e));if(n&&($d$1(n)===-1||!this.isVisible(n)))return  false;let i=e.nodeName.toLowerCase(),r=$d$1(e);return e.hasAttribute("contenteditable")?r!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Xg$1(e)?false:i==="audio"?e.hasAttribute("controls")?r!==-1:false:i==="video"?r===-1?false:r!==null?true:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return Zg$1(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hg$1(t){try{return t.frameElement}catch{return null}}function Ug$1(t){return !!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Wg$1(t){let o=t.nodeName.toLowerCase();return o==="input"||o==="select"||o==="button"||o==="textarea"}function Gg$1(t){return Yg$1(t)&&t.type=="hidden"}function Qg$1(t){return Kg$1(t)&&t.hasAttribute("href")}function Yg$1(t){return t.nodeName.toLowerCase()=="input"}function Kg$1(t){return t.nodeName.toLowerCase()=="a"}function zd(t){if(!t.hasAttribute("tabindex")||t.tabIndex===undefined)return  false;let o=t.getAttribute("tabindex");return !!(o&&!isNaN(parseInt(o,10)))}function $d$1(t){if(!zd(t))return null;let o=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(o)?-1:o}function Xg$1(t){let o=t.nodeName.toLowerCase(),e=o==="input"&&t.type;return e==="text"||e==="password"||o==="select"||o==="textarea"}function Zg$1(t){return Gg$1(t)?false:Wg$1(t)||Qg$1(t)||t.hasAttribute("contenteditable")||zd(t)}function Jg$1(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Ma$4=class Ma{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=false;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(o){this._enabled=o,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor));}_enabled=true;constructor(o,e,n,i,r=false,s){this._element=o,this._checker=e,this._ngZone=n,this._document=i,this._injector=s,r||this.attachAnchors();}destroy(){let o=this._startAnchor,e=this._endAnchor;o&&(o.removeEventListener("focus",this.startAnchorListener),o.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=false;}attachAnchors(){return this._hasAttached?true:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener));}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=true),this._hasAttached)}focusInitialElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(o)));})}focusFirstTabbableElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(o)));})}focusLastTabbableElementWhenReady(o){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(o)));})}_getRegionBoundary(o){let e=this._element.querySelectorAll(`[cdk-focus-region-${o}], [cdkFocusRegion${o}], [cdk-focus-${o}]`);return o=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(o){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(o),!!n}return e.focus(o),true}return this.focusFirstTabbableElement(o)}focusFirstTabbableElement(o){let e=this._getRegionBoundary("start");return e&&e.focus(o),!!e}focusLastTabbableElement(o){let e=this._getRegionBoundary("end");return e&&e.focus(o),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;let e=o.children;for(let n=0;n<e.length;n++){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}_getLastTabbableElement(o){if(this._checker.isFocusable(o)&&this._checker.isTabbable(o))return o;let e=o.children;for(let n=e.length-1;n>=0;n--){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}_createAnchor(){let o=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,o),o.classList.add("cdk-visually-hidden"),o.classList.add("cdk-focus-trap-anchor"),o.setAttribute("aria-hidden","true"),o}_toggleAnchorTabIndex(o,e){o?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex");}toggleAnchors(o){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(o,this._startAnchor),this._toggleAnchorTabIndex(o,this._endAnchor));}_executeOnStable(o){this._injector?Vg(o,{injector:this._injector}):setTimeout(o);}},em$2=(()=>{class t{_checker=N$8(jg$1);_ngZone=N$8(te$6);_document=N$8(L$8);_injector=N$8(_e$8);constructor(){N$8(to$4).load(Vd$1);}create(e,n=false){return new Ma$4(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),io$3=(()=>{class t{_elementRef=N$8(Uo$5);_focusTrapFactory=N$8(em$2);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||false}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e);}autoCapture;constructor(){N$8(ht$5).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,true));}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null);}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus();}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors();}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus();}_captureFocus(){this._previouslyFocusedElement=Sd$1(),this.focusTrap?.focusInitialElementWhenReady();}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",VP],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",VP]},exportAs:["cdkTrapFocus"],features:[BR,tR]})}return t})();function tm$1(t){return t.buttons===0||t.detail===0}function nm$2(t){let o=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return !!o&&o.identifier===-1&&(o.radiusX==null||o.radiusX===1)&&(o.radiusY==null||o.radiusY===1)}var im$1=new k$5("cdk-input-modality-detector-options"),om$1={ignoreKeys:[18,17,224,91,16]},rm$2=650,bi$5=kd$1({passive:true,capture:true}),AP=(()=>{class t{_platform=N$8(ht$5);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new yn$7(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=On$4(e));};_onMousedown=e=>{Date.now()-this._lastTouchMs<rm$2||(this._modality.next(tm$1(e)?"keyboard":"mouse"),this._mostRecentTarget=On$4(e));};_onTouchstart=e=>{if(nm$2(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=On$4(e);};constructor(){let e=N$8(te$6),n=N$8(L$8),i=N$8(im$1,{optional:true});this._options=w$9(w$9({},om$1),i),this.modalityDetected=this._modality.pipe(Nc$2(1)),this.modalityChanged=this.modalityDetected.pipe(Dr$5()),this._platform.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,bi$5),n.addEventListener("mousedown",this._onMousedown,bi$5),n.addEventListener("touchstart",this._onTouchstart,bi$5);});}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bi$5),document.removeEventListener("mousedown",this._onMousedown,bi$5),document.removeEventListener("touchstart",this._onTouchstart,bi$5));}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jn$5=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(jn$5||{}),Bd="cdk-high-contrast-black-on-white",Nd$1="cdk-high-contrast-white-on-black",wa$4="cdk-high-contrast-active",sm$1=(()=>{class t{_platform=N$8(ht$5);_hasCheckedHighContrastMode;_document=N$8(L$8);_breakpointSubscription;constructor(){this._breakpointSubscription=N$8(Ar$4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=false,this._applyBodyHighContrastModeCssClasses());});}getHighContrastMode(){if(!this._platform.isBrowser)return jn$5.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case "rgb(0,0,0)":case "rgb(45,50,54)":case "rgb(32,32,32)":return jn$5.WHITE_ON_BLACK;case "rgb(255,255,255)":case "rgb(255,250,239)":return jn$5.BLACK_ON_WHITE}return jn$5.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe();}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(wa$4,Bd,Nd$1),this._hasCheckedHighContrastMode=true;let n=this.getHighContrastMode();n===jn$5.BLACK_ON_WHITE?e.add(wa$4,Bd):n===jn$5.WHITE_ON_BLACK&&e.add(wa$4,Nd$1);}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jd$1=(()=>{class t{constructor(){N$8(sm$1)._applyBodyHighContrastModeCssClasses();}static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({imports:[Vr$4]})}return t})(),xa$4={},oo$3=(()=>{class t{_appId=N$8(uR);getId(e){return this._appId!=="ng"&&(e+=this._appId),xa$4.hasOwnProperty(e)||(xa$4[e]=0),`${e}${xa$4[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hd=kr$5(),Pa$2=class Pa{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=false;_document;constructor(o,e){this._viewportRuler=o,this._document=e;}attach(){}enable(){if(this._canBeEnabled()){let o=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=o.style.left||"",this._previousHTMLStyles.top=o.style.top||"",o.style.left=je$5(-this._previousScrollPosition.left),o.style.top=je$5(-this._previousScrollPosition.top),o.classList.add("cdk-global-scrollblock"),this._isEnabled=true;}}disable(){if(this._isEnabled){let o=this._document.documentElement,e=this._document.body,n=o.style,i=e.style,r=n.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=false,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,o.classList.remove("cdk-global-scrollblock"),Hd&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Hd&&(n.scrollBehavior=r,i.scrollBehavior=s);}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return  false;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var ka$2=class ka{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(o,e,n,i){this._scrollDispatcher=o,this._ngZone=e,this._viewportRuler=n,this._config=i;}attach(o){this._overlayRef,this._overlayRef=o;}enable(){if(this._scrollSubscription)return;let o=this._scrollDispatcher.scrolled(0).pipe(Ye$b(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=o.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition();})):this._scrollSubscription=o.subscribe(this._detach);}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null);}detach(){this.disable(),this._overlayRef=null;}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach());}},qr$3=class qr{enable(){}disable(){}attach(){}};function Sa$5(t,o){return o.some(e=>{let n=t.bottom<e.top,i=t.top>e.bottom,r=t.right<e.left,s=t.left>e.right;return n||i||r||s})}function Ud(t,o){return o.some(e=>{let n=t.top<e.top,i=t.bottom>e.bottom,r=t.left<e.left,s=t.right>e.right;return n||i||r||s})}var Ta$4=class Ta{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(o,e,n,i){this._scrollDispatcher=o,this._viewportRuler=e,this._ngZone=n,this._config=i;}attach(o){this._overlayRef,this._overlayRef=o;}enable(){if(!this._scrollSubscription){let o=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(o).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();Sa$5(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()));}});}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null);}detach(){this.disable(),this._overlayRef=null;}},cm=(()=>{class t{_scrollDispatcher=N$8(ba$4);_viewportRuler=N$8(Ca$4);_ngZone=N$8(te$6);_document=N$8(L$8);constructor(){}noop=()=>new qr$3;close=e=>new ka$2(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Pa$2(this._viewportRuler,this._document);reposition=e=>new Ta$4(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Un$4=class Un{positionStrategy;scrollStrategy=new qr$3;panelClass="";hasBackdrop=false;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=false;constructor(o){if(o){let e=Object.keys(o);for(let n of e)o[n]!==undefined&&(this[n]=o[n]);}}};var Ia$1=class Ia{connectionPair;scrollableViewProperties;constructor(o,e){this.connectionPair=o,this.scrollableViewProperties=e;}};var Zd=(()=>{class t{_attachedOverlays=[];_document=N$8(L$8);_isAttached;constructor(){}ngOnDestroy(){this.detach();}add(e){this.remove(e),this._attachedOverlays.push(e);}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach();}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dm$1=(()=>{class t extends Zd{_ngZone=N$8(te$6);_renderer=N$8(ho$5).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener);}),this._isAttached=true);}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=false);}_keydownListener=e=>{let n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--)if(n[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[i]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pm=(()=>{class t extends Zd{_platform=N$8(ht$5);_ngZone=N$8(te$6,{optional:true});_cursorOriginalValue;_cursorStyleIsSet=false;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=true),this._isAttached=true;}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,true),e.removeEventListener("click",this._clickListener,true),e.removeEventListener("auxclick",this._clickListener,true),e.removeEventListener("contextmenu",this._clickListener,true),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=false),this._isAttached=false;}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,true),e.addEventListener("click",this._clickListener,true),e.addEventListener("auxclick",this._clickListener,true),e.addEventListener("contextmenu",this._clickListener,true);}_pointerDownListener=e=>{this._pointerDownEventTarget=On$4(e);};_clickListener=e=>{let n=On$4(e),i=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let s=r.length-1;s>-1;s--){let p=r[s];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(Wd(p.overlayElement,n)||Wd(p.overlayElement,i))break;let O=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(e)):O.next(e);}};static \u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wd(t,o){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=o;for(;n;){if(n===t)return  true;n=e&&n instanceof ShadowRoot?n.host:n.parentNode;}return  false}var Jd$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=LR({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),ep$1=(()=>{class t{_platform=N$8(ht$5);_containerElement;_document=N$8(L$8);_styleLoader=N$8(to$4);constructor(){}ngOnDestroy(){this._containerElement?.remove();}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||_a$2()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<i.length;r++)i[r].remove();}let n=this._document.createElement("div");n.classList.add(e),_a$2()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n;}_loadStyles(){this._styleLoader.load(Jd$1);}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Da$3=class Da{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropElement=null;_backdropTimeout;_backdropClick=new Z$a;_attachments=new Z$a;_detachments=new Z$a;_positionStrategy;_scrollStrategy;_locationChanges=V$7.EMPTY;_cleanupBackdropClick;_cleanupBackdropTransitionEnd;_previousHostParent;_keydownEvents=new Z$a;_outsidePointerEvents=new Z$a;_renders=new Z$a;_afterRenderRef;_afterNextRenderRef;constructor(o,e,n,i,r,s,p,O,D,V=false,j,re){this._portalOutlet=o,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=p,this._location=O,this._outsideClickDispatcher=D,this._animationsDisabled=V,this._injector=j,this._renderer=re,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=BP$1(()=>Lg$1(()=>{this._renders.next();},{injector:this._injector}));}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(o){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(o);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Vg(()=>{this.hasAttached()&&this.updatePosition();},{injector:this._injector}),this._togglePointerEvents(true),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,true),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()));}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(false),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let o=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),o}dispose(){let o=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,o&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete();}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply();}updatePositionStrategy(o){o!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=o,this.hasAttached()&&(o.attach(this),this.updatePosition()));}updateSize(o){this._config=w$9(w$9({},this._config),o),this._updateElementSize();}setDirection(o){this._config=x$d(w$9({},this._config),{direction:o}),this._updateElementDirection();}addPanelClass(o){this._pane&&this._toggleClasses(this._pane,o,true);}removePanelClass(o){this._pane&&this._toggleClasses(this._pane,o,false);}getDirection(){let o=this._config.direction;return o?typeof o=="string"?o:o.value:"ltr"}updateScrollStrategy(o){o!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=o,this.hasAttached()&&(o.attach(this),o.enable()));}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection());}_updateElementSize(){if(!this._pane)return;let o=this._pane.style;o.width=je$5(this._config.width),o.height=je$5(this._config.height),o.minWidth=je$5(this._config.minWidth),o.minHeight=je$5(this._config.minHeight),o.maxWidth=je$5(this._config.maxWidth),o.maxHeight=je$5(this._config.maxHeight);}_togglePointerEvents(o){this._pane.style.pointerEvents=o?"":"none";}_attachBackdrop(){let o="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,true),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._cleanupBackdropClick?.(),this._cleanupBackdropClick=this._renderer.listen(this._backdropElement,"click",e=>this._backdropClick.next(e)),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(o);});}):this._backdropElement.classList.add(o);}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host);}detachBackdrop(){let o=this._backdropElement;if(o){if(this._animationsDisabled){this._disposeBackdrop(o);return}o.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{this._cleanupBackdropTransitionEnd?.(),this._cleanupBackdropTransitionEnd=this._renderer.listen(o,"transitionend",e=>{this._disposeBackdrop(e.target);});}),o.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(o);},500));}}_toggleClasses(o,e,n){let i=gi$2(e||[]).filter(r=>!!r);i.length&&(n?o.classList.add(...i):o.classList.remove(...i));}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let o=this._renders.pipe(Oc$2($p$1(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,false),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),o.unsubscribe());});});}_disposeScrollStrategy(){let o=this._scrollStrategy;o&&(o.disable(),o.detach&&o.detach());}_disposeBackdrop(o){this._cleanupBackdropClick?.(),this._cleanupBackdropTransitionEnd?.(),o&&(o.remove(),this._backdropElement===o&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=undefined);}},Gd="cdk-overlay-connected-position-bounding-box",um$1=/([A-Za-z%]+)$/,Ea$3=class Ea{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=false;_canPush=true;_growAfterOpen=false;_hasFlexibleDimensions=true;_positionLocked=false;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Z$a;_resizeSubscription=V$7.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(o,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this.setOrigin(o);}attach(o){this._overlayRef&&this._overlayRef,this._validatePositions(),o.hostElement.classList.add(Gd),this._overlayRef=o,this._boundingBox=o.hostElement,this._pane=o.overlayElement,this._isDisposed=false,this._isInitialRender=true,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=true,this.apply();});}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let o=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,r=[],s;for(let p of this._preferredPositions){let O=this._getOriginPoint(o,i,p),D=this._getOverlayPoint(O,e,p),V=this._getOverlayFit(D,e,n,p);if(V.isCompletelyWithinViewport){this._isPushed=false,this._applyPosition(p,O);return}if(this._canFitWithFlexibleDimensions(V,D,n)){r.push({position:p,origin:O,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(O,p)});continue}(!s||s.overlayFit.visibleArea<V.visibleArea)&&(s={overlayFit:V,overlayPoint:D,originPoint:O,position:p,overlayRect:e});}if(r.length){let p=null,O=-1;for(let D of r){let V=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);V>O&&(O=V,p=D);}this._isPushed=false,this._applyPosition(p.position,p.origin);return}if(this._canPush){this._isPushed=true,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint);}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe();}dispose(){this._isDisposed||(this._boundingBox&&Hn$3(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Gd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=true);}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let o=this._lastPosition;if(o){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,o);this._applyPosition(o,e);}else this.apply();}withScrollableContainers(o){return this._scrollables=o,this}withPositions(o){return this._preferredPositions=o,o.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(o){return this._viewportMargin=o,this}withFlexibleDimensions(o=true){return this._hasFlexibleDimensions=o,this}withGrowAfterOpen(o=true){return this._growAfterOpen=o,this}withPush(o=true){return this._canPush=o,this}withLockedPosition(o=true){return this._positionLocked=o,this}setOrigin(o){return this._origin=o,this}withDefaultOffsetX(o){return this._offsetX=o,this}withDefaultOffsetY(o){return this._offsetY=o,this}withTransformOriginOn(o){return this._transformOriginSelector=o,this}_getOriginPoint(o,e,n){let i;if(n.originX=="center")i=o.left+o.width/2;else {let s=this._isRtl()?o.right:o.left,p=this._isRtl()?o.left:o.right;i=n.originX=="start"?s:p;}e.left<0&&(i-=e.left);let r;return n.originY=="center"?r=o.top+o.height/2:r=n.originY=="top"?o.top:o.bottom,e.top<0&&(r-=e.top),{x:i,y:r}}_getOverlayPoint(o,e,n){let i;n.overlayX=="center"?i=-e.width/2:n.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let r;return n.overlayY=="center"?r=-e.height/2:r=n.overlayY=="top"?0:-e.height,{x:o.x+i,y:o.y+r}}_getOverlayFit(o,e,n,i){let r=Yd(e),{x:s,y:p}=o,O=this._getOffset(i,"x"),D=this._getOffset(i,"y");O&&(s+=O),D&&(p+=D);let V=0-s,j=s+r.width-n.width,re=0-p,he=p+r.height-n.height,Me=this._subtractOverflows(r.width,V,j),Le=this._subtractOverflows(r.height,re,he),un=Me*Le;return {visibleArea:un,isCompletelyWithinViewport:r.width*r.height===un,fitsInViewportVertically:Le===r.height,fitsInViewportHorizontally:Me==r.width}}_canFitWithFlexibleDimensions(o,e,n){if(this._hasFlexibleDimensions){let i=n.bottom-e.y,r=n.right-e.x,s=Qd(this._overlayRef.getConfig().minHeight),p=Qd(this._overlayRef.getConfig().minWidth),O=o.fitsInViewportVertically||s!=null&&s<=i,D=o.fitsInViewportHorizontally||p!=null&&p<=r;return O&&D}return  false}_pushOverlayOnScreen(o,e,n){if(this._previousPushAmount&&this._positionLocked)return {x:o.x+this._previousPushAmount.x,y:o.y+this._previousPushAmount.y};let i=Yd(e),r=this._viewportRect,s=Math.max(o.x+i.width-r.width,0),p=Math.max(o.y+i.height-r.height,0),O=Math.max(r.top-n.top-o.y,0),D=Math.max(r.left-n.left-o.x,0),V=0,j=0;return i.width<=r.width?V=D||-s:V=o.x<this._viewportMargin?r.left-n.left-o.x:0,i.height<=r.height?j=O||-p:j=o.y<this._viewportMargin?r.top-n.top-o.y:0,this._previousPushAmount={x:V,y:j},{x:o.x+V,y:o.y+j}}_applyPosition(o,e){if(this._setTransformOrigin(o),this._setOverlayElementStyles(e,o),this._setBoundingBoxStyles(e,o),o.panelClass&&this._addPanelClasses(o.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(o!==this._lastPosition||!this._lastScrollVisibility||!hm$1(this._lastScrollVisibility,n)){let i=new Ia$1(o,n);this._positionChanges.next(i);}this._lastScrollVisibility=n;}this._lastPosition=o,this._isInitialRender=false;}_setTransformOrigin(o){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,i=o.overlayY;o.overlayX==="center"?n="center":this._isRtl()?n=o.overlayX==="start"?"right":"left":n=o.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`;}_calculateBoundingBoxRect(o,e){let n=this._viewportRect,i=this._isRtl(),r,s,p;if(e.overlayY==="top")s=o.y,r=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")p=n.height-o.y+this._viewportMargin*2,r=n.height-p+this._viewportMargin;else {let he=Math.min(n.bottom-o.y+n.top,o.y),Me=this._lastBoundingBoxSize.height;r=he*2,s=o.y-he,r>Me&&!this._isInitialRender&&!this._growAfterOpen&&(s=o.y-Me/2);}let O=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,D=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,V,j,re;if(D)re=n.width-o.x+this._viewportMargin*2,V=o.x-this._viewportMargin;else if(O)j=o.x,V=n.right-o.x;else {let he=Math.min(n.right-o.x+n.left,o.x),Me=this._lastBoundingBoxSize.width;V=he*2,j=o.x-he,V>Me&&!this._isInitialRender&&!this._growAfterOpen&&(j=o.x-Me/2);}return {top:s,left:j,bottom:p,right:re,width:V,height:r}}_setBoundingBoxStyles(o,e){let n=this._calculateBoundingBoxRect(o,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else {let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=je$5(n.height),i.top=je$5(n.top),i.bottom=je$5(n.bottom),i.width=je$5(n.width),i.left=je$5(n.left),i.right=je$5(n.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(i.maxHeight=je$5(r)),s&&(i.maxWidth=je$5(s));}this._lastBoundingBoxSize=n,Hn$3(this._boundingBox.style,i);}_resetBoundingBoxStyles(){Hn$3(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""});}_resetOverlayElementStyles(){Hn$3(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""});}_setOverlayElementStyles(o,e){let n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let V=this._viewportRuler.getViewportScrollPosition();Hn$3(n,this._getExactOverlayY(e,o,V)),Hn$3(n,this._getExactOverlayX(e,o,V));}else n.position="static";let p="",O=this._getOffset(e,"x"),D=this._getOffset(e,"y");O&&(p+=`translateX(${O}px) `),D&&(p+=`translateY(${D}px)`),n.transform=p.trim(),s.maxHeight&&(i?n.maxHeight=je$5(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=je$5(s.maxWidth):r&&(n.maxWidth="")),Hn$3(this._pane.style,n);}_getExactOverlayY(o,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,o);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),o.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(r.y+this._overlayRect.height)}px`;}else i.top=je$5(r.y);return i}_getExactOverlayX(o,e,n){let i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,o);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s;if(this._isRtl()?s=o.overlayX==="end"?"left":"right":s=o.overlayX==="end"?"right":"left",s==="right"){let p=this._document.documentElement.clientWidth;i.right=`${p-(r.x+this._overlayRect.width)}px`;}else i.left=je$5(r.x);return i}_getScrollVisibility(){let o=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return {isOriginClipped:Ud(o,n),isOriginOutsideView:Sa$5(o,n),isOverlayClipped:Ud(e,n),isOverlayOutsideView:Sa$5(e,n)}}_subtractOverflows(o,...e){return e.reduce((n,i)=>n-Math.max(i,0),o)}_getNarrowedViewportRect(){let o=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return {top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+o-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:o-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return !this._hasFlexibleDimensions||this._isPushed}_getOffset(o,e){return e==="x"?o.offsetX==null?this._offsetX:o.offsetX:o.offsetY==null?this._offsetY:o.offsetY}_validatePositions(){}_addPanelClasses(o){this._pane&&gi$2(o).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e));});}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(o=>{this._pane.classList.remove(o);}),this._appliedPanelClasses=[]);}_getOriginRect(){let o=this._origin;if(o instanceof Uo$5)return o.nativeElement.getBoundingClientRect();if(o instanceof Element)return o.getBoundingClientRect();let e=o.width||0,n=o.height||0;return {top:o.y,bottom:o.y+n,left:o.x,right:o.x+e,height:n,width:e}}};function Hn$3(t,o){for(let e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);return t}function Qd(t){if(typeof t!="number"&&t!=null){let[o,e]=t.split(um$1);return !e||e==="px"?parseFloat(o):null}return t||null}function Yd(t){return {top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function hm$1(t,o){return t===o?true:t.isOriginClipped===o.isOriginClipped&&t.isOriginOutsideView===o.isOriginOutsideView&&t.isOverlayClipped===o.isOverlayClipped&&t.isOverlayOutsideView===o.isOverlayOutsideView}var nk=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],ik=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Kd="cdk-global-overlay-wrapper",Va$3=class Va{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=false;attach(o){let e=o.getConfig();this._overlayRef=o,this._width&&!e.width&&o.updateSize({width:this._width}),this._height&&!e.height&&o.updateSize({height:this._height}),o.hostElement.classList.add(Kd),this._isDisposed=false;}top(o=""){return this._bottomOffset="",this._topOffset=o,this._alignItems="flex-start",this}left(o=""){return this._xOffset=o,this._xPosition="left",this}bottom(o=""){return this._topOffset="",this._bottomOffset=o,this._alignItems="flex-end",this}right(o=""){return this._xOffset=o,this._xPosition="right",this}start(o=""){return this._xOffset=o,this._xPosition="start",this}end(o=""){return this._xOffset=o,this._xPosition="end",this}width(o=""){return this._overlayRef?this._overlayRef.updateSize({width:o}):this._width=o,this}height(o=""){return this._overlayRef?this._overlayRef.updateSize({height:o}):this._height=o,this}centerHorizontally(o=""){return this.left(o),this._xPosition="center",this}centerVertically(o=""){return this.top(o),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:p}=n,O=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),D=(r==="100%"||r==="100vh")&&(!p||p==="100%"||p==="100vh"),V=this._xPosition,j=this._xOffset,re=this._overlayRef.getConfig().direction==="rtl",he="",Me="",Le="";O?Le="flex-start":V==="center"?(Le="center",re?Me=j:he=j):re?V==="left"||V==="end"?(Le="flex-end",he=j):(V==="right"||V==="start")&&(Le="flex-start",Me=j):V==="left"||V==="start"?(Le="flex-start",he=j):(V==="right"||V==="end")&&(Le="flex-end",Me=j),o.position=this._cssPosition,o.marginLeft=O?"0":he,o.marginTop=D?"0":this._topOffset,o.marginBottom=this._bottomOffset,o.marginRight=O?"0":Me,e.justifyContent=Le,e.alignItems=D?"flex-start":this._alignItems;}dispose(){if(this._isDisposed||!this._overlayRef)return;let o=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Kd),n.justifyContent=n.alignItems=o.marginTop=o.marginBottom=o.marginLeft=o.marginRight=o.position="",this._overlayRef=null,this._isDisposed=true;}},gm$1=(()=>{class t{_viewportRuler=N$8(Ca$4);_document=N$8(L$8);_platform=N$8(ht$5);_overlayContainer=N$8(ep$1);constructor(){}global(){return new Va$3}flexibleConnectedTo(e){return new Ea$3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jt$6=(()=>{class t{scrollStrategies=N$8(cm);_overlayContainer=N$8(ep$1);_positionBuilder=N$8(gm$1);_keyboardDispatcher=N$8(dm$1);_injector=N$8(_e$8);_ngZone=N$8(te$6);_document=N$8(L$8);_directionality=N$8(Zi$4);_location=N$8(Xe$4);_outsideClickDispatcher=N$8(pm);_animationsModuleType=N$8(fR,{optional:true});_idGenerator=N$8(oo$3);_renderer=N$8(ho$5).createRenderer(null,null);_appRef;_styleLoader=N$8(to$4);constructor(){}create(e){this._styleLoader.load(Jd$1);let n=this._createHostElement(),i=this._createPaneElement(n),r=this._createPortalOutlet(i),s=new Un$4(e);return s.direction=s.direction||this._directionality.value,new Da$3(r,n,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(nt$b),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ln$5)),new fi$4(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mm$1=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],tp$1=new k$5("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=N$8(Jt$6);return ()=>t.scrollStrategies.reposition()}}),Xd=(()=>{class t{elementRef=N$8(Uo$5);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),ok=(()=>{class t{_overlay=N$8(Jt$6);_dir=N$8(Zi$4,{optional:true});_overlayRef;_templatePortal;_backdropSubscription=V$7.EMPTY;_attachSubscription=V$7.EMPTY;_detachSubscription=V$7.EMPTY;_positionSubscription=V$7.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=N$8(tp$1);_disposeOnNavigation=false;_ngZone=N$8(te$6);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position);}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position);}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=false;disableClose=false;transformOriginSelector;hasBackdrop=false;lockPosition=false;flexibleDimensions=false;growAfterOpen=false;push=false;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e;}backdropClick=new Xe$5;positionChange=new Xe$5;attach=new Xe$5;detach=new Xe$5;overlayKeydown=new Xe$5;overlayOutsideClick=new Xe$5;constructor(){let e=N$8(fo$3),n=N$8(Ja$5);this._templatePortal=new Nn$4(e,n),this.scrollStrategy=this._scrollStrategyFactory();}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose();}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay());}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=mm$1);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!_i$6(n)&&(n.preventDefault(),this._detachOverlay());}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let i=this._getOriginElement(),r=On$4(n);(!i||i!==r&&!i.contains(r))&&this.overlayOutsideClick.next(n);});}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Un$4({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return (this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||undefined}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Xd?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Xd?this.origin.elementRef.nativeElement:this.origin instanceof Uo$5?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e);}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Yc$3(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe();}));}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe();}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",VP],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",VP],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",VP],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",VP],push:[2,"cdkConnectedOverlayPush","push",VP],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",VP]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[BR,tR]})}return t})();function fm$1(t){return ()=>t.scrollStrategies.reposition()}var _m$1={provide:tp$1,deps:[Jt$6],useFactory:fm$1},np$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({providers:[Jt$6,_m$1],imports:[Ji$6,Ed$1,ya$4,ya$4]})}return t})();function X$7(t){t||(Ro$5(),t=N$8(mn$6));let o=new M$a(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Oc$2(o))}var Aa$4=class Aa{source;destroyed=false;destroyRef=N$8(mn$6);constructor(o){this.source=o,this.destroyRef.onDestroy(()=>{this.destroyed=true;});}subscribe(o){if(this.destroyed)throw new C$e(953,false);let e=this.source.pipe(X$7(this.destroyRef)).subscribe({next:n=>o(n)});return {unsubscribe:()=>e.unsubscribe()}}};function gk(t,o){return new Aa$4(t)}function Lr$3(t,o){!o?.injector&&Ro$5();let e=o?.injector??N$8(_e$8),n=new In$7(1),i=Pw$1(()=>{let r;try{r=t();}catch(s){BP$1(()=>n.error(s));return}BP$1(()=>n.next(r));},{injector:e,manualCleanup:true});return e.get(mn$6).onDestroy(()=>{i.destroy(),n.complete();}),n.asObservable()}function Wn$4(t,o){let e=!o?.manualCleanup;e&&!o?.injector&&Ro$5();let n=e?o?.injector?.get(mn$6)??N$8(mn$6):null,i=Cm$1(o?.equal),r;o?.requireSync?r=oI({kind:0},{equal:i}):r=oI({kind:1,value:o?.initialValue},{equal:i});let s=t.subscribe({next:p=>r.set({kind:1,value:p}),error:p=>{if(o?.rejectErrors)throw p;r.set({kind:2,error:p});}});if(o?.requireSync&&r().kind===0)throw new C$e(601,false);return n?.onDestroy(s.unsubscribe.bind(s)),HP(()=>{let p=r();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new C$e(601,false)}},{equal:o?.equal})}function Cm$1(t=Object.is){return (o,e)=>o.kind===1&&e.kind===1&&t(o.value,e.value)}var Ra$4=new k$5("CdkAccordion"),ip$1=(()=>{class t{_stateChanges=new Z$a;_openCloseAllActions=new Z$a;id=N$8(oo$3).getId("cdk-accordion-");multi=false;openAll(){this.multi&&this._openCloseAllActions.next(true);}closeAll(){this._openCloseAllActions.next(false);}ngOnChanges(e){this._stateChanges.next(e);}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete();}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",VP]},exportAs:["cdkAccordion"],features:[gP([{provide:Ra$4,useExisting:t}]),BR,tR]})}return t})(),op=(()=>{class t{accordion=N$8(Ra$4,{optional:true,skipSelf:true});_changeDetectorRef=N$8(bw$1);_expansionDispatcher=N$8(Tr$5);_openCloseAllSubscription=V$7.EMPTY;closed=new Xe$5;opened=new Xe$5;destroyed=new Xe$5;expandedChange=new Xe$5;id=N$8(oo$3).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n);}else this.closed.emit();this._changeDetectorRef.markForCheck();}}_expanded=false;disabled=false;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=false);}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions());}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe();}toggle(){this.disabled||(this.expanded=!this.expanded);}close(){this.disabled||(this.expanded=false);}open(){this.disabled||(this.expanded=true);}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e);})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=VR({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",VP],disabled:[2,"disabled","disabled",VP]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[gP([{provide:Ra$4,useValue:undefined}]),BR]})}return t})(),rp$1=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=EI({type:t});static \u0275inj=qh$2({})}return t})();var Pn$5=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Pn$5||{}),Pk="*";function $r$3(t,o){return {type:Pn$5.Trigger,name:t,definitions:o,options:{}}}function ro$4(t,o=null){return {type:Pn$5.Animate,styles:o,timings:t}}function kk(t,o=null){return {type:Pn$5.Sequence,steps:t,options:o}}function kn$6(t){return {type:Pn$5.Style,styles:t,offset:null}}function Br$4(t,o,e){return {type:Pn$5.State,name:t,styles:o,options:e}}function so$5(t,o,e=null){return {type:Pn$5.Transition,expr:t,animation:o,options:e}}function Sk(t,o,e=null){return {type:Pn$5.Query,selector:t,animation:o,options:e}}var sp=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=false;_destroyed=false;_finished=false;_position=0;parentPlayer=null;totalTime;constructor(o=0,e=0){this.totalTime=o+e;}_onFinish(){this._finished||(this._finished=true,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[]);}onStart(o){this._originalOnStartFns.push(o),this._onStartFns.push(o);}onDone(o){this._originalOnDoneFns.push(o),this._onDoneFns.push(o);}onDestroy(o){this._onDestroyFns.push(o);}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=true;}triggerMicrotask(){queueMicrotask(()=>this._onFinish());}_onStart(){this._onStartFns.forEach(o=>o()),this._onStartFns=[];}pause(){}restart(){}finish(){this._onFinish();}destroy(){this._destroyed||(this._destroyed=true,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[]);}reset(){this._started=false,this._finished=false,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}setPosition(o){this._position=this.totalTime?o*this.totalTime:1;}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(o){let e=o=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0;}},ap=class{_onDoneFns=[];_onStartFns=[];_finished=false;_started=false;_destroyed=false;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(o){this.players=o;let e=0,n=0,i=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish();}),s.onDestroy(()=>{++n==r&&this._onDestroy();}),s.onStart(()=>{++i==r&&this._onStart();});}),this.totalTime=this.players.reduce((s,p)=>Math.max(s,p.totalTime),0);}_onFinish(){this._finished||(this._finished=true,this._onDoneFns.forEach(o=>o()),this._onDoneFns=[]);}init(){this.players.forEach(o=>o.init());}onStart(o){this._onStartFns.push(o);}_onStart(){this.hasStarted()||(this._started=true,this._onStartFns.forEach(o=>o()),this._onStartFns=[]);}onDone(o){this._onDoneFns.push(o);}onDestroy(o){this._onDestroyFns.push(o);}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(o=>o.play());}pause(){this.players.forEach(o=>o.pause());}restart(){this.players.forEach(o=>o.restart());}finish(){this._onFinish(),this.players.forEach(o=>o.finish());}destroy(){this._onDestroy();}_onDestroy(){this._destroyed||(this._destroyed=true,this._onFinish(),this.players.forEach(o=>o.destroy()),this._onDestroyFns.forEach(o=>o()),this._onDestroyFns=[]);}reset(){this.players.forEach(o=>o.reset()),this._destroyed=false,this._finished=false,this._started=false;}setPosition(o){let e=o*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i);});}getPosition(){let o=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return o!=null?o.getPosition():0}beforeDestroy(){this.players.forEach(o=>{o.beforeDestroy&&o.beforeDestroy();});}triggerCallback(o){let e=o=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0;}},Tk="!";var Z$9=D$a(Kc$2(),1);var{entries:_p,setPrototypeOf:lp,isFrozen:ym$1,getPrototypeOf:vm$1,getOwnPropertyDescriptor:wm$1}=Object,{freeze:xt$5,seal:Ft$4,create:bp}=Object,{apply:Na$3,construct:za$2}=typeof Reflect<"u"&&Reflect;xt$5||(xt$5=function(o){return o});Ft$4||(Ft$4=function(o){return o});Na$3||(Na$3=function(o,e,n){return o.apply(e,n)});za$2||(za$2=function(o,e){return new o(...e)});var Nr$3=Ot$4(Array.prototype.forEach),xm$1=Ot$4(Array.prototype.lastIndexOf),cp=Ot$4(Array.prototype.pop),ao$3=Ot$4(Array.prototype.push),Om$1=Ot$4(Array.prototype.splice),jr$3=Ot$4(String.prototype.toLowerCase),Fa$4=Ot$4(String.prototype.toString),dp=Ot$4(String.prototype.match),lo$4=Ot$4(String.prototype.replace),Mm$1=Ot$4(String.prototype.indexOf),Pm$1=Ot$4(String.prototype.trim),Ut$5=Ot$4(Object.prototype.hasOwnProperty),wt$5=Ot$4(RegExp.prototype.test),co$4=km$1(TypeError);function Ot$4(t){return function(o){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Na$3(t,o,n)}}function km$1(t){return function(){for(var o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return za$2(t,e)}}function le$9(t,o){let e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:jr$3;lp&&lp(t,null);let n=o.length;for(;n--;){let i=o[n];if(typeof i=="string"){let r=e(i);r!==i&&(ym$1(o)||(o[n]=r),i=r);}t[i]=true;}return t}function Sm$1(t){for(let o=0;o<t.length;o++)Ut$5(t,o)||(t[o]=null);return t}function Gn$3(t){let o=bp(null);for(let[e,n]of _p(t))Ut$5(t,e)&&(Array.isArray(n)?o[e]=Sm$1(n):n&&typeof n=="object"&&n.constructor===Object?o[e]=Gn$3(n):o[e]=n);return o}function po$4(t,o){for(;t!==null;){let n=wm$1(t,o);if(n){if(n.get)return Ot$4(n.get);if(typeof n.value=="function")return Ot$4(n.value)}t=vm$1(t);}function e(){return null}return e}var pp=xt$5(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qa$2=xt$5(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),La$4=xt$5(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Tm$2=xt$5(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$a$3=xt$5(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Im$1=xt$5(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),up=xt$5(["#text"]),hp=xt$5(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ba$4=xt$5(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gp=xt$5(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zr$3=xt$5(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Dm$1=Ft$4(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Em$2=Ft$4(/<%[\w\W]*|[\w\W]*%>/gm),Vm$1=Ft$4(/\$\{[\w\W]*/gm),Am$1=Ft$4(/^data-[\-\w.\u00B7-\uFFFF]+$/),Rm$1=Ft$4(/^aria-[\-\w]+$/),Cp=Ft$4(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fm$1=Ft$4(/^(?:\w+script|data):/i),qm$2=Ft$4(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yp=Ft$4(/^html$/i),Lm$1=Ft$4(/^[a-z][.\w]*(-[.\w]+)+$/i),mp=Object.freeze({__proto__:null,ARIA_ATTR:Rm$1,ATTR_WHITESPACE:qm$2,CUSTOM_ELEMENT:Lm$1,DATA_ATTR:Am$1,DOCTYPE_NAME:yp,ERB_EXPR:Em$2,IS_ALLOWED_URI:Cp,IS_SCRIPT_OR_DATA:Fm$1,MUSTACHE_EXPR:Dm$1,TMPLIT_EXPR:Vm$1}),uo$5={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},$m$1=function(){return typeof window>"u"?null:window},Bm$1=function(o,e){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let n=null,i="data-tt-policy-suffix";e&&e.hasAttribute(i)&&(n=e.getAttribute(i));let r="dompurify"+(n?"#"+n:"");try{return o.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},fp=function(){return {afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vp(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:$m$1(),o=K=>vp(K);if(o.version="3.2.4",o.removed=[],!t||!t.document||t.document.nodeType!==uo$5.document||!t.Element)return o.isSupported=false,o;let{document:e}=t,n=e,i=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:s,Node:p,Element:O,NodeFilter:D,NamedNodeMap:V=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:j,DOMParser:re,trustedTypes:he}=t,Me=O.prototype,Le=po$4(Me,"cloneNode"),un=po$4(Me,"remove"),qo=po$4(Me,"nextSibling"),ys=po$4(Me,"childNodes"),Jn=po$4(Me,"parentNode");if(typeof s=="function"){let K=e.createElement("template");K.content&&K.content.ownerDocument&&(e=K.content.ownerDocument);}let _t,Di="",{implementation:vs,createNodeIterator:nh,createDocumentFragment:ih,getElementsByTagName:oh}=e,{importNode:rh}=n,bt=fp();o.isSupported=typeof _p=="function"&&typeof Jn=="function"&&vs&&vs.createHTMLDocument!==undefined;let{MUSTACHE_EXPR:ws,ERB_EXPR:xs,TMPLIT_EXPR:Os,DATA_ATTR:sh,ARIA_ATTR:ah,IS_SCRIPT_OR_DATA:lh,ATTR_WHITESPACE:Dl,CUSTOM_ELEMENT:ch}=mp,{IS_ALLOWED_URI:El}=mp,nt=null,Vl=le$9({},[...pp,...qa$2,...La$4,...$a$3,...up]),rt=null,Al=le$9({},[...hp,...Ba$4,...gp,...zr$3]),$e=Object.seal(bp(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}})),Ei=null,Ms=null,Rl=true,Ps=true,Fl=false,ql=true,ei=false,ks=true,Dn=false,Ss=false,Ts=false,ti=false,Lo=false,$o=false,Ll=true,$l=false,dh="user-content-",Is=true,Vi=false,ni={},ii=null,Bl=le$9({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Nl=null,zl=le$9({},["audio","video","img","source","image","track"]),Ds=null,jl=le$9({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bo="http://www.w3.org/1998/Math/MathML",No="http://www.w3.org/2000/svg",on="http://www.w3.org/1999/xhtml",oi=on,Es=false,Vs=null,ph=le$9({},[Bo,No,on],Fa$4),zo=le$9({},["mi","mo","mn","ms","mtext"]),jo=le$9({},["annotation-xml"]),uh=le$9({},["title","style","font","a","script"]),Ai=null,hh=["application/xhtml+xml","text/html"],gh="text/html",it=null,ri=null,mh=e.createElement("form"),Hl=function(_){return _ instanceof RegExp||_ instanceof Function},As=function(){let _=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!(ri&&ri===_)){if((!_||typeof _!="object")&&(_={}),_=Gn$3(_),Ai=hh.indexOf(_.PARSER_MEDIA_TYPE)===-1?gh:_.PARSER_MEDIA_TYPE,it=Ai==="application/xhtml+xml"?Fa$4:jr$3,nt=Ut$5(_,"ALLOWED_TAGS")?le$9({},_.ALLOWED_TAGS,it):Vl,rt=Ut$5(_,"ALLOWED_ATTR")?le$9({},_.ALLOWED_ATTR,it):Al,Vs=Ut$5(_,"ALLOWED_NAMESPACES")?le$9({},_.ALLOWED_NAMESPACES,Fa$4):ph,Ds=Ut$5(_,"ADD_URI_SAFE_ATTR")?le$9(Gn$3(jl),_.ADD_URI_SAFE_ATTR,it):jl,Nl=Ut$5(_,"ADD_DATA_URI_TAGS")?le$9(Gn$3(zl),_.ADD_DATA_URI_TAGS,it):zl,ii=Ut$5(_,"FORBID_CONTENTS")?le$9({},_.FORBID_CONTENTS,it):Bl,Ei=Ut$5(_,"FORBID_TAGS")?le$9({},_.FORBID_TAGS,it):{},Ms=Ut$5(_,"FORBID_ATTR")?le$9({},_.FORBID_ATTR,it):{},ni=Ut$5(_,"USE_PROFILES")?_.USE_PROFILES:false,Rl=_.ALLOW_ARIA_ATTR!==false,Ps=_.ALLOW_DATA_ATTR!==false,Fl=_.ALLOW_UNKNOWN_PROTOCOLS||false,ql=_.ALLOW_SELF_CLOSE_IN_ATTR!==false,ei=_.SAFE_FOR_TEMPLATES||false,ks=_.SAFE_FOR_XML!==false,Dn=_.WHOLE_DOCUMENT||false,ti=_.RETURN_DOM||false,Lo=_.RETURN_DOM_FRAGMENT||false,$o=_.RETURN_TRUSTED_TYPE||false,Ts=_.FORCE_BODY||false,Ll=_.SANITIZE_DOM!==false,$l=_.SANITIZE_NAMED_PROPS||false,Is=_.KEEP_CONTENT!==false,Vi=_.IN_PLACE||false,El=_.ALLOWED_URI_REGEXP||Cp,oi=_.NAMESPACE||on,zo=_.MATHML_TEXT_INTEGRATION_POINTS||zo,jo=_.HTML_INTEGRATION_POINTS||jo,$e=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&Hl(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($e.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&Hl(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($e.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($e.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ei&&(Ps=false),Lo&&(ti=true),ni&&(nt=le$9({},up),rt=[],ni.html===true&&(le$9(nt,pp),le$9(rt,hp)),ni.svg===true&&(le$9(nt,qa$2),le$9(rt,Ba$4),le$9(rt,zr$3)),ni.svgFilters===true&&(le$9(nt,La$4),le$9(rt,Ba$4),le$9(rt,zr$3)),ni.mathMl===true&&(le$9(nt,$a$3),le$9(rt,gp),le$9(rt,zr$3))),_.ADD_TAGS&&(nt===Vl&&(nt=Gn$3(nt)),le$9(nt,_.ADD_TAGS,it)),_.ADD_ATTR&&(rt===Al&&(rt=Gn$3(rt)),le$9(rt,_.ADD_ATTR,it)),_.ADD_URI_SAFE_ATTR&&le$9(Ds,_.ADD_URI_SAFE_ATTR,it),_.FORBID_CONTENTS&&(ii===Bl&&(ii=Gn$3(ii)),le$9(ii,_.FORBID_CONTENTS,it)),Is&&(nt["#text"]=true),Dn&&le$9(nt,["html","head","body"]),nt.table&&(le$9(nt,["tbody"]),delete Ei.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw co$4('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw co$4('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_t=_.TRUSTED_TYPES_POLICY,Di=_t.createHTML("");}else _t===undefined&&(_t=Bm$1(he,i)),_t!==null&&typeof Di=="string"&&(Di=_t.createHTML(""));xt$5&&xt$5(_),ri=_;}},Ul=le$9({},[...qa$2,...La$4,...Tm$2]),Wl=le$9({},[...$a$3,...Im$1]),fh=function(_){let A=Jn(_);(!A||!A.tagName)&&(A={namespaceURI:oi,tagName:"template"});let H=jr$3(_.tagName),Ae=jr$3(A.tagName);return Vs[_.namespaceURI]?_.namespaceURI===No?A.namespaceURI===on?H==="svg":A.namespaceURI===Bo?H==="svg"&&(Ae==="annotation-xml"||zo[Ae]):!!Ul[H]:_.namespaceURI===Bo?A.namespaceURI===on?H==="math":A.namespaceURI===No?H==="math"&&jo[Ae]:!!Wl[H]:_.namespaceURI===on?A.namespaceURI===No&&!jo[Ae]||A.namespaceURI===Bo&&!zo[Ae]?false:!Wl[H]&&(uh[H]||!Ul[H]):!!(Ai==="application/xhtml+xml"&&Vs[_.namespaceURI]):false},Gt=function(_){ao$3(o.removed,{element:_});try{Jn(_).removeChild(_);}catch{un(_);}},Ho=function(_,A){try{ao$3(o.removed,{attribute:A.getAttributeNode(_),from:A});}catch{ao$3(o.removed,{attribute:null,from:A});}if(A.removeAttribute(_),_==="is")if(ti||Lo)try{Gt(A);}catch{}else try{A.setAttribute(_,"");}catch{}},Gl=function(_){let A=null,H=null;if(Ts)_="<remove></remove>"+_;else {let st=dp(_,/^[\r\n\t ]+/);H=st&&st[0];}Ai==="application/xhtml+xml"&&oi===on&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");let Ae=_t?_t.createHTML(_):_;if(oi===on)try{A=new re().parseFromString(Ae,Ai);}catch{}if(!A||!A.documentElement){A=vs.createDocument(oi,"template",null);try{A.documentElement.innerHTML=Es?Di:Ae;}catch{}}let ct=A.body||A.documentElement;return _&&H&&ct.insertBefore(e.createTextNode(H),ct.childNodes[0]||null),oi===on?oh.call(A,Dn?"html":"body")[0]:Dn?A.documentElement:ct},Ql=function(_){return nh.call(_.ownerDocument||_,_,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT|D.SHOW_PROCESSING_INSTRUCTION|D.SHOW_CDATA_SECTION,null)},Rs=function(_){return _ instanceof j&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof V)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},Yl=function(_){return typeof p=="function"&&_ instanceof p};function rn(K,_,A){Nr$3(K,H=>{H.call(o,_,A,ri);});}let Kl=function(_){let A=null;if(rn(bt.beforeSanitizeElements,_,null),Rs(_))return Gt(_),true;let H=it(_.nodeName);if(rn(bt.uponSanitizeElement,_,{tagName:H,allowedTags:nt}),_.hasChildNodes()&&!Yl(_.firstElementChild)&&wt$5(/<[/\w]/g,_.innerHTML)&&wt$5(/<[/\w]/g,_.textContent)||_.nodeType===uo$5.progressingInstruction||ks&&_.nodeType===uo$5.comment&&wt$5(/<[/\w]/g,_.data))return Gt(_),true;if(!nt[H]||Ei[H]){if(!Ei[H]&&Zl(H)&&($e.tagNameCheck instanceof RegExp&&wt$5($e.tagNameCheck,H)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(H)))return  false;if(Is&&!ii[H]){let Ae=Jn(_)||_.parentNode,ct=ys(_)||_.childNodes;if(ct&&Ae){let st=ct.length;for(let Mt=st-1;Mt>=0;--Mt){let Qt=Le(ct[Mt],true);Qt.__removalCount=(_.__removalCount||0)+1,Ae.insertBefore(Qt,qo(_));}}}return Gt(_),true}return _ instanceof O&&!fh(_)||(H==="noscript"||H==="noembed"||H==="noframes")&&wt$5(/<\/no(script|embed|frames)/i,_.innerHTML)?(Gt(_),true):(ei&&_.nodeType===uo$5.text&&(A=_.textContent,Nr$3([ws,xs,Os],Ae=>{A=lo$4(A,Ae," ");}),_.textContent!==A&&(ao$3(o.removed,{element:_.cloneNode()}),_.textContent=A)),rn(bt.afterSanitizeElements,_,null),false)},Xl=function(_,A,H){if(Ll&&(A==="id"||A==="name")&&(H in e||H in mh))return  false;if(!(Ps&&!Ms[A]&&wt$5(sh,A))){if(!(Rl&&wt$5(ah,A))){if(!rt[A]||Ms[A]){if(!(Zl(_)&&($e.tagNameCheck instanceof RegExp&&wt$5($e.tagNameCheck,_)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(_))&&($e.attributeNameCheck instanceof RegExp&&wt$5($e.attributeNameCheck,A)||$e.attributeNameCheck instanceof Function&&$e.attributeNameCheck(A))||A==="is"&&$e.allowCustomizedBuiltInElements&&($e.tagNameCheck instanceof RegExp&&wt$5($e.tagNameCheck,H)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(H))))return  false}else if(!Ds[A]){if(!wt$5(El,lo$4(H,Dl,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&_!=="script"&&Mm$1(H,"data:")===0&&Nl[_])){if(!(Fl&&!wt$5(lh,lo$4(H,Dl,"")))){if(H)return  false}}}}}}return  true},Zl=function(_){return _!=="annotation-xml"&&dp(_,ch)},Jl=function(_){rn(bt.beforeSanitizeAttributes,_,null);let{attributes:A}=_;if(!A||Rs(_))return;let H={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:rt,forceKeepAttr:undefined},Ae=A.length;for(;Ae--;){let ct=A[Ae],{name:st,namespaceURI:Mt,value:Qt}=ct,Ri=it(st),Ct=st==="value"?Qt:Pm$1(Qt);if(H.attrName=Ri,H.attrValue=Ct,H.keepAttr=true,H.forceKeepAttr=undefined,rn(bt.uponSanitizeAttribute,_,H),Ct=H.attrValue,$l&&(Ri==="id"||Ri==="name")&&(Ho(st,_),Ct=dh+Ct),ks&&wt$5(/((--!?|])>)|<\/(style|title)/i,Ct)){Ho(st,_);continue}if(H.forceKeepAttr||(Ho(st,_),!H.keepAttr))continue;if(!ql&&wt$5(/\/>/i,Ct)){Ho(st,_);continue}ei&&Nr$3([ws,xs,Os],tc=>{Ct=lo$4(Ct,tc," ");});let ec=it(_.nodeName);if(Xl(ec,Ri,Ct)){if(_t&&typeof he=="object"&&typeof he.getAttributeType=="function"&&!Mt)switch(he.getAttributeType(ec,Ri)){case "TrustedHTML":{Ct=_t.createHTML(Ct);break}case "TrustedScriptURL":{Ct=_t.createScriptURL(Ct);break}}try{Mt?_.setAttributeNS(Mt,st,Ct):_.setAttribute(st,Ct),Rs(_)?Gt(_):cp(o.removed);}catch{}}}rn(bt.afterSanitizeAttributes,_,null);},_h=function K(_){let A=null,H=Ql(_);for(rn(bt.beforeSanitizeShadowDOM,_,null);A=H.nextNode();)rn(bt.uponSanitizeShadowNode,A,null),Kl(A),Jl(A),A.content instanceof r&&K(A.content);rn(bt.afterSanitizeShadowDOM,_,null);};return o.sanitize=function(K){let _=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},A=null,H=null,Ae=null,ct=null;if(Es=!K,Es&&(K="<!-->"),typeof K!="string"&&!Yl(K))if(typeof K.toString=="function"){if(K=K.toString(),typeof K!="string")throw co$4("dirty is not a string, aborting")}else throw co$4("toString is not a function");if(!o.isSupported)return K;if(Ss||As(_),o.removed=[],typeof K=="string"&&(Vi=false),Vi){if(K.nodeName){let Qt=it(K.nodeName);if(!nt[Qt]||Ei[Qt])throw co$4("root node is forbidden and cannot be sanitized in-place")}}else if(K instanceof p)A=Gl("<!---->"),H=A.ownerDocument.importNode(K,true),H.nodeType===uo$5.element&&H.nodeName==="BODY"||H.nodeName==="HTML"?A=H:A.appendChild(H);else {if(!ti&&!ei&&!Dn&&K.indexOf("<")===-1)return _t&&$o?_t.createHTML(K):K;if(A=Gl(K),!A)return ti?null:$o?Di:""}A&&Ts&&Gt(A.firstChild);let st=Ql(Vi?K:A);for(;Ae=st.nextNode();)Kl(Ae),Jl(Ae),Ae.content instanceof r&&_h(Ae.content);if(Vi)return K;if(ti){if(Lo)for(ct=ih.call(A.ownerDocument);A.firstChild;)ct.appendChild(A.firstChild);else ct=A;return (rt.shadowroot||rt.shadowrootmode)&&(ct=rh.call(n,ct,true)),ct}let Mt=Dn?A.outerHTML:A.innerHTML;return Dn&&nt["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&wt$5(yp,A.ownerDocument.doctype.name)&&(Mt="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+Mt),ei&&Nr$3([ws,xs,Os],Qt=>{Mt=lo$4(Mt,Qt," ");}),_t&&$o?_t.createHTML(Mt):Mt},o.setConfig=function(){let K=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};As(K),Ss=true;},o.clearConfig=function(){ri=null,Ss=false;},o.isValidAttribute=function(K,_,A){ri||As({});let H=it(K),Ae=it(_);return Xl(H,Ae,A)},o.addHook=function(K,_){typeof _=="function"&&ao$3(bt[K],_);},o.removeHook=function(K,_){if(_!==undefined){let A=xm$1(bt[K],_);return A===-1?undefined:Om$1(bt[K],A,1)[0]}return cp(bt[K])},o.removeHooks=function(K){bt[K]=[];},o.removeAllHooks=function(){bt=fp();},o}var wp=vp();var oe$6=["*"];function Nm$1(t,o){if(t&1&&ME(0,"pfy-icon",1),t&2){let e=tP();lE("name",e.iconKey);}}var Zp$1=["template"];function zm$1(t,o){t&1&&rP(0);}function jm$1(t,o){t&1&&(Kf$2(0,"div",2),TE(1,6),Xf$2()),t&2&&(xR(),lE("ngTemplateOutlet",o));}function Hm$1(t,o){t&1&&TE(0);}function Um$1(t,o){if(t&1&&(Kf$2(0,"div",7),fP(1),kI(2,Hm$1,1,0,"ng-container",9),Xf$2()),t&2){tP();let e=dP(5),n=tP();xR(),ip$2(" ",n.title," "),xR(),lE("ngTemplateOutlet",e);}}function Wm$1(t,o){t&1&&TE(0);}function Gm$1(t,o){if(t&1&&(Kf$2(0,"h6",8),fP(1),kI(2,Wm$1,1,0,"ng-container",9),Xf$2()),t&2){tP();let e=dP(5),n=tP();xR(),ip$2(" ",n.title," "),xR(),lE("ngTemplateOutlet",e);}}function Qm$1(t,o){t&1&&TE(0);}function Ym$1(t,o){if(t&1&&(Kf$2(0,"h5",8),fP(1),kI(2,Qm$1,1,0,"ng-container",9),Xf$2()),t&2){tP();let e=dP(5),n=tP();xR(),ip$2(" ",n.title," "),xR(),lE("ngTemplateOutlet",e);}}function Km$1(t,o){t&1&&TE(0);}function Xm$1(t,o){if(t&1&&(Kf$2(0,"h4",8),fP(1),kI(2,Km$1,1,0,"ng-container",9),Xf$2()),t&2){tP();let e=dP(5),n=tP();xR(),ip$2(" ",n.title," "),xR(),lE("ngTemplateOutlet",e);}}function Zm$1(t,o){if(t&1&&(Kf$2(0,"pfy-badge",10),fP(1),Xf$2()),t&2){let e=tP(3);lE("color",e.badgeColor),xR(),WE(e.badgeText);}}function Jm$1(t,o){if(t&1&&kI(0,Zm$1,2,2,"pfy-badge",10),t&2){let e=tP(2);QR(e.badgeText?0:-1);}}function ef$1(t,o){if(t&1&&kI(0,Um$1,3,2,"div",7)(1,Gm$1,3,2,"h6",8)(2,Ym$1,3,2,"h5",8)(3,Xm$1,3,2,"h4",8)(4,Jm$1,1,1,"ng-template",null,0,OP),t&2){let e,n=tP();QR((e=n.size)===n.accordionSize.ExtraSmall?0:e===n.accordionSize.Small?1:e===n.accordionSize.Medium?2:e===n.accordionSize.Large?3:-1);}}function tf$1(t,o){t&1&&(Kf$2(0,"i",6),fP(1,"check"),Xf$2());}function nf$1(t,o){t&1&&(Kf$2(0,"i",7),fP(1,"remove"),Xf$2());}function of$1(t,o){if(t&1&&(Kf$2(0,"p",8),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.label);}}function rf$1(t,o){t&1&&(Kf$2(0,"i",10),fP(1,"error"),Xf$2());}function sf$1(t,o){if(t&1&&(Kf$2(0,"p")(1,"small",9),kI(2,rf$1,2,0,"i",10),fP(3),Xf$2()()),t&2){let e=tP();xR(),dE("invalid",e.invalid),xR(),QR(e.invalid?2:-1),xR(),ip$2(" ",e.helperText," ");}}function af$1(t,o){if(t&1&&(Kf$2(0,"p",6),fP(1),Xf$2()),t&2){let e=tP();dE("small",e.small),xR(),ip$2(" ",e.label," ");}}function lf(t,o){t&1&&(Kf$2(0,"i",8),fP(1,"error"),Xf$2());}function cf(t,o){if(t&1&&(Kf$2(0,"p")(1,"small",7),kI(2,lf,2,0,"i",8),fP(3),Xf$2()()),t&2){let e=tP();xR(),dE("invalid",e.invalid),xR(),QR(e.invalid?2:-1),xR(),ip$2(" ",e.helperText," ");}}var df$1=[[["","option-icon",""]],[["","option-image",""]],"*",[["","option-secondary-name",""]]],pf$1=["[option-icon]","[option-image]","*","[option-secondary-name]"];function uf(t,o){t&1&&TE(0);}function hf$1(t,o){if(t&1&&(Kf$2(0,"a",1),TP(1,"async"),TP(2,"async"),kI(3,uf,1,0,"ng-container",3),Xf$2()),t&2){let e=tP(),n=dP(4);GI("href",_P(1,3,e.href$),sy$2)("target",_P(2,5,e.target$)),xR(3),lE("ngTemplateOutlet",n);}}function gf$1(t,o){t&1&&TE(0);}function mf$1(t,o){if(t&1&&(Kf$2(0,"div",2),kI(1,gf$1,1,0,"ng-container",3),Xf$2()),t&2){tP();let e=dP(4);xR(),lE("ngTemplateOutlet",e);}}function ff$1(t,o){if(t&1&&(ME(0,"pfy-checkbox",9),TP(1,"async"),TP(2,"async")),t&2){let e=tP(3);lE("checked",_P(1,2,e.checked$))("disabled",_P(2,4,e.disabled$));}}function _f$1(t,o){if(t&1&&(ME(0,"pfy-radio",10),TP(1,"async"),TP(2,"async")),t&2){let e=tP(3);lE("checked",_P(1,2,e.checked$))("disabled",_P(2,4,e.disabled$));}}function bf$1(t,o){t&1&&(Kf$2(0,"i",11),fP(1,"check"),Xf$2());}function Cf$1(t,o){if(t&1&&(kI(0,bf$1,2,0,"i",11),TP(1,"async")),t&2){let e=tP(3);QR(_P(1,1,e.selected$)?0:-1);}}function yf$1(t,o){if(t&1&&(Kf$2(0,"div",4),kI(1,ff$1,3,6,"pfy-checkbox",9)(2,_f$1,3,6,"pfy-radio",10)(3,Cf$1,2,3),Xf$2()),t&2){let e,n=tP(2);xR(),QR((e=o)===n.indicatorType.Checkbox?1:e===n.indicatorType.Radio?2:e===n.indicatorType.Icon?3:-1);}}function vf$1(t,o){if(t&1&&(kI(0,yf$1,4,1,"div",4),TP(1,"async"),Kf$2(2,"div",5),rP(3),Xf$2(),Kf$2(4,"div",6),rP(5,1),Xf$2(),Kf$2(6,"div",7),rP(7,2),Kf$2(8,"div",8),rP(9,3),Xf$2()()),t&2){let e,n=tP();QR((e=_P(1,1,n.indicatorType$))?0:-1,e);}}var ki$5=["list"];function wf$1(t,o){if(t&1&&(Kf$2(0,"span",6),fP(1),Xf$2()),t&2){let e=tP(2).$implicit;xR(),WE(e.secondaryName);}}function xf$1(t,o){if(t&1&&(Kf$2(0,"pfy-dropdown-option",5),fP(1),kI(2,wf$1,2,1,"span",6),Xf$2()),t&2){let e=tP().$implicit;lE("pfyDropdownListItem",e),xR(),ip$2(" ",e.name," "),xR(),QR(e.secondaryName?2:-1);}}function Of$1(t,o){if(t&1&&kI(0,xf$1,3,3,"pfy-dropdown-option",5),t&2){let e=o.$implicit;QR(e!=null&&e.name?0:-1);}}function Mf$1(t,o){if(t&1&&JR(0,Of$1,1,1,null,null,YR),t&2){let e=tP();KR(e.listItems);}}function Pf$1(t,o){t&1&&rP(0);}var Si$3=["input"],kf$1=["inputArea"],Sf$1=["inputAreaContent"],pl$1=[[["","input-area-content",""]]],ul$1=["[input-area-content]"];function Tf$1(t,o){if(t&1&&(Kf$2(0,"label",13),fP(1),Xf$2()),t&2){let e=tP();dE("required",e.required),GI("for",e.name||e.id),xR(),WE(e.label);}}function If$1(t,o){t&1&&ME(0,"pfy-icon",6);}function Df$1(t,o){if(t&1){let e=XR();Kf$2(0,"input",14,2),TP(2,"async"),XE("ngModelChange",function(i){nR(e);let r=tP();return pP(r.value,i)||(r.value=i),rR(i)}),VE("input",function(){nR(e);let i=dP(1),r=tP();return rR(r.onChange(i.value))})("blur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))})("focus",function(i){nR(e);let r=tP();return rR(r.onInputFocus(i))}),Xf$2();}if(t&2){let e=tP();dE("has-icon",!e.isSearch&&e.iconKey)("has-value",_P(2,20,e.hasValue$))("icon-on-the-left",e.iconOnTheLeft)("placeholder-as-label",e.placeholderAsLabel&&!e.label&&!!e.placeholder),lE("disabled",e.disabled)("readonly",e.readOnly)("autocomplete",e.autocomplete)("type",e.type)("step",e.step),KE("ngModel",e.value),GI("id",e.name||e.id)("name",e.name)("placeholder",e.placeholder)("min",e.min)("max",e.max)("maxLength",e.maxLength);}}function Ef$1(t,o){if(t&1){let e=XR();Kf$2(0,"button",15),VE("click",function(i){nR(e);let r=tP();return rR(r.onIconClick(i))})("mousedown",function(i){nR(e);let r=tP();return rR(r.onIconMouseDown(i))}),ME(1,"pfy-icon",16),Xf$2();}if(t&2){let e=tP();lE("value",e.iconKey)("disabled",!e.iconClickable||e.disabled),GI("tabindex",e.iconFocusable?undefined:-1),xR(),lE("name",e.iconKey)("colorInherit",true);}}function Vf$1(t,o){if(t&1){let e=XR();Kf$2(0,"button",17),VE("click",function(){nR(e);let i=tP();return rR(i.reset())}),ME(1,"pfy-icon",18),Xf$2();}if(t&2){let e=tP();lE("disabled",e.disabled),xR(),lE("colorInherit",true);}}function Af$1(t,o){if(t&1&&(Kf$2(0,"small",12),ME(1,"pfy-icon",19),fP(2),Xf$2()),t&2){let e=tP();xR(),lE("name",e.invalid?"error":"info")("colorInherit",true),xR(),ip$2(" ",e.helperText," ");}}function Rf$1(t,o){if(t&1&&(Kf$2(0,"span",5),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),ip$2(" ",e.secondaryName," ");}}function Ff$1(t,o){if(t&1&&ME(0,"img",6),t&2){let e=tP().$implicit;GI("src",e.image.src,sy$2)("alt",e.image.alt);}}function qf$1(t,o){if(t&1&&(Kf$2(0,"pfy-dropdown-option",4),fP(1),kI(2,Rf$1,2,1,"span",5)(3,Ff$1,1,2,"img",6),Xf$2()),t&2){let e=o.$implicit;lE("pfyDropdownListItem",e),xR(),ip$2(" ",e.name," "),xR(),QR(e.secondaryName?2:-1),xR(),QR(e.image?3:-1);}}function Lf$1(t,o){if(t&1&&ME(0,"span",2),t&2){let e=tP();lE("innerHtml",e.tooltipShortcut,ER);}}var $f$1=["button"],Bf$1=(t,o)=>[t,o];function Nf$1(t,o){if(t&1&&ME(0,"pfy-loader-circular",3),t&2){let e=tP();lE("small",true)("inverted",e.isInvertedLoader);}}var zf$1=["actionButton"];function jf$1(t,o){if(t&1&&(Kf$2(0,"div",3),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.title);}}function Hf$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",8),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.emitActionConfirm())}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("loading",e.primaryActionLoading)("disabled",e.secondaryActionLoading),xR(),ip$2(" ",e.primaryAction," ");}}function Uf$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",9),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.secondaryActionConfirm.emit())}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("loading",e.secondaryActionLoading)("disabled",e.primaryActionLoading),xR(),ip$2(" ",e.secondaryAction," ");}}function Wf$1(t,o){if(t&1&&(Kf$2(0,"div",4),kI(1,Hf$1,2,3,"pfy-button",6)(2,Uf$1,2,3,"pfy-button",7),Xf$2()),t&2){let e=tP();xR(),QR(e.primaryAction?1:-1),xR(),QR(e.secondaryAction?2:-1);}}function Gf$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",10),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.bannerDismiss.emit())}),ME(1,"pfy-icon",11),Xf$2();}t&2&&lE("isIconOnly",true);}function Qf$1(t,o){if(t&1&&(Kf$2(0,"div",0),ME(1,"div",5),Xf$2()),t&2){let e=tP();xR(),uE("width",e.progress+"%");}}function Yf$1(t,o){if(t&1&&(Kf$2(0,"div",3),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.description);}}function Kf$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",9),VE("buttonClick",function(i){nR(e);let r=tP(2);return rR(r.onSecondaryActionClick(i))}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("size",e.buttonSize.Large)("type",e.buttonType.Secondary)("disabled",e.secondaryActionDisabled)("loading",e.secondaryActionLoading),xR(),ip$2(" ",e.secondaryAction," ");}}function Xf$1(t,o){if(t&1&&ME(0,"pfy-icon",8),t&2){let e=tP(2);lE("name",e.primaryActionIcon)("colorInherit",true);}}function Zf$1(t,o){if(t&1){let e=XR();Kf$2(0,"div",4),kI(1,Kf$1,2,5,"pfy-button",6),Kf$2(2,"pfy-button",7),VE("buttonClick",function(i){nR(e);let r=tP();return rR(r.onPrimaryActionClick(i))}),fP(3),kI(4,Xf$1,1,2,"pfy-icon",8),Xf$2()();}if(t&2){let e=tP();xR(),QR(e.secondaryAction?1:-1),xR(),lE("size",e.buttonSize.Large)("type",e.primaryActionType)("disabled",e.primaryActionDisabled)("loading",e.primaryActionLoading),xR(),ip$2(" ",e.primaryAction," "),xR(),QR(e.primaryActionIcon?4:-1);}}var Jf$1=[[["pfy-button"]]],e_=["pfy-button"],t_=(t,o,e)=>({"highlight-active":t,"icon-only-buttons":o,"as-row":e});function n_(t,o){if(t&1){let e=XR();Kf$2(0,"li",6),VE("click",function(){let i=nR(e).$implicit,r=tP();return rR(r.onSelect(i.date))})("mouseenter",function(){let i=nR(e).$implicit,r=tP();return rR(r.onMouseEnter(i.date))}),fP(1),Xf$2();}if(t&2){let e=o.$implicit,n=tP();lE("ngClass",n.classesMap[e.day])("pfyTooltip",n.tooltipMap[e.day])("showTooltipOnMobile",true),xR(),ip$2(" ",e.day," ");}}function i_(t,o){if(t&1&&ME(0,"pfy-icon",2),t&2){let e=tP(2);lE("name",e.iconName)("colorInherit",true);}}function o_(t,o){if(t&1&&(Kf$2(0,"p",3),fP(1),Xf$2()),t&2){let e=tP(2);xR(),WE(e.name);}}function r_(t,o){if(t&1&&(Kf$2(0,"div",1),kI(1,i_,1,2,"pfy-icon",2)(2,o_,2,1,"p",3),Xf$2()),t&2){let e=tP();xR(),QR(e.iconName?1:-1),xR(),QR(e.name?2:-1);}}var s_=(t,o)=>o.key;function a_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-chip",1),VE("chipClick",function(){let i=nR(e).$implicit,r=tP();return rR(r.onSelect(i.key))}),Xf$2();}if(t&2){let e=o.$implicit,n=tP();lE("name",e.label)("selected",n.active===e.key);}}function l_(t,o){if(t&1&&(Kf$2(0,"label",13),fP(1),Xf$2()),t&2){let e=tP();dE("required",e.required),GI("for",e.name||e.id),xR(),WE(e.label);}}function c_(t,o){t&1&&ME(0,"pfy-icon",6);}function d_(t,o){if(t&1){let e=XR();Kf$2(0,"input",14,2),TP(2,"async"),XE("ngModelChange",function(i){nR(e);let r=tP();return pP(r.value,i)||(r.value=i),rR(i)}),VE("input",function(){nR(e);let i=dP(1),r=tP();return rR(r.onChange(i.value))})("blur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))})("focus",function(i){nR(e);let r=tP();return rR(r.onInputFocus(i))}),Xf$2();}if(t&2){let e=tP();dE("has-icon",!e.isSearch&&e.iconKey)("has-value",_P(2,20,e.hasValue$))("icon-on-the-left",e.iconOnTheLeft)("placeholder-as-label",e.placeholderAsLabel&&!e.label&&!!e.placeholder),lE("disabled",e.disabled)("readonly",e.readOnly)("autocomplete",e.autocomplete)("type",e.type)("step",e.step),KE("ngModel",e.value),GI("id",e.name||e.id)("name",e.name)("placeholder",e.placeholder)("min",e.min)("max",e.max)("maxLength",e.maxLength);}}function p_(t,o){if(t&1){let e=XR();Kf$2(0,"button",15),VE("click",function(i){nR(e);let r=tP();return rR(r.onIconClick(i))})("mousedown",function(i){nR(e);let r=tP();return rR(r.onIconMouseDown(i))}),ME(1,"pfy-icon",16),Xf$2();}if(t&2){let e=tP();lE("value",e.iconKey)("disabled",!e.iconClickable||e.disabled),GI("tabindex",e.iconFocusable?undefined:-1),xR(),lE("name",e.iconKey)("colorInherit",true);}}function u_(t,o){if(t&1){let e=XR();Kf$2(0,"button",17),VE("click",function(){nR(e);let i=tP();return rR(i.reset())}),ME(1,"pfy-icon",18),Xf$2();}if(t&2){let e=tP();lE("disabled",e.disabled),xR(),lE("colorInherit",true);}}function h_(t,o){if(t&1&&(Kf$2(0,"small",12),ME(1,"pfy-icon",19),fP(2),Xf$2()),t&2){let e=tP();xR(),lE("name",e.invalid?"error":"info")("colorInherit",true),xR(),ip$2(" ",e.helperText," ");}}var Jp$1='@charset "UTF-8";.input-area[_ngcontent-%COMP%]{--input-height: 48px;position:relative;contain:content;border-radius:4px}.input-area[_ngcontent-%COMP%]:hover ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:hover > .border[_ngcontent-%COMP%]{border-color:#a8a794}.input-area[_ngcontent-%COMP%]:focus-visible{outline:none}.input-area[_ngcontent-%COMP%]:focus-within ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-within > .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input-area[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.input-area.text-field[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:transparent}.input-area.disabled[_ngcontent-%COMP%]{pointer-events:none;background-color:#f5f5f0}.input-area.disabled[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input-area.disabled[_ngcontent-%COMP%]   .input-icon-button[_ngcontent-%COMP%]{color:#a8a794}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f0;cursor:not-allowed}.input-area.normal[_ngcontent-%COMP%]{--input-height: 48px}.input-area.compact[_ngcontent-%COMP%]{--input-height: 40px}.input-area.text-field[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]{--input-height: 32px}.input-area.text-field[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.input-area[_ngcontent-%COMP%]   .input-area-content[_ngcontent-%COMP%]:empty{display:none}.input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:var(--input-height);border:none;outline:none;color:#2f2e0c;background-color:#fff;border-radius:inherit;transition:color .15s ease;font-size:1rem;line-height:1.5rem;padding:0 .75rem}.input[_ngcontent-%COMP%]:-webkit-autofill, .input[_ngcontent-%COMP%]:-webkit-autofill:hover, .input[_ngcontent-%COMP%]:-webkit-autofill:focus-visible, .input[_ngcontent-%COMP%]:-webkit-autofill:active{background-color:#fff!important;box-shadow:0 0 0 1000px #fff inset!important}.input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input[_ngcontent-%COMP%]::-moz-placeholder{opacity:1}.input.placeholder-as-label[_ngcontent-%COMP%]::placeholder{color:#2f2e0c}.text-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:transparent}.input[_ngcontent-%COMP%]:not(:read-only):hover ~ .border[_ngcontent-%COMP%]{border-color:#a8a794}.input[_ngcontent-%COMP%]:not(:read-only):focus-visible ~ .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;appearance:textfield}.input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:48px}.compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:32px}.input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:48px}.compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left), .ultra-compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:32px}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%] ~ .input-icon-button[_ngcontent-%COMP%]{left:0;right:initial}.helper[_ngcontent-%COMP%]{margin-top:.25rem;color:#64634a;transition:color .15s ease;display:flex;gap:.5rem}.helper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:1.25rem}.label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem;color:#2f2e0c;display:flex;gap:.125rem}.label.required[_ngcontent-%COMP%]:after{content:"*"}.input-icon-button[_ngcontent-%COMP%]{appearance:none;background:transparent;border:none;padding:0;position:absolute;top:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;color:#2f2e0c;width:48px}.compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:32px}.input-icon-button[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}.input-icon-button[_ngcontent-%COMP%]:disabled{pointer-events:none}.search[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{border-radius:4px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-indent:0;background-color:#f5f5f0;padding:0 48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 32px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#64634a}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown{padding-right:1px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:not(:read-only):hover{background-color:#e0e0d7}.search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);color:#2f2e0c;text-align:center;pointer-events:none;width:48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:32px}.search[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}.search.disabled[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#a8a794}.invalid[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%] > .border[_ngcontent-%COMP%]{border-color:#d12c2c;border-width:2px}.invalid[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{color:#d12c2c}';function g_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-calendar-presets",14),VE("presetSelect",function(i){nR(e);let r=tP();return rR(r.applyPreset(i))}),Xf$2();}if(t&2){let e=tP();lE("type",e.presetsType)("minDate",e.minDate)("maxDate",e.maxDate)("dateRangeLimit",e.dateRangeLimit)("selectionDateRange",e.selection);}}function m_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-calendar-month",15),XE("highlightChange",function(i){nR(e);let r=tP();return pP(r.highlight,i)||(r.highlight=i),rR(i)})("selectionChange",function(i){nR(e);let r=tP();return pP(r.selection,i)||(r.selection=i),rR(i)}),Xf$2();}if(t&2){let e=o.$implicit,n=tP();lE("singleDateSelection",n.showTimePicker)("month",e)("minDate",n.minDate)("maxDate",n.maxDate)("dateRangeLimit",n.dateRangeLimit),KE("highlight",n.highlight)("selection",n.selection);}}function f_(t,o){if(t&1){let e=XR();Kf$2(0,"div",10)(1,"pfy-calendar-time",16),VE("timeChanged",function(i){nR(e);let r=tP();return rR(r.applyTime(i))})("timeInvalid",function(i){nR(e);let r=tP();return rR(r.setDisabled(i))}),Xf$2()();}if(t&2){let e=tP();xR(),lE("selection",e.selection);}}var __$1=(t,o,e)=>({small:t,"can-remove":o,"has-front-icon":e});function b_$1(t,o){if(t&1&&(Kf$2(0,"i",1),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.iconKey);}}function C_$1(t,o){if(t&1){let e=XR();Kf$2(0,"i",4),VE("click",function(){nR(e);let i=tP();return rR(i.onRemoveTagClick())}),fP(1,"close"),Xf$2();}}function y_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-tag",4),VE("removeTag",function(){let i=nR(e).$implicit,r=tP(2);return rR(r.onRemoveTag(i))}),Xf$2();}if(t&2){let e=o.$implicit;lE("name",e.listItem.name);}}function v_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",5,0),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.onClearAll())}),fP(2," Clear all "),Xf$2();}if(t&2){let e=tP(2);lE("size",e.buttonSize.Small)("type",e.buttonType.Ghost);}}function w_(t,o){if(t&1&&(Kf$2(0,"div",1),JR(1,y_,1,1,"pfy-tag",2,GR().selectionTrackBy,true),kI(3,v_,3,2,"pfy-button",3),Xf$2()),t&2){let e=o;xR(),KR(e),xR(2),QR(e.length>0?3:-1);}}function x_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-group-values",2),VE("clearSelection",function(i){nR(e);let r=tP();return rR(r.onClearSelection(i))})("clearAll",function(){nR(e);let i=tP();return rR(i.onClearAll())}),Xf$2();}t&2&&lE("selections",o);}function O_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-tag",1),VE("removeTag",function(){let i=nR(e).$implicit,r=tP();return rR(r.removeItem(i))})("mousedown",function(i){nR(e);let r=tP();return rR(r.onTagMousedown(i))}),Xf$2();}if(t&2){let e=o.$implicit,n=tP();lE("name",e.name)("small",n.appearance===n.inputAppearance.Compact)("canRemove",n.disabled===false);}}var M_=["dropdownOrigin"];function P_(t,o){if(t&1&&(Kf$2(0,"label",10),fP(1),Xf$2()),t&2){let e=tP(),n=mP(0);dE("required",n==null?null:n.required),GI("id",e.labelId()),xR(),ip$2(" ",n==null?null:n.label," ");}}function k_(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-input-values",11),TP(1,"async"),VE("remove",function(i){nR(e);let r=tP();return rR(r.toggleItem(i))}),Xf$2();}if(t&2){let e=tP(),n=mP(0);lE("values",_P(1,3,e.items$))("disabled",n==null?null:n.disabled)("appearance",n==null?null:n.appearance);}}function S_(t,o){if(t&1&&(Kf$2(0,"span",5),fP(1),Xf$2()),t&2){tP();let e=mP(2);xR(),WE(e);}}function T_(t,o){if(t&1&&(Kf$2(0,"span",12),fP(1),Xf$2()),t&2){let e=tP(),n=mP(0);dE("placeholder-as-label",!(n!=null&&n.label)&&!!(n!=null&&n.placeholder)),GI("id",!(n!=null&&n.label)&&(n!=null&&n.placeholder)?e.labelId():null),xR(),ip$2(" ",n==null?null:n.placeholder," ");}}function I_(t,o){if(t&1&&(Kf$2(0,"small",13),ME(1,"pfy-icon",14),fP(2),Xf$2()),t&2){tP();let e=mP(0);dE("invalid",e==null?null:e.invalid),xR(),lE("name",e!=null&&e.invalid?"error":"info")("colorInherit",true),xR(),ip$2(" ",e==null?null:e.helperText," ");}}function D_(t,o){t&1&&TE(0);}function E_(t,o){if(t&1&&(Kf$2(0,"a",2),kI(1,D_,1,0,"ng-container",4),Xf$2()),t&2){let e=tP(),n=dP(3);GI("href",e.item.href,sy$2)("target",e.item.target),xR(),lE("ngTemplateOutlet",n);}}function V_(t,o){t&1&&TE(0);}function A_(t,o){if(t&1&&(Kf$2(0,"div",3),kI(1,V_,1,0,"ng-container",4),Xf$2()),t&2){tP();let e=dP(3);xR(),lE("ngTemplateOutlet",e);}}function R_(t,o){if(t&1&&ME(0,"pfy-checkbox",10),t&2){let e=tP(3);lE("checked",e.selected)("disabled",e.disabled);}}function F_(t,o){t&1&&ME(0,"pfy-icon",11);}function q_(t,o){if(t&1&&kI(0,F_,1,0,"pfy-icon",11),t&2){let e=tP(3);QR(e.selected?0:-1);}}function L_(t,o){t&1&&ME(0,"pfy-icon",11);}function $_(t,o){if(t&1&&kI(0,L_,1,0,"pfy-icon",11),t&2){let e=tP(3);QR(e.selected?0:-1);}}function B_(t,o){if(t&1&&(Kf$2(0,"div",5),kI(1,R_,1,2,"pfy-checkbox",10)(2,q_,1,1)(3,$_,1,1,"ng-template",null,1,OP),Xf$2()),t&2){let e=tP(2);xR(),QR(e.multiple?1:2);}}function N_(t,o){if(t&1&&ME(0,"img",6),t&2){let e=tP(2);GI("src",e.item.image.src,sy$2)("alt",e.item.image.alt);}}function z_(t,o){if(t&1&&(Kf$2(0,"div",9),fP(1),Xf$2()),t&2){let e=tP(2);xR(),ip$2(" ",e.item.secondaryName," ");}}function j_(t,o){if(t&1&&(kI(0,B_,5,1,"div",5)(1,N_,1,2,"img",6),Kf$2(2,"div",7)(3,"div",8),fP(4),Xf$2(),kI(5,z_,2,1,"div",9),Xf$2()),t&2){let e=tP();QR(e.markSelected?0:-1),xR(),QR(e.item.image?1:-1),xR(3),ip$2(" ",e.item.name," "),xR(),QR(e.item.secondaryName?5:-1);}}function H_(t,o){if(t&1&&ME(0,"pfy-dropdown-option-v2",1),t&2){let e=o.$implicit;lE("item",e);}}function U_(t,o){if(t&1&&JR(0,H_,1,1,"pfy-dropdown-option-v2",1,GR().itemsTrackBy,true),t&2){let e=tP();KR(e.items);}}function W_(t,o){t&1&&TE(0);}function G_(t,o){if(t&1&&kI(0,W_,1,0,"ng-container",2),t&2){tP();let e=dP(3);lE("ngTemplateOutlet",e);}}function Q_(t,o){t&1&&rP(0);}function Y_(t,o){t&1&&ME(0,"pfy-dropdown-options",0),t&2&&lE("items",o.items);}var K_=["result"];function X_(t,o){t&1&&ME(0,"pfy-dropdown-input");}function Z_(t,o){t&1&&ME(0,"pfy-dropdown-result",4);}function J_(t,o){if(t&1&&(TE(0,3),kI(1,Z_,1,0,"pfy-dropdown-result",4)),t&2){let e=tP();lE("ngTemplateOutlet",e.resultTemplate),xR(),QR(e.resultTemplate?-1:1);}}function e0(t,o){if(t&1&&(ME(0,"pfy-input",3),TP(1,"async"),TP(2,"async")),t&2){let e=tP();lE("iconKey",_P(1,9,e.iconKey$))("label",e.label)("placeholder",e.placeholder)("placeholderAsLabel",e.placeholderAsLabel)("helperText",e.helperText)("readOnly",true)("required",e.required)("invalid",e.invalid)("value",_P(2,11,e.selectionLabel$));}}function t0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-calendar",4),TP(1,"async"),VE("selectionChange",function(i){nR(e);let r=tP();return rR(r.setSelection(i))})("selectionReset",function(){nR(e);let i=tP();return rR(i.setSelection())}),Xf$2();}if(t&2){let e=tP();lE("appearance",e.calendarAppearance.FitContainer)("confirmButtonLabel",e.confirmButtonLabel)("currentMonth",e.currentMonth)("selection",_P(1,8,e.selection$))("dateRangeLimit",e.dateRangeLimit)("presetsType",e.presetsType)("showTimePicker",e.showTimePicker)("type",e.showTimePicker?e.calendarType.SingleMonthView:e.calendarType.DoubleMonthView);}}function n0(t,o){if(t&1){let e=XR();Kf$2(0,"div",3)(1,"pfy-button",4),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.previousPage())}),ME(2,"pfy-icon",5),Xf$2(),Kf$2(3,"pfy-button",6),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.nextPage())}),ME(4,"pfy-icon",7),Xf$2()();}if(t&2){let e=tP();xR(),lE("type",e.buttonType)("isIconOnly",true),xR(),lE("name",e.carouselType==="horizontal"?"chevron_left":"expand_less"),xR(),lE("type",e.buttonType)("isIconOnly",true),xR(),lE("name",e.carouselType==="horizontal"?"chevron_right":"expand_more");}}var i0=["prefix"],o0=["suffix"],r0=["customContent"],s0=[[["pfy-input-prefix"]],"*",[["pfy-input-suffix"]]],a0=["pfy-input-prefix","*","pfy-input-suffix"];function l0(t,o){if(t&1&&(Kf$2(0,"label",11),fP(1),Xf$2()),t&2){let e=tP();dE("required",e.required),lE("for",e.name),xR(),ip$2(" ",e.label," ");}}function c0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input-number",12),VE("onfocus",function(i){nR(e);let r=tP();return rR(r.onInputFocus(i))})("onblur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))}),Xf$2();}if(t&2){let e=tP();dE("has-prefix",e.hasPrefix)("has-suffix",e.hasSuffix),lE("name",e.name)("placeholder",e.placeholder)("value",e.value)("disabled",e.disabled)("invalid",e.invalid)("appearance",e.appearance)("min",e.min)("max",e.max)("maxLength",e.maxLength)("step",e.step);}}function d0(t,o){if(t&1&&(Kf$2(0,"small",10),ME(1,"pfy-icon",13),fP(2),Xf$2()),t&2){let e=tP();xR(),lE("name",e.invalid?"error":"info")("colorInherit",true),xR(),ip$2(" ",e.helperText," ");}}var p0=["customHexInput"];function u0(t,o){if(t&1&&ME(0,"li",4),t&2){let e=o.$implicit;uE("background-color",e.hex)("background-image",e.pattern);}}function h0(t,o){if(t&1&&(JR(0,u0,1,4,"li",3,YR),TP(2,"async")),t&2){let e=tP();KR(_P(2,0,e.colorBlocks$));}}function g0(t,o){t&1&&ME(0,"li",2);}function m0(t,o){t&1&&ME(0,"li",2);}var eu$1=t=>({hex:t}),tu$1=t=>[t];function f0(t,o){if(t&1&&(Kf$2(0,"h6",0),fP(1),Xf$2()),t&2){let e=tP();xR(),ip$2(" ",e.title()," ");}}function _0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-option-color",3),VE("click",function(){let i=nR(e).$implicit,r=tP();return rR(r.selectColor(i))}),Xf$2();}if(t&2){let e=o.$implicit;lE("colors",IP(4,tu$1,IP(2,eu$1,e)))("tooltip",e);}}function b0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-swatches",5),VE("colorSelect",function(i){nR(e);let r=tP();return rR(r.hexChange(i))}),Xf$2();}if(t&2){let e=tP();lE("colors",e.swatches())("title",e.swatchesTitle());}}function C0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-saturation-value-selector",6),VE("saturationValueChange",function(i){nR(e);let r=tP();return rR(r.saturationValueChange(i))}),Xf$2(),Kf$2(1,"pfy-hue-slider",7),VE("hueChange",function(i){nR(e);let r=tP();return rR(r.hueChange(i))}),Xf$2();}if(t&2){let e=tP();lE("hue",e.hue())("value",e.sv()),xR(),lE("hue",e.hue());}}var y0=(t,o,e)=>({loading:t,disabled:o,selectedItem:e});function v0(t,o){if(t&1){let e=XR();Kf$2(0,"div",0)(1,"pfy-button",1),VE("buttonClick",function(i){nR(e);let r=tP();return rR(r.onMainButtonClick(i))}),fP(2),Xf$2(),Kf$2(3,"pfy-button",2),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.toggleDropdown(true))}),Kf$2(4,"i",3),fP(5,"arrow_drop_down"),Xf$2()()(),Kf$2(6,"pfy-dropdown-list",4),TP(7,"async"),TP(8,"async"),VE("overlayClick",function(){nR(e);let i=tP();return rR(i.toggleDropdown(false))})("selectItem",function(i){nR(e);let r=tP();return rR(r.onItemSelect(i))}),Xf$2();}if(t&2){let e=o,n=tP();dE("loading",e.loading)("disabled",e.disabled),xR(),lE("disabled",e.disabled)("type",n.type)("size",n.size)("loading",e.loading),xR(),ip$2(" ",e.selectedItem==null?null:e.selectedItem.name," "),xR(),lE("disabled",e.disabled)("type",n.type)("size",n.size)("isIconOnly",true),xR(3),lE("fullWidth",true)("listItems",_P(7,19,n.listItems$))("visible",_P(8,21,n.dropdownVisible$))("selectedItem",e.selectedItem)("markSelected",n.markSelected),GI("aria-label",e.selectedItem==null?null:e.selectedItem.name);}}var w0=["link"];function x0(t,o){t&1&&ME(0,"pfy-icon",3);}var O0=["container"],M0=["content"],P0=["handle"],k0=["footer"],S0=["bottomShadow"],T0=["innerContent"],I0=["*",[["pfy-drawer-footer"]]],D0=["*","pfy-drawer-footer"];var nu$1=["listTemplate"];function E0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input",4,1),TP(2,"async"),VE("input",function(){nR(e);let i=tP();return rR(i.filter())})("change",function(){nR(e);let i=tP();return rR(i.filter())})("onblur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))})("onfocus",function(){nR(e);let i=tP();return rR(i.onInputFocus())})("iconClick",function(i){nR(e);let r=tP();return rR(r.onIconClick(i))})("keydown.escape",function(i){nR(e);let r=tP();return rR(r.blurInput(i))})("keydown.arrowDown",function(i){let r=nR(e),s=tP();return rR(s.highlightNext("down",i,r))})("keydown.arrowUp",function(i){let r=nR(e),s=tP();return rR(s.highlightNext("up",i,r))})("keydown.enter",function(){nR(e);let i=tP();return rR(i.selectHighlighted())}),Xf$2();}if(t&2){let e=tP();lE("formControl",e.queryControl)("appearance",e.appearance)("required",e.required)("helperText",e.helperText)("iconFocusable",false)("iconKey",_P(2,11,e.inputIconKey$))("invalid",e.invalid)("label",e.label)("name",e.name)("placeholder",(e.selectedItem==null?null:e.selectedItem.name)||e.placeholder)("autocomplete",e.autocomplete);}}function V0(t,o){if(t&1&&(Kf$2(0,"span",8),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),ip$2(" ",e.secondaryName," ");}}function A0(t,o){if(t&1&&ME(0,"img",9),t&2){let e=tP().$implicit;GI("src",e.image.src,sy$2)("alt",e.image.alt);}}function R0(t,o){if(t&1&&(Kf$2(0,"pfy-dropdown-option",7),fP(1),kI(2,V0,2,1,"span",8)(3,A0,1,2,"img",9),Xf$2()),t&2){let e=o.$implicit;lE("pfyDropdownListItem",e),xR(),ip$2(" ",e.name," "),xR(),QR(e.secondaryName?2:-1),xR(),QR(e.image?3:-1);}}function F0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-list",6,2),VE("selectItem",function(i){nR(e);let r=tP(2);return rR(r.onItemSelect(i))}),JR(2,R0,4,4,"pfy-dropdown-option",7,YR),Xf$2();}if(t&2){let e=tP(2);lE("usedInOverlay",true)("selectedItem",e.highlightedItem)("highlightSelected",true)("fullWidth",true)("asOverlayOnMobile",e.dropdownAsOverlayOnMobile),GI("aria-label",e.label),xR(2),KR(o);}}function q0(t,o){if(t&1&&(kI(0,F0,4,6,"pfy-dropdown-list",5),TP(1,"async")),t&2){let e,n=tP();QR((e=_P(1,1,n.filteredListItems$))?0:-1,e);}}var iu$2='@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:block;outline:none}.input[_ngcontent-%COMP%]  .input:not(:disabled), .input[_ngcontent-%COMP%]  .input-area-content{cursor:pointer}.input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:hover~.border{border-color:#a8a794}.input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:focus-visible~.border{border-color:#0096cc;border-width:2px}.input[_ngcontent-%COMP%]  .label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.input[_ngcontent-%COMP%]  .input-icon{color:#2f2e0c}.dropdown-list[_ngcontent-%COMP%]{position:absolute;margin-top:0;top:0;left:0;right:0}.dropdown-list.has-label[_ngcontent-%COMP%]{margin-top:1.5rem}.dropdown-list.down[_ngcontent-%COMP%]{top:48px}.dropdown-list.down.compact[_ngcontent-%COMP%]{top:40px}';function L0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-tag",1),TP(1,"async"),VE("removeTag",function(){let i=nR(e).$implicit,r=tP(3);return rR(r.removeItem.emit(i))})("mousedown",function(i){nR(e);let r=tP(3);return rR(r.onTagMousedown(i))}),Xf$2();}if(t&2){let e=o.$implicit,n=tP(3);lE("name",e.name)("small",n.appearance===n.inputAppearance.Compact)("canRemove",_P(1,3,n.disabled$)===false);}}function $0(t,o){if(t&1&&JR(0,L0,2,5,"pfy-tag",0,GR().itemTrackBy,true),t&2){let e=tP();KR(e);}}function B0(t,o){if(t&1&&(Kf$2(0,"div",3),fP(1),Xf$2()),t&2){let e=tP(3);dE("placeholder-as-label",e.placeholderAsLabel),xR(),ip$2(" ",e.placeholder," ");}}function N0(t,o){if(t&1&&kI(0,B0,2,3,"div",2),t&2){let e=tP(2);QR(e.placeholder?0:-1);}}function z0(t,o){t&1&&kI(0,$0,2,0)(1,N0,1,1),t&2&&QR(o.length?0:1);}var ou$1=["values"];function j0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-accordion")(1,"pfy-accordion-item",3)(2,"pfy-dropdown-list",4,0),VE("selectItem",function(i){nR(e);let r=tP();return rR(r.onItemSelect(i))})("selectedItemsChange",function(i){nR(e);let r=tP();return rR(r.onSelectedItemsChange(i))}),Xf$2()()();}if(t&2){let e=tP();xR(),lE("title",e.label)("expanded",true)("fullWidth",e.accordionFullWidth),xR(),lE("asAccordionDropdownList",true)("listItems",e.listItems)("selectedItem",e.selectedItem)("selectedItems",e.selectedItems)("highlightSelected",e.highlightSelected)("markSelected",e.markSelected)("multiple",e.multiple),GI("aria-label",e.label);}}function H0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-select-input-values",8,2),VE("onblur",function(i){nR(e);let r=tP(2);return rR(r.onInputBlur(i))})("onfocus",function(i){nR(e);let r=tP(2);return rR(r.onInputFocus(i))})("removeItem",function(i){nR(e);let r=tP(2);return rR(r.toggleItem(i))}),Xf$2();}if(t&2){let e=tP(2);lE("placeholder",e.placeholder)("placeholderAsLabel",!e.label)("appearance",e.appearance)("disabled",e.disabled);}}function U0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input",5,1),VE("keydown.escape",function(i){nR(e);let r=tP();return rR(r.blurInput(i))})("onblur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))})("onfocus",function(i){nR(e);let r=tP();return rR(r.onInputFocus(i))})("mousedown",function(i){nR(e);let r=tP();return rR(r.toggleDropdown(i))}),kI(2,H0,2,4,"pfy-dropdown-select-input-values",6),TP(3,"async"),Xf$2(),Kf$2(4,"pfy-dropdown-list",7,0),VE("selectItem",function(i){nR(e);let r=tP();return rR(r.onItemSelect(i))})("selectedItemsChange",function(i){nR(e);let r=tP();return rR(r.onSelectedItemsChange(i))}),Xf$2();}if(t&2){let e=tP();lE("iconKey",e.showDropdownList?"arrow_drop_up":"arrow_drop_down")("ngModel",e.visibleInputValue)("name",e.name)("label",e.label)("disabled",e.disabled)("required",e.required)("invalid",e.invalid)("readOnly",true)("helperText",e.helperText)("placeholder",e.placeholder)("placeholderAsLabel",true)("appearance",e.appearance),xR(2),QR(_P(3,27,e.showDropdownSelectInputValues$)?2:-1),xR(2),dE("has-label",!!(e.label!=null&&e.label.length)),lE("ngClass",e.appearance)("visible",e.showDropdownList)("listItems",e.listItems)("selectedItem",e.selectedItem)("selectedItems",e.selectedItems)("fullWidth",e.fullWidth)("asOverlayOnMobile",e.dropdownAsOverlayOnMobile)("automaticDirection",true)("highlightSelected",e.highlightSelected)("markSelected",e.markSelected)("multiple",e.multiple),GI("aria-label",e.label);}}var W0=["searchInput"];function G0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-accordion")(1,"pfy-accordion-item",5)(2,"pfy-dropdown-list",6,0),VE("selectItem",function(i){nR(e);let r=tP();return rR(r.onItemSelect(i))})("selectedItemsChange",function(i){nR(e);let r=tP();return rR(r.onSelectedItemsChange(i))}),Xf$2()()();}if(t&2){let e=tP();xR(),lE("title",e.label)("expanded",true)("fullWidth",e.accordionFullWidth),xR(),lE("asAccordionDropdownList",true)("listItems",e.listItems)("selectedItem",e.selectedItem)("selectedItems",e.selectedItems)("highlightSelected",e.highlightSelected)("markSelected",e.markSelected)("multiple",e.multiple),GI("aria-label",e.label);}}function Q0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-select-input-values",12,3),VE("onblur",function(i){nR(e);let r=tP(4);return rR(r.onInputBlur(i))})("onfocus",function(i){nR(e);let r=tP(4);return rR(r.onInputFocus(i))})("removeItem",function(i){nR(e);let r=tP(4);return rR(r.toggleItem(i))}),Xf$2();}if(t&2){let e=tP(4);lE("placeholder",e.searchable&&!e.disabled?"":e.placeholder)("placeholderAsLabel",!e.label)("appearance",e.appearance)("disabled",e.disabled);}}function Y0(t,o){if(t&1){let e=XR();Kf$2(0,"input",13,4),TP(2,"async"),VE("input",function(i){nR(e);let r=tP(4);return rR(r.updateVisibleInputValue(i.target.value))})("blur",function(i){nR(e);let r=tP(4);return rR(r.onInputBlur(i))})("focus",function(i){nR(e);let r=tP(4);return rR(r.onInputFocus(i))}),Xf$2();}if(t&2){let e=tP(4);lE("name",e.name)("placeholder",e.placeholder)("value",_P(2,3,e.visibleInputValue$));}}function K0(t,o){if(t&1&&(Kf$2(0,"div",9),kI(1,Q0,2,4,"pfy-dropdown-select-input-values",10)(2,Y0,3,5,"input",11),Xf$2()),t&2){let e=tP(3);xR(),QR(!e.searchable||e.disabled||e.selectedItems!=null&&e.selectedItems.size?1:-1),xR(),QR(e.searchable&&!e.readOnly&&!e.disabled?2:-1);}}function X0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input",8,2),TP(2,"async"),TP(3,"async"),VE("keydown.escape",function(i){nR(e);let r=tP(2);return rR(r.blurInput(i))})("onblur",function(i){nR(e);let r=tP(2);return rR(r.onInputBlur(i))})("onfocus",function(i){nR(e);let r=tP(2);return rR(r.onInputFocus(i))})("mousedown",function(i){nR(e);let r=tP(2);return rR(r.toggleDropdown(i))})("keydown.escape",function(i){nR(e);let r=tP(2);return rR(r.blurInput(i))})("keydown.arrowDown",function(i){let r=nR(e),s=tP(2);return rR(s.highlightNext("down",i,r))})("keydown.arrowUp",function(i){let r=nR(e),s=tP(2);return rR(s.highlightNext("up",i,r))})("keydown.enter",function(){nR(e);let i=tP(2);return rR(i.selectHighlighted())}),kI(4,K0,3,2,"div",9),TP(5,"async"),Xf$2();}if(t&2){let e=tP(2);lE("iconKey",_P(2,13,e.inputIconKey$))("ngModel",_P(3,15,e.visibleInputValue$))("name",e.name)("label",e.label)("disabled",e.disabled)("required",e.required)("invalid",e.invalid)("readOnly",!e.searchable)("helperText",e.helperText)("placeholder",e.placeholder)("placeholderAsLabel",true)("appearance",e.appearance),xR(4),QR(_P(5,17,e.showInputCustomContent$)?4:-1);}}function Z0(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-list",14,0),TP(2,"async"),VE("selectItem",function(i){nR(e);let r=tP(2);return rR(r.onItemSelect(i))})("selectedItemsChange",function(i){nR(e);let r=tP(2);return rR(r.onSelectedItemsChange(i))}),Xf$2();}if(t&2){let e=tP(2);lE("usedInOverlay",true)("listItems",_P(2,10,e.displayedItems$))("selectedItem",e.highlightedItem||e.selectedItem)("selectedItems",e.selectedItems)("fullWidth",e.fullWidth)("asOverlayOnMobile",e.dropdownAsOverlayOnMobile)("highlightSelected",e.highlightSelected||e.searchable&&!e.multiple)("markSelected",e.markSelected)("multiple",e.multiple),GI("aria-label",e.label);}}function J0(t,o){if(t&1&&(kI(0,X0,6,19,"pfy-input",7),TP(1,"async"),kI(2,Z0,3,12,"ng-template",null,1,OP)),t&2){let e,n=tP();QR((e=_P(1,1,n.displayedItems$))?0:-1,e);}}function eb$1(t,o){t&1&&(Kf$2(0,"span"),fP(1,"Express Delivery"),Xf$2());}function tb(t,o){if(t&1&&(fP(0),TP(1,"fileSize")),t&2){let e=tP(2);ip$2(" (",_P(1,1,e.file().size),") ");}}function nb(t,o){if(t&1&&(Kf$2(0,"div",4),ME(1,"pfy-icon",9),Kf$2(2,"p"),fP(3),Xf$2()()),t&2){let e=tP(2);xR(),lE("colorInherit",true),xR(2),WE(e.error());}}function ib(t,o){if(t&1&&(Kf$2(0,"div",5),ME(1,"div",10),Xf$2()),t&2){let e=tP(2);xR(),uE("width",e.progress()+"%");}}function ob(t,o){t&1&&ME(0,"pfy-icon",6);}function rb(t,o){if(t&1){let e=XR();Kf$2(0,"div",1)(1,"div",2),ME(2,"pfy-icon",3),Kf$2(3,"p"),fP(4),kI(5,tb,2,3),Xf$2()(),kI(6,nb,4,2,"div",4),Xf$2(),kI(7,ib,2,2,"div",5)(8,ob,1,0,"pfy-icon",6),Kf$2(9,"pfy-button",7),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.onDeleteClick())}),ME(10,"pfy-icon",8),Xf$2();}if(t&2){let e=tP();xR(4),ip$2(" ",e.file().name," "),xR(),QR(e.file().size?5:-1),xR(),QR(e.error()?6:-1),xR(),QR(e.loading()?7:-1),xR(),QR(e.progress()===100?8:-1),xR(),lE("type",e.buttonType.Ghost)("size",e.buttonSize.Small)("isIconOnly",true);}}function sb(t,o){if(t&1&&(Kf$2(0,"div",4),ME(1,"pfy-icon",9),Kf$2(2,"small"),fP(3),Xf$2()()),t&2){let e=tP(2);xR(),lE("colorInherit",true),xR(2),WE(e.error());}}function ab(t,o){if(t&1&&ME(0,"img",12),t&2){let e=tP(2);lE("src",e.src(),sy$2),GI("alt",e.file().name);}}function lb(t,o){t&1&&ME(0,"pfy-loader-circular",14);}function cb(t,o){if(t&1){let e=XR();Kf$2(0,"div",11),kI(1,sb,4,2,"div",4)(2,ab,1,2,"img",12),ME(3,"div",13),kI(4,lb,1,0,"pfy-loader-circular",14),Kf$2(5,"pfy-button",15),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.onDeleteClick())}),ME(6,"pfy-icon",16),Xf$2()();}if(t&2){let e=tP();dE("error",!!e.error())("loading",e.loading()),xR(),QR(e.error()?1:2),xR(3),QR(e.loading()?4:-1),xR(),lE("type",e.buttonType.Ghost)("size",e.buttonSize.Small)("isIconOnly",true);}}var db=["fileInput"];function pb(t,o){if(t&1&&ME(0,"pfy-icon",10),t&2){let e=tP(3);lE("pfyTooltip",e.descriptionTooltip());}}function ub(t,o){if(t&1&&(Kf$2(0,"div",8)(1,"small",9),fP(2),Xf$2(),kI(3,pb,1,1,"pfy-icon",10),Xf$2()),t&2){let e=tP(2);xR(2),WE(e.description()),xR(),QR(e.descriptionTooltip()?3:-1);}}function hb(t,o){if(t&1){let e=XR();Kf$2(0,"div",5),VE("dragover",function(i){nR(e);let r=tP();return rR(r.onDragOver(i))})("dragleave",function(i){nR(e);let r=tP();return rR(r.onDragLeave(i))})("drop",function(i){nR(e);let r=tP();return rR(r.onDrop(i))}),ME(1,"img",6),Kf$2(2,"p"),fP(3,"Drag and drop your file here or"),Xf$2(),Kf$2(4,"pfy-button",7),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.triggerUpload())}),fP(5," Browse "),Xf$2(),kI(6,ub,4,2,"div",8),Xf$2();}if(t&2){let e=tP();dE("drag-over",e.isDragging()),xR(4),lE("size",e.buttonSize.Small)("type",e.buttonType.Secondary),xR(2),QR(e.description()?6:-1);}}function gb(t,o){if(t&1&&(Kf$2(0,"h6",11),fP(1),Xf$2()),t&2){let e=tP(2);xR(),WE(e.title());}}function mb(t,o){if(t&1&&ME(0,"pfy-icon",10),t&2){let e=tP(3);lE("pfyTooltip",e.descriptionTooltip());}}function fb(t,o){if(t&1&&(Kf$2(0,"div",8)(1,"small",9),fP(2),Xf$2(),kI(3,mb,1,1,"pfy-icon",10),Xf$2()),t&2){let e=tP(2);xR(2),WE(e.description()),xR(),QR(e.descriptionTooltip()?3:-1);}}function _b(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",13),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.triggerUpload())}),fP(1," Browse "),Xf$2();}if(t&2){let e=tP(2);lE("size",e.buttonSize.Small)("type",e.buttonType.Secondary)("pfyTooltip",e.descriptionTooltip);}}function bb(t,o){if(t&1&&kI(0,gb,2,1,"h6",11)(1,fb,4,2,"div",8)(2,_b,2,3,"pfy-button",12),t&2){let e=tP();QR(e.title()?0:-1),xR(),QR(e.description()?1:-1),xR(),QR(e.isImageUploader()?-1:2);}}function Cb(t,o){if(t&1){let e=XR();Kf$2(0,"button",14),VE("click",function(){nR(e);let i=tP();return rR(i.triggerUpload())}),ME(1,"pfy-icon",15),fP(2," Add image "),Xf$2();}if(t&2){let e=tP();lE("disabled",e.disabled()),xR(),lE("colorInherit",true);}}var yb=[[["pfy-link"]]],vb=["pfy-link"];function wb(t,o){if(t&1&&(Kf$2(0,"label",13),fP(1),Xf$2()),t&2){let e=tP();dE("required",e.required),GI("for",e.name||e.id),xR(),WE(e.label);}}function xb(t,o){t&1&&ME(0,"pfy-icon",6);}function Ob(t,o){if(t&1){let e=XR();Kf$2(0,"input",14,2),TP(2,"async"),XE("ngModelChange",function(i){nR(e);let r=tP();return pP(r.value,i)||(r.value=i),rR(i)}),VE("input",function(){nR(e);let i=dP(1),r=tP();return rR(r.onChange(i.value))})("blur",function(i){nR(e);let r=tP();return rR(r.onInputBlur(i))})("focus",function(i){nR(e);let r=tP();return rR(r.onInputFocus(i))}),Xf$2();}if(t&2){let e=tP();dE("has-icon",!e.isSearch&&e.iconKey)("has-value",_P(2,20,e.hasValue$))("icon-on-the-left",e.iconOnTheLeft)("placeholder-as-label",e.placeholderAsLabel&&!e.label&&!!e.placeholder),lE("disabled",e.disabled)("readonly",e.readOnly)("autocomplete",e.autocomplete)("type",e.type)("step",e.step),KE("ngModel",e.value),GI("id",e.name||e.id)("name",e.name)("placeholder",e.placeholder)("min",e.min)("max",e.max)("maxLength",e.maxLength);}}function Mb(t,o){if(t&1){let e=XR();Kf$2(0,"button",15),VE("click",function(i){nR(e);let r=tP();return rR(r.onIconClick(i))})("mousedown",function(i){nR(e);let r=tP();return rR(r.onIconMouseDown(i))}),ME(1,"pfy-icon",16),Xf$2();}if(t&2){let e=tP();lE("value",e.iconKey)("disabled",!e.iconClickable||e.disabled),GI("tabindex",e.iconFocusable?undefined:-1),xR(),lE("name",e.iconKey)("colorInherit",true);}}function Pb(t,o){if(t&1){let e=XR();Kf$2(0,"button",17),VE("click",function(){nR(e);let i=tP();return rR(i.reset())}),ME(1,"pfy-icon",18),Xf$2();}if(t&2){let e=tP();lE("disabled",e.disabled),xR(),lE("colorInherit",true);}}function kb(t,o){if(t&1&&(Kf$2(0,"small",12),ME(1,"pfy-icon",19),fP(2),Xf$2()),t&2){let e=tP();xR(),lE("name",e.invalid?"error":"info")("colorInherit",true),xR(),ip$2(" ",e.helperText," ");}}function Sb(t,o){}function Tb(t,o){if(t&1&&(Kf$2(0,"pfy-decorated-input",1)(1,"pfy-input-prefix"),fP(2),TP(3,"async"),Xf$2(),kI(4,Sb,0,0,"ng-template",3),Xf$2()),t&2){let e=tP(),n=dP(3);lE("label",e.label)("helperText",e.helperText)("invalid",e.invalid)("required",e.required)("disabled",e.disabled),xR(2),WE(_P(3,7,e.currencyCode$)),xR(2),lE("ngTemplateOutlet",n);}}function Ib(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input",4),VE("onfocus",function(i){nR(e);let r=tP();return rR(r.onfocus.emit(i))})("onblur",function(i){nR(e);let r=tP();return rR(r.onblur.emit(i))}),Xf$2();}if(t&2){let e=tP();lE("name",e.name)("label",e.label)("helperText",e.helperText)("invalid",e.invalid)("required",e.required)("disabled",e.disabled)("appearance",e.appearance)("readOnly",e.readOnly)("iconFocusable",e.iconFocusable)("iconKey",e.iconKey)("iconOnTheLeft",e.iconOnTheLeft)("autocomplete",e.autocomplete)("autofocus",e.autofocus)("placeholder",e.placeholder);}}function Db(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-input",5),VE("onfocus",function(i){nR(e);let r=tP();return rR(r.onfocus.emit(i))})("onblur",function(i){nR(e);let r=tP();return rR(r.onblur.emit(i))}),Xf$2();}if(t&2){let e=tP();lE("name",e.name)("disabled",e.disabled)("appearance",e.appearance)("readOnly",e.readOnly)("iconFocusable",e.iconFocusable)("iconKey",e.iconKey)("iconOnTheLeft",e.iconOnTheLeft)("autocomplete",e.autocomplete)("autofocus",e.autofocus)("placeholder",e.placeholder);}}function Eb(t,o){if(t&1&&(Kf$2(0,"span",3),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.label);}}var Vb=["*",[["pfy-panel-header"]]],Ab=["*","pfy-panel-header"];function Rb(t,o){if(t&1&&(Kf$2(0,"h6",3),fP(1),Xf$2()),t&2){let e=tP(2);xR(),WE(e.heading);}}function Fb(t,o){t&1&&rP(0,1);}function qb(t,o){if(t&1){let e=XR();Kf$2(0,"header",2),kI(1,Rb,2,1,"h6",3)(2,Fb,1,0,"ng-template",null,0,OP),TE(4,4),Kf$2(5,"pfy-button",5),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.panelClose.emit())}),ME(6,"pfy-icon",6),Xf$2()();}if(t&2){let e=dP(3),n=tP();xR(),QR(n.headerComponent?-1:1),xR(3),lE("ngTemplateOutlet",e),xR(),lE("isIconOnly",true)("size",n.closeButtonSize)("type",n.closeButtonType);}}var Lb=[[["pfy-left-bar-button"]],[["pfy-panel"]]],$b=["pfy-left-bar-button","pfy-panel"];function Bb(t,o){t&1&&(Kf$2(0,"div",3),rP(1),Xf$2());}function Nb(t,o){t&1&&(Kf$2(0,"div"),rP(1,1),Xf$2());}function zb(t,o){if(t&1&&(oR(),Kf$2(0,"svg",0)(1,"g",2)(2,"g",3),ME(3,"path",4)(4,"path",5)(5,"path",6)(6,"path",7)(7,"path",8)(8,"path",9)(9,"path",10)(10,"path",11)(11,"path",12)(12,"path",13),Xf$2()()()),t&2){let e=tP();lE("ngClass",e.color);}}function jb(t,o){if(t&1&&(oR(),Kf$2(0,"svg",1)(1,"g",2),ME(2,"path",14),Xf$2()()),t&2){let e=tP();lE("ngClass",e.color);}}function Hb(t,o){t&1&&TE(0);}function Ub(t,o){if(t&1&&(Kf$2(0,"div",1),kI(1,Hb,1,0,"ng-container",2),Xf$2()),t&2){let e=tP(),n=dP(3);lE("pfyTooltip",o)("showTooltipOnMobile",true)("tooltipWithDelay",!e.disabled),xR(),lE("ngTemplateOutlet",n);}}function Wb(t,o){t&1&&TE(0);}function Gb(t,o){if(t&1&&kI(0,Wb,1,0,"ng-container",2),t&2){tP();let e=dP(3);lE("ngTemplateOutlet",e);}}function Qb(t,o){if(t&1&&(Kf$2(0,"i",5),fP(1),Xf$2()),t&2){let e=tP(2);xR(),ip$2(" ",e.iconLeft," ");}}function Yb(t,o){if(t&1&&(Kf$2(0,"p",7),fP(1),Xf$2()),t&2){let e=tP(2);xR(),WE(e.subText);}}function Kb(t,o){if(t&1&&(Kf$2(0,"pfy-badge",8),fP(1),Xf$2()),t&2){let e=tP(2);lE("color",e.badgeColor),xR(),ip$2(" ",e.badgeText," ");}}function Xb(t,o){if(t&1&&(Kf$2(0,"i",9),fP(1),Xf$2()),t&2){let e=tP(2);xR(),ip$2(" ",e.iconRight," ");}}function Zb(t,o){if(t&1){let e=XR();Kf$2(0,"button",3)(1,"div",4),VE("click",function(i){nR(e);let r=tP();return rR(r.onContentClick(i))}),kI(2,Qb,2,1,"i",5),Kf$2(3,"div",6),rP(4),kI(5,Yb,2,1,"p",7),Xf$2(),kI(6,Kb,2,2,"pfy-badge",8)(7,Xb,2,1,"i",9),Xf$2()();}if(t&2){let e=tP();lE("disabled",e.disabled)("ngClass",e.getStateClass()),xR(2),QR(e.iconLeft?2:-1),xR(3),QR(e.subText?5:-1),xR(),QR(e.badgeText&&e.badgeColor?6:-1),xR(),QR(e.iconRight?7:-1);}}var Jb=["dropdown"];function eC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-item",4),TP(1,"async"),TP(2,"async"),rP(3),Xf$2()),t&2){let e=tP();lE("iconLeft",e.iconLeft)("subText",e.subText)("tooltip",e.tooltip)("highlighted",_P(1,9,e.isDropdownOpened$)||false)("active",_P(2,11,e.hasActiveInternalLinkItems$)||false)("disabled",e.disabled)("togglesDropdownResult",false)("badgeText",e.badgeText)("badgeColor",e.badgeColor);}}function tC(t,o){}function nC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-dropdown-result",5),kI(1,tC,0,0,"ng-template",6),Xf$2()),t&2){let e=tP();lE("shouldSetMaxHeight",false),xR(),lE("ngTemplateOutlet",e.itemsTemplate);}}function iC(t,o){}function oC(t,o){if(t&1&&(Kf$2(0,"div",1),kI(1,iC,0,0,"ng-template",2),Xf$2()),t&2){let e=tP();lE("@contentExpansion",undefined),xR(),lE("ngTemplateOutlet",e.itemsTemplate);}}function rC(t,o){if(t&1&&ME(0,"pfy-menu",9),t&2){let e=tP(2).$implicit;lE("items",e.items);}}function sC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-expandable-item",1)(1,"span",7),fP(2),Xf$2(),kI(3,rC,1,1,"pfy-menu",8),Xf$2()),t&2){let e=tP().$implicit;lE("items",e.items)("subText",e.subText)("iconLeft",e.iconLeft)("tooltip",e.tooltip)("disabled",e.disabled)("badgeColor",e.badgeColor)("badgeText",e.badgeText),GI("data-analyticsid",e.analyticsId),xR(2),WE(e.text);}}function aC(t,o){if(t&1&&ME(0,"pfy-menu",9),t&2){let e=tP(2).$implicit;lE("items",e.items);}}function lC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-dropdown-item",2)(1,"span",7),fP(2),Xf$2(),kI(3,aC,1,1,"pfy-menu",8),Xf$2()),t&2){let e=tP().$implicit;lE("items",e.items)("subText",e.subText)("iconLeft",e.iconLeft)("tooltip",e.tooltip)("disabled",e.disabled)("badgeColor",e.badgeColor)("badgeText",e.badgeText),GI("data-analyticsid",e.analyticsId),xR(2),WE(e.text);}}function cC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-internal-link-item",3)(1,"span",7),fP(2),Xf$2()()),t&2){let e=tP().$implicit;lE("path",e.path)("queryParams",e.queryParams)("newTab",e.newTab)("isActiveMatchOptions",e.isActiveMatchOptions)("subText",e.subText)("iconLeft",e.iconLeft)("iconRight",e.iconRight)("tooltip",e.tooltip)("disabled",e.disabled)("badgeColor",e.badgeColor)("badgeText",e.badgeText),GI("data-analyticsid",e.analyticsId),xR(2),WE(e.text);}}function dC(t,o){if(t&1&&(Kf$2(0,"pfy-menu-external-link-item",4)(1,"span",7),fP(2),Xf$2()()),t&2){let e=tP().$implicit;lE("url",e.url)("newTab",e.newTab)("subText",e.subText)("iconLeft",e.iconLeft)("iconRight",e.iconRight)("tooltip",e.tooltip)("disabled",e.disabled)("badgeColor",e.badgeColor)("badgeText",e.badgeText),GI("data-analyticsid",e.analyticsId),xR(2),WE(e.text);}}function pC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-menu-item",10),VE("click",function(){nR(e);let i=tP().$implicit;return rR(i.handler())}),Kf$2(1,"span",7),fP(2),Xf$2()();}if(t&2){let e=tP().$implicit;lE("subText",e.subText)("iconLeft",e.iconLeft)("iconRight",e.iconRight)("tooltip",e.tooltip)("disabled",e.disabled)("badgeColor",e.badgeColor)("badgeText",e.badgeText),GI("data-analyticsid",e.analyticsId),xR(2),WE(e.text);}}function uC(t,o){t&1&&ME(0,"pfy-menu-divider-item",6);}function hC(t,o){if(t&1&&kI(0,sC,4,9,"pfy-menu-expandable-item",1)(1,lC,4,9,"pfy-menu-dropdown-item",2)(2,cC,3,13,"pfy-menu-internal-link-item",3)(3,dC,3,11,"pfy-menu-external-link-item",4)(4,pC,3,9,"pfy-menu-item",5)(5,uC,1,0,"pfy-menu-divider-item",6),t&2){let e,n=o.$implicit,i=tP();QR((e=n.type)===i.menuItemType.Expandable?0:e===i.menuItemType.Dropdown?1:e===i.menuItemType.InternalLink?2:e===i.menuItemType.ExternalLink?3:e===i.menuItemType.Action?4:e===i.menuItemType.Divider?5:-1);}}var ru$1=[[["pfy-modal-dialog-header"]],[["pfy-modal-dialog-content"]],[["pfy-modal-dialog-footer"]]],su$1=["pfy-modal-dialog-header","pfy-modal-dialog-content","pfy-modal-dialog-footer"];function gC(t,o){t&1&&(Kf$2(0,"span"),fP(1,"Back"),Xf$2());}function mC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",9),TP(1,"async"),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.back())}),Kf$2(2,"i",10),fP(3,"arrow_back"),Xf$2(),kI(4,gC,2,0,"span"),TP(5,"async"),Xf$2();}if(t&2){let e=tP();lE("isIconOnly",e.modalSize==="small"||_P(1,2,e.isMobileScreen$)===true),xR(4),QR(e.modalSize!=="small"&&_P(5,4,e.isMobileScreen$)===false?4:-1);}}function fC(t,o){if(t&1&&(Kf$2(0,"h5",11),TP(1,"async"),fP(2),Xf$2()),t&2){let e=tP();dE("center-title",e.showTitleBackButton&&_P(1,3,e.isMobileScreen$)===true),xR(2),ip$2(" ",e.title," ");}}function _C(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",12),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.close())}),Kf$2(1,"i",13),fP(2,"close"),Xf$2()();}t&2&&lE("isIconOnly",true);}function bC(t,o){if(t&1&&(Kf$2(0,"p"),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.message);}}function CC(t,o){}function yC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",16),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.secondaryActionClick())}),fP(1),Xf$2();}if(t&2){let e=tP(2);xR(),ip$2(" ",e.secondaryAction," ");}}function vC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",17),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.primaryActionClick())}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("type",e.primaryActionButtonType),xR(),ip$2(" ",e.primaryAction," ");}}function wC(t,o){if(t&1&&(Kf$2(0,"div",8),kI(1,yC,2,1,"pfy-button",14)(2,vC,2,2,"pfy-button",15),Xf$2()),t&2){let e=tP();xR(),QR(e.secondaryAction?1:-1),xR(),QR(e.primaryAction?2:-1);}}function xC(t,o){if(t&1){let e=XR();Kf$2(0,"div",1)(1,"span"),fP(2,"View"),Xf$2(),Kf$2(3,"pfy-dropdown",3),TP(4,"async"),VE("valueChange",function(i){nR(e);let r=tP();return rR(r.onItemsPerPageChange(i))}),Xf$2(),Kf$2(5,"span"),fP(6),TP(7,"async"),Xf$2()();}if(t&2){let e=tP();xR(3),lE("appearance",e.inputAppearance.Compact)("items",e.itemsPerPageOptions)("value",_P(4,4,e.selectedItemsPerPage$)),xR(3),ip$2("",_P(7,6,e.label$)," per page");}}function OC(t,o){t&1&&(Kf$2(0,"span"),fP(1),Xf$2()),t&2&&(xR(),WE(o));}function MC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-pagination-item",9),VE("itemClick",function(){let i=nR(e).$implicit,r=tP(3);return rR(r.goToPage(i.page))}),Xf$2();}if(t&2){let e=o.$implicit,n=tP(2);lE("item",e)("type",n);}}function PC(t,o){if(t&1&&(Kf$2(0,"div",6),JR(1,MC,1,2,"pfy-pagination-item",8,GR().pageTrackBy,true),TP(3,"async"),Xf$2()),t&2){let e=tP(2);xR(),KR(_P(3,0,e.pages$));}}function kC(t,o){if(t&1){let e=XR();Kf$2(0,"nav",2)(1,"pfy-button",4),TP(2,"async"),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.goToPreviousPage())}),ME(3,"pfy-icon",5),Xf$2(),kI(4,PC,4,2,"div",6),Kf$2(5,"pfy-button",4),TP(6,"async"),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.goToNextPage())}),ME(7,"pfy-icon",7),Xf$2()();}if(t&2){let e=tP();xR(),lE("isIconOnly",true)("disabled",_P(2,5,e.prevDisabled$)),xR(3),QR(o!==e.itemType.Dot?4:-1),xR(),lE("isIconOnly",true)("disabled",_P(6,7,e.nextDisabled$));}}function SC(t,o){if(t&1&&(Kf$2(0,"small",1),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.title);}}function TC(t,o){if(t&1&&(Kf$2(0,"p",3),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.content);}}function IC(t,o){t&1&&TE(0);}function DC(t,o){if(t&1&&kI(0,IC,1,0,"ng-container",8),t&2){let e=tP();lE("ngTemplateOutlet",e.content)("ngTemplateOutletContext",e.context);}}function EC(t,o){t&1&&TE(0);}function VC(t,o){if(t&1&&kI(0,EC,1,0,"ng-container",9),t&2){let e=tP();lE("ngComponentOutlet",e.content);}}function AC(t,o){if(t&1&&(Kf$2(0,"small",5),fP(1),Xf$2()),t&2){let e=tP();xR(),zE("",e.stepCurrent," of ",e.stepTotal,"");}}function RC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",12),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.close())}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("type",e.darkBackground?e.buttonType.Alternative:e.buttonType.Ghost)("size",e.buttonSize.Small),xR(),ip$2(" ",e.dismissButton," ");}}function FC(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",13),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.confirm())}),fP(1),Xf$2();}if(t&2){let e=tP(2);lE("size",e.buttonSize.Small),xR(),ip$2(" ",e.confirmButton," ");}}function qC(t,o){if(t&1&&(Kf$2(0,"div",6),kI(1,RC,2,3,"pfy-button",10)(2,FC,2,2,"pfy-button",11),Xf$2()),t&2){let e=tP();xR(),QR(e.dismissButton?1:-1),xR(),QR(e.confirmButton?2:-1);}}function LC(t,o){if(t&1&&ME(0,"div",14),t&2){let e=tP();dE("dark",e.darkBackground);}}function $C(t,o){t&1&&ME(0,"span",1);}function BC(t,o){t&1&&(Kf$2(0,"div",4),ME(1,"pfy-icon",7),Xf$2()),t&2&&(xR(),lE("colorInherit",true));}function NC(t,o){t&1&&(Kf$2(0,"div",5),ME(1,"pfy-icon",8),Xf$2()),t&2&&(xR(),lE("colorInherit",true));}function zC(t,o){t&1&&(Kf$2(0,"div",5),ME(1,"pfy-icon",9),Xf$2());}function jC(t,o){if(t&1&&(Kf$2(0,"small",2),fP(1),Xf$2()),t&2){let e=tP();xR(),GE("Step ",e.currentStepIndex+1," of ",e.stepsCount,": ",e.stepLabel,"");}}function HC(t,o){t&1&&(Kf$2(0,"small",2),fP(1,"All steps completed"),Xf$2());}function UC(t,o){if(t&1&&ME(0,"pfy-progress-indicator-small",0),t&2){let e=tP();lE("stepLabel",e.currentStep==null?null:e.currentStep.label)("stepsCount",e.steps.length)("currentStepIndex",e.currentStepIndex);}}function WC(t,o){if(t&1&&ME(0,"pfy-progress-indicator-large",1),t&2){let e=o.$implicit,n=o.$index,i=o.$count,r=tP(2);lE("stepLabel",e.label)("stepIndex",n)("isLast",n===i-1)("currentStepIndex",r.currentStepIndex);}}function GC(t,o){if(t&1&&JR(0,WC,1,4,"pfy-progress-indicator-large",1,YR),t&2){let e=tP();KR(e.steps);}}function QC(t,o){if(t&1&&ME(0,"pfy-icon",1),t&2){let e=tP();lE("name",e.value);}}function YC(t,o){if(t&1&&(Kf$2(0,"span"),fP(1),Xf$2()),t&2){let e=tP();xR(),ip$2(" ",e.value," ");}}function KC(t,o){if(t&1&&(Kf$2(0,"span"),fP(1),Xf$2()),t&2){let e=tP();xR(),ip$2(" ",e.name," ");}}function XC(t,o){if(t&1&&(Kf$2(0,"kbd"),kI(1,QC,1,1,"pfy-icon",1)(2,YC,2,1,"span")(3,KC,2,1,"span"),Xf$2()),t&2){let e,n=o,i=tP();WR(n.type),xR(),QR((e=n.type)===i.shortcutType.Icon?1:e===i.shortcutType.Glyph?2:3);}}function ZC(t,o){t&1&&TE(0);}function JC(t,o){t&1&&TE(0);}function ey$1(t,o){t&1&&TE(0);}function ty$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-drawer",5),VE("closeByDragToBottom",function(){nR(e);let i=tP();return rR(i.close())}),Kf$2(1,"div",6),kI(2,ZC,1,0,"ng-container",7)(3,JC,1,0,"ng-container",7)(4,ey$1,1,0,"ng-container",7),Xf$2()();}if(t&2){let e=tP(),n=dP(4),i=dP(6),r=dP(8);lE("topOffset",e.getDrawerTopOffsetPx()),xR(),uE("height",e.getDrawerHeightStyle()),xR(),lE("ngTemplateOutlet",n),xR(),lE("ngTemplateOutlet",i),xR(),lE("ngTemplateOutlet",r);}}function ny$1(t,o){t&1&&TE(0);}function iy$1(t,o){t&1&&TE(0);}function oy$1(t,o){t&1&&TE(0);}function ry$1(t,o){if(t&1&&(Kf$2(0,"aside",4),kI(1,ny$1,1,0,"ng-container",7)(2,iy$1,1,0,"ng-container",7)(3,oy$1,1,0,"ng-container",7),Xf$2()),t&2){let e=tP(),n=dP(4),i=dP(6),r=dP(8);lE("ngClass",e.panelSize),xR(),lE("ngTemplateOutlet",n),xR(),lE("ngTemplateOutlet",i),xR(),lE("ngTemplateOutlet",r);}}function sy$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",13),VE("buttonClick",function(){nR(e);let i=tP(3);return rR(i.back())}),ME(1,"pfy-icon",14),Xf$2();}t&2&&lE("isIconOnly",true);}function ay$1(t,o){if(t&1&&(Kf$2(0,"h5",10),fP(1),Xf$2()),t&2){let e=tP(3);xR(),ip$2(" ",e.title," ");}}function ly$1(t,o){if(t&1){let e=XR();kI(0,sy$1,2,1,"pfy-button",9)(1,ay$1,2,1,"h5",10),Kf$2(2,"pfy-button",11),VE("buttonClick",function(){nR(e);let i=tP(2);return rR(i.close())}),ME(3,"pfy-icon",12),Xf$2();}if(t&2){let e=tP(2);QR(e.showTitleBackButton?0:-1),xR(),QR(e.title?1:-1),xR(),lE("isIconOnly",true);}}function cy$1(t,o){if(t&1&&(Kf$2(0,"header",8),rP(1),kI(2,ly$1,4,3),Xf$2()),t&2){let e=tP();xR(2),QR(e.hasCustomHeader?-1:2);}}function dy$1(t,o){}function py$1(t,o){if(t&1&&(Kf$2(0,"div",15),rP(1,1),kI(2,dy$1,0,0,"ng-template",16),Xf$2()),t&2){let e=tP();xR(2),lE("ngTemplateOutlet",e.content)("ngTemplateOutletContext",e.contentVars);}}function uy$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",21),VE("buttonClick",function(){nR(e);let i=tP(3);return rR(i.secondaryActionClick())}),fP(1),Xf$2();}if(t&2){let e=tP(3);xR(),ip$2(" ",e.secondaryAction," ");}}function hy$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",22),VE("buttonClick",function(){nR(e);let i=tP(3);return rR(i.primaryActionClick())}),fP(1),Xf$2();}if(t&2){let e=tP(3);lE("type",e.primaryActionButtonType),xR(),ip$2(" ",e.primaryAction," ");}}function gy$1(t,o){if(t&1&&(Kf$2(0,"div",18),kI(1,uy$1,2,1,"pfy-button",19)(2,hy$1,2,2,"pfy-button",20),Xf$2()),t&2){let e=tP(2);xR(),QR(e.secondaryAction?1:-1),xR(),QR(e.primaryAction?2:-1);}}function my$1(t,o){if(t&1&&(Kf$2(0,"footer",17),rP(1,2),kI(2,gy$1,3,2,"div",18),Xf$2()),t&2){let e=tP();dE("side-panel-footer",!!e.secondaryAction||!!e.primaryAction||e.hasCustomFooter),xR(2),QR((e.secondaryAction||e.primaryAction)&&!e.hasCustomFooter?2:-1);}}var fy=["contentContainer"],_y=[[["pfy-sidebar-section"]]],by$1=["pfy-sidebar-section"];function Cy$1(t,o){if(t&1){let e=XR();Kf$2(0,"button",6),VE("click",function(){nR(e);let i=tP();return rR(i.toggleCollapse())}),Kf$2(1,"i",7),fP(2),Xf$2()();}if(t&2){let e=tP();lE("title",e.isCollapsed?"Expand":"Collapse"),xR(2),WE(e.isCollapsed?"unfold_more":"unfold_less");}}function yy$1(t,o){if(t&1&&ME(0,"pfy-icon",0),t&2){let e=o.$implicit,n=tP();lE("ngClass",n.size)("type",e===n.starIcon.Full?n.iconType.Filled:n.iconType.Outlined)("name",e);}}function vy$1(t,o){t&1&&rP(0);}function wy$1(t,o){return this.steps}function xy$1(t,o){t&1&&rP(0);}function Oy$1(t,o){t&1&&ME(0,"pfy-icon",2);}function My$1(t,o){if(t&1&&(Kf$2(0,"div",0),TE(1,1),Xf$2(),kI(2,Oy$1,1,0,"pfy-icon",2)),t&2){let e=o.$implicit,n=o.$index,i=o.$count;lE("ngClass",e.state),xR(),lE("ngTemplateOutlet",e.template),xR(),QR(n!==i-1?2:-1);}}function Py$1(t,o){t&1&&TE(0);}function ky$1(t,o){if(t&1&&kI(0,Py$1,1,0,"ng-container",0),t&2){let e=tP(2);lE("ngTemplateOutlet",e.tabContent);}}function Sy$1(t,o){t&1&&rP(0);}function Ty$1(t,o){if(t&1&&kI(0,ky$1,1,1,"ng-container")(1,Sy$1,1,0),t&2){let e=tP();QR(e.tabContent?0:1);}}var Iy$1=["tabList"],Dy$1=["tabLabel"],au$1=t=>({tab:t});function Ey$1(t,o){t&1&&TE(0);}function Vy$1(t,o){if(t&1){let e=XR();Kf$2(0,"a",9,2),VE("click",function(){nR(e);let i=tP().$implicit,r=tP(2);return rR(r.setActiveTab(i))})("isActiveChange",function(i){nR(e);let r=tP().$implicit,s=tP(2);return rR(s.isActiveChange(i,r))}),kI(2,Ey$1,1,0,"ng-container",10),Xf$2();}if(t&2){let e=tP().$implicit;tP(2);let n=dP(3);lE("routerLink",e.path),GI("data-analyticsid",e.labelAnalyticsId),xR(2),lE("ngTemplateOutlet",n)("ngTemplateOutletContext",IP(4,au$1,e));}}function Ay$1(t,o){t&1&&TE(0);}function Ry$1(t,o){if(t&1){let e=XR();Kf$2(0,"button",11,2),VE("click",function(){nR(e);let i=tP().$implicit,r=tP(2);return rR(r.setActiveTab(i))}),kI(2,Ay$1,1,0,"ng-container",10),Xf$2();}if(t&2){let e=tP().$implicit;tP(2);let n=dP(3);GI("data-analyticsid",e.labelAnalyticsId),xR(2),lE("ngTemplateOutlet",n)("ngTemplateOutletContext",IP(3,au$1,e));}}function Fy$1(t,o){if(t&1&&(Kf$2(0,"li",6),TP(1,"async"),kI(2,Vy$1,3,6,"a",7)(3,Ry$1,3,5,"button",8),Xf$2()),t&2){let e=o.$implicit;dE("active",_P(1,3,e.active$)),xR(2),QR(e.path?2:3);}}function qy$1(t,o){if(t&1&&(Kf$2(0,"div",3)(1,"ul",4,1),TP(3,"async"),TP(4,"async"),JR(5,Fy$1,4,5,"li",5,YR),Xf$2()()),t&2){let e=tP();xR(),dE("left-indicator",_P(3,4,e.showLeftIndicator$))("right-indicator",_P(4,6,e.showRightIndicator$)),xR(4),KR(e.tabs);}}function Ly$1(t,o){if(t&1&&(Kf$2(0,"span",12),fP(1),Xf$2()),t&2){let e=tP().tab;xR(),ip$2(" ",e.number," ");}}function $y$1(t,o){if(t&1&&(fP(0),kI(1,Ly$1,2,1,"span",12)),t&2){let e=o.tab;ip$2(" ",e.label," "),xR(),QR(e.number?1:-1);}}var By$1=["textarea"];function Ny(t,o){t&1&&(Kf$2(0,"span"),fP(1,"*"),Xf$2());}function zy$1(t,o){if(t&1&&(Kf$2(0,"label",2),fP(1),kI(2,Ny,2,0,"span"),Xf$2()),t&2){let e=tP();lE("for",e.name),xR(),ip$2(" ",e.label," "),xR(),QR(e.required&&e.label?2:-1);}}function jy$1(t,o){t&1&&ME(0,"pfy-icon",9);}function Hy$1(t,o){if(t&1&&ME(0,"pfy-icon",10),t&2){let e=tP(2);lE("name",e.helperTextIcon);}}function Uy(t,o){if(t&1&&(Kf$2(0,"span",12),fP(1),Xf$2()),t&2){let e=tP(2);xR(),zE("",e.value==null?null:e.value.length,"/",e.maxLength,"");}}function Wy$1(t,o){if(t&1&&(Kf$2(0,"div",6)(1,"div",7)(2,"div",8),kI(3,jy$1,1,0,"pfy-icon",9)(4,Hy$1,1,1,"pfy-icon",10),Xf$2(),Kf$2(5,"div",11),fP(6),Xf$2()(),kI(7,Uy,2,2,"span",12),Xf$2()),t&2){let e=tP();xR(3),QR(e.invalid?3:-1),xR(),QR(!e.invalid&&e.helperTextIcon?4:-1),xR(2),ip$2(" ",e.helperText," "),xR(),QR(e.maxLength?7:-1);}}var Gy$1=["editor"],Qy$1=["toolbar"],Yy$1=[[["","text-editor-corner",""]]],Ky$1=["[text-editor-corner]"];function Xy(t,o){if(t&1&&(Kf$2(0,"label",35),fP(1),Xf$2()),t&2){let e=tP();dE("required",e.required()),GI("id",e.labelId),xR(),WE(e.label());}}function Zy(t,o){if(t&1&&(Kf$2(0,"small",36),ME(1,"pfy-icon",37),fP(2),Xf$2()),t&2){let e=tP();dE("invalid",e.invalid()),xR(),lE("name",e.invalid()?"error":"info")("colorInherit",true),xR(),ip$2(" ",e.helperText()," ");}}function Jy(t,o){if(t&1&&(Kf$2(0,"small",34),fP(1),Xf$2()),t&2){let e=tP();xR(),zE("",e.valueLength()," / ",e.maxLength(),"");}}function ev$1(t,o){t&1&&TE(0);}function tv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",6),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.toastConfirm.emit())}),fP(1),Xf$2();}if(t&2){let e=tP();GI("data-analyticsId",e.actionAnalyticsId||null),xR(),ip$2(" ",e.action," ");}}function nv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",7),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.toastDismiss.emit())}),ME(1,"pfy-icon",8),Xf$2();}if(t&2){let e=tP();lE("isIconOnly",true),GI("data-analyticsId",e.dismissAnalyticsId||null);}}var iv$1=[[["","toggleLabel",""]]],ov$1=["[toggleLabel]"],rv$1=t=>({direction:"left",visible:t}),sv$1=t=>({direction:"right",visible:t});function av$1(t,o){t&1&&TE(0);}function lv$1(t,o){t&1&&TE(0);}function cv$1(t,o){if(t&1&&fP(0),t&2){let e=tP(3);ip$2(" ",e.label," ");}}function dv$1(t,o){t&1&&rP(0);}function pv$1(t,o){if(t&1&&(Kf$2(0,"span"),kI(1,cv$1,1,1)(2,dv$1,1,0),Xf$2()),t&2){let e=tP().direction,n=tP();zR("label ",e,""),xR(),QR(n.label?1:-1),xR(),QR(n.contentLabel?2:-1);}}function uv$1(t,o){if(t&1&&kI(0,pv$1,3,5,"span",6),t&2){let e=o.visible,n=tP();QR(e&&(n.label||n.contentLabel)?0:-1);}}function hv$2(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",6),VE("buttonClick",function(i){nR(e);let r=tP();return rR(r.onBackClick(i))}),ME(1,"pfy-icon",7),Xf$2();}if(t&2){let e=tP();lE("type",e.buttonType.Ghost)("isIconOnly",true),xR(),lE("colorInherit",true);}}function gv$1(t,o){if(t&1&&(Kf$2(0,"div",10),fP(1),Xf$2()),t&2){let e=tP(2);xR(),WE(e.actionText);}}function mv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",8),TP(1,"async"),VE("buttonClick",function(i){nR(e);let r=tP();return rR(r.onActionClick(i))}),ME(2,"pfy-icon",9),kI(3,gv$1,2,1,"div",10),Xf$2();}if(t&2){let e=tP();lE("type",e.buttonType.Ghost)("isIconOnly",!e.actionText||_P(1,5,e.isMobileScreen$)===true),xR(2),lE("name",e.actionIcon)("colorInherit",true),xR(),QR(e.actionText?3:-1);}}var fv$2=["textElement"];function _v$2(t,o){if(t&1&&(Kf$2(0,"p",2,0),TP(2,"async"),TP(3,"async"),TP(4,"async"),fP(5),Xf$2()),t&2){let e=o,n=tP();uE("-webkit-line-clamp",e.clampLines)("min-height",_P(2,13,n.minHeight$)),dE("single",!e.isMultiLine)("multi",e.isMultiLine)("truncated",_P(3,15,n.isTruncated$)),lE("pfyTooltip",_P(4,17,n.isTruncated$)?e.text:"")("showTooltipOnMobile",true),xR(5),ip$2(" ",e.text," ");}}function bv$1(t,o){if(t&1&&(ME(0,"pfy-option-color",4),TP(1,"async"),TP(2,"async")),t&2){let e=tP();dE("with-small-text",_P(1,3,e.smallText$)),lE("colors",_P(2,5,e.colors$));}}function Cv$1(t,o){if(t&1&&(Kf$2(0,"pfy-badge",3),fP(1," Top selling "),Xf$2()),t&2){let e=tP();lE("color",e.badgeColor);}}var yv$2=t=>({value:t});function vv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-checkbox",8),TP(1,"async"),TP(2,"async"),VE("stateChange",function(i){nR(e);let r=tP(2);return rR(r.onVariantSelectCheckboxChange(i))}),Xf$2();}if(t&2){let e=tP(2);lE("checked",_P(1,2,e.isChecked$))("disabled",_P(2,4,e.disabledSelection$));}}function wv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-radio",9),TP(1,"async"),TP(2,"async"),VE("stateChanged",function(i){nR(e);let r=tP(2);return rR(r.onVariantSelectRadioChange(i.value))}),Xf$2();}if(t&2){let e=tP(2);lE("checked",_P(1,3,e.isChecked$))("option",IP(7,yv$2,e.variant$.value.id))("disabled",_P(2,5,e.disabledSelection$));}}function xv$1(t,o){if(t&1&&(Kf$2(0,"td",0),TP(1,"async"),kI(2,vv$1,3,6,"pfy-checkbox",6),TP(3,"async"),kI(4,wv$1,3,9,"pfy-radio",7),TP(5,"async"),Xf$2()),t&2){let e=tP();lE("pfyTooltip",e.disabledTooltip)("tooltipEnabled",_P(1,4,e.disabled$)),xR(2),QR(_P(3,6,e.singleVariantSelect$)===false?2:-1),xR(2),QR(_P(5,8,e.singleVariantSelect$)?4:-1);}}function Ov$1(t,o){if(t&1&&ME(0,"pfy-variants-table-column-text",10),t&2){let e=tP().$implicit;lE("colors",e.colors)("label",e.label)("optionType",e.optionType)("isBestSeller",e.isBestSeller);}}function Mv$1(t,o){if(t&1&&(Kf$2(0,"td",1),kI(1,Ov$1,1,4,"pfy-variants-table-column-text",10),Xf$2()),t&2){let e=o.$implicit;xR(),QR(e.showText?1:-1);}}function Pv$1(t,o){if(t&1&&(Kf$2(0,"td",11),fP(1),TP(2,"async"),TP(3,"price"),Xf$2(),Kf$2(4,"td",12),fP(5),TP(6,"async"),TP(7,"price"),Xf$2()),t&2){let e=tP();xR(),ip$2(" ",_P(3,4,_P(2,2,e.standardPrice$))," "),xR(4),ip$2(" ",_P(7,8,_P(6,6,e.premiumPrice$))," ");}}function kv$1(t,o){if(t&1&&(Kf$2(0,"td",3),fP(1),TP(2,"async"),TP(3,"price"),Xf$2()),t&2){let e=tP();xR(),WE(_P(3,3,_P(2,1,e.price$)));}}function Sv$1(t,o){if(t&1&&(Kf$2(0,"td",4),ME(1,"pfy-truncated-text-tooltip",13),TP(2,"async"),Xf$2()),t&2){let e=tP();xR(),lE("text",_P(2,1,e.availableProviders$));}}function Tv$1(t,o){t&1&&ME(0,"td",5);}function Iv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-checkbox",15),TP(1,"async"),TP(2,"async"),TP(3,"async"),VE("stateChange",function(){nR(e);let i=tP(3);return rR(i.onSelectAllVariantsChange())}),Xf$2();}if(t&2){let e=tP(3);lE("checked",_P(1,3,e.allVariantsSelected$)||_P(2,5,e.someVariantsSelected$))("indeterminate",_P(3,7,e.someVariantsSelected$))("disabled",e.disabled);}}function Dv$1(t,o){if(t&1&&(Kf$2(0,"td",9),kI(1,Iv$1,4,9,"pfy-checkbox",14),TP(2,"async"),Xf$2()),t&2){let e=tP(2);xR(),QR(_P(2,1,e.singleVariantSelect$)===false?1:-1);}}function Ev$1(t,o){if(t&1&&(Kf$2(0,"td",10),fP(1),TP(2,"titlecase"),Xf$2()),t&2){let e=tP().$implicit;xR(),ip$2(" ",_P(2,1,e)," ");}}function Vv$1(t,o){if(t&1&&kI(0,Ev$1,3,3,"td",10),t&2){let e=o.$implicit,n=tP();QR(e!==n?0:-1);}}function Av$1(t,o){if(t&1&&ME(0,"pfy-cost-icon",16),t&2){let e=tP(3);lE("tooltipText",e.costTooltipText);}}function Rv$1(t,o){if(t&1&&(Kf$2(0,"td",11),fP(1," Price "),kI(2,Av$1,1,1,"pfy-cost-icon",16),TP(3,"async"),Xf$2(),Kf$2(4,"td",17),fP(5," Printify Premium Price "),Xf$2()),t&2){let e=tP(2);xR(2),QR(e.excludingVat||_P(3,1,e.readOnly$)?2:-1);}}function Fv$1(t,o){if(t&1&&ME(0,"pfy-cost-icon",16),t&2){let e=tP(3);lE("tooltipText",e.costTooltipText);}}function qv$1(t,o){if(t&1&&(Kf$2(0,"td",11),fP(1," Cost "),kI(2,Fv$1,1,1,"pfy-cost-icon",16),TP(3,"async"),Xf$2()),t&2){let e=tP(2);xR(2),QR(e.excludingVat||_P(3,1,e.readOnly$)?2:-1);}}function Lv$1(t,o){t&1&&(Kf$2(0,"td",12),fP(1," Available providers "),Xf$2());}function $v$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-variants-table-row",18),VE("columnClick",function(){let i=nR(e).$implicit,r=tP(2);return rR(r.onVariantSelect(i))}),Xf$2();}if(t&2){let e=o.$implicit;lE("simplified",true)("variant",e)("disabled",e.disabled);}}function Bv$1(t,o){if(t&1&&(Kf$2(0,"div",3)(1,"span",4),fP(2),TP(3,"titlecase"),Xf$2(),ME(4,"pfy-variants-table-column-text",5),TP(5,"async"),TP(6,"async"),Xf$2(),Kf$2(7,"div",6)(8,"table",7)(9,"tr",8),kI(10,Dv$1,3,3,"td",9),TP(11,"async"),JR(12,Vv$1,1,1,null,null,YR),TP(14,"async"),Kf$2(15,"td",10),fP(16,"Inventory"),Xf$2(),kI(17,Rv$1,6,3),TP(18,"async"),kI(19,qv$1,4,3,"td",11)(20,Lv$1,2,0,"td",12),TP(21,"async"),Xf$2(),JR(22,$v$1,1,3,"pfy-variants-table-row",13,YR),TP(24,"async"),Xf$2()()),t&2){let e=o,n=tP();xR(2),WE(_P(3,7,e)),xR(2),lE("colors",_P(5,9,n.colors$))("label",_P(6,11,n.label$))("optionType",e),xR(6),QR(_P(11,13,n.readOnly$)?-1:10),xR(2),KR(_P(14,15,n.optionTypes$)),xR(5),QR(_P(18,17,n.showPremiumPrices$)?17:19),xR(3),QR(_P(21,19,n.showAvailablePrintProviders$)?20:-1),xR(2),KR(_P(24,21,n.variantData$));}}function Nv$2(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-modal-dialog-footer",2)(1,"pfy-button",19),VE("buttonClick",function(){nR(e);let i=tP();return rR(i.handleUpdate())}),fP(2,"Save"),Xf$2()();}}function zv$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-checkbox",14),TP(1,"async"),TP(2,"async"),TP(3,"async"),TP(4,"async"),VE("stateChange",function(){nR(e);let i=tP(3);return rR(i.onAllSelectedChange())}),Xf$2();}if(t&2){let e=tP(2),n=tP();lE("checked",_P(1,4,n.areAllSelected$)||_P(2,6,n.areSomeSelected$))("indeterminate",_P(3,8,n.areSomeSelected$))("disabled",_P(4,10,n.allVariantsUnselectable$)),GI("data-test-value",e.label);}}function jv$2(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-radio",15),TP(1,"async"),TP(2,"async"),VE("stateChanged",function(){nR(e);let i=tP(3);return rR(i.onAllSelectedChange())}),Xf$2();}if(t&2){let e=tP(3);lE("checked",_P(1,2,e.areAllSelected$))("disabled",_P(2,4,e.allVariantsUnselectable$));}}function Hv$1(t,o){if(t&1&&(Kf$2(0,"td",11),TP(1,"async"),TP(2,"async"),kI(3,zv$1,5,12,"pfy-checkbox",12),TP(4,"async"),kI(5,jv$2,3,6,"pfy-radio",13),TP(6,"async"),Xf$2()),t&2){let e=tP(2);dE("single-variant-select",_P(1,6,e.singleVariantSelect$)),lE("pfyTooltip",e.disabledTooltip)("tooltipEnabled",_P(2,8,e.disabled$)),xR(3),QR(_P(4,10,e.singleVariantSelect$)===false?3:-1),xR(2),QR(_P(6,12,e.useSingleVariantSelection$)?5:-1);}}function Uv$1(t,o){if(t&1&&ME(0,"pfy-variants-table-column-text",17),t&2){let e=tP().$implicit;lE("colors",e.colors)("label",e.label)("optionType",e.optionType);}}function Wv$1(t,o){if(t&1){let e=XR();Kf$2(0,"td",16),VE("click",function(i){nR(e);let r=tP(2);return rR(r.onToggleExpand(i))}),Kf$2(1,"span",3),fP(2),TP(3,"titlecase"),Xf$2(),kI(4,Uv$1,1,3,"pfy-variants-table-column-text",17),TP(5,"async"),Xf$2();}if(t&2){let e,n=o.$implicit,i=tP(2);dE("selected-option",n.isSelected),xR(2),WE(_P(3,4,n.optionType)),xR(2),QR((e=_P(5,6,i.variantData$))?4:-1,e);}}function Gv$2(t,o){if(t&1&&ME(0,"pfy-cost-icon",19),t&2){let e=tP(3);lE("tooltipText",e.costTooltipText);}}function Qv$1(t,o){if(t&1&&(fP(0),TP(1,"price")),t&2){let e=tP();ip$2(" ",_P(1,1,e[0])," ");}}function Yv$1(t,o){if(t&1&&(fP(0),TP(1,"price"),TP(2,"price")),t&2){let e=tP();zE(" ",_P(1,2,e[0]),"\u200A\u2013\u200A",SP(2,4,e[1],undefined,"")," ");}}function Kv$1(t,o){if(t&1&&(Kf$2(0,"span",20),kI(1,Qv$1,2,3)(2,Yv$1,3,8),Xf$2()),t&2){let e;xR(),QR((e=o.length)===1?1:e===2?2:-1);}}function Xv$1(t,o){if(t&1&&(fP(0),TP(1,"price")),t&2){let e=tP();ip$2(" ",_P(1,1,e[0])," ");}}function Zv$1(t,o){if(t&1&&(fP(0),TP(1,"price"),TP(2,"price")),t&2){let e=tP();zE(" ",_P(1,2,e[0]),"\u200A\u2013\u200A",SP(2,4,e[1],undefined,"")," ");}}function Jv$1(t,o){if(t&1&&(Kf$2(0,"span",22),kI(1,Xv$1,2,3)(2,Zv$1,3,8),Xf$2()),t&2){let e;xR(),QR((e=o.length)===1?1:e===2?2:-1);}}function ew(t,o){if(t&1){let e=XR();Kf$2(0,"td",18),VE("click",function(i){nR(e);let r=tP(2);return rR(r.onToggleExpand(i))}),Kf$2(1,"div",3),fP(2," Price "),kI(3,Gv$2,1,1,"pfy-cost-icon",19),TP(4,"async"),Xf$2(),kI(5,Kv$1,3,1,"span",20),TP(6,"async"),Xf$2(),Kf$2(7,"td",21),VE("click",function(i){nR(e);let r=tP(2);return rR(r.onToggleExpand(i))}),Kf$2(8,"div",3),fP(9,"Printify Premium Price"),Xf$2(),kI(10,Jv$1,3,1,"span",22),TP(11,"async"),Xf$2();}if(t&2){let e,n,i=tP(2);xR(3),QR(i.excludingVat||_P(4,3,i.readOnly$)?3:-1),xR(2),QR((e=_P(6,5,i.standardPriceRange$))?5:-1,e),xR(5),QR((n=_P(11,7,i.premiumPriceRange$))?10:-1,n);}}function tw(t,o){if(t&1&&ME(0,"pfy-cost-icon",23),t&2){let e=tP(3);lE("tooltipText",e.costTooltipText);}}function nw(t,o){if(t&1&&(fP(0),TP(1,"price")),t&2){let e=tP();ip$2(" ",_P(1,1,e[0])," ");}}function iw(t,o){if(t&1&&(fP(0),TP(1,"price"),TP(2,"price")),t&2){let e=tP();zE(" ",_P(1,2,e[0]),"\u200A\u2013\u200A",SP(2,4,e[1],undefined,"")," ");}}function ow(t,o){if(t&1&&(Kf$2(0,"span",24),kI(1,nw,2,3)(2,iw,3,8),Xf$2()),t&2){let e;xR(),QR((e=o.length)===1?1:e===2?2:-1);}}function rw(t,o){if(t&1){let e=XR();Kf$2(0,"td",18),VE("click",function(i){nR(e);let r=tP(2);return rR(r.onToggleExpand(i))}),Kf$2(1,"div",3),fP(2," Cost "),kI(3,tw,1,1,"pfy-cost-icon",23),TP(4,"async"),Xf$2(),kI(5,ow,3,1,"span",24),TP(6,"async"),Xf$2();}if(t&2){let e,n=tP(2);xR(3),QR(n.excludingVat||_P(4,2,n.readOnly$)?3:-1),xR(2),QR((e=_P(6,4,n.priceRange$))?5:-1,e);}}function sw(t,o){if(t&1){let e=XR();Kf$2(0,"td",25),VE("click",function(i){nR(e);let r=tP(2);return rR(r.onToggleExpand(i))}),Kf$2(1,"div",3),fP(2,"Available providers"),Xf$2(),Kf$2(3,"span",26),fP(4),TP(5,"async"),Xf$2()();}if(t&2){let e=tP(2);xR(4),ip$2(" ",_P(5,1,e.availableProvidersContent$)," ");}}function aw(t,o){if(t&1&&(Kf$2(0,"i",8),fP(1),TP(2,"async"),Xf$2()),t&2){let e=tP(2);xR(),ip$2(" ",_P(2,1,e.expanded$)?"keyboard_arrow_up":"keyboard_arrow_down"," ");}}function lw(t,o){if(t&1){let e=XR();kI(0,Hv$1,7,14,"td",0),TP(1,"async"),JR(2,Wv$1,6,8,"td",1,YR),TP(4,"async"),Kf$2(5,"td",2),VE("click",function(i){nR(e);let r=tP();return rR(r.onToggleExpand(i))}),Kf$2(6,"div",3),fP(7,"Inventory"),Xf$2(),Kf$2(8,"span",4),fP(9),TP(10,"async"),Xf$2()(),kI(11,ew,12,9),TP(12,"async"),kI(13,rw,7,6,"td",5)(14,sw,6,3,"td",6),TP(15,"async"),Kf$2(16,"td",7),VE("click",function(i){nR(e);let r=tP();return rR(r.onToggleExpand(i))}),kI(17,aw,3,3,"i",8),TP(18,"async"),Kf$2(19,"pfy-link",9),VE("click",function(i){nR(e);let r=tP();return rR(r.onViewDetailsClick(i))}),Kf$2(20,"span",10),fP(21,"View details"),Xf$2()()();}if(t&2){let e=tP();QR(_P(1,5,e.readOnly$)?-1:0),xR(2),KR(_P(4,7,e.rowData$)),xR(7),WE(_P(10,9,e.stockDescription$)),xR(2),QR(_P(12,11,e.showPremiumPrices$)?11:13),xR(3),QR(_P(15,13,e.showAvailablePrintProviders$)?14:-1),xR(3),QR(_P(18,15,e.useSingleVariantSelection$)===false?17:-1);}}function cw(t,o){if(t&1){let e=XR();Kf$2(0,"div",0)(1,"pfy-select-all-checkbox",8),TP(2,"async"),TP(3,"async"),VE("stateChange",function(){nR(e);let i=tP();return rR(i.onSelectAllVariantsChange())}),Xf$2(),Kf$2(4,"span",9),fP(5,"Select all"),Xf$2()();}if(t&2){let e=tP();xR(),lE("allVariantsSelected",_P(2,4,e.allVariantsSelected$))("someVariantsSelected",_P(3,6,e.someVariantsSelected$))("disabled",!!e.selectAllDisabledReason)("pfyTooltip",e.selectAllDisabledReason);}}function dw(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-select-all-checkbox",8),TP(1,"async"),TP(2,"async"),VE("stateChange",function(){nR(e);let i=tP(2);return rR(i.onSelectAllVariantsChange())}),Xf$2();}if(t&2){let e=tP(2);lE("allVariantsSelected",_P(1,4,e.allVariantsSelected$))("someVariantsSelected",_P(2,6,e.someVariantsSelected$))("disabled",!!e.selectAllDisabledReason)("pfyTooltip",e.selectAllDisabledReason);}}function pw(t,o){if(t&1&&(Kf$2(0,"th",3),kI(1,dw,3,8,"pfy-select-all-checkbox",10),TP(2,"async"),Xf$2()),t&2){let e=tP();xR(),QR(_P(2,1,e.singleVariantSelect$)===false?1:-1);}}function uw(t,o){if(t&1&&(Kf$2(0,"th",4),fP(1),TP(2,"titlecase"),Xf$2()),t&2){let e=o.$implicit;xR(),ip$2(" ",_P(2,1,e)," ");}}function hw(t,o){if(t&1&&ME(0,"pfy-cost-icon",11),t&2){let e=tP(2);lE("tooltipText",e.costTooltipText);}}function gw(t,o){if(t&1&&(Kf$2(0,"th",5),fP(1," Price "),kI(2,hw,1,1,"pfy-cost-icon",11),TP(3,"async"),Xf$2(),Kf$2(4,"th",12),fP(5,"Printify Premium Price"),Xf$2()),t&2){let e=tP();xR(2),QR(e.excludingVat||_P(3,1,e.readonly$)?2:-1);}}function mw(t,o){if(t&1&&ME(0,"pfy-cost-icon",11),t&2){let e=tP(2);lE("tooltipText",e.costTooltipText);}}function fw(t,o){if(t&1&&(Kf$2(0,"th",5),fP(1," Cost "),kI(2,mw,1,1,"pfy-cost-icon",11),TP(3,"async"),Xf$2()),t&2){let e=tP();xR(2),QR(e.excludingVat||_P(3,1,e.readonly$)?2:-1);}}function _w(t,o){t&1&&(Kf$2(0,"th",6),fP(1,"Available providers"),Xf$2());}function bw(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-variants-table-row",15),VE("variantSelect",function(i){nR(e);let r=tP(3);return rR(r.onVariantSelect(i))}),Xf$2();}if(t&2){let e=o.$implicit,n=o.$index,i=o.$count,r=tP(3);lE("firstVariantRow",n===0)("lastVariantRow",n===i-1)("variant",e)("disabled",e.disabled)("disabledTooltip",r.disabledTooltip);}}function Cw(t,o){if(t&1&&JR(0,bw,1,5,"pfy-variants-table-row",14,GR().variantTrackBy,true),t&2){let e=tP().$implicit;KR(e.variantData);}}function yw(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-variants-table-title-row",13),TP(1,"async"),VE("toggleExpand",function(){let i=nR(e).$implicit,r=tP();return rR(r.toggleVariantExpanded(i.option.id))})("viewVariantGroup",function(){let i=nR(e).$implicit,r=tP();return rR(r.onViewVariantGroup(i))})("variantSelect",function(i){nR(e);let r=tP();return rR(r.onVariantSelect(i))}),Xf$2(),kI(2,Cw,2,0);}if(t&2){let e=o.$implicit,n=tP();lE("option",e.option)("variantData",e.variantData)("disabled",e.disabled)("disabledTooltip",n.disabledTooltip)("costTooltipText",n.costTooltipText)("excludingVat",n.excludingVat)("selectWithSingleVariant",_P(1,8,n.singleVariantSelect$)&&e.variantData.length<=1),xR(2),QR(e.isExpanded?2:-1);}}function vw(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-variants-group-modal",17),VE("modalClose",function(){nR(e);let i=tP(2);return rR(i.closeVariantsGroupModal())}),Xf$2();}if(t&2){let e=tP(),n=tP();lE("option",n.selectedModalOption)("variantData",e==null?null:e.variantData)("disabled",e==null?null:e.disabled)("maxSelectedVariantsReached",n.maxSelectedVariantsReached)("costTooltipText",n.costTooltipText)("excludingVat",n.excludingVat);}}function ww(t,o){if(t&1&&kI(0,vw,1,6,"pfy-variants-group-modal",16),t&2){let e=tP();QR(e.showGroupModalOnMobile?0:-1);}}var lu$1=new k$5("PFY_ACCORDION"),cs$2=function(t){return t.Filled="filled",t.Outlined="outlined",t}(cs$2||{}),ge$9=(()=>{class t{constructor(){this.type=cs$2.Outlined,this.colorInherit=false,this.preventTranslation=true,this.hideFromAssistiveTechnologies=true;}ngOnInit(){(0, Z$9.assert)(!!this.name,"Icon name is required");}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-icon"]],hostVars:7,hostBindings:function(n,i){n&2&&(GI("aria-hidden",i.hideFromAssistiveTechnologies),WR(i.type),dE("color-inherit",i.colorInherit)("notranslate",i.preventTranslation));},inputs:{name:"name",type:"type",colorInherit:"colorInherit"},decls:1,vars:1,template:function(n,i){n&1&&fP(0),n&2&&WE(i.name);},styles:['@charset "UTF-8";.filled[_nghost-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;-webkit-user-select:none;user-select:none;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga";color:#2f2e0c;max-height:24px;aspect-ratio:1}.outlined[_nghost-%COMP%]{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;-webkit-user-select:none;user-select:none;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga";color:#2f2e0c;max-height:24px;aspect-ratio:1}.color-inherit[_nghost-%COMP%]{color:inherit}'],changeDetection:0});}}return t})(),ds$3=function(t){return t.Blue="blue",t.Yellow="yellow",t.Red="red",t.Gray="gray",t.Green="green",t.Purple="purple",t.White="white",t}(ds$3||{}),hl$1=(()=>{class t{constructor(){this.color=ds$3.Gray,this.iconKey="";}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-badge"]],inputs:{color:"color",iconKey:"iconKey"},ngContentSelectors:oe$6,decls:4,vars:4,consts:[["data-testid","badge","role","status",1,"badge",3,"ngClass"],["data-testid","badge-icon",1,"icon",3,"name"],[1,"content"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"small",0),kI(1,Nm$1,1,1,"pfy-icon",1),Kf$2(2,"span",2),rP(3),Xf$2()()),n&2&&(dE("has-icon",!!i.iconKey),lE("ngClass",i.color),xR(),QR(i.iconKey?1:-1));},dependencies:[Ld$1,ge$9],styles:['@charset "UTF-8";.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;height:1.5rem;column-gap:.5rem;padding:0 .5rem;white-space:nowrap;justify-content:center}.badge.has-icon[_ngcontent-%COMP%]{padding:0 .5rem 0 .25rem}.badge[_ngcontent-%COMP%]:has(.content:empty){padding:0;width:1.5rem}pfy-icon.icon[_ngcontent-%COMP%]{font-size:1.25rem;max-height:1.25rem}.content[_ngcontent-%COMP%]:empty{display:none}.white[_ngcontent-%COMP%]{background-color:#fff}.gray[_ngcontent-%COMP%]{background-color:#d0d0c3}.green[_ngcontent-%COMP%]{background-color:#c6fb9d}.yellow[_ngcontent-%COMP%]{background-color:#ffc794}.blue[_ngcontent-%COMP%]{background-color:#c0f0ff}.red[_ngcontent-%COMP%]{background-color:#faa8a8}.purple[_ngcontent-%COMP%]{background-color:#d9c3fe}'],changeDetection:0});}}return t})(),Ja$3=function(t){return t.ExtraSmall="extra-small",t.Small="small",t.Medium="medium",t.Large="large",t}(Ja$3||{}),xw=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-accordion-item-header"]],viewQuery:function(n,i){if(n&1&&iP(Zp$1,7),n&2){let r;sP(r=aP())&&(i.template=r.first);}},ngContentSelectors:oe$6,decls:2,vars:0,consts:[["template",""]],template:function(n,i){n&1&&(nP(),kI(0,zm$1,1,0,"ng-template",null,0,OP));},encapsulation:2,changeDetection:0});}}return t})(),gl$1=(()=>{class t extends op{constructor(e,n,i,r){super(e,n,i),this.parentAccordion=e,this.element=r,this.size=Ja$3.Medium,this.title="Item",this.fullWidth=false,this.headerAnalyticsId=null,this.accordionSize=Ja$3,this.badgeColor=ds$3.Blue;}focus(e,n){this.element.nativeElement.focus(n);}onFocus(){this.parentAccordion.handleItemFocus(this);}onKeydown(e){if(e.target===this.element.nativeElement){if((e.key==="Enter"||e.key===" ")&&!_i$6(e)){e.preventDefault(),this.toggle();return}this.parentAccordion.handleItemKeydown(e);}}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(lu$1),Yo$4(bw$1),Yo$4(Tr$5),Yo$4(Uo$5))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-accordion-item"]],contentQueries:function(n,i,r){if(n&1&&oP(r,xw,5),n&2){let s;sP(s=aP())&&(i.accordionItemHeader=s.first);}},hostVars:8,hostBindings:function(n,i){n&1&&VE("keydown",function(s){return i.onKeydown(s)})("focus",function(){return i.onFocus()}),n&2&&(GI("tabindex",i.disabled?-1:0)("id","accordion-header-"+i.id)("aria-expanded",i.expanded)("aria-controls","accordion-body-"+i.id),dE("full-width",i.fullWidth)("disabled",i.disabled));},inputs:{size:"size",title:"title",fullWidth:"fullWidth",headerAnalyticsId:"headerAnalyticsId",badgeText:"badgeText"},features:[bI],ngContentSelectors:oe$6,decls:7,vars:13,consts:[["badge",""],[1,"header",3,"click","ngClass"],[1,"custom-template-wrapper"],["type","outlined",1,"icon",3,"ngClass","name","colorInherit"],["role","region"],[1,"content"],[3,"ngTemplateOutlet"],[1,"title","p-bold"],[1,"title"],[4,"ngTemplateOutlet"],[1,"badge",3,"color"]],template:function(n,i){if(n&1&&(nP(),Kf$2(0,"button",1),VE("click",function(){return i.toggle()}),kI(1,jm$1,2,1,"div",2)(2,ef$1,6,1),ME(3,"pfy-icon",3),Xf$2(),Kf$2(4,"div",4)(5,"div",5),rP(6),Xf$2()()),n&2){let r;dE("disabled",i.disabled),lE("ngClass",i.size),GI("tabindex",-1)("aria-label","accordion-header-secondary-"+i.id)("data-analyticsid",i.headerAnalyticsId),xR(),QR((r=i.accordionItemHeader==null?null:i.accordionItemHeader.template)?1:2,r),xR(2),lE("ngClass",i.size)("name",!i.expanded||i.disabled?"keyboard_arrow_down":"keyboard_arrow_up")("colorInherit",true),xR(),lE("@bodyExpansion",i.expanded&&!i.disabled?"expanded":"collapsed"),GI("id","accordion-body-"+i.id)("aria-labelledby","accordion-header-"+i.id);}},dependencies:[Ld$1,$d$2,hl$1,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;border-style:solid;border-width:0 0 1px 0;border-color:#e0e0d7;overflow:hidden}.disabled[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{cursor:not-allowed}.full-width[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .full-width[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding-inline:0}[_nghost-%COMP%]:hover:not([aria-expanded=true]):not(.disabled){border-color:#f5f5f0}[_nghost-%COMP%]:focus-visible{outline:none}[_nghost-%COMP%]:focus-visible   .header[_ngcontent-%COMP%]{outline:2px solid #0096cc;outline-offset:-2px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;column-gap:.5rem;cursor:pointer;border-radius:4px 4px 0 0;appearance:none;background:transparent;border:none;text-align:left;color:#2f2e0c;padding-inline:1.5rem}.header.extra-small[_ngcontent-%COMP%]{padding-block:.5rem}.header.small[_ngcontent-%COMP%], .header.medium[_ngcontent-%COMP%]{padding-block:1rem}.header.large[_ngcontent-%COMP%]{padding-block:1.5rem}.header.disabled[_ngcontent-%COMP%]{color:#a8a794}.header[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#f5f5f0;transition:background-color .15s ease}.header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center}.icon.extra-small[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.icon.small[_ngcontent-%COMP%]{font-size:24px;max-height:24px}.icon.medium[_ngcontent-%COMP%]{font-size:28px;max-height:28px}.icon.large[_ngcontent-%COMP%]{font-size:32px;max-height:32px}.title[_ngcontent-%COMP%]{display:flex;color:inherit;flex-grow:1;column-gap:1rem;letter-spacing:.015em}.content[_ngcontent-%COMP%]{padding:.5rem 1.5rem 1.5rem;overflow:visible}.custom-template-wrapper[_ngcontent-%COMP%]{flex-grow:1;align-self:stretch}'],data:{animation:[$r$3("bodyExpansion",[Br$4("collapsed",kn$6({height:"0px",overflow:"hidden",visibility:"hidden"})),Br$4("expanded",kn$6({height:"*"})),so$5("expanded <=> collapsed",ro$4("150ms ease-in-out"))])]},changeDetection:0});}}return t})(),cu$2=(()=>{class t extends ip$1{set isMultipleExpandedAllowed(e){this.multi=e;}constructor(){super();}ngAfterContentInit(){this.keyManager=new Fr$3(this.items).withWrap().withHomeAndEnd();}handleItemKeydown(e){this.keyManager?.onKeydown(e);}handleItemFocus(e){this.keyManager?.updateActiveItem(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["pfy-accordion"]],contentQueries:function(n,i,r){if(n&1&&oP(r,gl$1,5),n&2){let s;sP(s=aP())&&(i.items=s);}},inputs:{isMultipleExpandedAllowed:"isMultipleExpandedAllowed"},features:[gP([{provide:lu$1,useExisting:t}]),bI]});}}return t})(),yS=(()=>{class t{constructor(){this.actionItemClass=true;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyActionIcon",""]],hostVars:2,hostBindings:function(n,i){n&2&&dE("action-icon",i.actionItemClass);}});}}return t})(),Zr$3=class Zr{},Gr$4=function(t){return t.Down="down",t.Up="up",t}(Gr$4||{}),Qr$3=function(t){return t.Left="left",t.Right="right",t}(Qr$3||{}),wo$3=class wo{},ps$2=(()=>{class t{constructor(){this.selected=new Xe$5,this.role="option";}set pfyDropdownListItem(e){e&&(this.listItem=e,this.updateDirectiveValues());}onClick(){this.listItem.disabled||this.selected.emit();}updateDirectiveValues(){this.analyticsId=this.listItem.listItemAnalyticsId;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownListItem",""]],hostVars:2,hostBindings:function(n,i){n&1&&VE("click",function(){return i.onClick()}),n&2&&GI("data-analyticsid",i.analyticsId)("role",i.role);},inputs:{pfyDropdownListItem:"pfyDropdownListItem"},outputs:{selected:"selected"},features:[gP([{provide:wo$3,useExisting:t}])]});}}return t})(),Tn$4=(()=>{class t{constructor(){this.preventTranslation=true;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["i",8,"material-icons"],["i",8,"material-icons-outlined"],["","pfyIconNoTranslate",""]],hostVars:2,hostBindings:function(n,i){n&2&&dE("notranslate",i.preventTranslation);}});}}return t})(),Ti$7=(()=>{class t{constructor(e){this.changeDetectorRef=e,this.checked=false,this.indeterminate=false,this.small=false,this.invalid=false,this.disabled=false,this.stateChange=new Xe$5,this.ariaChecked="false",this.controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{};}ngOnChanges(e){(e.indeterminate||e.checked)&&this.updateAriaChecked();}writeValue(e){this.checked=e,this.changeDetectorRef.markForCheck();}setDisabledState(e){this.disabled=e,this.changeDetectorRef.markForCheck();}registerOnChange(e){this.controlValueAccessorChangeFn=e;}registerOnTouched(e){this.onTouched=e;}onClick(){this.disabled||(this.indeterminate||(this.checked=!this.checked,this.updateAriaChecked()),this.stateChange.emit(this.checked),this.controlValueAccessorChangeFn(this.checked));}preventBubblingFromLabel(e){e.target&&e.target.tagName!=="INPUT"&&e.stopPropagation();}onBlur(){this.onTouched();}onKeypress(e,n){e.key===" "&&(e.preventDefault(),n.click());}updateAriaChecked(){if(this.indeterminate){this.ariaChecked="mixed";return}if(this.checked){this.ariaChecked="true";return}this.ariaChecked="false";}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-checkbox"]],hostVars:4,hostBindings:function(n,i){n&1&&VE("click",function(s){return i.preventBubblingFromLabel(s)}),n&2&&dE("small",i.small)("disabled",i.disabled);},inputs:{checked:"checked",indeterminate:"indeterminate",label:"label",name:"name",small:"small",invalid:"invalid",helperText:"helperText",disabled:"disabled"},outputs:{stateChange:"stateChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),tR],decls:10,vars:22,consts:[["input",""],["data-testid","checkboxWrapper",1,"control",3,"keypress"],[1,"checkbox-container"],["role","checkbox","type","checkbox","data-testid","checkboxInput",1,"checkbox-input",3,"click","blur","disabled","checked","indeterminate"],[1,"checkbox-checkbox"],[1,"icon-container"],["data-testid","checkIcon",1,"material-icons"],["data-testid","removeIcon",1,"material-icons"],[1,"label"],[1,"helper-text"],[1,"material-icons-outlined","helper-icon"]],template:function(n,i){if(n&1){let r=XR();Kf$2(0,"label",1),VE("keypress",function(p){nR(r);let O=dP(3);return rR(i.onKeypress(p,O))}),Kf$2(1,"div",2)(2,"input",3,0),VE("click",function(){return nR(r),rR(i.onClick())})("blur",function(){return nR(r),rR(i.onBlur())}),Xf$2(),Kf$2(4,"div",4)(5,"div",5),kI(6,tf$1,2,0,"i",6)(7,nf$1,2,0,"i",7),Xf$2()(),kI(8,of$1,2,1,"p",8),Xf$2(),kI(9,sf$1,4,4,"p"),Xf$2();}n&2&&(GI("aria-checked",i.ariaChecked)("aria-disabled",i.disabled)("tabindex",i.disabled?-1:0),xR(2),lE("disabled",i.disabled)("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled),GI("name",i.name||undefined),xR(2),dE("small",i.small)("invalid",i.invalid)("active",i.checked||i.indeterminate)("has-label",!!i.label),xR(),dE("visible",i.checked||i.indeterminate),xR(),QR(i.indeterminate?-1:6),xR(),QR(i.indeterminate?7:-1),xR(),QR(i.label?8:-1),xR(),QR(i.helperText?9:-1));},dependencies:[Tn$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{--checkbox-size: 24px;--label-font-size: 1rem;--label-line-height: 1.5rem;display:inline-flex}.small[_nghost-%COMP%]{--checkbox-size: 16px;--label-font-size: .875rem;--label-line-height: 1.25rem}.disabled[_nghost-%COMP%]   .control[_ngcontent-%COMP%]{cursor:not-allowed}.disabled[_nghost-%COMP%]   .checkbox-checkbox[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .checkbox-checkbox.invalid[_ngcontent-%COMP%]{background-color:#f5f5f0;border-color:#e0e0d7}.disabled[_nghost-%COMP%]   .checkbox-checkbox.active[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .checkbox-checkbox.invalid.active[_ngcontent-%COMP%]{background-color:#a8a794}.disabled[_nghost-%COMP%]   .checkbox-checkbox.invalid[_ngcontent-%COMP%]{border-width:1px}.disabled[_nghost-%COMP%]   .label[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .helper-text[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .helper-icon[_ngcontent-%COMP%]{color:#a8a794}.control[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer;-webkit-user-select:none;user-select:none}.control[_ngcontent-%COMP%]:focus-visible{outline:none}.control[_ngcontent-%COMP%]:focus-visible   .checkbox-checkbox[_ngcontent-%COMP%]{outline:2px solid #0096cc;outline-offset:.125rem}.checkbox-container[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline;column-gap:.5rem}.label[_ngcontent-%COMP%]{color:#2f2e0c;font-size:var(--label-font-size);line-height:var(--label-line-height)}.checkbox-input[_ngcontent-%COMP%]{display:none;outline:none}.checkbox-checkbox[_ngcontent-%COMP%]{display:flex;width:var(--checkbox-size);height:var(--checkbox-size);border:1px solid #64634a;border-radius:4px;background-color:#f5f5f0;transition:background .15s ease;font-size:1.25rem}.checkbox-checkbox[_ngcontent-%COMP%]:before{content:"\\a0";display:inline-flex;height:100%;font-size:var(--label-font-size);align-items:center;width:0px;visibility:hidden}.checkbox-checkbox.invalid[_ngcontent-%COMP%], .checkbox-checkbox.invalid.active[_ngcontent-%COMP%], .checkbox-checkbox.invalid[_ngcontent-%COMP%]:hover{border:2px solid #d12c2c}.checkbox-checkbox[_ngcontent-%COMP%]:hover{background-color:#e0e0d7;border-color:#434228}.checkbox-checkbox.active[_ngcontent-%COMP%]{background-color:#64634a;border:none}.checkbox-checkbox.active[_ngcontent-%COMP%]:hover{background-color:#434228}.icon-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;visibility:hidden}.icon-container.visible[_ngcontent-%COMP%]{visibility:visible}.material-icons[_ngcontent-%COMP%]{color:#f5f5f0;font-size:var(--checkbox-size);max-height:var(--checkbox-size)}.helper-text[_ngcontent-%COMP%]{color:#64634a;display:flex;align-items:baseline;grid-column-gap:.5rem;margin-top:.25rem}.helper-text.invalid[_ngcontent-%COMP%]{color:#d12c2c}.helper-icon[_ngcontent-%COMP%]{display:flex;flex:0 0 1rem;color:inherit;font-size:1rem;max-height:1rem}.helper-icon[_ngcontent-%COMP%]:before{content:"\\a0";display:inline-flex;height:100%;font-size:.875rem;font-family:Ambit,sans-serif;align-items:center;width:0px;visibility:hidden}'],changeDetection:0});}}return t})(),ml$1=(()=>{class t{constructor(){this.small=false,this.invalid=false,this.disabled=false,this.checked=false,this.stateChanged=new Xe$5;}ngOnChanges(e){e.option&&(0, Z$9.assert)(!!this.option,"Option should be defined in RadioComponent");}change(e){this.selectedOption=e&&w$9(w$9({},this.selectedOption),e),this.stateChanged.emit(this.selectedOption);}onClick(e){this.disabled&&(e.stopPropagation(),e.preventDefault());}onKeypress(e,n){this.disabled||e.key===" "&&(e.preventDefault(),n.click());}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-radio"]],hostVars:3,hostBindings:function(n,i){n&2&&(GI("aria-disabled",i.disabled),dE("disabled",i.disabled));},inputs:{option:"option",label:"label",small:"small",invalid:"invalid",helperText:"helperText",disabled:"disabled",checked:"checked"},outputs:{stateChanged:"stateChanged"},features:[tR],ngContentSelectors:oe$6,decls:8,vars:15,consts:[["input",""],["data-testid","label",1,"control",3,"keypress","click"],[1,"radio-container"],["data-testid","radioInput","role","radio","type","radio",1,"radio-input",3,"change","checked","value","disabled"],[1,"radio-radio"],[1,"label",3,"small"],[1,"label"],[1,"helper-text"],[1,"material-icons-outlined","helper-icon"]],template:function(n,i){if(n&1){let r=XR();nP(),Kf$2(0,"label",1),VE("keypress",function(p){nR(r);let O=dP(3);return rR(i.onKeypress(p,O))})("click",function(p){return nR(r),rR(i.onClick(p))}),Kf$2(1,"div",2)(2,"input",3,0),VE("change",function(){return nR(r),rR(i.change(i.option))}),Xf$2(),ME(4,"div",4),kI(5,af$1,2,3,"p",5),rP(6),Xf$2(),kI(7,cf,4,4,"p"),Xf$2();}n&2&&(GI("for",i.option==null?null:i.option.id)("aria-checked",i.checked)("aria-disabled",i.disabled)("tabindex",i.disabled?-1:0),xR(2),lE("checked",i.checked)("value",i.option==null?null:i.option.value)("disabled",i.disabled),GI("id",i.option==null?null:i.option.id)("name",i.option==null?null:i.option.name),xR(2),dE("small",i.small)("invalid",i.invalid),xR(),QR(i.label?5:-1),xR(2),QR(i.helperText?7:-1));},dependencies:[Tn$4],styles:['@charset "UTF-8";.disabled[_nghost-%COMP%]   .control[_ngcontent-%COMP%]{cursor:not-allowed}.disabled[_nghost-%COMP%]   .helper-text[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{color:#a8a794}.control[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;cursor:pointer;-webkit-user-select:none;user-select:none}.control[_ngcontent-%COMP%]:focus-visible{outline:none}.control[_ngcontent-%COMP%]:focus-visible   .radio-radio[_ngcontent-%COMP%]{outline:2px solid #0096cc;outline-offset:.125rem}.radio-container[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline;column-gap:.5rem}.label[_ngcontent-%COMP%]{color:#2f2e0c;font-size:1rem;line-height:1.5rem}.label.small[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.radio-input[_ngcontent-%COMP%]{display:none}.radio-radio[_ngcontent-%COMP%]{display:flex;width:24px;height:24px;border:1px solid #64634a;background-color:#f5f5f0;flex:none;border-radius:50%;transition:border .15s ease;position:relative}.radio-radio.small[_ngcontent-%COMP%]{width:16px;height:16px}.radio-radio.invalid[_ngcontent-%COMP%]:after{content:"";border:2px solid #ad2525;display:block;height:inherit;width:inherit;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%}.radio-radio[_ngcontent-%COMP%]:hover{background-color:#e0e0d7;border-color:#434228}.radio-radio[_ngcontent-%COMP%]:before{content:"\\a0";display:inline-flex;height:100%;font-size:.875rem;font-family:Ambit,sans-serif;align-items:center;width:0px;visibility:hidden}.radio-input[_ngcontent-%COMP%]:checked + .radio-radio[_ngcontent-%COMP%]{border-width:6px}.radio-input[_ngcontent-%COMP%]:checked + .radio-radio.small[_ngcontent-%COMP%]{border-width:4px}.radio-input[_ngcontent-%COMP%]:disabled:checked + .radio-radio[_ngcontent-%COMP%], .radio-input[_ngcontent-%COMP%]:disabled:not(:checked) + .radio-radio[_ngcontent-%COMP%]{background-color:#f5f5f0;border-color:#e0e0d7}.radio-input[_ngcontent-%COMP%]:disabled:checked + .radio-radio[_ngcontent-%COMP%]:after, .radio-input[_ngcontent-%COMP%]:disabled:not(:checked) + .radio-radio[_ngcontent-%COMP%]:after{content:none}.helper-text[_ngcontent-%COMP%]{display:flex;align-items:baseline;grid-column-gap:.5rem;margin-top:.25rem;color:#64634a}.helper-text.invalid[_ngcontent-%COMP%]{color:#d12c2c}.helper-icon[_ngcontent-%COMP%]{font-size:1rem;max-height:1rem;display:flex;flex:none;color:inherit}.helper-icon[_ngcontent-%COMP%]:before{content:"\\a0";display:inline-flex;height:100%;font-size:.875rem;font-family:Ambit,sans-serif;align-items:center;width:0px;visibility:hidden}'],changeDetection:0});}}return t})(),Jr$3=class Jr{},mo$4=function(t){return t.Icon="icon",t.Checkbox="checkbox",t.Radio="radio",t}(mo$4||{}),fl$1=(()=>{class t{constructor(){this.destroy$=new Z$a,this.disabledChange=new yn$7(false),this.disabled$=this.disabledChange.pipe(Dr$5()),this.hrefChange=new yn$7(undefined),this.href$=this.hrefChange.pipe(Dr$5()),this.targetChange=new yn$7(undefined),this.target$=this.targetChange.pipe(Dr$5()),this.multipleChange=new yn$7(false),this.multiple$=this.multipleChange.pipe(Dr$5()),this.selectedChange=new yn$7(false),this.selected$=this.selectedChange.pipe(Dr$5()),this.checked$=Hp$2([this.selected$,this.disabled$]).pipe(ie$b(([e,n])=>e&&!n)),this.highlightedChange=new yn$7(false),this.highlighted$=this.highlightedChange.pipe(Dr$5()),this.markSelectedChange=new yn$7(false),this.markSelected$=this.markSelectedChange.pipe(Dr$5()),this.asAccordionDropdownOptionChange=new yn$7(false),this.asAccordionDropdownOption$=this.asAccordionDropdownOptionChange.pipe(Dr$5()),this.showRadioButton$=Hp$2([this.asAccordionDropdownOption$,this.multiple$]).pipe(ie$b(([e,n])=>e&&!n),Dr$5()),this.indicatorType=mo$4,this.indicatorType$=Hp$2([this.multiple$,this.showRadioButton$,this.markSelected$]).pipe(ie$b(([e,n,i])=>{if(e)return mo$4.Checkbox;if(i)return n?mo$4.Radio:mo$4.Icon}),Dr$5()),this.cssClass=undefined,this.cssClass$=Hp$2([this.asAccordionDropdownOption$,this.disabled$,this.selected$,this.highlighted$]).pipe(ie$b(([e,n,i,r])=>{let s=[];return e&&s.push("as-accordion-dropdown-option"),n?(s.push("disabled"),s.join(" ")):(i&&s.push("selected"),r&&s.push("highlighted"),s.length===0?undefined:s.join(" "))})),this.tabindex=0,this.role="option",this.ariaSelected=false,this.ariaSelected$=Hp$2([this.selected$,this.disabled$]).pipe(ie$b(([e,n])=>n?undefined:e));}set disabled(e){this.disabledChange.next(e);}set href(e){this.hrefChange.next(e);}set target(e){this.targetChange.next(e);}set multiple(e){this.multipleChange.next(e);}set selected(e){this.selectedChange.next(e);}set highlighted(e){this.highlightedChange.next(e);}set markSelected(e){this.markSelectedChange.next(e);}set asAccordionDropdownOption(e){this.asAccordionDropdownOptionChange.next(e);}ngOnInit(){this.cssClass$.pipe(Oc$2(this.destroy$)).subscribe(e=>{this.cssClass=e;}),this.disabled$.pipe(Oc$2(this.destroy$)).subscribe(e=>{this.tabindex=e?-1:0;}),this.ariaSelected$.pipe(Oc$2(this.destroy$)).subscribe(e=>{this.ariaSelected=e;});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.hrefChange.complete(),this.targetChange.complete(),this.multipleChange.complete(),this.selectedChange.complete(),this.highlightedChange.complete(),this.markSelectedChange.complete(),this.disabledChange.complete(),this.asAccordionDropdownOptionChange.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-option"]],hostVars:5,hostBindings:function(n,i){n&2&&(GI("tabindex",i.tabindex)("role",i.role)("aria-selected",i.ariaSelected),WR(i.cssClass));},inputs:{disabled:"disabled",href:"href",target:"target",multiple:"multiple",selected:"selected",highlighted:"highlighted",markSelected:"markSelected",asAccordionDropdownOption:"asAccordionDropdownOption"},features:[gP([{provide:Jr$3,useExisting:t}])],ngContentSelectors:pf$1,decls:5,vars:3,consts:[["content",""],["tabindex","-1","data-testid","link",1,"content-wrapper"],["data-testid","wrapper",1,"content-wrapper"],[4,"ngTemplateOutlet"],["data-testId","indicator",1,"indicator"],["data-testid","icon",1,"option-icon","left","custom-content"],["data-testid","image",1,"option-image","left","custom-content"],["data-testid","mainContent"],["data-testid","secondaryName",1,"secondary-name","custom-content"],["data-testid","checkbox",1,"checkbox","custom-content",3,"checked","disabled"],["data-testid","radio",1,"radio","custom-content",3,"checked","disabled"],[1,"material-icons","check"]],template:function(n,i){n&1&&(nP(df$1),kI(0,hf$1,4,7,"a",1),TP(1,"async"),kI(2,mf$1,2,1,"div",2)(3,vf$1,10,3,"ng-template",null,0,OP)),n&2&&QR(_P(1,1,i.href$)?0:2);},dependencies:[$d$2,Ti$7,ml$1,Tn$4,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;cursor:pointer;transition:background-color .15s ease;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:not(:first-child){margin-top:.5rem}[_nghost-%COMP%]:hover   .content-wrapper[_ngcontent-%COMP%]{background-color:#f5f5f0}.highlighted[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{background-color:#e0e0d7}.disabled[_nghost-%COMP%]{pointer-events:none}.disabled[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{color:#a8a794}.as-accordion-dropdown-option[_nghost-%COMP%]{margin:0}.as-accordion-dropdown-option[_nghost-%COMP%]:not(:first-child){margin-top:1rem}.as-accordion-dropdown-option[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:0}.as-accordion-dropdown-option[_nghost-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:0}.content-wrapper[_ngcontent-%COMP%]{display:flex;padding:.5rem;text-align:left;border-radius:4px;color:#2f2e0c;text-decoration:none;font-size:1rem;line-height:1.5rem}@media (min-width: 600px){.content-wrapper[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.custom-content[_ngcontent-%COMP%]{display:flex}.custom-content[_ngcontent-%COMP%]:empty{display:none}.indicator[_ngcontent-%COMP%]{display:flex;min-width:24px;margin-left:-.25rem;margin-right:.5rem}.left[_ngcontent-%COMP%]{margin-right:.5rem}.left.option-icon[_ngcontent-%COMP%]{min-width:24px;width:24px;height:24px}.left.option-image[_ngcontent-%COMP%]{min-width:2rem;width:2rem;height:2rem}.left.option-image[_ngcontent-%COMP%]  [option-image]{max-width:100%;max-height:100%}.secondary-name[_ngcontent-%COMP%]  [option-secondary-name]{font-weight:400;color:#64634a;font-size:.875rem;line-height:1.25rem}@media (min-width: 600px){.secondary-name[_ngcontent-%COMP%]  [option-secondary-name]{font-size:.875rem;line-height:1.25rem}}.checkbox[_ngcontent-%COMP%], .radio[_ngcontent-%COMP%]{pointer-events:none}.check[_ngcontent-%COMP%]{color:#2f2e0c}'],changeDetection:0});}}return t})(),el$1=class el{},_l$1=(()=>{class t extends ps$2{set pfyDropdownListItem(e){e&&(super.pfyDropdownListItem=e,this.updateOptionValues());}constructor(e,n){super(),this.dropdownOptionComponent=e,this.dropdownListComponent=n,this.destroy$=new Z$a;}ngOnInit(){$p$1(this.dropdownListComponent.selectedItem$.pipe(Ye$b(()=>!this.dropdownListComponent.multiple)),this.dropdownListComponent.selectedItems$.pipe(Ye$b(()=>this.dropdownListComponent.multiple))).pipe(Oc$2(this.destroy$)).subscribe(this.updateOptionSelected.bind(this));}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}updateOptionValues(){let e=this.dropdownOptionComponent;e.multiple=this.dropdownListComponent.multiple;let n=this.listItem;e.disabled=!!n.disabled,e.href=n.href,e.target=n.target,e.asAccordionDropdownOption=this.dropdownListComponent.asAccordionDropdownList,e.markSelected=this.dropdownListComponent.markSelected;}updateOptionSelected(){let e=this.dropdownOptionComponent,n=this.dropdownListComponent.isItemSelected(this.listItem);e.selected=n,e.highlighted=this.dropdownListComponent.highlightSelected&&n;}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Jr$3),Yo$4(Zr$3))};}static{this.\u0275dir=VR({type:t,selectors:[["pfy-dropdown-option","pfyDropdownListItem",""]],inputs:{pfyDropdownListItem:"pfyDropdownListItem"},features:[gP([{provide:el$1,useExisting:t}]),bI]});}}return t})(),Ow=3,So$3=(()=>{class t{set selectedItem(e){this.selectedItemChange$.next(e);}get selectedItem(){return this.selectedItemChange$.getValue()}set selectedItems(e){this.selectedItemsChange$.next(new Set(e));}get selectedItems(){return this.selectedItemsChange$.getValue()}constructor(e){this.changeDetector=e,this.usedInOverlay=false,this.highlightSelected=false,this.markSelected=false,this.multiple=false,this.visible=true,this.fullWidth=false,this.asOverlayOnMobile=true,this.automaticDirection=false,this.asAccordionDropdownList=false,this.selectedItemChange$=new yn$7(undefined),this.selectedItem$=this.selectedItemChange$.asObservable(),this.selectedItemsChange$=new yn$7(new Set),this.selectedItems$=this.selectedItemsChange$.asObservable(),this.containerToUseForPositioning=document.documentElement,this.selectItem=new Xe$5,this.selectedItemsChange=new Xe$5,this.overlayClick=new Xe$5,this.cssClass="",this.role="listbox",this.destroy$=new Z$a,this.firstChanges=true;}ngOnChanges(e){if(this.firstChanges){this.setDropdownHeight(),this.setCssClass(),this.onVisibilityChange(),this.firstChanges=false;return}e.asAccordionDropdownList&&this.setDropdownHeight(),(e.asAccordionDropdownList||e.usedInOverlay||e.fullWidth)&&this.setCssClass(),e.visible&&this.onVisibilityChange();}ngAfterContentInit(){(0, Z$9.assert)(!!this.contentListItemDirectives,"Content should initialize contentListItemDirectives"),this.handleListItemDirectiveClicked(this.contentListItemDirectives);}ngAfterViewInit(){(0, Z$9.assert)(!!this.listRef,"DropdownListComponent should have list element"),(0, Z$9.assert)(!!this.viewListItemDirectives,"View should initialize viewListItemDirectives"),this.handleListItemDirectiveClicked(this.viewListItemDirectives);}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}onOverlayClick(e){(!e||e.target?.classList.contains("items-wrap"))&&this.overlayClick.emit();}isItemSelected(e){return this.multiple?this.selectedItems.has(e):this.selectedItem?.value===e.value}setDropdownHeight(){this.maxHeight=this.asAccordionDropdownList?undefined:`${Math.round(window.innerHeight/Ow)}px`;}setCssClass(e=Gr$4.Down,n=Qr$3.Right){let i=[];!this.asAccordionDropdownList&&!this.usedInOverlay&&i.push(e,n),(this.asAccordionDropdownList||this.fullWidth)&&i.push("full-width"),this.cssClass=i.join(" ");}onVisibilityChange(){!this.automaticDirection||this.asAccordionDropdownList||this.usedInOverlay||(this.visible?this.onShow():this.onHide());}onShow(){return E$e(this,null,function*(){this.hostOverflow="hidden";let e=this.listRef.nativeElement.parentElement;if(!e)return;e.style.left="",e.style.right="",yield new Promise(j=>setTimeout(j));let{bottom:n,right:i}=this.listRef.nativeElement.getBoundingClientRect(),r=this.containerToUseForPositioning.clientHeight,s=this.containerToUseForPositioning.clientWidth,p=n<=r,O=i<=s,D=p?Gr$4.Down:Gr$4.Up,V=O?Qr$3.Right:Qr$3.Left;this.setCssClass(D,V),t.repositionList(e,O,i,s),this.hostOverflow=undefined,this.changeDetector.markForCheck();})}onHide(){this.setCssClass();}static repositionList(e,n,i,r){if(n)return;let s=8;e.style.left=`-${i-r+s}px`,e.style.right="auto";}handleListItemDirectiveClicked(e){e.changes.pipe(Sc$2(e),Ac$3(n=>n.toArray()),ve$9(n=>n.selected.pipe(Ei$9(n.listItem),Oc$2(e.changes))),Oc$2(this.destroy$)).subscribe(n=>this.onItemSelect(n));}onItemSelect(e){if(!e?.disabled){if(this.multiple){(0, Z$9.assert)(!!e,"Selecting in multiple mode requires an item");let n=this.selectedItems;n.has(e)?n.delete(e):n.add(e),this.selectedItemsChange$.next(n),this.selectedItemsChange.emit(new Set(n));}else this.selectedItemChange$.next(e);this.selectItem.emit(e);}}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-list"]],contentQueries:function(n,i,r){if(n&1&&oP(r,wo$3,4),n&2){let s;sP(s=aP())&&(i.contentListItemDirectives=s);}},viewQuery:function(n,i){if(n&1&&(iP(ki$5,7),iP(wo$3,5)),n&2){let r;sP(r=aP())&&(i.listRef=r.first),sP(r=aP())&&(i.viewListItemDirectives=r);}},hostVars:6,hostBindings:function(n,i){n&2&&(GI("aria-multiselectable",i.multiple)("role",i.role),WR(i.cssClass),uE("overflow",i.hostOverflow));},inputs:{usedInOverlay:"usedInOverlay",listItems:"listItems",highlightSelected:"highlightSelected",markSelected:"markSelected",multiple:"multiple",visible:"visible",fullWidth:"fullWidth",asOverlayOnMobile:"asOverlayOnMobile",automaticDirection:"automaticDirection",asAccordionDropdownList:"asAccordionDropdownList",selectedItem:"selectedItem",selectedItems:"selectedItems",containerToUseForPositioning:"containerToUseForPositioning"},outputs:{selectItem:"selectItem",selectedItemsChange:"selectedItemsChange",overlayClick:"overlayClick"},features:[gP([{provide:Zr$3,useExisting:t}]),tR],ngContentSelectors:oe$6,decls:7,vars:10,consts:[["list",""],["data-testid","dropdownList",1,"dropdown-list",3,"hidden"],[1,"overlay",3,"click"],["data-testid","itemsWrap",1,"items-wrap",3,"click"],["tabindex","0","data-testid","dropdownListItems",1,"items"],[3,"pfyDropdownListItem"],["option-secondary-name",""]],template:function(n,i){if(n&1){let r=XR();nP(),Kf$2(0,"div",1)(1,"div",2),VE("click",function(){return nR(r),rR(i.onOverlayClick())}),Xf$2(),Kf$2(2,"div",3),VE("click",function(p){return nR(r),rR(i.onOverlayClick(p))}),Kf$2(3,"div",4,0),kI(5,Mf$1,2,0)(6,Pf$1,1,0),Xf$2()()();}n&2&&(dE("as-accordion-dropdown-list",i.asAccordionDropdownList)("used-in-overlay",i.usedInOverlay)("as-overlay-on-mobile",i.asOverlayOnMobile&&!i.asAccordionDropdownList),lE("hidden",!i.visible),xR(3),uE("max-height",i.maxHeight),xR(2),QR(i.listItems?5:6));},dependencies:[fl$1,_l$1,ps$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.full-width[_nghost-%COMP%]{width:100%;max-width:100%}.dropdown-list[_ngcontent-%COMP%]{position:relative;z-index:30}.dropdown-list.as-accordion-dropdown-list[_ngcontent-%COMP%]{z-index:auto}.items-wrap[_ngcontent-%COMP%]{position:absolute;max-width:272px}.as-accordion-dropdown-list[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%], .used-in-overlay[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]{position:relative}.full-width[_nghost-%COMP%]   .items-wrap[_ngcontent-%COMP%]{width:100%;max-width:100%}.up[_nghost-%COMP%]   .items-wrap[_ngcontent-%COMP%]{bottom:0;margin-bottom:.25rem}.down[_nghost-%COMP%]   .items-wrap[_ngcontent-%COMP%]{top:0;margin-top:.25rem}.left[_nghost-%COMP%]   .items-wrap[_ngcontent-%COMP%]{right:0}.right[_nghost-%COMP%]   .items-wrap[_ngcontent-%COMP%]{left:0}.items[_ngcontent-%COMP%]{padding:.5rem;background:#fff;border:#e0e0d7 solid 1px;border-radius:4px;overflow-x:hidden;outline:none}.as-accordion-dropdown-list[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{padding:initial;background:initial;border:initial;box-shadow:initial;border-radius:initial;overflow-x:initial}.overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 839px){.as-overlay-on-mobile[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:fixed;display:block;inset:0;background:#00000080}.as-overlay-on-mobile[_ngcontent-%COMP%]   .items-wrap[_ngcontent-%COMP%]{position:fixed;inset:0;margin:0 auto;max-width:568px}.as-overlay-on-mobile[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;border-radius:4px 4px 0 0;box-shadow:none}}']});}}return t})(),mt$6=function(t){return t.Normal="normal",t.Compact="compact",t.TextField="text-field",t.UltraCompact="ultra-compact",t}(mt$6||{});var ja$2=1;function Mw(){return ja$2===Number.MAX_SAFE_INTEGER&&(ja$2=1),ja$2++}var To$1=(()=>{class t{get value(){return this.inputValue.getValue()}set value(e){this.inputValue.next(e);}constructor(e){this.changeDetector=e,this.inputAppearance=mt$6,this.document=N$8(L$8),this.destroyRef=N$8(mn$6),this.elementRef=N$8(Uo$5),this.id=`pfy-input-${Mw()}`,this.appearance=mt$6.Normal,this.disabled=false,this.readOnly=false,this.invalid=false,this.iconFocusable=true,this.iconOnTheLeft=false,this.required=false,this.autocomplete="off",this.isSearch=false,this.step=1,this.autofocus=false,this.onblur=new Xe$5,this.onfocus=new Xe$5,this.iconClick=new Xe$5,this.type="text",this.iconClickable=false,this.inputAreaContentCount=0,this.onTouchedFn=()=>{},this.controlValueAccessorChangeFn=()=>{};}ngOnInit(){this.iconClickable=!!this.iconKey&&this.iconClick.observers.length>0;}ngAfterViewInit(){this.autofocus&&this.focus(),this.onInputAreaContentChange();}ngOnDestroy(){this.inputValue.complete();}writeValue(e){this.changeDetector.markForCheck();}registerOnChange(e){this.controlValueAccessorChangeFn=e;}registerOnTouched(e){this.onTouchedFn=e;}setDisabledState(e){this.disabled=e,this.changeDetector.markForCheck();}focus(){this.inputRef?.nativeElement.focus();}blur(){this.inputRef?.nativeElement.blur();}onInputBlur(e){this.onTouchedFn(),this.onblur.emit(e);}onInputFocus(e){this.onfocus.emit(e);}onIconClick(e){this.iconClick.emit(e);}onIconMouseDown(e){this.iconFocusable||e.preventDefault();}onInputAreaContentChange(){let e=this.inputAreaContentRef?.nativeElement.childElementCount??0;e!==this.inputAreaContentCount&&(this.inputAreaContentCount=e,this.changeDetector.detectChanges());}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275dir=VR({type:t,viewQuery:function(n,i){if(n&1&&(iP(Si$3,5),iP(kf$1,7),iP(Sf$1,7)),n&2){let r;sP(r=aP())&&(i.inputRef=r.first),sP(r=aP())&&(i.inputAreaRef=r.first),sP(r=aP())&&(i.inputAreaContentRef=r.first);}},inputs:{value:"value",label:"label",placeholder:"placeholder",helperText:"helperText",name:"name",id:"id",appearance:"appearance",disabled:"disabled",readOnly:"readOnly",invalid:"invalid",iconFocusable:"iconFocusable",iconKey:"iconKey",iconOnTheLeft:"iconOnTheLeft",required:"required",autocomplete:"autocomplete",isSearch:"isSearch",step:"step",autofocus:"autofocus",min:"min",max:"max",maxLength:"maxLength"},outputs:{onblur:"onblur",onfocus:"onfocus",iconClick:"iconClick"}});}}return t})(),In$5=(()=>{class t extends To$1{constructor(e){super(e),this.placeholderAsLabel=false,this.tabIndex=0,this.inputValue=new yn$7(""),this.hasValue$=this.inputValue.pipe(ie$b(n=>!!n?.toString().length),Dr$5());}onChange(e){this.controlValueAccessorChangeFn(e);}writeValue(e){this.value=e,this.inputRef&&(this.inputRef.nativeElement.value=e),super.writeValue(e);}reset(){if(!this.inputRef)return;let e=new Event("input",{bubbles:true});this.inputRef.nativeElement.value="",this.inputRef.nativeElement.dispatchEvent(e);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input"]],hostVars:1,hostBindings:function(n,i){n&1&&VE("focus",function(){return i.focus()}),n&2&&GI("tabindex",i.disabled?-1:i.tabIndex);},inputs:{placeholderAsLabel:"placeholderAsLabel",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:jP(e)]},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),BR,bI],ngContentSelectors:ul$1,decls:14,vars:17,consts:[["inputArea",""],["inputAreaContent",""],["input",""],["data-testId","container",1,"pfy-input"],[1,"label",3,"required"],["data-testId","input-area",1,"input-area",3,"ngClass"],["data-testId","search-icon","name","search",1,"search-icon","input-icon"],[1,"input",3,"has-icon","has-value","icon-on-the-left","placeholder-as-label","disabled","readonly","autocomplete","type","step","ngModel"],["data-testid","input-area-content-wrapper",1,"input-area-content",3,"cdkObserveContent"],["data-testId","icon","type","button",1,"input-icon-button",3,"value","disabled"],["type","button","data-testId","icon",1,"input-icon-button",3,"disabled"],[1,"border"],["data-testId","helper-text",1,"helper"],[1,"label"],[1,"input",3,"ngModelChange","input","blur","focus","disabled","readonly","autocomplete","type","step","ngModel"],["data-testId","icon","type","button",1,"input-icon-button",3,"click","mousedown","value","disabled"],[1,"input-icon",3,"name","colorInherit"],["type","button","data-testId","icon",1,"input-icon-button",3,"click","disabled"],["name","close",1,"input-icon",3,"colorInherit"],["data-testId","helper-icon",1,"icon",3,"name","colorInherit"]],template:function(n,i){if(n&1){let r=XR();nP(pl$1),Kf$2(0,"div",3),kI(1,Tf$1,2,4,"label",4),Kf$2(2,"div",5,0),kI(4,If$1,1,0,"pfy-icon",6)(5,Df$1,3,22,"input",7),Kf$2(6,"div",8,1),VE("cdkObserveContent",function(){return nR(r),rR(i.onInputAreaContentChange())}),rP(8),Xf$2(),kI(9,Ef$1,2,5,"button",9)(10,Vf$1,2,2,"button",10),TP(11,"async"),ME(12,"div",11),Xf$2(),kI(13,Af$1,3,3,"small",12),Xf$2();}n&2&&(dE("disabled",i.disabled)("invalid",i.invalid)("search",i.isSearch),xR(),QR(i.label?1:-1),xR(),lE("ngClass",i.appearance),xR(2),QR(i.isSearch?4:-1),xR(),QR(i.inputAreaContentCount===0?5:-1),xR(),dE("disabled",i.disabled),xR(3),QR(!i.isSearch&&i.iconKey?9:-1),xR(),QR(i.isSearch&&_P(11,15,i.hasValue$)?10:-1),xR(3),QR(i.helperText?13:-1));},dependencies:[Ld$1,ge$9,Tt$4,wn$5,Vt$6,jt$3,Er$4,zd$1],styles:['@charset "UTF-8";.input-area[_ngcontent-%COMP%]{--input-height: 48px;position:relative;contain:content;border-radius:4px}.input-area[_ngcontent-%COMP%]:hover ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:hover > .border[_ngcontent-%COMP%]{border-color:#a8a794}.input-area[_ngcontent-%COMP%]:focus-visible{outline:none}.input-area[_ngcontent-%COMP%]:focus-within ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-within > .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input-area[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.input-area.text-field[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:transparent}.input-area.disabled[_ngcontent-%COMP%]{pointer-events:none;background-color:#f5f5f0}.input-area.disabled[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input-area.disabled[_ngcontent-%COMP%]   .input-icon-button[_ngcontent-%COMP%]{color:#a8a794}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f0;cursor:not-allowed}.input-area.normal[_ngcontent-%COMP%]{--input-height: 48px}.input-area.compact[_ngcontent-%COMP%]{--input-height: 40px}.input-area.text-field[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]{--input-height: 32px}.input-area.text-field[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.input-area[_ngcontent-%COMP%]   .input-area-content[_ngcontent-%COMP%]:empty{display:none}.input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:var(--input-height);border:none;outline:none;color:#2f2e0c;background-color:#fff;border-radius:inherit;transition:color .15s ease;font-size:1rem;line-height:1.5rem;padding:0 .75rem}.input[_ngcontent-%COMP%]:-webkit-autofill, .input[_ngcontent-%COMP%]:-webkit-autofill:hover, .input[_ngcontent-%COMP%]:-webkit-autofill:focus-visible, .input[_ngcontent-%COMP%]:-webkit-autofill:active{background-color:#fff!important;box-shadow:0 0 0 1000px #fff inset!important}.input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input[_ngcontent-%COMP%]::-moz-placeholder{opacity:1}.input.placeholder-as-label[_ngcontent-%COMP%]::placeholder{color:#2f2e0c}.text-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:transparent}.input[_ngcontent-%COMP%]:not(:read-only):hover ~ .border[_ngcontent-%COMP%]{border-color:#a8a794}.input[_ngcontent-%COMP%]:not(:read-only):focus-visible ~ .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;appearance:textfield}.input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:48px}.compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:32px}.input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:48px}.compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left), .ultra-compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:32px}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%] ~ .input-icon-button[_ngcontent-%COMP%]{left:0;right:initial}.helper[_ngcontent-%COMP%]{margin-top:.25rem;color:#64634a;transition:color .15s ease;display:flex;gap:.5rem}.helper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:1.25rem}.label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem;color:#2f2e0c;display:flex;gap:.125rem}.label.required[_ngcontent-%COMP%]:after{content:"*"}.input-icon-button[_ngcontent-%COMP%]{appearance:none;background:transparent;border:none;padding:0;position:absolute;top:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;color:#2f2e0c;width:48px}.compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:32px}.input-icon-button[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}.input-icon-button[_ngcontent-%COMP%]:disabled{pointer-events:none}.search[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{border-radius:4px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-indent:0;background-color:#f5f5f0;padding:0 48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 32px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#64634a}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown{padding-right:1px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:not(:read-only):hover{background-color:#e0e0d7}.search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);color:#2f2e0c;text-align:center;pointer-events:none;width:48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:32px}.search[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}.search.disabled[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#a8a794}.invalid[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%] > .border[_ngcontent-%COMP%]{border-color:#d12c2c;border-width:2px}.invalid[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{color:#d12c2c}'],changeDetection:0});}}return t})(),Pw=(()=>{class t{set selectedItem(e){this.value!==e&&(this.value=e);}get selectedItem(){return this.value}constructor(e,n){this.changeDetector=e,this.elementRef=n,this.listItems=[],this.dropdownAsOverlayOnMobile=true,this.disabled=false,this.required=false,this.invalid=false,this.selectedItemChange=new Xe$5,this.query="",this.filteredListItems=[],this.highlightedItem=null,this.showDropdownList=false,this.value=null,this.onTouchedFn=()=>{},this.controlValueAccessorChangeFn=()=>{};}ngOnChanges(e){this.selectedItem&&(this.query=this.selectedItem.name,this.highlightedItem=this.selectedItem),e.listItems&&(this.filteredListItems=this.listItems);}ngAfterViewInit(){(0, Z$9.assert)(!!this.input,"AutocompleteComponent should have input element"),(0, Z$9.assert)(!!this.list,"AutocompleteComponent should have list element");}filter(){if(!this.listItems){this.filteredListItems=[];return}let e=this.getFormattedValue();if(!e){this.filteredListItems=this.listItems,this.highlightedItem=null,this.showDropdownList=true;return}let n=this.listItems.filter(s=>t.checkPropByQuery(s.name,e)).sort((s,p)=>t.compareItems(s.name,p.name,e)),i=this.listItems.filter(s=>t.checkPropByQuery(s.secondaryName,e)&&!t.checkPropByQuery(s.name,e)).sort((s,p)=>t.compareItems(s.secondaryName,p.secondaryName,e)),r=n.concat(i);this.filteredListItems=r,this.highlightedItem=r[0]||null,r.length&&(this.showDropdownList=true);}getFormattedValue(){return this.query.trim().toLocaleLowerCase()}static compareItems(e,n,i){let r=e.toLocaleLowerCase().indexOf(i),s=n.toLocaleLowerCase().indexOf(i);return r-s}static checkPropByQuery(e,n){return !!e?.toLocaleLowerCase().includes(n)}validate(){let e=this.getFormattedValue();if(!(this.highlightedItem?.name.toLocaleLowerCase().trim()===e||this.highlightedItem?.secondaryName?.toLocaleLowerCase().trim()===e)){this.selectedItem=null,this.invalid=true;return}!this.selectedItem&&this.highlightedItem&&this.onItemSelect(this.highlightedItem),this.selectedItem?.name.toLocaleLowerCase().trim()!==e&&(this.selectedItem=this.highlightedItem,this.query=this.selectedItem?.name||""),this.invalid=!this.selectedItem;}onItemSelect(e){if(!e?.disabled){if(this.selectedItem=e??null,this.highlightedItem=this.selectedItem,!this.selectedItem){this.invalid=true;return}this.query=this.selectedItem.name,this.onInputBlur(),this.selectedItemChange.emit(this.selectedItem);}}onInputFocus(){this.invalid=false,this.showDropdownList=true;}onInputBlur(e){let n=e?.relatedTarget;if([this.input.inputAreaRef,this.list.listRef].some(r=>r?.nativeElement.contains(n))){(n.tagName==="A"&&!!n.closest(".disabled")||n===this.list?.listRef.nativeElement)&&this.focusInput();return}this.validate(),this.showDropdownList=false,this.filteredListItems=this.listItems,this.controlValueAccessorChangeFn(this.selectedItem),this.onTouchedFn();}onIconClick(e){e.preventDefault(),e.stopPropagation(),this.showDropdownList?(this.showDropdownList=false,this.validate()):(this.showDropdownList=true,this.focusInput());}highlightNext(e,n){if(n.preventDefault(),!this.filteredListItems.length)return;let i=this.highlightedItem?this.filteredListItems.indexOf(this.highlightedItem):-1,r=0;e==="down"?r=this.filteredListItems.length>i+1?i+1:0:r=i-1>=0?i-1:this.filteredListItems.length-1,this.highlightedItem=this.filteredListItems[r],this.scrollToActiveLink();}selectHighlighted(){this.highlightedItem&&!this.highlightedItem.disabled&&(this.onItemSelect(this.highlightedItem),this.blurInput());}blurInput(e){e?.preventDefault(),setTimeout(()=>{this.input.inputRef?.nativeElement.blur();});}focusInput(){this.disabled||setTimeout(()=>{this.input.inputRef?.nativeElement.focus();});}scrollToActiveLink(){setTimeout(()=>{let e=this.getActiveLinkElement(),n=e?.parentNode?.parentNode;e&&n&&t.scrollIntoView(e,n);});}getActiveLinkElement(){return this.list?.listRef?.nativeElement?this.list.listRef.nativeElement.querySelector(".link.active"):null}static scrollIntoView(e,n){let i=window.getComputedStyle(n,null),r=parseInt(i.getPropertyValue("border-top-width"),10),s=parseInt(i.getPropertyValue("border-left-width"),10),p=e.offsetTop-n.offsetTop<n.scrollTop,O=e.offsetLeft-n.offsetLeft<n.scrollLeft,D=e.offsetTop-n.offsetTop+e.clientHeight-r>n.scrollTop+n.clientHeight,V=e.offsetLeft-n.offsetLeft+e.clientWidth-s>n.scrollLeft+n.clientWidth;(p||D||O||V)&&e.scrollIntoView({block:"nearest",inline:"start"});}writeValue(e){this.selectedItem=e,this.highlightedItem=e,this.query=e?.name??"",this.changeDetector.markForCheck();}registerOnChange(e){this.controlValueAccessorChangeFn=e;}registerOnTouched(e){this.onTouchedFn=e;}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1),Yo$4(Uo$5))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-autocomplete"]],viewQuery:function(n,i){if(n&1&&(iP(Si$3,5),iP(ki$5,5)),n&2){let r;sP(r=aP())&&(i.input=r.first),sP(r=aP())&&(i.list=r.first);}},inputs:{name:"name",placeholder:"placeholder",label:"label",helperText:"helperText",listItems:"listItems",dropdownAsOverlayOnMobile:"dropdownAsOverlayOnMobile",disabled:"disabled",required:"required",invalid:"invalid",selectedItem:"selectedItem"},outputs:{selectedItemChange:"selectedItemChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),tR],decls:6,vars:19,consts:[["input",""],["list",""],["autocomplete","never","data-testid","input",1,"input",3,"ngModelChange","input","change","onblur","onfocus","iconClick","keydown.escape","keydown.arrowDown","keydown.arrowUp","keydown.enter","ngModel","disabled","required","helperText","iconFocusable","iconKey","invalid","label","name","placeholder"],["data-testid","list",1,"dropdown-list",3,"selectItem","visible","selectedItem","highlightSelected","fullWidth","asOverlayOnMobile","automaticDirection"],[3,"pfyDropdownListItem"],["option-secondary-name",""],["option-image",""]],template:function(n,i){if(n&1){let r=XR();Kf$2(0,"pfy-input",2,0),XE("ngModelChange",function(p){return nR(r),pP(i.query,p)||(i.query=p),rR(p)}),VE("input",function(){return nR(r),rR(i.filter())})("change",function(){return nR(r),rR(i.filter())})("onblur",function(p){return nR(r),rR(i.onInputBlur(p))})("onfocus",function(){return nR(r),rR(i.onInputFocus())})("iconClick",function(p){return nR(r),rR(i.onIconClick(p))})("keydown.escape",function(p){return nR(r),rR(i.blurInput(p))})("keydown.arrowDown",function(p){return nR(r),rR(i.highlightNext("down",p))})("keydown.arrowUp",function(p){return nR(r),rR(i.highlightNext("up",p))})("keydown.enter",function(){return nR(r),rR(i.selectHighlighted())}),Xf$2(),Kf$2(2,"pfy-dropdown-list",3,1),VE("selectItem",function(p){return nR(r),rR(i.onItemSelect(p))}),JR(4,qf$1,4,4,"pfy-dropdown-option",4,YR),Xf$2();}n&2&&(KE("ngModel",i.query),lE("disabled",i.disabled)("required",i.required)("helperText",i.helperText)("iconFocusable",false)("iconKey",i.showDropdownList?"arrow_drop_up":"arrow_drop_down")("invalid",i.invalid)("label",i.label)("name",i.name)("placeholder",(i.selectedItem==null?null:i.selectedItem.name)||i.placeholder),xR(2),dE("has-label",!!(i.label!=null&&i.label.length)),lE("visible",i.showDropdownList&&!!(i.filteredListItems!=null&&i.filteredListItems.length))("selectedItem",i.highlightedItem)("highlightSelected",true)("fullWidth",true)("asOverlayOnMobile",i.dropdownAsOverlayOnMobile)("automaticDirection",true),GI("aria-label",i.label),xR(2),KR(i.filteredListItems));},dependencies:[In$5,Tt$4,Vt$6,$n$5,jt$3,So$3,fl$1,_l$1,ps$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:block;outline:none}.input[_ngcontent-%COMP%]  .input:not(:disabled), .input[_ngcontent-%COMP%]  .input-area-content{cursor:pointer}.input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:hover~.border{border-color:#a8a794}.input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:focus-visible~.border{border-color:#0096cc;border-width:2px}.input[_ngcontent-%COMP%]  .label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.input[_ngcontent-%COMP%]  .input-icon{color:#2f2e0c}.dropdown-list[_ngcontent-%COMP%]{position:absolute;margin-top:0;top:0;left:0;right:0}.dropdown-list.has-label[_ngcontent-%COMP%]{margin-top:1.5rem}.dropdown-list.down[_ngcontent-%COMP%]{top:48px}.dropdown-list.down.compact[_ngcontent-%COMP%]{top:40px}']});}}return t})(),du$2=(()=>{class t{constructor(){this.small=false,this.inverted=false,this.fullScreen=false,this.overlay=false;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-loader-circular"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("overlay",i.overlay);},inputs:{small:"small",inverted:"inverted",fullScreen:"fullScreen",overlay:"overlay"},decls:4,vars:6,consts:[["data-testid","loader","role","status","aria-live","polite","aria-busy","true","viewBox","0 0 50 50",1,"loader"],["cx","25","cy","25","r","20","fill","none","stroke-width","5",1,"circle"]],template:function(n,i){n&1&&(oR(),Kf$2(0,"svg",0)(1,"title"),fP(2,"Loading"),Xf$2(),ME(3,"circle",1),Xf$2()),n&2&&dE("small",i.small)("inverted",i.inverted)("full-screen",i.fullScreen);},styles:['@charset "UTF-8";.overlay[_nghost-%COMP%]:before{content:"";position:absolute;inset:0;background:#00000026;z-index:10}.loader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loader-rotate 2s linear infinite;width:32px;position:absolute;z-index:10;top:calc(50% - 16px);left:calc(50% - 16px)}.loader.small[_ngcontent-%COMP%]{top:calc(50% - 12px);left:calc(50% - 12px);width:24px}.loader.inverted[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#f5f5f0}.loader.full-screen[_ngcontent-%COMP%]{position:fixed}.loader[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke:#2f2e0c;stroke-linecap:round;animation:_ngcontent-%COMP%_loader-dash 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_loader-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loader-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}'],changeDetection:0});}}return t})(),kw=(()=>{class t{constructor(){this.isMac=typeof navigator<"u"&&navigator.appVersion.includes("Mac");}getShortcutSymbols(e){let i=e.split("+").map(r=>this.getShortcutSymbol(r)).sort((r,s)=>r.order-s.order).map(({symbol:r})=>r).filter(r=>!!r).map(r=>this.applySymbolStyles(r));return this.isMac?i.join(""):i.join(" + ")}applySymbolStyles(e){return e.includes("arrow_right_alt")?e:`<span class="pfy-shortcut-symbol">${e}</span>`}getShortcutSymbol(e){switch(e.toLowerCase().trim()){case "ctrl":case "control":return {order:0,symbol:this.isMac?"^":"ctrl"};case "alt":case "option":return {order:1,symbol:this.isMac?"\u2325":"alt"};case "shift":return {order:2,symbol:"\u21E7"};case "meta":case "command":return this.isMac?{order:3,symbol:"\u2318"}:{order:0,symbol:"ctrl"};case "backspace":case "delete":case "del":return {order:4,symbol:"\u232B"};case "space":return {order:4,symbol:"\u2423"};case "enter":case "return":return {order:4,symbol:"\u21B5"};case "escape":return {order:4,symbol:"\u238B"};case "up":return {order:5,symbol:'<span class="material-icons pfy-shortcut-symbol pfy-shortcut-up">arrow_right_alt</span>'};case "right":return {order:5,symbol:'<span class="material-icons pfy-shortcut-symbol">arrow_right_alt</span>'};case "down":return {order:5,symbol:'<span class="material-icons pfy-shortcut-symbol pfy-shortcut-down">arrow_right_alt</span>'};case "left":return {order:5,symbol:'<span class="material-icons pfy-shortcut-symbol pfy-shortcut-left">arrow_right_alt</span>'};default:return {order:6,symbol:e.trim()}}}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),pu$1=(()=>{class t{constructor(e,n){this.app=e,this.environment=n,this.isVisualTesting=!!this.environment?.visualTesting,this.hideCaretForVisualTesting();}hideCaretForVisualTesting(){return E$e(this,null,function*(){if(this.isVisualTesting)try{yield new Promise(r=>setTimeout(r,0));let e=this.app?.components[0];(0,Z$9.assert)(!!e,"App should have a root component");let n=e.injector.get(Uo$5).nativeElement;e.injector.get(NR).setStyle(n,"caret-color","transparent");}catch{document.body.style.caretColor="transparent";}})}static{this.\u0275fac=function(n){return new(n||t)(pe$9(ln$5,8),pe$9("environment",8))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),gt$7=function(t){return t.S="s",t.M="m",t.ML="ml",t.L="l",t.XL="xl",t}(gt$7||{}),Sw=480,Tw=600,Iw=840,Dw=960,Ew=1168,Vw={[gt$7.S]:Sw,[gt$7.M]:Tw,[gt$7.ML]:Iw,[gt$7.L]:Dw,[gt$7.XL]:Ew},nn$6=(()=>{class t{constructor(e){this.breakpointObserver=e,this.mediaObservables=this.getMediaObservables();}match(e){return this.mediaObservables[e]}matchBelow(e){return this.match(e).pipe(ie$b(n=>!n))}matchBetween(e,n){return Hp$2([this.match(e),this.match(n)]).pipe(Hc$3(0,Yp$1),ie$b(([i,r])=>i&&!r))}getMediaObservables(){return Object.entries(Vw).reduce((n,[i,r])=>x$d(w$9({},n),{[i]:this.getMediaObserver(r)}),{})}getMediaObserver(e){let n=`(min-width: ${e}px)`;return this.breakpointObserver.observe(n).pipe(ie$b(i=>i.matches),_c$3({bufferSize:1,refCount:true}))}static{this.\u0275fac=function(n){return new(n||t)(pe$9(Ar$4))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Aw=(()=>{class t{constructor(e){this.changeDetector=e,this.tooltipContent="",this.tooltipShortcut="";}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-tooltip"]],inputs:{tooltipContent:"tooltipContent",tooltipShortcut:"tooltipShortcut"},decls:4,vars:3,consts:[["data-testid","tooltip",1,"pfy-tooltip"],["data-testid","tooltipContent"],["data-testid","tooltipShortcut",1,"pfy-tooltip-shortcut",3,"innerHtml"]],template:function(n,i){n&1&&(Kf$2(0,"div",0)(1,"span",1),fP(2),Xf$2(),kI(3,Lf$1,1,1,"span",2),Xf$2()),n&2&&(lE("@tooltip",undefined),xR(2),WE(i.tooltipContent),xR(),QR(i.tooltipShortcut?3:-1));},styles:['@charset "UTF-8";.pfy-tooltip[_ngcontent-%COMP%]{max-width:calc(320px - 2rem);font-size:.875rem;line-height:1.25rem;color:#f5f5f0;background:#2f2e0c;box-shadow:0 5px 22px #a8a7941a,0 12px 17px #a8a79426;padding:.5rem .75rem;overflow-wrap:break-word}.pfy-tooltip[_ngcontent-%COMP%]   .pfy-tooltip-shortcut[_ngcontent-%COMP%]{display:inline-flex;align-items:center;flex-wrap:wrap;margin-left:.5rem;gap:.25rem;color:#f5f5f0}.pfy-tooltip[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:relative;font-size:inherit;color:inherit}.pfy-tooltip[_ngcontent-%COMP%]   .material-icons.pfy-shortcut-up[_ngcontent-%COMP%]{transform:rotate(270deg)}.pfy-tooltip[_ngcontent-%COMP%]   .material-icons.pfy-shortcut-down[_ngcontent-%COMP%]{transform:rotate(90deg)}.pfy-tooltip[_ngcontent-%COMP%]   .material-icons.pfy-shortcut-left[_ngcontent-%COMP%]{transform:rotate(180deg)}.pfy-tooltip[_ngcontent-%COMP%]   .pfy-shortcut-symbol[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:0 .125rem;min-width:20px;height:20px;background:#434228;border-radius:4px;font-size:.75rem}'],data:{animation:[$r$3("tooltip",[so$5(":enter",[kn$6({opacity:0,transform:"translate(0, 0) scale(0.95)"}),ro$4("150ms 150ms linear",kn$6({opacity:1,transform:"scale(1)"}))])])]},changeDetection:0});}}return t})(),Rw=300,Fw=150,ft$6=(()=>{class t{set tooltipContent(e){this.tooltipContent$.next(e);}set tooltipShortcut(e){this.tooltipShortcut$.next(e);}set tooltipEnabled(e){this.tooltipEnabled$.next(e);}set showTooltipOnMobile(e){this.showOnMobile$.next(e);}set tooltipWithDelay(e){this.tooltipWithDelay$.next(e);}set delayByDefault(e){this.delayByDefault$.next(e);}constructor(e,n,i,r,s){this.elementRef=e,this.shortcutSymbolService=n,this.viewportService=i,this.overlay=r,this.visualTestingService=s,this.tooltipContent$=new In$7(1),this.tooltipShortcut$=new yn$7(""),this.tooltipEnabled$=new yn$7(true),this.showOnMobile$=new yn$7(false),this.shouldShow$=Hp$2([this.tooltipEnabled$,this.showOnMobile$,this.viewportService.matchBelow(gt$7.ML)]).pipe(ie$b(([p,O,D])=>p&&(D?O:true))),this.tooltipWithDelay$=new yn$7(undefined),this.delayByDefault$=new yn$7(false),this.delays$=Hp$2([this.delayByDefault$,this.tooltipWithDelay$]).pipe(ie$b(([p,O])=>O!==undefined?O:p),ie$b(p=>p?{show:Rw,hide:Fw}:{show:0,hide:0})),this.hide$=new Z$a,this.show$=new Z$a,this.defaultOffset=4,this.destroy$=new Z$a,this.overlayRef$=this.show$.pipe(mt$8(1),ie$b(()=>this.createOverlay()),Oc$2(this.destroy$),_c$3({bufferSize:1,refCount:true}));}ngOnInit(){this.visualTestingService.isVisualTesting||(Hp$2([$p$1(this.show$.pipe(ie$b(()=>true)),this.hide$.pipe(ie$b(()=>false))),this.shouldShow$]).pipe(ie$b(([e,n])=>e&&n),Dr$5(),Rc$2(this.delays$),Ac$3(([e,n])=>hi$7(e).pipe(Mc$2(e?n.show:n.hide))),Rc$2(this.tooltipContent$,this.tooltipShortcut$,this.overlayRef$),Oc$2(this.destroy$)).subscribe(([e,n,i,r])=>{e?this.showTooltip(n,i,r):this.hideTooltip(r);}),Hp$2([this.tooltipContent$.pipe(Dr$5()),this.tooltipShortcut$.pipe(Dr$5())]).pipe(Oc$2(this.destroy$)).subscribe(([e,n])=>{this.tooltipRef&&(this.tooltipRef.instance.tooltipContent=e,this.tooltipRef.instance.tooltipShortcut=this.shortcutSymbolService.getShortcutSymbols(n),this.tooltipRef.instance.changeDetector.markForCheck());}));}ngOnDestroy(){this.overlayRef$.pipe(Th$2(null,null)).subscribe(e=>{e&&e.dispose();}),this.destroy$.next(),this.destroy$.complete();}createOverlay(){let e=this.overlay.position().flexibleConnectedTo(this.elementRef).setOrigin(this.elementRef).withViewportMargin(this.defaultOffset).withFlexibleDimensions(false).withPositions([{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-this.defaultOffset},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:this.defaultOffset},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-this.defaultOffset},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.defaultOffset}]),n=new Un$4({positionStrategy:e,scrollStrategy:this.overlay.scrollStrategies.close(),disposeOnNavigation:true});return this.overlay.create(n)}show(){this.show$.next();}hide(){this.hide$.next();}showTooltip(e,n,i){e&&(this.hideTooltip(i),this.tooltipRef=i.attach(new Mn$5(Aw)),this.tooltipRef.instance.tooltipContent=e,this.tooltipRef.instance.tooltipShortcut=this.shortcutSymbolService.getShortcutSymbols(n));}hideTooltip(e){e.detach();}hideOnMobile(){}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(kw),Yo$4(nn$6),Yo$4(Jt$6),Yo$4(pu$1))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyTooltip",""]],hostBindings:function(n,i){n&1&&VE("mouseenter",function(){return i.show()})("mouseleave",function(){return i.hide()});},inputs:{tooltipContent:[0,"pfyTooltip","tooltipContent"],tooltipShortcut:"tooltipShortcut",tooltipEnabled:"tooltipEnabled",showTooltipOnMobile:"showTooltipOnMobile",tooltipWithDelay:"tooltipWithDelay"},exportAs:["pfyTooltip"]});}}return t})(),Ze$5=function(t){return t.Primary="primary",t.Secondary="secondary",t.Destructive="destructive",t.Ghost="ghost",t.Alternative="alternative",t.AIFilled="ai-filled",t.AIOutlined="ai-outlined",t}(Ze$5||{}),uu$2=function(t){return t.Button="button",t.Submit="submit",t.Reset="reset",t}(uu$2||{}),lt$7=function(t){return t.Small="small",t.Medium="medium",t.Large="large",t}(lt$7||{}),We$8=(()=>{class t{onClick(e){this.disabled||this.loading||this.buttonClick.emit(e);}focus(e){this.button.nativeElement.focus(e);}blur(){this.button.nativeElement.blur();}get isInvertedLoader(){return [Ze$5.Alternative,Ze$5.AIFilled].includes(this.type)}constructor(e){this.tooltip=e,this.type=Ze$5.Primary,this.typeAttribute=uu$2.Button,this.size=lt$7.Medium,this.disabled=false,this.loading=false,this.isRound=false,this.isIconOnly=false,this.tabIndex=0,this.buttonClick=new Xe$5,this.buttonFocus=new Xe$5,this.buttonBlur=new Xe$5;}ngAfterViewInit(){(0, Z$9.assert)(!!this.button?.nativeElement,"Button element should be present"),this.tooltip&&(this.disabled?this.tooltip.tooltipWithDelay=false:this.tooltip.delayByDefault=true);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(ft$6,8))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-button"]],viewQuery:function(n,i){if(n&1&&iP($f$1,7),n&2){let r;sP(r=aP())&&(i.button=r.first);}},hostVars:3,hostBindings:function(n,i){n&1&&VE("click",function(s){return i.onClick(s)})("focus",function(){return i.focus()}),n&2&&(GI("tabindex",i.disabled?-1:i.tabIndex),dE("disabled",i.disabled));},inputs:{type:"type",typeAttribute:"typeAttribute",size:"size",disabled:"disabled",loading:"loading",isRound:"isRound",isIconOnly:"isIconOnly",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:jP(e)]},outputs:{buttonClick:"buttonClick",buttonFocus:"buttonFocus",buttonBlur:"buttonBlur"},features:[BR],ngContentSelectors:oe$6,decls:6,vars:13,consts:[["button",""],["customContent",""],["data-testid","button",1,"button",3,"focus","blur","ngClass","type","disabled"],[3,"small","inverted"],[1,"custom-content"]],template:function(n,i){if(n&1){let r=XR();nP(),Kf$2(0,"button",2,0),VE("focus",function(p){return nR(r),rR(i.buttonFocus.emit(p))})("blur",function(p){return nR(r),rR(i.buttonBlur.emit(p))}),kI(2,Nf$1,1,2,"pfy-loader-circular",3),Kf$2(3,"div",4,1),rP(5),Xf$2()();}n&2&&(dE("is-loading",i.loading)("round",i.isRound)("icon-only-button",i.isIconOnly),lE("ngClass",EP(10,Bf$1,i.type,i.size))("type",i.typeAttribute)("disabled",i.disabled),xR(2),QR(i.loading?2:-1));},dependencies:[Ld$1,du$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block}.disabled[_nghost-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]:has(>.small){line-height:32px}[_nghost-%COMP%]:has(>.medium){line-height:40px}[_nghost-%COMP%]:has(>.large){line-height:48px}.button[_ngcontent-%COMP%]{width:100%;display:inline-block;position:relative;border:1px solid transparent;border-radius:4px;color:#2f2e0c;font-size:1rem;font-weight:700;line-height:1.5rem;cursor:pointer;overflow:hidden;transition:background-color .15s ease,border-color .15s ease,color .15s ease;text-align:center;vertical-align:top;font-family:inherit;white-space:nowrap;outline:none;-webkit-user-select:none;user-select:none}.button[_ngcontent-%COMP%]   .custom-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;column-gap:.5rem}.button.small[_ngcontent-%COMP%]{height:32px;padding:0 1rem}.button.small[_ngcontent-%COMP%]:has(pfy-icon,i):not(.icon-only-button,.round){padding:0 .5rem}.button.medium[_ngcontent-%COMP%]{height:40px;padding:0 1.25rem}.button.medium[_ngcontent-%COMP%]:has(pfy-icon,i):not(.icon-only-button,.round){padding:0 1rem}.button.large[_ngcontent-%COMP%]{height:48px;padding:0 1.5rem}.button.round[_ngcontent-%COMP%]{border-radius:50%;padding:0}.button.icon-only-button.small[_ngcontent-%COMP%], .button.round.small[_ngcontent-%COMP%]{min-width:32px;padding:0}.button.icon-only-button.medium[_ngcontent-%COMP%], .button.round.medium[_ngcontent-%COMP%]{min-width:40px;padding:0}.button.icon-only-button.large[_ngcontent-%COMP%], .button.round.large[_ngcontent-%COMP%]{min-width:48px;padding:0}.button.primary[_ngcontent-%COMP%]{background-color:#aeff6e}.button.primary[_ngcontent-%COMP%]:hover{background-color:#c6fb9d}.button.primary[_ngcontent-%COMP%]:active{background-color:#84e354}.button.secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0d7}.button.secondary[_ngcontent-%COMP%]:hover{background-color:#f5f5f0;border-color:#a8a794}.button.secondary[_ngcontent-%COMP%]:active{background-color:#e0e0d7;border-color:#a8a794}.button.destructive[_ngcontent-%COMP%]{background-color:#fff;color:#ad2525;outline:2px solid #ad2525;outline-offset:-2px}.button.destructive[_ngcontent-%COMP%]:not(:focus-visible){transition:outline-color .15s}.button.destructive[_ngcontent-%COMP%]:hover{color:#d12c2c;outline-color:#d12c2c}.button.destructive[_ngcontent-%COMP%]:active{color:#ad2525;outline-color:#ad2525}.button.ghost[_ngcontent-%COMP%]{background-color:transparent}.button.ghost[_ngcontent-%COMP%]:hover{background-color:#ffffff80;border-color:#e0e0d7}.button.ghost[_ngcontent-%COMP%]:active{background-color:#d0d0c380;border-color:#d0d0c380}.button.alternative[_ngcontent-%COMP%]{background-color:#2f2e0c;color:#f5f5f0}.button.alternative[_ngcontent-%COMP%]:hover{background-color:#434228}.button.alternative[_ngcontent-%COMP%]:active{background-color:#64634a}.button.ai-filled[_ngcontent-%COMP%]{background-color:#572f99;color:#f5f5f0}.button.ai-filled[_ngcontent-%COMP%]:hover{background-color:#3b2166}.button.ai-filled[_ngcontent-%COMP%]:active{background-color:#ba90ff;color:#2f2e0c}.button.ai-outlined[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #e0e0d7;color:#572f99}.button.ai-outlined[_ngcontent-%COMP%]:hover{background-color:#f5f5f0;border-color:#a8a794}.button.ai-outlined[_ngcontent-%COMP%]:active{background-color:#e0e0d7;border-color:#a8a794}.button.is-loading[_ngcontent-%COMP%]{pointer-events:none}.button.is-loading[_ngcontent-%COMP%]   .custom-content[_ngcontent-%COMP%]{visibility:hidden}.button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc;outline-offset:-2px}.button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f0;color:#a8a794;pointer-events:none;outline:none;border-color:transparent}.button[_ngcontent-%COMP%]:disabled.ghost{background-color:transparent}.button[_ngcontent-%COMP%]:disabled.ai-outlined, .button[_ngcontent-%COMP%]:disabled.destructive, .button[_ngcontent-%COMP%]:disabled.secondary{background-color:#fff}.button[_ngcontent-%COMP%]:disabled.secondary, .button[_ngcontent-%COMP%]:disabled.destructive{border:1px solid #e0e0d7}.button[_ngcontent-%COMP%]  .material-icons, .button[_ngcontent-%COMP%]  .material-icons-outlined{color:inherit}'],changeDetection:0});}}return t})(),ot$a=function(t){return t.Info="info",t.Success="success",t.Warning="warning",t.Error="error",t.Default="default",t.Educational="educational",t.AI="ai",t}(ot$a||{}),Wt$4=function(t){return t.Success="check_circle",t.Error="error",t.Info="info",t.Warning="warning",t.Educational="lightbulb",t.AI="auto_awesome",t}(Wt$4||{}),vS=(()=>{class t{constructor(){this.status=ot$a.Info,this.title="",this.closable=false,this.global=false,this.primaryActionConfirm=new Xe$5,this.secondaryActionConfirm=new Xe$5,this.bannerDismiss=new Xe$5,this.icons={[ot$a.Success]:Wt$4.Success,[ot$a.Info]:Wt$4.Info,[ot$a.Warning]:Wt$4.Warning,[ot$a.Error]:Wt$4.Error,[ot$a.Default]:Wt$4.Info,[ot$a.Educational]:Wt$4.Educational,[ot$a.AI]:Wt$4.AI};}get role(){return [ot$a.Error,ot$a.Warning].includes(this.status)?"alert":"status"}emitActionConfirm(){this.primaryActionConfirm.emit();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-banner"]],viewQuery:function(n,i){if(n&1&&iP(zf$1,5,Uo$5),n&2){let r;sP(r=aP())&&(i.actionButtonEl=r.first);}},hostVars:5,hostBindings:function(n,i){n&2&&(GI("role",i.role),WR(i.status),dE("global",i.global));},inputs:{status:"status",title:"title",closable:"closable",global:"global",primaryAction:"primaryAction",primaryActionLoading:"primaryActionLoading",secondaryAction:"secondaryAction",secondaryActionLoading:"secondaryActionLoading"},outputs:{primaryActionConfirm:"primaryActionConfirm",secondaryActionConfirm:"secondaryActionConfirm",bannerDismiss:"bannerDismiss"},ngContentSelectors:oe$6,decls:9,vars:6,consts:[["type","outlined",1,"type-icon",3,"name"],["data-testid","content",1,"content"],["data-testid","message",1,"message"],["data-testid","title",1,"title"],[1,"action-buttons"],["type","ghost","size","small","data-testid","closeButton",3,"isIconOnly"],["type","secondary","size","small","data-testid","primaryAction",3,"loading","disabled"],["type","ghost","size","small","data-testid","secondaryAction",3,"loading","disabled"],["type","secondary","size","small","data-testid","primaryAction",3,"buttonClick","loading","disabled"],["type","ghost","size","small","data-testid","secondaryAction",3,"buttonClick","loading","disabled"],["type","ghost","size","small","data-testid","closeButton",3,"buttonClick","isIconOnly"],["name","close"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"div"),ME(1,"pfy-icon",0),Xf$2(),Kf$2(2,"div",1)(3,"div",2),kI(4,jf$1,2,1,"div",3),Kf$2(5,"p"),rP(6),Xf$2()(),kI(7,Wf$1,3,2,"div",4),Xf$2(),kI(8,Gf$1,2,1,"pfy-button",5)),n&2&&(xR(),lE("name",i.icons[i.status]),xR(),dE("has-title",!!i.title),xR(2),QR(i.title?4:-1),xR(3),QR(i.primaryAction||i.secondaryAction?7:-1),xR(),QR(i.closable?8:-1));},dependencies:[ge$9,We$8],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:flex;padding:1rem;padding-left:calc(1rem - 4px);align-items:baseline;gap:.5rem;box-sizing:border-box;min-height:56px;color:#2f2e0c;font-size:1rem;border-left:4px solid transparent}[_nghost-%COMP%]   .type-icon[_ngcontent-%COMP%]{color:inherit;vertical-align:bottom}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;flex-wrap:wrap;width:100%;row-gap:.5rem}[_nghost-%COMP%]   .content.has-title[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.5rem}[_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.info[_nghost-%COMP%], .default[_nghost-%COMP%]{background-color:#e0e0d7;border-color:#64634a}.success[_nghost-%COMP%]{background-color:#d8ffbd;border-color:#4fba2c}.warning[_nghost-%COMP%]{background-color:#fef9ab;border-color:#e8d335}.error[_nghost-%COMP%]{background-color:#f9c5bf;border-color:#ad2525}.educational[_nghost-%COMP%]{background-color:#d4f5ff;border-color:#0096cc}.ai[_nghost-%COMP%]{background-color:#e9deff;border-color:#572f99}.global[_nghost-%COMP%]{border-radius:0;padding:.75rem 0;max-width:1272px;margin:0 auto;align-items:center;z-index:0}.global[_nghost-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:50%;transform:translate(-50%);width:100vw;background-color:inherit;z-index:-10}'],changeDetection:0});}}return t})(),hu$1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-skeleton"]],decls:0,vars:0,template:function(n,i){},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;height:1em;background-image:linear-gradient(90deg,#fff9 .155%,#fff0 49.905% 50.095%,#fff9 99.845%);background-attachment:fixed;background-color:#e0e0d7;background-size:200vw 100%;animation-name:_ngcontent-%COMP%_shimmer;animation-duration:1.5s;animation-iteration-count:infinite;animation-play-state:running;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position-x:0}to{background-position-x:200vw}}'],changeDetection:0});}}return t})(),wS=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-blueprint-card-skeleton"]],decls:6,vars:0,consts:[[1,"image"],[1,"line"],[1,"line","line-short"]],template:function(n,i){n&1&&ME(0,"pfy-skeleton",0)(1,"pfy-skeleton",1)(2,"pfy-skeleton",2)(3,"pfy-skeleton",1)(4,"pfy-skeleton",2)(5,"pfy-skeleton",1);},dependencies:[hu$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.image[_ngcontent-%COMP%]{padding-bottom:100%}.line[_ngcontent-%COMP%]{margin-top:1rem}.line-short[_ngcontent-%COMP%]{width:57%;margin-top:.25rem}'],changeDetection:0});}}return t})(),qw=0,Lw=100,xS=(()=>{class t{constructor(){this.buttonSize=lt$7,this.buttonType=Ze$5,this.primaryAction="Continue",this.primaryActionIcon="arrow_forward",this.primaryActionDisabled=false,this.primaryActionLoading=false,this.primaryActionType=Ze$5.Primary,this.secondaryActionDisabled=false,this.secondaryActionLoading=false,this.primaryActionClick=new Xe$5,this.secondaryActionClick=new Xe$5;}onPrimaryActionClick(e){this.primaryActionClick.emit(e);}onSecondaryActionClick(e){this.secondaryActionClick.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-bottom-bar-navigation"]],inputs:{primaryAction:"primaryAction",primaryActionIcon:"primaryActionIcon",primaryActionDisabled:"primaryActionDisabled",primaryActionLoading:"primaryActionLoading",primaryActionType:"primaryActionType",secondaryAction:"secondaryAction",secondaryActionDisabled:"secondaryActionDisabled",secondaryActionLoading:"secondaryActionLoading",description:"description",progress:[2,"progress","progress",e=>e!=null?Math.min(Math.max(e,qw),Lw):e]},outputs:{primaryActionClick:"primaryActionClick",secondaryActionClick:"secondaryActionClick"},features:[BR],ngContentSelectors:oe$6,decls:6,vars:3,consts:[[1,"progress"],[1,"content"],[1,"custom-content-container"],[1,"description"],[1,"actions"],["data-testid","progressBar",1,"progress-bar"],["data-testid","secondaryActionButton",1,"action-button",3,"size","type","disabled","loading"],["data-testid","primaryActionButton",1,"action-button",3,"buttonClick","size","type","disabled","loading"],["data-testid","primaryButtonIcon",3,"name","colorInherit"],["data-testid","secondaryActionButton",1,"action-button",3,"buttonClick","size","type","disabled","loading"]],template:function(n,i){n&1&&(nP(),kI(0,Qf$1,2,2,"div",0),Kf$2(1,"div",1)(2,"div",2),rP(3),Xf$2(),kI(4,Yf$1,2,1,"div",3),Xf$2(),kI(5,Zf$1,5,7,"div",4)),n&2&&(QR(i.progress!=null?0:-1),xR(4),QR(i.description?4:-1),xR(),QR(i.primaryAction?5:-1));},dependencies:[We$8,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;background:#fff;flex-direction:column;padding:1rem;position:relative}@media (min-width: 840px){[_nghost-%COMP%]{flex-direction:row;padding:0}}.progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;background-color:#d0d0c3}.progress-bar[_ngcontent-%COMP%]{background-color:#2f2e0c;height:100%}.content[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center}@media (min-width: 840px){.content[_ngcontent-%COMP%]{padding:1.5rem;justify-content:flex-end}}@media (min-width: 960px){.content[_ngcontent-%COMP%]{justify-content:space-between}}.custom-content-container[_ngcontent-%COMP%]{display:none}.custom-content-container[_ngcontent-%COMP%]:not(:empty){margin-right:1rem}@media (min-width: 960px){.custom-content-container[_ngcontent-%COMP%]{display:flex}}.description[_ngcontent-%COMP%]{color:#64634a}@media (max-width: 839px){.description[_ngcontent-%COMP%]{margin-bottom:1rem}}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem}@media (min-width: 840px){.actions[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.action-button[_ngcontent-%COMP%]{flex:1}'],changeDetection:0});}}return t})(),$w=(()=>{class t{constructor(e){this.button=e,this.pfyButtonGroupItem="",this.active=false,this.buttonGroupItemClass="button-group-item",this.role="radio",this.destroy$=new Z$a,this.selected=new yn$7(false),this.selected$=this.selected.asObservable();}ngOnInit(){this.initHostClick();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.selected.complete();}initHostClick(){this.button.buttonClick.pipe(Ye$b(()=>!this.active),Oc$2(this.destroy$)).subscribe(()=>{this.active=true,this.selected.next(true),this.button.focus();});}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(We$8))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyButtonGroupItem",""]],hostVars:4,hostBindings:function(n,i){n&2&&(GI("aria-checked",i.active)("role",i.role),WR(i.buttonGroupItemClass));},inputs:{pfyButtonGroupItem:"pfyButtonGroupItem"},outputs:{selected$:"selected$"}});}}return t})(),OS=(()=>{class t{set activeButton(e){this.activeButton$.next(e);}constructor(e){this.elementRef=e,this.activeButton$=new In$7(1),this.highlightActive=false,this.size=lt$7.Medium,this.asRow=false,this.buttonSelected=new Xe$5,this.destroy$=new Z$a,this.isIconOnlyButtons=false;}ngAfterViewChecked(){this.setButtonsSize();}ngAfterContentInit(){(0, Z$9.assert)(!!this.buttons?.length,"Buttons should be defined in ButtonGroupComponent"),this.buttonDirectives.forEach(e=>{e.selected$.pipe(Oc$2(this.destroy$)).subscribe(()=>{this.buttonDirectives.forEach(n=>{n!==e&&(n.active=false);}),this.buttonSelected.emit(e.pfyButtonGroupItem);});}),this.activeButton$.pipe(Oc$2(this.destroy$)).subscribe(this.setActiveButton.bind(this)),this.isIconOnlyButtons=!!this.buttons.filter(e=>e.isIconOnly).length;}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}setButtonsSize(){this.elementRef.nativeElement.querySelectorAll(".button").forEach(n=>{n.classList.remove(lt$7.Small,lt$7.Medium,lt$7.Large),n.classList.add(this.size);});}setActiveButton(e){this.highlightActive&&this.buttonDirectives.forEach(n=>{n.active=n.pfyButtonGroupItem===e;});}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-button-group"]],contentQueries:function(n,i,r){if(n&1&&(oP(r,$w,4),oP(r,We$8,4)),n&2){let s;sP(s=aP())&&(i.buttonDirectives=s),sP(s=aP())&&(i.buttons=s);}},inputs:{activeButton:"activeButton",highlightActive:"highlightActive",size:"size",asRow:"asRow"},outputs:{buttonSelected:"buttonSelected"},ngContentSelectors:e_,decls:3,vars:5,consts:[["buttonGroup",""],["role","radiogroup","data-testid","button-group","aria-label","button group",1,"button-group",3,"ngClass"]],template:function(n,i){n&1&&(nP(Jf$1),Kf$2(0,"div",1,0),rP(2),Xf$2()),n&2&&lE("ngClass",wP(1,t_,i.highlightActive,i.isIconOnlyButtons,i.asRow));},dependencies:[Ld$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;position:relative;z-index:0}[_nghost-%COMP%]     .button.secondary:focus-visible, [_nghost-%COMP%]     .button.secondary:active{position:relative;z-index:10}.button-group[_ngcontent-%COMP%]{display:flex;width:100%}.button-group[_ngcontent-%COMP%]     .button-group-item{width:100%}.button-group[_ngcontent-%COMP%]     .button-group-item .button{border-radius:0}.button-group[_ngcontent-%COMP%]     .button-group-item:first-child .button{border-radius:4px 0 0 4px}.button-group[_ngcontent-%COMP%]     .button-group-item:last-child .button{border-radius:0 4px 4px 0}.button-group[_ngcontent-%COMP%]     .button-group-item:not(:last-child) .button{border-right-width:0}.button-group[_ngcontent-%COMP%]     .button-group-item:only-child .button{border-radius:4px}.button-group.highlight-active[_ngcontent-%COMP%]  [aria-checked=true] .button{color:#f5f5f0;background-color:#64634a;border-color:transparent}.button-group.highlight-active[_ngcontent-%COMP%]  [aria-checked=true] .button:hover{background-color:#434228}@media (max-width: 479px){.button-group[_ngcontent-%COMP%]:not(.icon-only-buttons):not(.as-row){flex-direction:column}.button-group[_ngcontent-%COMP%]:not(.icon-only-buttons):not(.as-row)     .button-group-item:first-child .button{border-radius:4px 4px 0 0}.button-group[_ngcontent-%COMP%]:not(.icon-only-buttons):not(.as-row)     .button-group-item:last-child .button{border-radius:0 0 4px 4px}.button-group[_ngcontent-%COMP%]:not(.icon-only-buttons):not(.as-row)     .button-group-item:not(:last-child) .button{border-right-width:1px;border-bottom-width:0}.button-group[_ngcontent-%COMP%]:not(.icon-only-buttons):not(.as-row)     .button-group-item:only-child .button{border-radius:4px}}'],changeDetection:0});}}return t})(),He$8=class He{constructor(o,e){this.start=o,this.end=e;}},Yr$4=864e5;function Bw(t,o){let e=o.getTime()-t.getTime();return Math.floor(e/Yr$4)}function xp(t){return t.toLocaleDateString(navigator.language||"en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}function gu$1(t,o,e){let[n,i]=t;return !n||!i?true:!(o&&n.getTime()<o.getTime()||e&&i.getTime()>e.getTime())}function mu$2(t,o){let[e,n]=t;return !e||!n?true:Bw(e,n)<o}var Nw=["January","February","March","April","May","June","July","August","September","October","November","December"],es$1=class es{constructor(o){let e=o.getFullYear(),n=o.getMonth();this.year=e,this.month=n,this.monthName=Nw[n],this.daysInMonth=this.getDaysArray(e,n),this.date=o;}getDaysArray(o,e){let n=new Date(o,e).getDay(),i=[],r=[],s=7;for(;n>0;)r.push({day:null,date:null}),n--;let p=this.getEndOfMonth(new Date(o,e));for(let O=1;O<=p.getDate();O++)r.push({day:O,date:new Date(o,e,O)}),r.length===s&&(Array.prototype.push.apply(i,r),r=[]);if(r.length&&r.length<s){for(;r.length!==s;)r.push({day:null,date:null});Array.prototype.push.apply(i,r);}return i}getEndOfMonth(o){let e=new Date(o.getFullYear(),o.getMonth()+1,0).getDate();return new Date(o.getFullYear(),o.getMonth(),e)}},zw=(()=>{class t{constructor(){this.singleDateSelection=false,this.selectionChange=new Xe$5,this.highlightChange=new Xe$5,this.classesMap={},this.tooltipMap={};}ngOnInit(){this.selection=this.selection||new He$8(null,null),this.highlight=new He$8(this.selection.start,this.selection.end);}ngOnChanges(){this.classesMap=this.buildClassesMap(),this.tooltipMap=this.buildTooltipMap();}onMouseEnter(e){if(!this.selection)return;let{start:n,end:i}=this.selection;n&&(n&&i||(n<e&&this.highlightChange.emit(new He$8(this.selection.start,e)),n>e&&this.highlight?.end&&this.highlightChange.emit(new He$8(this.selection.start,null))));}onMouseLeave(){this.selection?.end||this.highlightChange.emit(new He$8(null,null));}daysTrackBy(e,{day:n}){return `${e} ${n}`}onSelect(e){!e||this.isDisabled(e)||this.emitNewDateSelection(e);}buildClassesMap(){return Object.fromEntries(this.month.daysInMonth.map(({day:e,date:n})=>{if(!n)return [e,{}];let i=this.isSelectionStart(n),r=this.isSelectionEnd(n);this.singleDateSelection&&this.selection?.start&&(n.setHours(this.selection.start.getHours()),n.setMinutes(this.selection.start.getMinutes()));let s={highlight:this.isDayInSelectionRange(n),active:i||r,today:this.isToday(n),disabled:this.isDisabled(n),"with-date":!!e,"selection-start":i&&!r,"selection-end":r&&!i};return [e,s]}))}buildTooltipMap(){return Object.fromEntries(this.month.daysInMonth.map(({day:e,date:n})=>n?this.isOutOfDateRangeLimit(n)?[e,`You can only select ${this.dateRangeLimit} day timeframe`]:this.isOutOfBounds(n)?[e,this.getBoundsTooltip()]:[e,""]:[e,""]))}isDayInSelectionRange(e){return this.highlight?.start&&this.highlight.end&&e?this.highlight.start<e&&e<this.highlight.end:false}isSelectionStart(e){return this.selection?.start&&e?this.selection.start.getFullYear()===e.getFullYear()&&this.selection.start.getMonth()===e.getMonth()&&this.selection.start.getDate()===e.getDate():false}isSelectionEnd(e){return this.selection?.end&&e?this.selection.end.getFullYear()===e.getFullYear()&&this.selection.end.getMonth()===e.getMonth()&&this.selection.end.getDate()===e.getDate():false}isToday(e){if(!e)return  false;let n=new Date;return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}isDisabled(e){return e?this.isOutOfBounds(e)||this.isOutOfDateRangeLimit(e):false}isOutOfBounds(e){return !gu$1([e,e],this.minDate,this.maxDate)}isOutOfDateRangeLimit(e){return !this.dateRangeLimit||!this.selection?.start||this.selection?.end?false:!mu$2([this.selection.start,e],this.dateRangeLimit)}getBoundsTooltip(){let e=this.minDate?xp(this.minDate):"",n=this.maxDate?xp(this.maxDate):"";return "You can only select dates "+(this.maxDate&&this.minDate?`between ${e} and ${n}`:this.minDate?`from ${e}`:this.maxDate?`up to ${n}`:"")}getStartEndDates(e){let n=this.selection?.end?e:this.selection?.start||e,i=null;return this.selection?.start&&!this.selection?.end&&e>=n?i=e:this.selection?.start&&e<n&&(n=e),{startDate:n,endDate:i}}emitNewDateSelection(e){let{startDate:n,endDate:i}=this.getStartEndDates(e);this.highlightChange.emit(new He$8(n,this.singleDateSelection?n:i)),this.selectionChange.emit(new He$8(n,this.singleDateSelection?n:i));}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-calendar-month"]],hostBindings:function(n,i){n&1&&VE("mouseleave",function(){return i.onMouseLeave()});},inputs:{dateRangeLimit:"dateRangeLimit",month:"month",singleDateSelection:"singleDateSelection",minDate:"minDate",maxDate:"maxDate",selection:"selection",highlight:"highlight"},outputs:{selectionChange:"selectionChange",highlightChange:"highlightChange"},features:[tR],decls:21,vars:2,consts:[[1,"month"],[1,"month-title"],[1,"day-names"],[1,"day-name"],[1,"days-grid"],[1,"day",3,"ngClass","pfyTooltip","showTooltipOnMobile"],[1,"day",3,"click","mouseenter","ngClass","pfyTooltip","showTooltipOnMobile"]],template:function(n,i){n&1&&(Kf$2(0,"div",0)(1,"p",1),fP(2),Xf$2(),Kf$2(3,"ul",2)(4,"li",3),fP(5,"Sun"),Xf$2(),Kf$2(6,"li",3),fP(7,"Mon"),Xf$2(),Kf$2(8,"li",3),fP(9,"Tue"),Xf$2(),Kf$2(10,"li",3),fP(11,"Wed"),Xf$2(),Kf$2(12,"li",3),fP(13,"Thu"),Xf$2(),Kf$2(14,"li",3),fP(15,"Fri"),Xf$2(),Kf$2(16,"li",3),fP(17,"Sat"),Xf$2()(),Kf$2(18,"ul",4),JR(19,n_,2,4,"li",5,i.daysTrackBy,true),Xf$2()()),n&2&&(xR(2),zE("",i.month.monthName," ",i.month.year,""),xR(17),KR(i.month.daysInMonth));},dependencies:[Ld$1,ft$6],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:280px;text-align:center}@media (max-width: 839px){[_nghost-%COMP%]{width:100%}}.month-title[_ngcontent-%COMP%]{min-height:32px;font-weight:700;align-content:center}.active[_ngcontent-%COMP%]{background-color:#64634a;color:#fff;border-radius:6px}.selection-start[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}.selection-end[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}.highlight[_ngcontent-%COMP%]:not(.disabled){background-color:#f5f5f0}.with-date[_ngcontent-%COMP%]{transition:all ease .15s}.with-date[_ngcontent-%COMP%]:hover{cursor:pointer}.with-date[_ngcontent-%COMP%]:not(.active):not(.disabled):hover{background-color:#f5f5f0;border-radius:6px}.selection-start[_ngcontent-%COMP%] + .with-date[_ngcontent-%COMP%]:not(.active):not(.disabled):hover, .highlight[_ngcontent-%COMP%] + .with-date[_ngcontent-%COMP%]:not(.active):not(.disabled):hover{border-radius:0 6px 6px 0}.today[_ngcontent-%COMP%]{color:#2f2e0c;font-weight:700}.today.active[_ngcontent-%COMP%]{background-color:#64634a;color:#f5f5f0}.disabled[_ngcontent-%COMP%]{color:#a8a794}.day-name[_ngcontent-%COMP%]{color:#2f2e0c}.day[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}@media (min-width: 600px){.day[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}.day[_ngcontent-%COMP%], .day-name[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:40px}.day[_ngcontent-%COMP%]:before, .day-name[_ngcontent-%COMP%]:before{content:"";padding-bottom:100%}@media (max-width: 599px){.day[_ngcontent-%COMP%], .day-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.day-names[_ngcontent-%COMP%]{margin-top:.5rem}.day-names[_ngcontent-%COMP%], .days-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr)}.days-grid[_ngcontent-%COMP%]{grid-template-rows:repeat(6,1fr)}'],changeDetection:0});}}return t})(),ts$2=function(t){return t.Small="small",t.Medium="medium",t}(ts$2||{}),fu$1=(()=>{class t{set selected(e){this.selectedInternal=e,this.cdr.markForCheck();}get selected(){return this.selectedInternal}set selectable(e){this.selectableInternal=e,this.cdr.markForCheck();}get selectable(){return this.selectableInternal}set size(e){this.sizeInternal=e,this.cdr.markForCheck();}get size(){return this.sizeInternal}constructor(e){this.cdr=e,this.inverted=false,this.error=false,this.disabled=false,this.chipSize=ts$2,this.sizeInternal=ts$2.Medium,this.selectedInternal=false,this.selectableInternal=true,this.chipClick=new Xe$5;}onClick(){this.disabled||!this.selectable||this.chipClick.emit();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-chip"]],inputs:{name:"name",iconName:"iconName",inverted:"inverted",error:"error",disabled:"disabled",selected:"selected",selectable:"selectable",size:"size"},outputs:{chipClick:"chipClick"},ngContentSelectors:oe$6,decls:3,vars:15,consts:[["data-testid","chipButton","type","button",1,"chip","body-text",3,"click","disabled"],[1,"content"],[3,"name","colorInherit"],[1,"text","text-ellipsis"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"button",0),VE("click",function(){return i.onClick()}),rP(1,0,null,r_,3,2),Xf$2()),n&2&&(dE("inverted",i.inverted)("selected",i.selected)("disabled",i.disabled)("selectable",i.selectable)("error",i.error)("default",!i.inverted&&!i.error)("small",i.size===i.chipSize.Small),lE("disabled",i.disabled));},dependencies:[ge$9],styles:['@charset "UTF-8";.chip[_ngcontent-%COMP%]{background:#fff;outline:none;box-shadow:none;border:none;cursor:pointer;max-width:200px;height:32px;padding:.25rem 1rem;display:flex;align-items:center;border-radius:24px;transition:.15s ease;transition-property:background-color,border-color;position:relative}.chip[_ngcontent-%COMP%]:after{content:"";position:absolute;box-sizing:border-box;border:1px solid transparent;inset:0;border-radius:24px;transition:.15s ease;transition-property:background-color,border-color}.chip.disabled[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:not-allowed}.chip[_ngcontent-%COMP%]:not(.selectable){cursor:default}.chip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;width:100%;overflow:hidden;color:inherit}.chip[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;transition-property:color;flex:1;min-width:0}.chip[_ngcontent-%COMP%]:focus-visible:not(.disabled):after, .chip.error[_ngcontent-%COMP%]:not(.disabled):after{border-width:2px}.chip.small[_ngcontent-%COMP%]{padding:.25rem .75rem;height:28px}.chip.small[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.chip.small[_ngcontent-%COMP%]:focus-visible:not(.disabled):after, .chip.small.error[_ngcontent-%COMP%]:not(.disabled):after{border-width:2px}.chip.default[_ngcontent-%COMP%]{background-color:#f5f5f0}.chip.default[_ngcontent-%COMP%]:after{border-color:#e0e0d7}.chip.default[_ngcontent-%COMP%]:not(.disabled).selectable:hover{background-color:#e0e0d7}.chip.default[_ngcontent-%COMP%]:not(.disabled).selectable:hover:after{border-color:#a8a794}.chip.default.selected[_ngcontent-%COMP%]{color:#f5f5f0;background-color:#64634a}.chip.default.selected[_ngcontent-%COMP%]:after{border-color:#64634a}.chip.default[_ngcontent-%COMP%]:not(.disabled).selectable.selected:hover{background-color:#434228}.chip.default[_ngcontent-%COMP%]:not(.disabled).selectable.selected:hover:after{border-color:#434228}.chip.default[_ngcontent-%COMP%]:focus-visible:after{border-color:#0096cc}.chip.default.disabled[_ngcontent-%COMP%]{background-color:#f5f5f0;color:#a8a794}.chip.default.disabled[_ngcontent-%COMP%]:after{border-color:#f5f5f0}.chip.error[_ngcontent-%COMP%]{color:#d12c2c;background-color:#fff}.chip.error[_ngcontent-%COMP%]:after{border-color:#ad2525}.chip.error[_ngcontent-%COMP%]:not(.disabled).selectable:hover{border-color:#d12c2c}.chip.error.selected[_ngcontent-%COMP%]{color:#2f2e0c;background-color:#faa8a8}.chip.error.selected[_ngcontent-%COMP%]:after{border-color:#ad2525}.chip.error[_ngcontent-%COMP%]:not(.disabled).selectable.selected:hover{border-color:#d12c2c}.chip.error[_ngcontent-%COMP%]:focus-visible:after{border-color:#0096cc}.chip.error.disabled[_ngcontent-%COMP%]{color:#a8a794;background-color:#f5f5f0}.chip.error.disabled[_ngcontent-%COMP%]:after{border-color:#f5f5f0}.chip.inverted[_ngcontent-%COMP%]{background-color:#fff}.chip.inverted[_ngcontent-%COMP%]:after{border-color:#e0e0d7}.chip.inverted[_ngcontent-%COMP%]:not(.disabled).selectable:hover{background-color:#f5f5f0}.chip.inverted[_ngcontent-%COMP%]:not(.disabled).selectable:hover:after{border-color:#a8a794}.chip.inverted.selected[_ngcontent-%COMP%]{background-color:#64634a;color:#f5f5f0}.chip.inverted.selected[_ngcontent-%COMP%]:after{border-color:#64634a}.chip.inverted[_ngcontent-%COMP%]:not(.disabled).selectable.selected:hover{background-color:#434228}.chip.inverted[_ngcontent-%COMP%]:not(.disabled).selectable.selected:hover:after{border-color:#434228}.chip.inverted[_ngcontent-%COMP%]:focus-visible:after{border-color:#0096cc}.chip.inverted.disabled[_ngcontent-%COMP%]{background-color:#f5f5f0;color:#a8a794}.chip.inverted.disabled[_ngcontent-%COMP%]:after{border-color:#f5f5f0}'],changeDetection:0});}}return t})(),jw=(()=>{class t{set selectable(e){this.selectable$.next(e);}constructor(e){this.destroyRef=e,this.size=ts$2.Medium,this.selectable$=new yn$7(true);}ngAfterViewInit(){this.setupEvents(),this.setChipsSize(this.size);}ngOnChanges({size:e}){e&&e.currentValue!==e.previousValue&&this.setChipsSize(e.currentValue);}ngOnDestroy(){this.selectable$.complete();}setupEvents(){let e=this.chipComponents?.changes.pipe(Sc$2(this.chipComponents))??be$8;Hp$2([e,this.selectable$]).pipe(kc$2(([n,i])=>n.forEach(r=>{r.selectable=i,i||(r.selected=false);})),Ac$3(([n,i])=>i?$p$1(...n.map(r=>r.chipClick.pipe(ie$b(()=>r)))):be$8),X$7(this.destroyRef)).subscribe(n=>this.setSelectedChip(n));}setSelectedChip(e){this.chipComponents?.forEach(n=>{n.selected=e===n;});}setChipsSize(e){this.chipComponents?.forEach(n=>{n.size=e;});}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-chips"]],contentQueries:function(n,i,r){if(n&1&&oP(r,fu$1,4),n&2){let s;sP(s=aP())&&(i.chipComponents=s);}},inputs:{size:"size",selectable:"selectable"},features:[tR],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;gap:.5rem;max-width:100%;overflow:auto hidden;-webkit-overflow-scrolling:touch;scrollbar-width:none}[_nghost-%COMP%]::-webkit-scrollbar{display:none}'],changeDetection:0});}}return t})(),Kn$3=function(t){return t.None="none",t.BroadRanges="broadRanges",t.SpecificRanges="specificRanges",t}(Kn$3||{}),Ue$6=function(t){return t.Custom="custom",t.ThisMonth="thisMonth",t.LastMonth="lastMonth",t.ThisYear="thisYear",t.LastYear="lastYear",t.Today="today",t.Days7="days-7",t.Days30="days-30",t.Days60="days-60",t}(Ue$6||{}),Hw=[{key:Ue$6.Custom,label:"Custom"},{key:Ue$6.ThisMonth,label:"This month"},{key:Ue$6.LastMonth,label:"Last month"},{key:Ue$6.ThisYear,label:"This year"},{key:Ue$6.LastYear,label:"Last year"}],Op$1=[{key:Ue$6.Custom,label:"Custom"},{key:Ue$6.Today,label:"Today"},{key:Ue$6.Days7,label:"Last 7 days"},{key:Ue$6.Days30,label:"Last 30 days"},{key:Ue$6.Days60,label:"Last 60 days"}];function Uw(t,o){if(!t||!o)return  false;let[e,n]=t,[i,r]=o;return e.getTime()===i.getTime()&&n.getTime()===r.getTime()}function Ww(){let t=new Date;return t.setHours(0,0,0,0),t}function Ha$2(t){let o=Ww(),e=o.getFullYear(),n=o.getMonth();switch(t){case Ue$6.ThisMonth:return [new Date(e,n,1),new Date(e,n+1,0)];case Ue$6.LastMonth:return [new Date(e,n-1,1),new Date(e,n,0)];case Ue$6.ThisYear:return [new Date(e,0,1),new Date(e+1,0,0)];case Ue$6.LastYear:return [new Date(e-1,0,1),new Date(e,0,0)];case Ue$6.Today:return [o,o];case Ue$6.Days7:return [new Date(o.getTime()-6*Yr$4),o];case Ue$6.Days30:return [new Date(o.getTime()-29*Yr$4),o];case Ue$6.Days60:return [new Date(o.getTime()-59*Yr$4),o];case Ue$6.Custom:return;default:return}}var Gw=(()=>{class t{get isEmpty(){return this.ranges.length===0}constructor(e){this.changeDetectorRef=e,this.presetSelect=new Xe$5,this.presetReset=new Xe$5,this.type=Kn$3.SpecificRanges,this.ranges=Op$1,this.active=this.getDefaultSelector();}ngOnChanges(e){if((e.dateRangeLimit||e.type||e.minDate||e.maxDate)&&(this.type=this.dateRangeLimit&&this.type!==Kn$3.None?Kn$3.SpecificRanges:this.type,this.ranges=this.getRanges()),e.selectionDateRange){let{start:n,end:i}=e.selectionDateRange.currentValue;this.updateActiveSelector(n,i);}}onSelect(e){this.active=e;let n=Ha$2(e);n?this.emitSelectedDates(n):this.presetReset.emit();}getRanges(){if(this.type===Kn$3.None)return [];let e=this.dateRangeLimit||Number.MAX_SAFE_INTEGER;return (this.type===Kn$3.BroadRanges?Hw:Op$1).filter(i=>{let r=Ha$2(i.key);return r?mu$2(r,e)&&gu$1(r,this.minDate,this.maxDate):true})}getDefaultSelector(){return this.ranges.find(e=>e.key===Ue$6.Custom)?.key}getActiveSelector(e,n){let i=this.ranges.find(r=>Uw(Ha$2(r.key),[e,n]));return i?i.key:this.getDefaultSelector()}updateActiveSelector(e,n){if(!e&&!n){this.active=undefined,this.changeDetectorRef.markForCheck();return}if(!e||!n){this.active=this.getDefaultSelector(),this.changeDetectorRef.markForCheck();return}let i=this.getActiveSelector(e,n);this.active=i,this.changeDetectorRef.markForCheck();}emitSelectedDates(e){let[n,i]=e;!n||!i||this.presetSelect.emit(new He$8(n,i));}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-calendar-presets"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("empty",i.isEmpty);},inputs:{dateRangeLimit:"dateRangeLimit",selectionDateRange:"selectionDateRange",minDate:"minDate",maxDate:"maxDate",type:"type"},outputs:{presetSelect:"presetSelect",presetReset:"presetReset"},features:[tR],decls:3,vars:0,consts:[[1,"calendar-preset",3,"name","selected"],[1,"calendar-preset",3,"chipClick","name","selected"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-chips"),JR(1,a_,1,2,"pfy-chip",0,s_),Xf$2()),n&2&&(xR(),KR(i.ranges));},dependencies:[jw,fu$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{margin-bottom:1rem}.empty[_nghost-%COMP%]{margin-bottom:0}'],changeDetection:0});}}return t})(),ns$2=(()=>{class t extends To$1{constructor(e){super(e),this.placeholderAsLabel=false,this.hostClass=true,this.inputValue=new yn$7(0),this.hasValue$=this.inputValue.pipe(ie$b(n=>!!n.toString().length),Dr$5()),this.type="number";}onChange(e){this.controlValueAccessorChangeFn(this.transformValue(e));}writeValue(e){let n=this.transformValue(e);this.value=n,super.writeValue(n);}reset(){this.writeValue(0),this.onChange(0);}transformValue(e){let n=typeof e!="string"?e:parseFloat(e);return n=n||0,this.min!==undefined&&(n=Math.max(n,this.min)),this.max!==undefined&&(n=Math.min(n,this.max)),n}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input-number"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("pfy-input-number",i.hostClass);},inputs:{placeholderAsLabel:"placeholderAsLabel"},outputs:{onblur:"onblur",onfocus:"onfocus",iconClick:"iconClick"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),bI],ngContentSelectors:ul$1,decls:14,vars:17,consts:[["inputArea",""],["inputAreaContent",""],["input",""],["data-testId","container",1,"pfy-input"],[1,"label",3,"required"],["data-testId","input-area",1,"input-area",3,"ngClass"],["data-testId","search-icon","name","search",1,"search-icon","input-icon"],[1,"input",3,"has-icon","has-value","icon-on-the-left","placeholder-as-label","disabled","readonly","autocomplete","type","step","ngModel"],["data-testid","input-area-content-wrapper",1,"input-area-content",3,"cdkObserveContent"],["data-testId","icon","type","button",1,"input-icon-button",3,"value","disabled"],["type","button","data-testId","icon",1,"input-icon-button",3,"disabled"],[1,"border"],["data-testId","helper-text",1,"helper"],[1,"label"],[1,"input",3,"ngModelChange","input","blur","focus","disabled","readonly","autocomplete","type","step","ngModel"],["data-testId","icon","type","button",1,"input-icon-button",3,"click","mousedown","value","disabled"],[1,"input-icon",3,"name","colorInherit"],["type","button","data-testId","icon",1,"input-icon-button",3,"click","disabled"],["name","close",1,"input-icon",3,"colorInherit"],["data-testId","helper-icon",1,"icon",3,"name","colorInherit"]],template:function(n,i){if(n&1){let r=XR();nP(pl$1),Kf$2(0,"div",3),kI(1,l_,2,4,"label",4),Kf$2(2,"div",5,0),kI(4,c_,1,0,"pfy-icon",6)(5,d_,3,22,"input",7),Kf$2(6,"div",8,1),VE("cdkObserveContent",function(){return nR(r),rR(i.onInputAreaContentChange())}),rP(8),Xf$2(),kI(9,p_,2,5,"button",9)(10,u_,2,2,"button",10),TP(11,"async"),ME(12,"div",11),Xf$2(),kI(13,h_,3,3,"small",12),Xf$2();}n&2&&(dE("disabled",i.disabled)("invalid",i.invalid)("search",i.isSearch),xR(),QR(i.label?1:-1),xR(),lE("ngClass",i.appearance),xR(2),QR(i.isSearch?4:-1),xR(),QR(i.inputAreaContentCount===0?5:-1),xR(),dE("disabled",i.disabled),xR(3),QR(!i.isSearch&&i.iconKey?9:-1),xR(),QR(i.isSearch&&_P(11,15,i.hasValue$)?10:-1),xR(3),QR(i.helperText?13:-1));},dependencies:[Ld$1,ge$9,Tt$4,wn$5,Vt$6,jt$3,Er$4,zd$1],styles:[Jp$1],changeDetection:0});}}return t})(),Qw=24,_u$2=60,bu$1=(()=>{class t{constructor(){this.timeChanged=new Xe$5,this.timeInvalid=new Xe$5,this.timeShift=Yw(),this.timeForm=new dn$5({hours:new Nt$1(0,[cn$4.required,cn$4.min(0),cn$4.max(Qw-1)]),minutes:new Nt$1(0,[cn$4.required,cn$4.min(0),cn$4.max(_u$2-1)])});}ngOnInit(){this.selection?.start&&(this.timeForm.controls.hours.setValue(this.selection.start.getHours()),this.timeForm.controls.minutes.setValue(this.selection.start.getMinutes()));}onInput(){if(this.timeForm.markAllAsTouched(),this.timeInvalid.emit(this.timeForm.invalid),this.timeForm.invalid)return;let e=new Date;e.setHours(Number(this.timeForm.value.hours),Number(this.timeForm.value.minutes)),this.timeChanged.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-calendar-time"]],inputs:{selection:"selection"},outputs:{timeChanged:"timeChanged",timeInvalid:"timeInvalid"},decls:7,vars:6,consts:[[1,"time-heading"],[1,"time-container",3,"formGroup"],["label","Hours","formControlName","hours",1,"time-input",3,"input","invalid","helperText"],["label","Minutes","formControlName","minutes",1,"time-input",3,"input","invalid","helperText"],[1,"time-shift-hint"]],template:function(n,i){n&1&&(Kf$2(0,"h5",0),fP(1,"Time"),Xf$2(),Kf$2(2,"div",1)(3,"pfy-input-number",2),VE("input",function(){return i.onInput()}),Xf$2(),Kf$2(4,"pfy-input-number",3),VE("input",function(){return i.onInput()}),Xf$2()(),Kf$2(5,"small",4),fP(6),Xf$2()),n&2&&(xR(2),lE("formGroup",i.timeForm),xR(),lE("invalid",i.timeForm.controls.hours.invalid&&i.timeForm.controls.hours.touched)("helperText",i.timeForm.controls.hours.invalid&&i.timeForm.controls.hours.touched?"Allowed range 0 - 23":""),xR(),lE("invalid",i.timeForm.controls.minutes.invalid&&i.timeForm.controls.minutes.touched)("helperText",i.timeForm.controls.minutes.invalid&&i.timeForm.controls.minutes.touched?"Allowed range 0 - 59":""),xR(2),ip$2("Time is defined for UTC",i.timeShift,""));},dependencies:[Tt$4,Vt$6,fd$1,Ki$4,Or$4,ha$3,ns$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:280px;text-align:center}@media (max-width: 839px){[_nghost-%COMP%]{width:100%}}.time-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}.time-input[_ngcontent-%COMP%]{width:100%}.time-heading[_ngcontent-%COMP%], .time-shift-hint[_ngcontent-%COMP%]{text-align:center}.time-shift-hint[_ngcontent-%COMP%]{display:block;color:#64634a;margin-top:.5rem}'],changeDetection:0});}}return t})();function Yw(){let t=new Date().getTimezoneOffset()*-1/_u$2;return t>0?`+${t}`:`${t}`}var _o$3=function(t){return t.SingleMonthView="single",t.DoubleMonthView="double",t}(_o$3||{}),bl$1=function(t){return t.Normal="normal",t.FitContainer="fit-container",t}(bl$1||{}),tl$1=(()=>{class t{constructor(e){this.changeDetectorRef=e,this.confirmButtonLabel="Apply",this.type=_o$3.DoubleMonthView,this.appearance=bl$1.Normal,this.showTimePicker=false,this.selectionChange=new Xe$5,this.selectionReset=new Xe$5,this.disabled=false,this.highlight=new He$8(null,null),this.monthsToRender=[],this.isSingleMonthView=false,this.buttonSize=lt$7,this.buttonType=Ze$5;}ngOnInit(){this.setCurrentMonths(this.currentMonth),this.selection=this.selection||new He$8(null,null),this.highlight=new He$8(this.selection.start,this.selection.end);}ngOnChanges(e){e.type&&(this.isSingleMonthView=this.type===_o$3.SingleMonthView),e.showTimePicker&&this.selection?.start&&(this.isSingleMonthView=this.type===_o$3.SingleMonthView,this.selection=e.showTimePicker.currentValue?new He$8(this.selection.start,this.selection.start):this.selection,this.highlight=new He$8(this.selection.start,this.selection.end));}setCurrentMonths(e){let n=e||new Date,i=n.getFullYear(),r=n.getMonth(),s=new Date(i,r);this.setMonthsToRender(s,this.getNextMonth(s));}setMonthsToRender(e,n){this.monthsToRender=[new es$1(e),new es$1(n)],this.changeDetectorRef.markForCheck();}setDisabled(e){this.disabled=e;}next(){let e=this.monthsToRender[1].date,n=this.getNextMonth(e);this.setMonthsToRender(e,n);}prev(){let e=this.monthsToRender[0].date,n=this.getPrevMonth(e);this.setMonthsToRender(n,e);}getPrevMonth(e){return new Date(e.getFullYear(),e.getMonth()-1,e.getDate())}getNextMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,e.getDate())}applyTime(e){this.selection&&(this.selection.start?.setHours(e.getHours()),this.selection.start?.setMinutes(e.getMinutes()),this.changeDetectorRef.markForCheck());}applyPreset(e){this.selection&&(this.selection=new He$8(e.start,e.end),this.highlight=new He$8(e.start,e.end),this.changeDetectorRef.markForCheck(),this.setCurrentMonths(e.end||undefined));}reset(){this.selection=new He$8(null,null),this.highlight=new He$8(null,null),this.changeDetectorRef.markForCheck(),this.selectionReset.emit();}onSave(){this.selectionChange.emit(this.selection);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-calendar"]],inputs:{confirmButtonLabel:"confirmButtonLabel",dateRangeLimit:"dateRangeLimit",minDate:[2,"minDate","minDate",e=>e&&new Date(e)],maxDate:[2,"maxDate","maxDate",e=>e&&new Date(e)],presetsType:"presetsType",type:"type",selection:"selection",currentMonth:"currentMonth",appearance:"appearance",showTimePicker:"showTimePicker"},outputs:{selectionChange:"selectionChange",selectionReset:"selectionReset"},features:[BR,tR],decls:17,vars:15,consts:[[1,"calendar",3,"ngClass"],[3,"type","minDate","maxDate","dateRangeLimit","selectionDateRange"],[1,"datepicker-container"],[1,"months"],[1,"nav","prev","action-icon",3,"click","size","type","isIconOnly"],["name","keyboard_arrow_left"],[1,"nav","next","action-icon",3,"click","size","type","isIconOnly"],["name","keyboard_arrow_right"],[1,"month-container"],[1,"month-view",3,"singleDateSelection","month","minDate","maxDate","dateRangeLimit","highlight","selection"],[1,"time"],[1,"controls"],["type","secondary","data-testid","resetButton",3,"click"],["data-testid","saveButton",3,"click","disabled"],[3,"presetSelect","type","minDate","maxDate","dateRangeLimit","selectionDateRange"],[1,"month-view",3,"highlightChange","selectionChange","singleDateSelection","month","minDate","maxDate","dateRangeLimit","highlight","selection"],["data-testid","calendarTime",3,"timeChanged","timeInvalid","selection"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),kI(1,g_,1,5,"pfy-calendar-presets",1),Kf$2(2,"div",2)(3,"div",3)(4,"pfy-button",4),VE("click",function(){return i.prev()}),ME(5,"pfy-icon",5),Xf$2(),Kf$2(6,"pfy-button",6),VE("click",function(){return i.next()}),ME(7,"pfy-icon",7),Xf$2(),Kf$2(8,"div",8),JR(9,m_,1,7,"pfy-calendar-month",9,YR),Xf$2()(),kI(11,f_,2,1,"div",10),Xf$2(),Kf$2(12,"div",11)(13,"pfy-button",12),VE("click",function(){return i.reset()}),fP(14,"Clear"),Xf$2(),Kf$2(15,"pfy-button",13),VE("click",function(){return i.onSave()}),fP(16),Xf$2()()()),n&2&&(dE("single",i.isSingleMonthView)("show-time-picker",i.showTimePicker),lE("ngClass",i.appearance),xR(),QR(i.showTimePicker?-1:1),xR(3),lE("size",i.buttonSize.Small)("type",i.buttonType.Ghost)("isIconOnly",true),xR(2),lE("size",i.buttonSize.Small)("type",i.buttonType.Ghost)("isIconOnly",true),xR(3),KR(i.monthsToRender),xR(2),QR(i.showTimePicker?11:-1),xR(4),lE("disabled",i.disabled),xR(),ip$2(" ",i.confirmButtonLabel," "));},dependencies:[Ld$1,Gw,We$8,ge$9,zw,bu$1],styles:['@charset "UTF-8";.calendar[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;max-width:calc(560px + 4rem);padding:1rem;background:#fff;border:1px solid #e0e0d7;border-radius:6px;z-index:30}.calendar.single[_ngcontent-%COMP%]:not(.show-time-picker){max-width:calc(280px + 2rem)}.show-time-picker[_ngcontent-%COMP%]   .datepicker-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between}@media (max-width: 839px){.show-time-picker[_ngcontent-%COMP%]   .datepicker-container[_ngcontent-%COMP%]{flex-direction:row}}@media (max-width: 599px){.show-time-picker[_ngcontent-%COMP%]   .datepicker-container[_ngcontent-%COMP%]{flex-direction:column}}.months[_ngcontent-%COMP%]{position:relative}.month-container[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:space-between;position:relative;-webkit-user-select:none;user-select:none}@media (max-width: 839px){.month-container[_ngcontent-%COMP%]   .month-view[_ngcontent-%COMP%]:last-of-type{display:none}}.single[_ngcontent-%COMP%]   .month-view[_ngcontent-%COMP%]:last-of-type, .show-time-picker[_ngcontent-%COMP%]   .month-view[_ngcontent-%COMP%]:last-of-type{display:none}.nav[_ngcontent-%COMP%]{cursor:pointer;color:#000}.nav.action-icon[_ngcontent-%COMP%]{position:absolute;z-index:10}.nav.prev[_ngcontent-%COMP%]{left:0}.nav.next[_ngcontent-%COMP%]{right:0}.controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:.5rem;padding-bottom:env(safe-area-inset-bottom);gap:.5rem}@media (max-width: 839px){.calendar[_ngcontent-%COMP%]{width:calc(280px + 2rem)}.calendar.show-time-picker[_ngcontent-%COMP%]{width:100%}}@media (max-width: 599px){.calendar[_ngcontent-%COMP%]{width:100%;bottom:0;left:0}.calendar.normal[_ngcontent-%COMP%]{position:absolute}.calendar.single[_ngcontent-%COMP%]:not(.show-time-picker){max-width:unset}.nav[_ngcontent-%COMP%]{top:-.125rem}.time[_ngcontent-%COMP%]{width:100%}}'],changeDetection:0});}}return t})(),Ua$2=1;function Cu$1(){return Ua$2===Number.MAX_SAFE_INTEGER&&(Ua$2=1),Ua$2++}var Kr$2=function(t){return t.Open="open",t.Close="close",t}(Kr$2||{}),Kw=50,xi$4=4,Mp=16,Pp=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:xi$4},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-4}],Ii$3=new k$5("WINDOW",{providedIn:"root",factory:()=>window}),Io$3=(()=>{class t{constructor(){this.window=N$8(Ii$3),this.document=N$8(L$8),this.overlay=N$8(Jt$6),this.viewportService=N$8(nn$6),this.location=N$8(Xe$4),this.isMobile$=this.viewportService.matchBelow(gt$7.ML),this.showOverlay$=new In$7(1),this.hideOverlay$=new In$7(1),this.openedDropdownOverlays$=$p$1(this.showOverlay$.pipe(ie$b(e=>({type:Kr$2.Open,config:e}))),this.hideOverlay$.pipe(ie$b(e=>({type:Kr$2.Close,origin:e})))).pipe(Rc$2(this.isMobile$),Qc$3((e,[n,i])=>this.processAction(e,n,i),[]),Sc$2([]),_c$3({refCount:true,bufferSize:1})),this.showOverlays$=this.openedDropdownOverlays$.pipe(Tc$2(),ie$b(([e,n])=>Xw(e,n)),Ye$b(e=>e.length>0)),this.closeOverlays$=this.openedDropdownOverlays$.pipe(Tc$2(),ie$b(([e,n])=>Zw(e,n)),Ye$b(e=>e.length>0)),this.windowResize$=this.window?_i$7(this.window,"resize").pipe(Wc$3(Kw),Sc$2({}),ie$b(()=>this.window.innerWidth),Dr$5(),Nc$2(1)):ph$2,this.initDropdowns();}ngOnDestroy(){this.showOverlay$.complete(),this.hideOverlay$.complete(),this.locationSubscription?.unsubscribe();}isDropdownOpened$(e){return this.openedDropdownOverlays$.pipe(ie$b(n=>n.some(i=>Wa$1(i,e?.()))),Dr$5())}isChildDropdown$(e,n){return this.openedDropdownOverlays$.pipe(ie$b(i=>{let r=i.findIndex(p=>Wa$1(p,e));return r<0?false:i.findIndex(({overlayRef:p})=>p.hostElement?.contains(n))>=r}))}show(e){this.showOverlay$.next(x$d(w$9({},e),{asOverlayOnMobile:e.asOverlayOnMobile===undefined?true:e.asOverlayOnMobile}));}hide(e){this.hideOverlay$.next(e);}updatePosition(e){return E$e(this,null,function*(){let n=yield th$2(this.openedDropdownOverlays$),i=n.findIndex(r=>Wa$1(r,e));n.slice(i).forEach(({overlayRef:r})=>r.updatePosition());})}initDropdowns(){this.showOverlays$.subscribe(e=>e.forEach(({config:n,overlayRef:i})=>{let r=new Nn$4(n.dropdownTemplateRef,n.viewContainerRef);i.attach(r);})),this.closeOverlays$.subscribe(e=>e.forEach(n=>n.overlayRef.detach())),this.locationSubscription=this.location.subscribe(()=>this.hide()),this.initAdjustDropdownsWidth(),this.initAdjustDropdownsPositionStrategy(),this.initAdjustDropdownsHorizontally();}processAction(e,n,i){return n.type===Kr$2.Close?this.processClose(e,n):this.processOpen(e,n,i)}processClose(e,{origin:n}){if(!n)return [];let i=e.findIndex(r=>r.overlayRef.hostElement?.contains(n.nativeElement));return e.slice(0,i+1)}processOpen(e,{config:n},i){let r=this.createItem(n,i);if(n.clear)return [r];let s=e.findIndex(O=>O.overlayRef.hostElement?.contains(n.origin.nativeElement));return [...e.slice(0,s+1),r]}createItem(e,n){let i=e.asOverlayOnMobile&&n?this.getGlobalOverlayPositionStrategy():e.stretch?this.getStretchOverlayPositionStrategy(e):this.getOverlayPositionStrategyToOrigin(e),r=this.overlay.create({width:this.getOverlayWidth(e),positionStrategy:i,scrollStrategy:e.scrollStrategy??this.overlay.scrollStrategies.block(),disposeOnNavigation:true,hasBackdrop:false});return {overlayRef:r,config:e,strategy$:this.getPositionStrategy$(r,e)}}getPositionStrategy$(e,n){let i=hi$7(e.getConfig().positionStrategy),r=n.asOverlayOnMobile?this.isMobile$.pipe(Nc$2(1),ie$b(p=>p?this.getGlobalOverlayPositionStrategy():this.getOverlayPositionStrategyToOrigin(n))):be$8,s=(n.customPositions?.length||Pp.length)+1;return $p$1(r,i).pipe(Ye$b(p=>!!p),Ac$3(p=>hi$7(p).pipe(Mh$2(O=>n.positioningContainer?this.adjustDropdownVertically(O,e,n):be$8),mt$8(s))))}initAdjustDropdownsWidth(){this.windowResize$.pipe(Rc$2(this.openedDropdownOverlays$,this.isMobile$),Ye$b(([,e])=>e.length>0)).subscribe(([,e,n])=>e.filter(({config:i})=>!i.asOverlayOnMobile||!n).forEach(({config:i,overlayRef:r})=>r.updateSize({width:this.getOverlayWidth(i)}))),this.isMobile$.pipe(Nc$2(1),Rc$2(this.openedDropdownOverlays$),Ye$b(([e,n])=>n.length>0&&e)).subscribe(([,e])=>e.filter(n=>!!n.config.asOverlayOnMobile).forEach(({overlayRef:n})=>n.updateSize({width:undefined})));}initAdjustDropdownsPositionStrategy(){this.openedDropdownOverlays$.pipe(Ac$3(e=>$p$1(...e.map(({strategy$:n,overlayRef:i})=>n.pipe(Nc$2(1),Mc$2(0,Yp$1),ie$b(r=>({strategy:r,overlayRef:i}))))))).subscribe(({overlayRef:e,strategy:n})=>e.updatePositionStrategy(n));}adjustDropdownVertically(e,n,i){let r=i.positioningContainer;return !("positionChanges"in e)||!r?be$8:e.positionChanges.pipe(Ac$3(s=>{if(!n.overlayElement)return be$8;let p=n.overlayElement.getBoundingClientRect(),O=r.getBoundingClientRect(),D=i.origin.nativeElement.getBoundingClientRect(),V=s.connectionPair.offsetY??xi$4,j=D.top-p.height-V,re=j>0,he=j>O.top;return p.bottom+V>O.bottom&&re&&he?i.customPositions?.length===1?be$8:hi$7(this.getOverlayPositionStrategyToOrigin(i,true)):be$8}))}initAdjustDropdownsHorizontally(){let e=this.openedDropdownOverlays$.pipe(ie$b(n=>n.filter(i=>!!i.config.positioningContainer)),Ac$3(n=>$p$1(...n.map(i=>i.strategy$.pipe(Ac$3(r=>"positionChanges"in r?r.positionChanges:be$8),ie$b(()=>i))))));Hp$2([e,this.windowResize$.pipe(Sc$2(undefined))]).subscribe(([{overlayRef:n,config:i}])=>{if(!i.positioningContainer||!n.hostElement||!n.overlayElement)return;let r=i.horizontalOffset??xi$4,s=n.overlayElement.getBoundingClientRect(),p=i.positioningContainer.getBoundingClientRect(),O=Math.min(0,p.right-s.right-r),D=Math.max(0,p.left-(s.left+O)+r),V=O+D,j=parseInt(n.hostElement.style.left,10)||0;n.hostElement.style.left=`${V+j}px`;});}getOverlayPositionStrategyToOrigin({origin:e,connectedToEl:n,customPositions:i},r=false){let s=i?.length?i:Pp;return this.overlay.position().flexibleConnectedTo(n||e).setOrigin(n||e).withViewportMargin(xi$4).withFlexibleDimensions(false).withPositions(r?s.reverse():s).withPush(true)}getGlobalOverlayPositionStrategy(){return this.overlay.position().global().top("0").right("0").bottom("0").left("0")}getStretchOverlayPositionStrategy({origin:e,connectedToEl:n,positioningContainer:i,verticalOffset:r=xi$4,horizontalOffset:s=Mp}){let p=(i??this.document.body).getBoundingClientRect(),D=(n||e).nativeElement.getBoundingClientRect().bottom+r,V=p.left+s;return this.overlay.position().global().top(`${D}px`).left(`${V}px`)}getOverlayWidth(e){if(e.stretch)return (e.positioningContainer??this.document.body).getBoundingClientRect().width-Mp*2;if(e.fullWidth)return e.origin.nativeElement.offsetWidth}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function Xw(t,o){return o.filter(e=>!t.includes(e))}function Zw(t,o){return t.filter(e=>!o.includes(e))}function Wa$1({overlayRef:t,config:o},e){if(!e)return !!t;if(o.origin===e)return  true;let n=e.nativeElement,i=o.origin.nativeElement??null;return n.contains(i)}var yu$1=(()=>{class t extends Io$3{static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),MS=(()=>{class t extends Io$3{static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Jw(t){return t.every(o=>o!=null)}var tn$4=(()=>{class t{constructor(){this.destroy$=new Z$a,this.inputs={},this.inputsChange=new Z$a,this.inputs$=gi$4(()=>this.inputsChange.pipe(Sc$2(w$9({},this.inputs)))).pipe(Oc$2(this.destroy$),_c$3({refCount:true,bufferSize:1})),this.inputsSignal=Wn$4(this.inputs$);}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}observe(e){return this.inputs$.pipe(ie$b(n=>n[e]),Dr$5())}get(e){return this.inputs[e]}signal(e){return HP(()=>this.inputsSignal()?.[e])}set(e,n){let i=typeof e=="string"?{[e]:n}:e,r=w$9(w$9({},this.inputs),i);this.inputs=r,this.inputsChange.next(r);}onChanges(e){let n=Object.entries(e),i=Object.fromEntries(n.map(([r,s])=>[r,s.currentValue]));this.set(i);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),pn$6=(()=>{class t{constructor(e,n,i,r){this.inputsService=e,this.overlayService=n,this.viewContainerRef=i,this.destroyRef=r,this.inputEl$=new yn$7(undefined),this.resultTemplate$=new yn$7(undefined),this.originEl$=new yn$7(undefined),this.dropdownOrigin$=Hp$2([this.originEl$,this.inputEl$]).pipe(ie$b(([s,p])=>s||p)),this.outsideClick$=new In$7(1),this.clickedOutsideDropdown$=this.outsideClick$.pipe(Rc$2(this.inputEl$),Ye$b(Jw),Ac$3(([s,p])=>this.isClickedOutside(s,p)),Ye$b(s=>s)),this.isOpen$=this.dropdownOrigin$.pipe(Ye$b(s=>!!s),Dr$5(),Ac$3(s=>this.overlayService.isDropdownOpened$(()=>s))),this.toggle$=new In$7(1),this.toggleEvent$=this.toggle$.pipe(Rc$2(this.isOpen$),ie$b(([s,p])=>s??!p)),this.showDropdownList$=$p$1(this.toggleEvent$,this.clickedOutsideDropdown$.pipe(ie$b(s=>!s))),this.value=new yn$7(new Set),this.selectionSet$=this.value.asObservable(),this.value$=this.value.pipe(ie$b(s=>this.mapToOutputValue(s))),this.valueChange=new Xe$5,this.selectedItem$=this.value$.pipe(Ye$b(s=>!(s instanceof Set))),this.selectedItems$=this.value$.pipe(Ye$b(s=>s instanceof Set)),this.onChangeFn=()=>{},this.handleDropdownListShowing(),this.updateValueOnModeChange();}ngOnDestroy(){this.toggle$.complete(),this.valueChange.complete();}setInputEl(e){this.inputEl$.next(e);}setResultTemplate(e){this.resultTemplate$.next(e);}setOriginEl(e){this.originEl$.next(e);}toggle(e){this.toggle$.next(e);}handleOutsideClick(e){this.outsideClick$.next(e);}onSelect(e){if(e?.disabled)return;let n=this.inputsService.get("multiple"),i=this.handleItemSelect(e,n);this.setValue(i),this.notifyValueChange(i),n||this.toggle(false);}isSelected(e){return this.value.getValue().has(e)}registerOnChange(e){this.onChangeFn=e;}setValue(e){this.value.next(e1(e));}getValue(){return this.mapToOutputValue(this.value.getValue())}getSelectionSet(){return this.value.getValue()}deselectItem(e){let n=this.inputsService.get("multiple"),i=this.value.getValue();if(n){if(!e)return;let s=new Set(i);s.delete(e)&&(this.setValue(s),this.notifyValueChange(s));return}let r=new Set;(!e||i.has(e))&&(this.setValue(r),this.notifyValueChange(r));}clearAll(){let e=new Set;this.setValue(e),this.notifyValueChange(e);}hasValue(){return this.value.getValue().size>0}mapToOutputValue(e){return this.inputsService.get("multiple")?e:t1(e)}notifyValueChange(e){let n=this.mapToOutputValue(e);this.inputsService.set("value",n),this.onChangeFn(n),this.valueChange.emit(n);}handleItemSelect(e,n){return n?n1(this.value.getValue(),e):new Set([e])}updateValueOnModeChange(){this.inputsService.observe("multiple").pipe(Hc$3(0,Yp$1),ie$b(e=>!!e),Dr$5(),Rc$2(this.value),Nc$2(1),X$7(this.destroyRef)).subscribe(([e,n])=>{let i=e?new Set(n):new Set;this.setValue(i),this.notifyValueChange(i);});}handleDropdownListShowing(){this.showDropdownList$.pipe(Rc$2(this.isOpen$,this.inputsService.inputs$,this.dropdownOrigin$,this.resultTemplate$),X$7(this.destroyRef)).subscribe(([e,n,i,r,s])=>{e&&!i.disabled?this.overlayService.show(this.getDropdownOverlayConfig(i,r,s)):n&&this.overlayService.hide(r);});}isClickedOutside(e,n){return n.nativeElement.contains(e)?hi$7(false):this.overlayService.isChildDropdown$(n,e).pipe(mt$8(1),ie$b(i=>!i))}getDropdownOverlayConfig({fullWidth:e,positioningContainer:n,connectedToEl:i,customPositions:r,horizontalOffset:s,verticalOffset:p,stretch:O},D,V){return (0, Z$9.assert)(!!D,"Origin must be present in Dropdown Component service"),(0, Z$9.assert)(!!V,"Result must be present in Dropdown Component service"),{origin:D,dropdownTemplateRef:V,viewContainerRef:this.viewContainerRef,asOverlayOnMobile:false,fullWidth:e,positioningContainer:n,connectedToEl:i,customPositions:r,horizontalOffset:s,verticalOffset:p,stretch:O}}static{this.\u0275fac=function(n){return new(n||t)(pe$9(tn$4),pe$9(Io$3),pe$9(Ja$5),pe$9(mn$6))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function e1(t){return t instanceof Set?t:new Set(t?[t]:[])}function t1(t){return t.values().next().value}function n1(t,o){let e=new Set(t);return e.has(o)?e.delete(o):e.add(o),e}var Do$1=(()=>{class t{constructor(){this.inputsService=N$8(tn$4),this.componentService=N$8(pn$6),this.dropdownId=Cu$1(),this.innerId=oI(`pfy-dropdown-${this.dropdownId}`),this.innerResultId=oI(`pfy-dropdown-${this.dropdownId}-popup`),this.innerLabelId=oI(""),this.innerValueId=oI(""),this.innerControls=oI(undefined),this.innerActiveDescendant=oI(undefined),this.innerInputRole=oI(undefined),this.innerResultRole=oI("listbox"),this.innerLabel=oI(undefined),this.innerInputLabelledBy=oI(undefined),this.innerResultLabelledBy=oI(undefined),this.innerDisabled=oI(undefined),this.innerRequired=oI(undefined),this.innerInvalid=oI(undefined),this.innerMultiselectable=oI(undefined),this.id=HP(()=>this.inputsService.signal("name")()||this.innerId()),this.labelId=HP(()=>this.inputsService.signal("ariaLabelId")()||this.innerLabelId()),this.resultId=HP(()=>this.inputsService.signal("ariaResultId")()||this.innerResultId()),this.valueId=HP(()=>this.inputsService.signal("ariaValueId")()||this.innerValueId()),this.activeDescendant=HP(()=>this.inputsService.signal("ariaActiveDescendant")()||this.innerActiveDescendant()),this.inputRole=HP(()=>this.inputsService.signal("ariaInputRole")()??this.innerInputRole()),this.resultRole=HP(()=>this.inputsService.signal("ariaResultRole")()||this.innerResultRole()),this.expanded=Wn$4(this.componentService.isOpen$),this.controls=HP(()=>this.expanded()?this.resultId():undefined),this.disabled=HP(()=>this.inputsService.signal("disabled")()?.toString()??this.innerDisabled()??"false"),this.required=HP(()=>this.inputsService.signal("required")()?.toString()??this.innerRequired()??"false"),this.invalid=HP(()=>this.inputsService.signal("invalid")()?.toString()??this.innerInvalid()??"false"),this.multiselectable=HP(()=>this.inputsService.signal("multiple")()?.toString()??this.innerMultiselectable()??"false"),this.label=HP(()=>this.inputsService.signal("ariaLabel")()||this.innerLabel()),this.inputLabelledBy=HP(()=>{if(this.label())return;if(this.innerInputLabelledBy())return this.innerInputLabelledBy();let e="",n=this.labelId(),i=this.valueId(),r=this.inputsService.signal("ariaLabelledBy")();return n&&(e=n),i&&(e=e?e+" "+i:i),r&&(e=e?e+" "+r:r),e}),this.resultLabelledBy=HP(()=>{if(this.label())return;if(this.innerResultLabelledBy())return this.innerResultLabelledBy();let e="",n=this.labelId(),i=this.inputsService.signal("ariaLabelledBy")();return n&&(e=n),i&&(e=e?e+" "+i:i),e});}setId(e){this.innerId.set(e);}setLabelId(e){this.innerLabelId.set(e);}setValueId(e){this.innerValueId.set(e);}setResultId(e){this.innerResultId.set(e);}setControls(e){this.innerControls.set(e);}setActiveDescendant(e){this.innerActiveDescendant.set(e);}setInputRole(e){this.innerInputRole.set(e);}setResultRole(e){this.innerResultRole.set(e);}setLabel(e){this.innerLabel.set(e);}setInputLabelledBy(e){this.innerInputLabelledBy.set(e);}setResultLabelledBy(e){this.innerResultLabelledBy.set(e);}setDisabled(e){this.innerDisabled.set(e);}setRequired(e){this.innerRequired.set(e);}setInvalid(e){this.innerInvalid.set(e);}setMultiselectable(e){this.innerMultiselectable.set(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),us$2=(()=>{class t{constructor(){this.keydownTrigger=new Z$a,this.keydown$=this.keydownTrigger.asObservable();}keydown(e){this.keydownTrigger.next(e);}ngOnDestroy(){this.keydownTrigger.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),hs$2=(()=>{class t{set id(e){this.accessibilityService.setId(e);}set ariaControls(e){e&&this.accessibilityService.setResultId(e);}set ariaLabel(e){this.accessibilityService.setLabel(e);}set ariaLabelledBy(e){this.accessibilityService.setInputLabelledBy(e);}set ariaDisabled(e){this.accessibilityService.setDisabled(e);}set ariaRequired(e){this.accessibilityService.setRequired(e);}set ariaInvalid(e){this.accessibilityService.setInvalid(e);}set ariaActiveDescendant(e){this.accessibilityService.setActiveDescendant(e);}constructor(e,n,i,r,s,p){this.dropdownComponentService=e,this.accessibilityService=n,this.dropdownEventsService=i,this.dropdownInputsService=r,this.elementRef=s,this.destroyRef=p;}ngOnInit(){this.dropdownComponentService.isOpen$.pipe(Nc$2(1),Bt$7(Kp$1),Ye$b(()=>document.activeElement===document.body),X$7(this.destroyRef)).subscribe(()=>{this.elementRef.nativeElement.focus();}),Hp$2([this.dropdownInputsService.observe("multiple"),this.dropdownComponentService.isOpen$]).pipe(Ac$3(([e,n])=>e&&n?this.dropdownComponentService.valueChange:be$8),X$7(this.destroyRef)).subscribe(()=>this.elementRef.nativeElement.focus()),this.dropdownEventsService.keydown$.pipe(Rc$2(this.dropdownComponentService.isOpen$,this.dropdownInputsService.observe("typeahead")),Ye$b(([,e])=>!e),X$7(this.destroyRef)).subscribe(([e,,n])=>{let i=["ArrowDown","ArrowUp","Enter"];n&&i.push(" "),i.includes(e.key)&&(e.preventDefault(),e.stopPropagation(),this.dropdownComponentService.toggle(true));}),this.dropdownEventsService.keydown$.pipe(Rc$2(this.dropdownComponentService.isOpen$),Ye$b(([,e])=>e),X$7(this.destroyRef)).subscribe(([e])=>{["Tab","Escape"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this.dropdownComponentService.toggle(false));});}onMousedown(){this.dropdownComponentService.toggle();}onKeydown(e){this.dropdownEventsService.keydown(e);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(pn$6),Yo$4(Do$1),Yo$4(us$2),Yo$4(tn$4),Yo$4(Uo$5),Yo$4(mn$6))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownAction",""]],hostVars:11,hostBindings:function(n,i){n&1&&VE("mousedown",function(s){return i.onMousedown(s)})("keydown",function(s){return i.onKeydown(s)}),n&2&&GI("id",i.accessibilityService.id())("role",i.accessibilityService.inputRole())("aria-controls",i.accessibilityService.controls())("aria-expanded",i.accessibilityService.expanded())("aria-label",i.accessibilityService.label())("aria-labelledby",i.accessibilityService.inputLabelledBy())("aria-disabled",i.accessibilityService.disabled())("aria-required",i.accessibilityService.required())("aria-invalid",i.accessibilityService.invalid())("aria-activedescendant",i.accessibilityService.activeDescendant())("haspopup",i.accessibilityService.resultRole());},inputs:{id:"id",ariaControls:[0,"aria-controls","ariaControls"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledBy:[0,"aria-labelledby","ariaLabelledBy"],ariaDisabled:[0,"aria-disabled","ariaDisabled"],ariaRequired:[0,"aria-required","ariaRequired"],ariaInvalid:[0,"aria-invalid","ariaInvalid"],ariaActiveDescendant:[0,"aria-activedescendant","ariaActiveDescendant"]}});}}return t})(),Cl$1=new k$5("DROPDOWN_GROUP_ITEM"),is$2=(()=>{class t{constructor(){this.small=false,this.canRemove=true,this.removeTag=new Xe$5,this.changeDetectorRef=N$8(bw$1),this.highlighted=false;}ngOnInit(){(0, Z$9.assert)(!!this.name,"Name should be defined in TagComponent");}onRemoveTagClick(){this.removeTag.emit();}setActiveStyles(){this.highlighted=true,this.changeDetectorRef.markForCheck();}setInactiveStyles(){this.highlighted=false,this.changeDetectorRef.markForCheck();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-tag"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("highlighted",i.highlighted);},inputs:{name:"name",small:"small",iconKey:"iconKey",canRemove:"canRemove"},outputs:{removeTag:"removeTag"},decls:5,vars:9,consts:[["data-testid","tag",1,"tag",3,"ngClass","disabled"],["data-testid","front-icon",1,"material-icons","front-icon"],[1,"tag-name"],["data-testid","remove-icon",1,"material-icons","remove-icon"],["data-testid","remove-icon",1,"material-icons","remove-icon",3,"click"]],template:function(n,i){n&1&&(Kf$2(0,"button",0),kI(1,b_$1,2,1,"i",1),Kf$2(2,"span",2),fP(3),Xf$2(),kI(4,C_$1,2,0,"i",3),Xf$2()),n&2&&(lE("ngClass",wP(5,__$1,i.small,i.canRemove,!!i.iconKey))("disabled",!i.canRemove),xR(),QR(i.iconKey?1:-1),xR(2),WE(i.name),xR(),QR(i.canRemove?4:-1));},dependencies:[Ld$1,Tn$4],styles:['@charset "UTF-8";.highlighted[_nghost-%COMP%]{outline:2px solid #0096cc;outline-offset:-2px;border-radius:4px}.tag[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#e0e0d7;border-radius:4px;line-height:1.5rem;font-size:1rem;color:#2f2e0c;height:32px;white-space:nowrap;border:none;padding:.25rem .5rem}.tag.can-remove[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d0d0c3}.small[_ngcontent-%COMP%]{height:24px;line-height:1.25rem}.small[_ngcontent-%COMP%]   .tag-name[_ngcontent-%COMP%]{font-size:.875rem}.small[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1rem}.material-icons[_ngcontent-%COMP%]{font-size:1.25rem;color:#2f2e0c}.front-icon[_ngcontent-%COMP%]{margin-right:.25rem}.remove-icon[_ngcontent-%COMP%]{margin-left:.25rem}'],changeDetection:0});}}return t})(),i1=(()=>{class t{constructor(){this.buttonSize=lt$7,this.buttonType=Ze$5,this.selections$=new In$7(1),this.clearSelection=new Xe$5,this.clearAll=new Xe$5,this.selectedItems$=this.selections$.pipe(ie$b(e=>Array.from(e.entries()).flatMap(([n,i])=>n.getItems().filter(r=>i.has(r)).map(r=>({dropdownSelect:n,listItem:r})))));}set selections(e){this.selections$.next(e);}ngOnDestroy(){this.selections$.complete();}onClearAll(){this.clearAll.emit();}onRemoveTag(e){this.clearSelection.emit(e);}selectionTrackBy(e,{dropdownSelect:n,listItem:i}){let r=n.name||n.label||n.placeholder||"",s=i.value;return `${r} ${s}`.trim()}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-group-values"]],inputs:{selections:"selections"},outputs:{clearSelection:"clearSelection",clearAll:"clearAll"},decls:2,vars:3,consts:[["removeAllBtn",""],[1,"values"],[1,"item",3,"name"],[1,"item",3,"size","type"],[1,"item",3,"removeTag","name"],[1,"item",3,"buttonClick","size","type"]],template:function(n,i){if(n&1&&(kI(0,w_,4,1,"div",1),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.selectedItems$))?0:-1,r);}},dependencies:[is$2,We$8,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.values[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}'],changeDetection:0});}}return t})(),PS=(()=>{class t{constructor(){this.dropdowns$=new In$7(1),this.appearance$=new In$7(1),this.destroyRef=N$8(mn$6),this.selectChange=new Xe$5,this.initialChanges$=this.dropdowns$.pipe(mt$8(1),Ac$3(e=>e.toArray()),ie$b(e=>({dropdown:e,items:e.getSelectionSet()})),Ye$b(e=>!!e),bh$1(null)),this.selectedDropdownValues$=Je$6(this.initialChanges$,this.selectChange).pipe(Qc$3((e,n)=>{if(n){let{dropdown:i,items:r}=n;e.set(i,r);}return e},new Map),Hc$3(0)),this.selections$=Hp$2([this.dropdowns$,this.selectedDropdownValues$]).pipe(ie$b(([e,n])=>{let i=e.map(r=>{let s=n.get(r)||new Set;return [r,s]});return new Map(i)}),X$7(this.destroyRef),_c$3(1)),this.selectionsChange=this.selections$.pipe(Nc$2(1));}set appearance(e){this.appearance$.next(e);}ngAfterContentInit(){this.handleDropdownsContentChange(),this.handleDropdownsSelectChange(),this.syncDropdownSelectProps({appearance:this.appearance$});}ngOnDestroy(){this.appearance$.complete(),this.dropdowns$.complete(),this.selectChange.complete();}triggerClearSelection(){this.onClearAll();}onClearSelection({dropdownSelect:e,listItem:n}){this.dropdowns?.find(r=>r===e)?.deselectItem(n);}onClearAll(){this.dropdowns?.forEach(e=>e.clearAll());}handleDropdownsContentChange(){(0, Z$9.assert)(!!this.dropdowns,"Dropdowns QueryList should be defined");let e=this.dropdowns;e.changes.pipe(Sc$2(e),X$7(this.destroyRef)).subscribe(this.dropdowns$);}handleDropdownsSelectChange(){(0, Z$9.assert)(!!this.dropdowns,"Dropdowns QueryList should be defined");let e=this.dropdowns;e.changes.pipe(Sc$2(e),Ac$3(n=>n.toArray()),ve$9(n=>n.selectionSet$.pipe(ie$b(i=>({dropdown:n,items:i})),Oc$2(e.changes))),X$7(this.destroyRef)).subscribe(this.selectChange);}syncDropdownSelectProps(e){for(let[n,i]of Object.entries(e))this.syncDropdownSelectProp(n,i);}syncDropdownSelectProp(e,n){Hp$2([this.dropdowns$,n]).pipe(Bt$7(J$7),X$7(this.destroyRef)).subscribe(([i,r])=>i.forEach(s=>{e==="appearance"&&s.setAppearance(r);}));}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-group"]],contentQueries:function(n,i,r){if(n&1&&oP(r,Cl$1,5),n&2){let s;sP(s=aP())&&(i.dropdowns=s);}},inputs:{appearance:"appearance"},outputs:{selectChange:"selectChange",selectionsChange:"selectionsChange"},ngContentSelectors:oe$6,decls:4,vars:3,consts:[[1,"items"],["data-testId","values",1,"values",3,"selections"],["data-testId","values",1,"values",3,"clearSelection","clearAll","selections"]],template:function(n,i){if(n&1&&(nP(),Kf$2(0,"div",0),rP(1),Xf$2(),kI(2,x_,1,1,"pfy-dropdown-group-values",1),TP(3,"async")),n&2){let r;xR(2),QR((r=_P(3,1,i.selections$))?2:-1,r);}},dependencies:[i1,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.items[_ngcontent-%COMP%]{display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column;z-index:0}.items[_ngcontent-%COMP%]  pfy-dropdown-select+pfy-dropdown-select, .items[_ngcontent-%COMP%]  pfy-dropdown-select+pfy-calendar-dropdown, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown+pfy-dropdown-select, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown+pfy-calendar-dropdown{margin-left:-1px}.items[_ngcontent-%COMP%]  pfy-dropdown-select .input-area, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown .input-area{contain:layout}.items[_ngcontent-%COMP%]  pfy-dropdown-select:hover, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown:hover{z-index:1}.items[_ngcontent-%COMP%]  pfy-dropdown-select:focus-within, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown:focus-within{z-index:2}.items[_ngcontent-%COMP%]  pfy-dropdown-select:not(:first-child) .input-area, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown:not(:first-child) .input-area{border-top-left-radius:0;border-bottom-left-radius:0}.items[_ngcontent-%COMP%]  pfy-dropdown-select:not(:last-child) .input-area, .items[_ngcontent-%COMP%]  pfy-calendar-dropdown:not(:last-child) .input-area{border-top-right-radius:0;border-bottom-right-radius:0}.items[_ngcontent-%COMP%]  pfy-dropdown:hover{z-index:1}.items[_ngcontent-%COMP%]  pfy-dropdown:focus-within{z-index:2}.items[_ngcontent-%COMP%]  pfy-dropdown:not(:first-of-type) pfy-dropdown-input .value-container{border-top-left-radius:0;border-bottom-left-radius:0}.items[_ngcontent-%COMP%]  pfy-dropdown:not(:first-of-type) pfy-dropdown-input .border{margin-left:-1px}.items[_ngcontent-%COMP%]  pfy-dropdown:not(:last-of-type) pfy-dropdown-input .value-container{border-top-right-radius:0;border-bottom-right-radius:0}.values[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0});}}return t})(),Xn$3=function(t){return t.Opened="arrow_drop_up",t.Closed="arrow_drop_down",t}(Xn$3||{}),o1=(()=>{class t{constructor(){this.values=[],this.appearance=mt$6.Normal,this.disabled=false,this.remove=new Xe$5,this.inputAppearance=mt$6,this.dropdownEventsService=N$8(us$2),this.destroyRef=N$8(mn$6);}ngAfterViewInit(){this.keyManager=new no$3(this.tags).withVerticalOrientation(false).withHorizontalOrientation("ltr").withWrap(),this.dropdownEventsService.keydown$.pipe(X$7(this.destroyRef)).subscribe(e=>this.onKeydown(e));}removeItem(e){this.remove.emit(e);}onKeydown(e){let n=["ArrowUp","ArrowDown"];if(e.key==="Backspace"){let i=this.keyManager.activeItemIndex??-1;i>-1&&this.keepActiveIndex(i);let r=i===-1?this.values.length-1:i;this.removeItem(this.values[r]);}else n.includes(e.key)?this.keyManager.setActiveItem(-1):this.keyManager.onKeydown(e);}onTagMousedown(e){e.stopPropagation(),e.preventDefault();}itemTrackBy(e,n){return n.value}keepActiveIndex(e){e===this.values.length-1?this.keyManager.setPreviousItemActive():this.keyManager.setNextItemActive();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-input-values"]],viewQuery:function(n,i){if(n&1&&iP(is$2,5),n&2){let r;sP(r=aP())&&(i.tags=r);}},hostVars:1,hostBindings:function(n,i){n&2&&GI("tabindex",i.disabled?-1:0);},inputs:{values:"values",appearance:"appearance",disabled:"disabled"},outputs:{remove:"remove"},decls:2,vars:0,consts:[["data-testid","tag",1,"tag",3,"name","small","canRemove"],["data-testid","tag",1,"tag",3,"removeTag","mousedown","name","small","canRemove"]],template:function(n,i){n&1&&JR(0,O_,1,3,"pfy-tag",0,i.itemTrackBy,true),n&2&&KR(i.values);},dependencies:[is$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;overflow:auto;padding:.5rem;min-height:var(--input-height)}[_nghost-%COMP%]:focus{outline:none}.tag[_ngcontent-%COMP%]{margin-left:.25rem;white-space:nowrap}'],changeDetection:0});}}return t})(),r1=(()=>{class t{constructor(e,n,i){this.dropdownComponentService=e,this.accessibilityService=n,this.dropdownInputsService=i,this.inputs$=this.dropdownInputsService.inputs$,this.valueId=this.accessibilityService.valueId,this.labelId=this.accessibilityService.labelId,this.value$=this.dropdownComponentService.value$,this.iconKey$=this.dropdownComponentService.isOpen$.pipe(Sc$2(false),ie$b(l1)),this.inputValuesVisible$=Hp$2([this.value$,this.inputs$]).pipe(ie$b(a1),Dr$5()),this.inputValue$=Hp$2([this.value$,this.inputs$]).pipe(ie$b(s1),Dr$5()),this.items$=Hp$2([this.dropdownInputsService.observe("multiple"),this.value$]).pipe(ie$b(([r,s])=>r&&s instanceof Set?Array.from(s):[])),this.accessibilityService.setInputRole("combobox"),this.accessibilityService.setLabelId(this.accessibilityService.id()+"-label"),this.accessibilityService.setValueId(this.accessibilityService.id()+"-value");}ngAfterViewInit(){this.dropdownOrigin&&this.dropdownComponentService.setOriginEl(this.dropdownOrigin);}toggleItem(e){this.dropdownComponentService.onSelect(e);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(pn$6),Yo$4(Do$1),Yo$4(tn$4))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-input"]],viewQuery:function(n,i){if(n&1&&iP(M_,5,Uo$5),n&2){let r;sP(r=aP())&&(i.dropdownOrigin=r.first);}},decls:17,vars:23,consts:[["dropdownOrigin",""],["data-testId","label",1,"label",3,"required"],["pfyDropdownAction","","data-testid","valueContainer",1,"value-container",3,"ngClass"],[1,"value",3,"hidden"],[1,"multi-value",3,"values","disabled","appearance"],[1,"single-value"],["data-testid","placeholder",1,"placeholder",3,"placeholder-as-label"],["data-testid","inputIcon",1,"input-icon",3,"name"],[1,"border"],["data-testId","helperText",1,"helper",3,"invalid"],["data-testId","label",1,"label"],[1,"multi-value",3,"remove","values","disabled","appearance"],["data-testid","placeholder",1,"placeholder"],["data-testId","helperText",1,"helper"],["data-testId","helperIcon",1,"icon",3,"name","colorInherit"]],template:function(n,i){if(n&1&&(ew$1(0),TP(1,"async"),ew$1(2),TP(3,"async"),ew$1(4),TP(5,"async"),kI(6,P_,2,4,"label",1),Kf$2(7,"div",2,0)(9,"div",3),kI(10,k_,2,5,"pfy-dropdown-input-values",4)(11,S_,2,1,"span",5),Xf$2(),kI(12,T_,2,4,"span",6),ME(13,"pfy-icon",7),TP(14,"async"),ME(15,"div",8),Xf$2(),kI(16,I_,3,5,"small",9)),n&2){let r=hP(_P(1,13,i.inputs$));xR(2);let s=hP(_P(3,16,i.inputValue$)),p=_P(5,19,i.inputValuesVisible$);xR(4),QR(r!=null&&r.label?6:-1),xR(),dE("disabled",r==null?null:r.disabled)("invalid",r==null?null:r.invalid),lE("ngClass",r==null?null:r.appearance),GI("tabindex",r!=null&&r.disabled?-1:0),xR(2),lE("hidden",!p&&!s),GI("id",i.valueId()),xR(),QR(p?10:s?11:-1),xR(2),QR(!p&&!s&&(r!=null&&r.placeholder)?12:-1),xR(),lE("name",_P(14,21,i.iconKey$)),xR(3),QR(r!=null&&r.helperText?16:-1);}},dependencies:[hs$2,Ld$1,o1,ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem;color:#2f2e0c;display:flex;gap:.125rem}.label.required[_ngcontent-%COMP%]:after{content:"*"}.value-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#2f2e0c;background-color:#fff;border-radius:4px;cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;min-height:fit-content;width:320px;min-width:100%;max-width:100%;font-size:1rem;line-height:1.5rem}.value-container[_ngcontent-%COMP%]:hover ~ .border[_ngcontent-%COMP%], .value-container[_ngcontent-%COMP%]:hover > .border[_ngcontent-%COMP%]{border-color:#a8a794}.value-container[_ngcontent-%COMP%]:focus-visible{outline:none}.value-container[_ngcontent-%COMP%]:focus-within ~ .border[_ngcontent-%COMP%], .value-container[_ngcontent-%COMP%]:focus-visible ~ .border[_ngcontent-%COMP%], .value-container[_ngcontent-%COMP%]:focus-within > .border[_ngcontent-%COMP%], .value-container[_ngcontent-%COMP%]:focus-visible > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.value-container[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.value-container.text-field[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:transparent}.value-container.disabled[_ngcontent-%COMP%]{pointer-events:none;background-color:#f5f5f0}.value-container.disabled[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%], .value-container.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .value-container.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .value-container.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.value-container.disabled[_ngcontent-%COMP%]   .input-icon-button[_ngcontent-%COMP%]{color:#a8a794}.value-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f0;cursor:not-allowed}@media (min-width: 600px){.value-container[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.value-container.normal[_ngcontent-%COMP%]{height:48px}.value-container.compact[_ngcontent-%COMP%]{height:40px}.value-container.text-field[_ngcontent-%COMP%], .value-container.ultra-compact[_ngcontent-%COMP%]{height:32px}.text-field[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]{background-color:transparent}.placeholder[_ngcontent-%COMP%]{color:#a8a794}.placeholder.placeholder-as-label[_ngcontent-%COMP%]{color:#2f2e0c}.value[_ngcontent-%COMP%]{display:contents}.placeholder[_ngcontent-%COMP%], .single-value[_ngcontent-%COMP%]{flex:1;min-width:0;padding-left:.75rem;white-space:nowrap;overflow:hidden}.disabled[_ngcontent-%COMP%] > .placeholder[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%] > .single-value[_ngcontent-%COMP%]{color:#a8a794}.multi-value[_ngcontent-%COMP%]{flex:1}pfy-icon.input-icon[_ngcontent-%COMP%]{flex:0 0;color:#2f2e0c;text-align:center}.disabled[_ngcontent-%COMP%] > pfy-icon.input-icon[_ngcontent-%COMP%]{color:#a8a794}.normal[_ngcontent-%COMP%] > pfy-icon.input-icon[_ngcontent-%COMP%]{flex-basis:48px;width:48px}.compact[_ngcontent-%COMP%] > pfy-icon.input-icon[_ngcontent-%COMP%]{flex-basis:40px;width:40px}.text-field[_ngcontent-%COMP%] > pfy-icon.input-icon[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > pfy-icon.input-icon[_ngcontent-%COMP%]{flex-basis:32px;width:32px}.helper[_ngcontent-%COMP%]{margin-top:.25rem;color:#64634a;transition:color .15s ease;display:flex;gap:.5rem}.helper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:1.25rem}'],changeDetection:0});}}return t})();function s1([t,{multiple:o,showValueAsCount:e,placeholder:n,label:i}]){if(o&&e&&t instanceof Set)return t.size?t.size+" selected":undefined;if(!vu$1(n,i))return t&&"name"in t?t.name:undefined}function a1([t,{showValueAsCount:o,multiple:e,label:n,placeholder:i}]){let r=t instanceof Set?t.size:0;return e&&r>0&&!vu$1(i,n)&&!o}function vu$1(t,o){return !!t&&!o}function l1(t){return t?Xn$3.Opened:Xn$3.Closed}var gs$1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownInput",""]]});}}return t})(),os$2=(()=>{class t{constructor(e,n,i,r){this.dropdownService=e,this.inputsService=n,this.changeDetectorRef=i,this.elementRef=r,this.id=`option-${Cu$1()}`,this.highlighted=false;}get selected(){return this.dropdownService.isSelected(this.item)}get disabled(){return this.inputsService.get("disabled")||this.item.disabled||false}get multiple(){return this.inputsService.get("multiple")||false}get markSelected(){return this.inputsService.get("markSelected")||false}get roleAttr(){return this.role??this.inputsService.get("ariaResultRole")==="menu"?"menuitem":"option"}getLabel(){return this.item.name+(this.item.secondaryName?` ${this.item.secondaryName}`:"")}getHostElement(){return this.elementRef.nativeElement}onSelect(e){if(this.disabled){e.preventDefault(),e.stopPropagation();return}this.dropdownService.onSelect(this.item);}setActiveStyles(){this.highlighted=true,this.markForCheck();}setInactiveStyles(){this.highlighted=false,this.markForCheck();}markForCheck(){this.changeDetectorRef.markForCheck();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(pn$6),Yo$4(tn$4),Yo$4(bw$1),Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownOption",""]],hostVars:11,hostBindings:function(n,i){n&1&&VE("click",function(s){return i.onSelect(s)}),n&2&&(GI("role",i.roleAttr)("id",i.id)("aria-selected",i.selected)("aria-disabled",i.disabled)("data-analyticsid",i.item.listItemAnalyticsId),dE("disabled",i.disabled)("separated-before",i.item.separatedBefore)("highlighted",i.highlighted));},inputs:{item:[0,"pfyDropdownOption","item"],role:"role",id:"id"}});}}return t})(),c1=(()=>{class t{constructor(){this.dropdownOption=N$8(os$2,{self:true});}get item(){return this.dropdownOption.item}get selected(){return this.dropdownOption.selected}get disabled(){return this.dropdownOption.disabled}get multiple(){return this.dropdownOption.multiple}get markSelected(){return this.dropdownOption.markSelected}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-option-v2"]],features:[HR([{directive:os$2,inputs:["pfyDropdownOption","item"]}])],decls:4,vars:1,consts:[["content",""],["checkmark",""],["tabindex","-1",1,"content-wrapper"],["data-testid","wrapper",1,"content-wrapper"],[4,"ngTemplateOutlet"],[1,"selection-container"],[1,"image"],[1,"name-container"],[1,"name"],[1,"secondary-name"],["data-testid","checkbox",1,"checkbox",3,"checked","disabled"],["data-testid","checkmark","name","check",1,"check"]],template:function(n,i){n&1&&kI(0,E_,2,3,"a",2)(1,A_,2,1,"div",3)(2,j_,6,4,"ng-template",null,0,OP),n&2&&QR(i.item.href?0:1);},dependencies:[$d$2,Ti$7,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;color:#2f2e0c}.separated-before[_nghost-%COMP%]:not(:first-child){border-top:1px solid #e0e0d7;padding-top:.5rem}.disabled[_nghost-%COMP%]{color:#a8a794;pointer-events:none}.highlighted[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{border-radius:4px;background-color:#f5f5f0}.content-wrapper[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;column-gap:.5rem;padding:.5rem;width:100%;color:inherit;text-decoration:none;font-size:1rem;line-height:1.5rem}@media (min-width: 600px){.content-wrapper[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.content-wrapper.active[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]:hover{border-radius:4px;background-color:#f5f5f0}.selection-container[_ngcontent-%COMP%]{width:24px;height:24px}.image[_ngcontent-%COMP%]{width:32px;height:32px}.name-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:.25rem}.secondary-name[_ngcontent-%COMP%]{display:flex;color:#64634a;font-size:.875rem;line-height:1.25rem}@media (min-width: 600px){.secondary-name[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}'],changeDetection:0});}}return t})(),d1=(()=>{class t{constructor(e,n,i,r,s,p,O){this.inputsService=e,this.dropdownService=n,this.accessibilityService=i,this.dropdownEventsService=r,this.changeDetectorRef=s,this.elementRef=p,this.destroyRef=O,this.items=[];}ngOnInit(){this.watchInputsChanges(),this.dropdownEventsService.keydown$.pipe(X$7(this.destroyRef)).subscribe(e=>this.onKeyDown(e));}ngAfterViewInit(){this.notifyOptions(),this.initKeyManager();}ngOnDestroy(){this.keyManager?.destroy(),this.accessibilityService.setActiveDescendant(undefined);}get shouldMatchWidth(){return this.fullWidth??this.inputsService.get("fullWidth")}get shouldTypeahead(){return this.typeahead??this.inputsService.get("typeahead")}get multiple(){return this.inputsService.get("multiple")}onKeyDown(e){let n=this.shouldTypeahead?["Enter"," "]:["Enter"],i=["ArrowLeft","ArrowRight"],r=this.dropdownService.hasValue();this.keyManager.activeItem&&!this.keyManager.isTyping()&&n.includes(e.key)?(e.preventDefault(),this.keyManager.activeItem.onSelect(e)):this.multiple&&r&&i.includes(e.key)?this.keyManager.setActiveItem(-1):this.keyManager.onKeydown(e);}itemsTrackBy(e,n){return `${n.name}_${n.value}`}onMouseDown(e){e.preventDefault();}initKeyManager(){let e=this.contentOptions.length?this.contentOptions:this.viewOptions;this.keyManager=new no$3(e).withHomeAndEnd().withPageUpDown().withWrap(),this.shouldTypeahead&&this.keyManager.withTypeAhead(),this.keyManager.change.pipe(X$7(this.destroyRef)).subscribe(()=>{this.scrollToActiveItem(this.keyManager.activeItemIndex),this.accessibilityService.setActiveDescendant(this.keyManager.activeItem?.id);}),this.setInitialActiveItem();}setInitialActiveItem(){let e=this.dropdownService.hasValue(),n=this.contentOptions.length?this.contentOptions:this.viewOptions,i=e?n.find(r=>this.dropdownService.isSelected(r.item)):n.find(r=>!r.disabled);if(i){this.keyManager.setActiveItem(i),this.changeDetectorRef.detectChanges();return}}scrollToActiveItem(e){let i=(this.contentOptions.length?this.contentOptions:this.viewOptions).toArray()[e??0]?.getHostElement(),r=this.elementRef.nativeElement,s=9;i&&(i.offsetTop<r.scrollTop&&(r.scrollTop=i.offsetTop-s),i.offsetTop+i.offsetHeight>r.scrollTop+r.clientHeight&&(r.scrollTop=Math.max(0,i.offsetTop+i.offsetHeight-r.clientHeight+s)));}notifyOptions(){Hp$2([this.inputsService.observe("multiple"),this.inputsService.observe("markSelected"),this.inputsService.observe("disabled"),this.inputsService.observe("ariaResultRole"),this.dropdownService.value$]).pipe(Nc$2(1),X$7(this.destroyRef)).subscribe(()=>{this.contentOptions.forEach(e=>e.markForCheck()),this.viewOptions.forEach(e=>e.markForCheck());});}watchInputsChanges(){Hp$2([this.inputsService.observe("fullWidth"),this.inputsService.observe("multiple")]).pipe(X$7(this.destroyRef)).subscribe(()=>this.changeDetectorRef.markForCheck());}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(tn$4),Yo$4(pn$6),Yo$4(Do$1),Yo$4(us$2),Yo$4(bw$1),Yo$4(Uo$5),Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-options"]],contentQueries:function(n,i,r){if(n&1&&oP(r,os$2,5),n&2){let s;sP(s=aP())&&(i.contentOptions=s);}},viewQuery:function(n,i){if(n&1&&iP(os$2,5),n&2){let r;sP(r=aP())&&(i.viewOptions=r);}},hostAttrs:["role","presentation"],hostVars:2,hostBindings:function(n,i){n&1&&VE("mousedown",function(s){return i.onMouseDown(s)}),n&2&&dE("full-width",i.shouldMatchWidth);},inputs:{items:"items",fullWidth:"fullWidth",typeahead:"typeahead"},ngContentSelectors:oe$6,decls:4,vars:1,consts:[["options",""],[3,"item"],[4,"ngTemplateOutlet"]],template:function(n,i){n&1&&(nP(),kI(0,U_,2,0)(1,G_,1,1,"ng-container")(2,Q_,1,0,"ng-template",null,0,OP)),n&2&&QR(i.contentOptions.length===0?0:1);},dependencies:[c1,$d$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border:1px solid #e0e0d7;border-radius:4px;padding:.5rem;row-gap:.5rem;max-height:100%;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]:not(.full-width){min-width:220px}'],changeDetection:0});}}return t})(),p1=(()=>{class t{constructor(e){this.inputsService=e,this.fullWidth=Wn$4(Hp$2([this.inputsService.observe("fullWidth"),this.inputsService.observe("stretch")]).pipe(ie$b(([n,i])=>n||i))),this.inputs$=this.inputsService.inputs$;}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(tn$4))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-result"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("full-width",i.fullWidth());},decls:2,vars:3,consts:[[3,"items"]],template:function(n,i){if(n&1&&(kI(0,Y_,1,1,"pfy-dropdown-options",0),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.inputs$))?0:-1,r);}},dependencies:[d1,zd$1],styles:["[_nghost-%COMP%]{display:block}.full-width[_nghost-%COMP%]{width:100%;max-width:100%}"],changeDetection:0});}}return t})(),ms$2=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownResult",""]]});}}return t})(),yl$1=(()=>{class t{set id(e){this.accessibilityService.setResultId(e);}set role(e){this.accessibilityService.setResultRole(e);}set multiselectable(e){this.accessibilityService.setMultiselectable(e);}set label(e){this.accessibilityService.setLabel(e);}set resultLabelledBy(e){this.accessibilityService.setResultLabelledBy(e);}onDocumentMousedown(e){this.elementRef.nativeElement.contains(e.target)||this.dropdownComponentService.handleOutsideClick(e.target);}onKeydown(e){this.keydown$.next(e);}constructor(e,n,i,r,s){this.accessibilityService=e,this.dropdownComponentService=n,this.elementRef=i,this.renderer=r,this.destroyRef=s,this.keydown$=new Z$a,this.shouldSetMaxHeight=true,this.tabindex="0";}ngOnInit(){this.disableFocusedStyles(),this.setMaxHeight(),this.handleKeydown();}ngOnDestroy(){this.keydown$.complete();}handleKeydown(){this.keydown$.pipe(Rc$2(this.dropdownComponentService.isOpen$),X$7(this.destroyRef)).subscribe(([e,n])=>{["Tab","Escape"].includes(e.key)&&n&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this.dropdownComponentService.toggle(false));});}disableFocusedStyles(){this.renderer.setStyle(this.elementRef.nativeElement,"outline","none");}setMaxHeight(){if(!this.shouldSetMaxHeight)return;this.renderer.setStyle(this.elementRef.nativeElement,"max-height",`${Math.round(window.innerHeight/3)}px`);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Do$1),Yo$4(pn$6),Yo$4(Uo$5),Yo$4(NR),Yo$4(mn$6))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDropdownResultAction",""]],hostVars:6,hostBindings:function(n,i){n&1&&VE("mousedown",function(s){return i.onDocumentMousedown(s)},false,MR)("keydown",function(s){return i.onKeydown(s)}),n&2&&GI("id",i.accessibilityService.resultId())("role",i.accessibilityService.resultRole())("aria-multiselectable",i.accessibilityService.multiselectable())("aria-label",i.accessibilityService.label())("aria-labelledby",i.accessibilityService.resultLabelledBy())("tabindex",i.tabindex);},inputs:{shouldSetMaxHeight:"shouldSetMaxHeight",id:"id",role:"role",multiselectable:[0,"aria-multiselectable","multiselectable"],label:[0,"aria-label","label"],resultLabelledBy:[0,"aria-labelledby","resultLabelledBy"]}});}}return t})(),xo$3=(()=>{class t{set input(e){this.dropdownComponentService.setInputEl(e);}set result(e){this.dropdownComponentService.setResultTemplate(e);}get value(){return this.dropdownComponentService.getValue()}set value(e){this.dropdownComponentService.setValue(e);}constructor(e,n){this.dropdownComponentService=e,this.dropdownInputsService=n,this.disabled=false,this.label="",this.placeholder="",this.helperText="",this.name="",this.invalid=false,this.required=false,this.items=[],this.markSelected=true,this.appearance=mt$6.Compact,this.fullWidth=true,this.typeahead=true,this.openedChange=this.dropdownComponentService.isOpen$,this.multiple=false,this.showValueAsCount=false,this.stretch=false,this.ariaResultRole="listbox",this.valueChange=this.dropdownComponentService.valueChange,this.selectionSet$=this.dropdownComponentService.selectionSet$,this.onTouched=()=>{},this.initInputs();}ngOnChanges(e){this.dropdownInputsService.onChanges(e);}ngOnDestroy(){this.dropdownComponentService.toggle(false);}writeValue(e){this.dropdownComponentService.setValue(e);}registerOnChange(e){this.dropdownComponentService.registerOnChange(e);}registerOnTouched(e){this.onTouched=e;}setDisabledState(e){this.disabled=e,this.dropdownInputsService.set("disabled",e);}reset(){this.dropdownComponentService.setValue(undefined);}toggle(e){this.dropdownComponentService.toggle(e);}selectItem(e){this.dropdownComponentService.onSelect(e);}getItems(){return this.dropdownInputsService.get("items")}getSelectionSet(){return this.dropdownComponentService.getSelectionSet()}deselectItem(e){this.dropdownComponentService.deselectItem(e);}clearAll(){this.dropdownComponentService.clearAll();}setAppearance(e){this.dropdownInputsService.set("appearance",e);}initInputs(){let e=UP(t)?.inputs;if((0, Z$9.assert)(!!e,"Dropdown component must be able to read its own inputs"),!e.length)return;let n=Object.fromEntries(e.map(({propName:i})=>[i,this[i]]).filter(([,i])=>i!==undefined));this.dropdownInputsService.set(n);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(pn$6),Yo$4(tn$4))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown"]],contentQueries:function(n,i,r){if(n&1&&(oP(r,gs$1,5,fo$3),oP(r,ms$2,5,fo$3)),n&2){let s;sP(s=aP())&&(i.inputTemplate=s.first),sP(s=aP())&&(i.resultTemplate=s.first);}},viewQuery:function(n,i){if(n&1&&(iP(Si$3,5,Uo$5),iP(K_,5,fo$3)),n&2){let r;sP(r=aP())&&(i.input=r.first),sP(r=aP())&&(i.result=r.first);}},inputs:{value:"value",disabled:"disabled",label:"label",placeholder:"placeholder",helperText:"helperText",name:"name",invalid:"invalid",required:"required",items:"items",markSelected:"markSelected",appearance:"appearance",fullWidth:"fullWidth",positioningContainer:"positioningContainer",connectedToEl:"connectedToEl",customPositions:"customPositions",horizontalOffset:"horizontalOffset",verticalOffset:"verticalOffset",typeahead:"typeahead",multiple:"multiple",showValueAsCount:"showValueAsCount",stretch:"stretch",ariaInputRole:"ariaInputRole",ariaResultRole:"ariaResultRole",ariaResultId:"ariaResultId",ariaLabelId:"ariaLabelId",ariaValueId:"ariaValueId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaActiveDescendant:"ariaActiveDescendant"},outputs:{openedChange:"openedChange",valueChange:"valueChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true},{provide:Cl$1,useExisting:uu$4(()=>t),multi:true},pn$6,Do$1,tn$4,us$2]),tR],decls:6,vars:2,consts:[["input",""],["result",""],["data-testid","input"],[3,"ngTemplateOutlet"],["pfyDropdownResultAction",""]],template:function(n,i){n&1&&(Kf$2(0,"div",2,0),TE(2,3),kI(3,X_,1,0,"pfy-dropdown-input"),Xf$2(),kI(4,J_,2,2,"ng-template",null,1,OP)),n&2&&(xR(2),lE("ngTemplateOutlet",i.inputTemplate),xR(),QR(i.inputTemplate?-1:3));},dependencies:[$d$2,r1,p1,yl$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-width:0}'],changeDetection:0});}}return t})(),u1=(()=>{class t{set selection(e){e&&this.selection$.next(e);}constructor(e,n){this.datePipe=e,this.dropdownOverlayService=n,this.label="",this.placeholder="",this.placeholderAsLabel=false,this.required=false,this.invalid=false,this.helperText="",this.showArrows=false,this.autoCloseOnChange=false,this.confirmButtonLabel="Apply",this.isSingleMonth=false,this.presetsType=Kn$3.SpecificRanges,this.showTimePicker=false,this.appearance=mt$6.Normal,this.disabled=false,this.fullWidth=false,this.selectionChange=new Xe$5,this.calendarAppearance=bl$1,this.calendarType=_o$3,this.isVisibleCalendar$=this.dropdownOverlayService.isDropdownOpened$().pipe(Sc$2(false)),this.iconKey$=this.isVisibleCalendar$.pipe(ie$b(i=>this.showArrows?i?"arrow_drop_up":"arrow_drop_down":"calendar_today")),this.selection$=new yn$7(new He$8(null,null)),this.selectionLabel$=this.selection$.pipe(ie$b(i=>this.getSelectionLabel(i)));}hideCalendar(){this.dropdownOverlayService.hide();}setSelection(e){this.selection$.next(e??new He$8(null,null)),this.selectionChange.emit(e??null),e&&this.autoCloseOnChange&&this.hideCalendar();}getSelectionLabel(e){if(!e||!e.start&&!e.end)return "";let n=(s,p)=>this.datePipe.transform(s,p)||"";if(this.showTimePicker)return n(e.start,"dd/MM/yy HH:mm");let i="MMM d";if(!e.end)return n(e.start,i);if(!e.start)return n(e.end,i);let r=e.start.getMonth()===e.end.getMonth()?"d":i;return `${n(e.start,i)} - ${n(e.end,r)}`}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(qd$1),Yo$4(Io$3))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-calendar-dropdown"]],viewQuery:function(n,i){if(n&1&&iP(tl$1,5),n&2){let r;sP(r=aP())&&(i.calendarComponent=r.first);}},inputs:{label:"label",placeholder:"placeholder",placeholderAsLabel:"placeholderAsLabel",required:"required",invalid:"invalid",helperText:"helperText",showArrows:"showArrows",autoCloseOnChange:"autoCloseOnChange",confirmButtonLabel:"confirmButtonLabel",currentMonth:"currentMonth",dateRangeLimit:"dateRangeLimit",isSingleMonth:"isSingleMonth",presetsType:"presetsType",selection:"selection",showTimePicker:"showTimePicker",appearance:"appearance",disabled:"disabled",fullWidth:"fullWidth"},outputs:{selectionChange:"selectionChange"},decls:3,vars:3,consts:[[3,"appearance","disabled","fullWidth"],["pfyDropdownAction","","data-testid","calendarInput",3,"iconKey","label","placeholder","placeholderAsLabel","helperText","readOnly","required","invalid","value",4,"pfyDropdownInput"],["pfyDropdownResultAction","",3,"appearance","confirmButtonLabel","currentMonth","selection","dateRangeLimit","presetsType","showTimePicker","type","selectionChange","selectionReset",4,"pfyDropdownResult"],["pfyDropdownAction","","data-testid","calendarInput",3,"iconKey","label","placeholder","placeholderAsLabel","helperText","readOnly","required","invalid","value"],["pfyDropdownResultAction","",3,"selectionChange","selectionReset","appearance","confirmButtonLabel","currentMonth","selection","dateRangeLimit","presetsType","showTimePicker","type"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-dropdown",0),kI(1,e0,3,13,"pfy-input",1)(2,t0,2,10,"pfy-calendar",2),Xf$2()),n&2&&lE("appearance",i.appearance)("disabled",i.disabled)("fullWidth",i.fullWidth);},dependencies:[xo$3,gs$1,In$5,hs$2,ms$2,tl$1,yl$1,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]     .input:not(:disabled){cursor:pointer}@media (max-width: 839px){pfy-calendar[_ngcontent-%COMP%]{width:100%}}@media (max-width: 599px){pfy-calendar[_ngcontent-%COMP%]     .calendar{position:relative}}'],changeDetection:0});}}return t})(),wu$2=function(t){return t.Exclude="fs-exclude",t.Mask="fs-mask",t.Unmask="fs-unmask",t}(wu$2||{}),h1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyCaptureMasking",""]],hostVars:2,hostBindings:function(n,i){n&2&&WR(i.captureMasking);},inputs:{captureMasking:[0,"pfyCaptureMasking","captureMasking"]}});}}return t})(),xu$2=100;function kp(t,o){return new M$a(e=>{let n=new ResizeObserver(i=>{g1(()=>e.next(i[0]),o);});return n.observe(m1$1(t)),()=>n.disconnect()}).pipe(f1(o))}function g1(t,o){o?.run?o.run(t):t();}function m1$1(t){return typeof t=="function"?t():t}function f1(t){return t?oi$5():Wc$3(0,Kp$1)}var fs$1=(()=>{class t{constructor(){this.destroyRef=N$8(mn$6),this.ngZone=N$8(te$6,{optional:true});}observe(e,n){return kp(e).pipe(this.shareUntilDestroyed(n))}observeInZone(e,n){return (0, Z$9.assert)(!!this.ngZone,"An injected NgZone is required to observe an element within that Zone."),kp(e,this.ngZone).pipe(this.shareUntilDestroyed(n))}shareUntilDestroyed(e=this.destroyRef){return oi$5(X$7(e),_c$3({bufferSize:1,refCount:true}))}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var ho$3={isWheelScrollMac:false,isWheelScrollWin:false};function _1(t,o){let e=b1(t,o),n=C1(t);return !e&&!n?(ho$3={isWheelScrollMac:e,isWheelScrollWin:n},false):e&&!ho$3.isWheelScrollMac||n&&!ho$3.isWheelScrollWin?(ho$3={isWheelScrollMac:e,isWheelScrollWin:n},false):(ho$3={isWheelScrollMac:e,isWheelScrollWin:n},true)}function b1(t,o){if(typeof navigator>"u"||!navigator.appVersion.includes("Mac"))return  false;let e=40,[n,i]=o?[t.deltaX,t.deltaY]:[t.deltaY,t.deltaX];return n%e===0&&i===0}function C1(t){return typeof navigator>"u"||!navigator.appVersion.includes("Win")?false:t.deltaX===0&&Math.abs(t.deltaY)===100}var Ou$1=function(t){return t.Small="small",t.Large="large",t}(Ou$1||{}),y1=(()=>{class t{get elementCssClass(){return "ink-col"}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-carousel-item"]],hostVars:2,hostBindings:function(n,i){n&2&&WR(i.elementCssClass);},ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;overflow:hidden;scroll-snap-align:center}@media (min-width: 960px){[_nghost-%COMP%]{scroll-snap-align:start}}@media (max-width: 839px){.carousel-horizontal   [_nghost-%COMP%]{flex:0 1 auto;width:auto;min-width:calc(242px + 2 * var(--grid-gutter))}}@media (min-width: 840px){.carousel-horizontal   [_nghost-%COMP%]{flex:0 0 33.3333333333%;width:33.3333333333%;min-width:0}}@media (min-width: 960px){.carousel-horizontal   [_nghost-%COMP%]{flex:0 0 25%;width:25%;min-width:0}}.carousel-vertical   [_nghost-%COMP%]{padding:var(--grid-gutter) 0}@media (max-width: 839px){.carousel-vertical   [_nghost-%COMP%]{flex:0 1 auto;height:auto;min-height:calc(242px + 2 * var(--grid-gutter))}}@media (min-width: 840px){.carousel-vertical   [_nghost-%COMP%]{flex:0 0 33.3333333333%;height:33.3333333333%;min-width:0}}@media (min-width: 960px){.carousel-vertical   [_nghost-%COMP%]{flex:0 0 25%;height:25%;min-width:0}}'],changeDetection:0});}}return t})(),v1=10,Sp=.1,nl$1=function(t){return t.Horizontal="horizontal",t.Vertical="vertical",t}(nl$1||{}),kS=(()=>{class t{set showSideGradients(e){this.showSideGradients$.next(e);}get elementCssClass(){return `carousel-${this.carouselType} carousel-${this.carouselSize}`}set list(e){this.list$.next(e);}get list(){return this.list$.getValue()}set items(e){this.items$.next(e);}get items(){return this.items$.getValue()}get listElement(){return this.list?.nativeElement}get isHorizontal(){return this.carouselType===nl$1.Horizontal}get buttonType(){return this.buttonBackground?Ze$5.Secondary:Ze$5.Ghost}constructor(e,n,i){this.destroyRef=e,this.resizeObserverService=n,this.viewportService=i,this.carouselType=nl$1.Horizontal,this.carouselSize=Ou$1.Large,this.buttonBackground=true,this.showSideGradients$=new yn$7(true),this.list$=new yn$7(undefined),this.items$=new yn$7(undefined),this.childItemsCount$=this.items$.pipe(Ye$b(r=>!!r),Ac$3(r=>r?.changes.pipe(Sc$2(r))),ie$b(r=>r.length)),this.carouselSize$=this.list$.pipe(Ye$b(r=>!!r),Ac$3(r=>this.resizeObserverService.observeInZone(r.nativeElement).pipe(Jc$5(xu$2,undefined,{leading:true,trailing:true}),ie$b(s=>[s.contentRect.width,s.contentRect.height]),Sc$2([r.nativeElement.clientWidth,r.nativeElement.clientHeight]),Dr$5(([s,p],[O,D])=>s===O&&p===D)))),this.paginated$=Hp$2([this.childItemsCount$,this.carouselSize$]).pipe(ie$b(([r])=>this.isPaginatedStatus(r)),yi$5(()=>hi$7(false)),Dr$5(),X$7(),_c$3({bufferSize:1,refCount:true})),this.listScrollElement$=this.list$.pipe(Ye$b(r=>!!r),Ac$3(r=>Je$6(hi$7(r.nativeElement),_i$7(r.nativeElement,"scroll",{passive:true}).pipe(ie$b(s=>s.currentTarget)))),X$7(),_c$3({bufferSize:1,refCount:true})),this.isLarge$=this.viewportService.match(gt$7.L),this.showButtons$=Hp$2([this.isLarge$,this.paginated$]).pipe(ie$b(([r,s])=>r&&s)),this.showGradients$=Hp$2([this.isLarge$,this.paginated$,this.showSideGradients$]).pipe(ie$b(([r,s,p])=>p&&!r&&s),Dr$5()),this.showLeftGradient$=this.showGradients$.pipe(Ac$3(r=>r?this.listScrollElement$.pipe(ie$b(s=>s.scrollLeft>0)):hi$7(false)),Dr$5()),this.showRightGradient$=this.showGradients$.pipe(Ac$3(r=>r?this.listScrollElement$.pipe(ie$b(s=>s.scrollWidth-Math.round(s.scrollLeft)>s.clientWidth)):hi$7(false)),Dr$5());}ngAfterViewInit(){this.initWheelScrollHandling();}initWheelScrollHandling(){if(!this.listElement)return;let e=this.listScrollElement$.pipe(Nc$2(1),Wc$3(v1));this.paginated$.pipe(Ac$3(i=>i?_i$7(this.listElement,"wheel"):ph$2),Ye$b(i=>this.shouldScroll(i)),kc$2(i=>i.preventDefault()),ie$b(i=>this.isDownwardScroll(i)),ki$6(()=>e)).pipe(X$7(this.destroyRef)).subscribe(i=>this.mouseWheelScrollTick(i));}nextPage(){if(!this.items)return;let e=this.getItemSize(),n=this.getCurrentItemIndex(e),i=this.getItemsPerPage(e),r=n+i,s=0;r<this.items.length&&(s=r),this.scrollToItem(s);}previousPage(){if(!this.items)return;let e=this.getItemSize(),n=this.getCurrentItemIndex(e),i=this.getItemsPerPage(e),r=n-i,s=r>=0,p=r;if(s){this.scrollToItem(p);return}r>-i?p=0:p=Math.max(this.items.length-i,0),this.scrollToItem(p);}getItemSize(){let e=this.listElement?.firstElementChild;return e?this.isHorizontal?e.getBoundingClientRect().width:e.getBoundingClientRect().height:0}getItemsPerPage(e=this.getItemSize()){if(!this.listElement)return 0;let{clientWidth:n,clientHeight:i}=this.listElement,s=(this.isHorizontal?n:i)/e;return Math.floor(s+Sp)}getCurrentItemIndex(e=this.getItemSize()){if(!this.listElement)return 0;let{scrollLeft:n,scrollTop:i}=this.listElement,r=this.isHorizontal?n:i;return Math.ceil(r/e-Sp)}scrollToItem(e){if(!this.listElement)return;let n=this.listElement.children.item(e),i={behavior:"smooth"};this.isHorizontal?i=x$d(w$9({},i),{left:n.offsetLeft}):i=x$d(w$9({},i),{top:n.offsetTop}),this.listElement.scrollTo(i);}shouldScroll(e){return this.isHorizontal&&!e.shiftKey||!this.isHorizontal&&e.shiftKey?false:_1(e,this.isHorizontal)}isDownwardScroll(e){return (e.deltaX||e.deltaY)>0}mouseWheelScrollTick(e){e?this.nextPage():this.previousPage();}isPaginatedStatus(e){let n=this.items?.length;if(n!==e)throw new Error("Carousel item count doesn't match rendered element count");if(!n||!e)return  false;let i=this.getItemsPerPage();return n>i}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(mn$6),Yo$4(fs$1),Yo$4(nn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-carousel"]],contentQueries:function(n,i,r){if(n&1&&oP(r,y1,4),n&2){let s;sP(s=aP())&&(i.items=s);}},viewQuery:function(n,i){if(n&1&&iP(ki$5,7),n&2){let r;sP(r=aP())&&(i.list=r.first);}},hostVars:2,hostBindings:function(n,i){n&2&&WR(i.elementCssClass);},inputs:{carouselType:"carouselType",carouselSize:"carouselSize",buttonBackground:"buttonBackground",showSideGradients:"showSideGradients"},ngContentSelectors:oe$6,decls:8,vars:11,consts:[["list",""],[1,"items-container"],["data-testid","list",1,"items","ink-grid"],["role","menu","data-testid","carouselMenu",1,"menu"],["size","small","data-testid","menuButtonPrev",1,"menu-button",3,"buttonClick","type","isIconOnly"],["title","Scroll to previous page",1,"menu-icon",3,"name"],["size","small","data-testid","menuButtonNext",1,"menu-button",3,"buttonClick","type","isIconOnly"],["title","Scroll to next page",1,"menu-icon",3,"name"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"div",1)(1,"div",2,0),TP(3,"async"),TP(4,"async"),rP(5),Xf$2()(),kI(6,n0,5,6,"div",3),TP(7,"async")),n&2&&(xR(),dE("left-indicator",_P(3,5,i.showLeftGradient$))("right-indicator",_P(4,7,i.showRightGradient$)),xR(5),QR(_P(7,9,i.showButtons$)?6:-1));},dependencies:[We$8,ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{--carousel-menu-position: 50%;--carousel-item-gap: 1rem;position:relative;display:block;min-height:54px}[_nghost-%COMP%]:has(.menu){padding:0 calc(32px + .5rem)}@media (min-width: 840px){.carousel-large[_nghost-%COMP%]{--carousel-item-gap: 1.5rem}}.carousel-vertical[_nghost-%COMP%]{--carousel-item-gap: .5rem}.carousel-vertical[_nghost-%COMP%]:has(.menu){padding:calc(32px + .5rem) 0}.items.ink-grid[_ngcontent-%COMP%]{--grid-gutter: calc(var(--carousel-item-gap) / 2)}.carousel-vertical[_nghost-%COMP%]   .items.ink-grid[_ngcontent-%COMP%]{margin:calc(var(--grid-gutter) * -1) 0}.items-container[_ngcontent-%COMP%]{overflow:hidden;position:relative}.items[_ngcontent-%COMP%]{display:flex;height:100%;flex-wrap:nowrap;list-style:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.carousel-horizontal[_nghost-%COMP%]   .items[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;overscroll-behavior-x:contain}.carousel-vertical[_nghost-%COMP%]   .items[_ngcontent-%COMP%]{flex-direction:column;overflow-x:hidden;scroll-snap-type:y mandatory;overscroll-behavior-y:contain;height:100%}.items[_ngcontent-%COMP%]:before, .items[_ngcontent-%COMP%]:after{z-index:10;content:"";position:absolute;top:0;bottom:0;width:52px;transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;pointer-events:none}.items.left-indicator[_ngcontent-%COMP%]:before, .items.right-indicator[_ngcontent-%COMP%]:after{transform:translate(0);opacity:1}.items[_ngcontent-%COMP%]:before{left:0;background:linear-gradient(90deg,#fff,#fff0);transform:translate(-100%)}.items[_ngcontent-%COMP%]:after{right:0;background:linear-gradient(270deg,#fff,#fff0);transform:translate(100%)}.menu[_ngcontent-%COMP%], .menu-button[_ngcontent-%COMP%]{position:absolute}.carousel-horizontal[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{top:var(--carousel-menu-position);left:0;width:100%;height:0}.carousel-vertical[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{top:0;left:var(--carousel-menu-position);width:0;height:100%}.menu-button[_ngcontent-%COMP%]{touch-action:manipulation}.carousel-horizontal[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]{top:0;transform:translateY(-50%)}.carousel-horizontal[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]:first-child{left:0}.carousel-horizontal[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]:last-child{right:0}.carousel-vertical[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]{transform:translate(-50%)}.carousel-vertical[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]:first-child{top:0}.carousel-vertical[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]:last-child{bottom:0}.menu-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.gradient-left.visible[_ngcontent-%COMP%], .gradient-right.visible[_ngcontent-%COMP%]{opacity:1}.gradient-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;width:150px;background:linear-gradient(270deg,#fff,#fff0)}.gradient-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:150px;background:linear-gradient(270deg,#fff0,#fff)}'],changeDetection:0});}}return t})(),Mu$1=t=>(t=t.trim(),t.startsWith("#")&&(t=t.substring(1)),t.length<6&&(t=t.split("").map(e=>e+e).join("")),new Array(t.length/2).fill(0).map((e,n)=>t.substr(n*2,2)).map(e=>parseInt(e,16))),w1=t=>{let[e,n,i]=t.map(j=>j/255),r=Math.max(e,n,i),s=Math.min(e,n,i),p=r-s,O=0,D=r===0?0:p/r,V=r;if(p){switch(r){case e:O=(n-i)/p+(n<i?6:0);break;case n:O=(i-e)/p+2;break;case i:O=(e-n)/p+4;break}O*=60;}return [O,D,V]};function x1(t){t=t.trim();let o=Mu$1(t);return (0, Z$9.assert)(M1(o),"Performing HSV conversion requires a color with 3 channels"),w1(o)}function SS(t){let o=t.map(i=>i.toString(16).padStart(2,"0")),e=o.every(i=>i[0]===i[1]);return "#"+o.map(i=>e?i[0]:i).join("")}function O1(t){let[o,e,n]=typeof t=="string"?Mu$1(t):t,r=.299*(o*o),p=.587*(e*e),D=.114*(n*n);return Math.sqrt(r+p+D)}function TS(t,o=.5){return O1(t)/255>o}function M1(t){return t.length===3}function Tp([t,o,e]){let n=e*o,i=n*(1-Math.abs(t/60%2-1)),r=e-n,s=0,p=0,O=0;t>=0&&t<60?(s=n,p=i):t>=60&&t<120?(s=i,p=n):t>=120&&t<180?(p=n,O=i):t>=180&&t<240?(p=i,O=n):t>=240&&t<300?(s=i,O=n):(s=n,O=i);let D=Math.round((s+r)*255),V=Math.round((p+r)*255),j=Math.round((O+r)*255);return `#${((1<<24)+(D<<16)+(V<<8)+j).toString(16).slice(1)}`}function Pu$1(t){let o=(t||"").trim();return ku$1(o)?o.startsWith("#")?o.slice(1):o:null}function P1(t){let o=Pu$1(t);return o?`#${o}`:null}function ku$1(t){let o=t.trim();return /^#?([0-9a-f]{3}|[0-9a-f]{6})$/i.test(o)}var Su$1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input-prefix"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:["[_nghost-%COMP%]{min-width:24px}"],changeDetection:0});}}return t})(),IS=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input-suffix"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:["[_nghost-%COMP%]{min-width:24px}"],changeDetection:0});}}return t})(),vl$1=(()=>{class t extends ns$2{constructor(e){super(e),this.isInputInFocus=false,this.isInvalid=false,this.hasCustomContent=false,this.hasPrefix=false,this.hasSuffix=false;}ngOnInit(){this.hasPrefix=!!this.prefixRef?.nativeElement.getElementsByTagName("pfy-input-prefix").length,this.hasSuffix=!!this.suffixRef?.nativeElement.getElementsByTagName("pfy-input-suffix").length,this.hasCustomContent=this.customContentRef&&this.customContentRef.nativeElement.hasChildNodes();}ngOnChanges(){this.isInvalid=this.invalid;}onInputBlur(e){this.isInputInFocus=false,this.changeDetector.markForCheck(),this.onblur.emit(e);}onInputFocus(e){this.isInputInFocus=true,this.changeDetector.markForCheck(),this.onfocus.emit(e);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-decorated-input"]],viewQuery:function(n,i){if(n&1&&(iP(i0,7,Uo$5),iP(o0,7,Uo$5),iP(r0,7,Uo$5)),n&2){let r;sP(r=aP())&&(i.prefixRef=r.first),sP(r=aP())&&(i.suffixRef=r.first),sP(r=aP())&&(i.customContentRef=r.first);}},outputs:{onblur:"onblur",onfocus:"onfocus"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),bI,tR],ngContentSelectors:a0,decls:14,vars:17,consts:[["prefix",""],["customContent",""],["suffix",""],["data-testId","label",1,"label",3,"for","required"],["data-testId","decorated-area",1,"decorated-area"],["data-testId","input-prefix",1,"decorator","prefix",3,"hidden"],["data-testId","input",3,"has-prefix","has-suffix","name","placeholder","value","disabled","invalid","appearance","min","max","maxLength","step"],["data-testId","custom-content",1,"custom-content"],["data-testId","input-suffix",1,"decorator","suffix",3,"hidden"],[1,"border"],["data-testId","helper-text",1,"helper"],["data-testId","label",1,"label",3,"for"],["data-testId","input",3,"onfocus","onblur","name","placeholder","value","disabled","invalid","appearance","min","max","maxLength","step"],["data-testId","helper-icon",1,"icon",3,"name","colorInherit"]],template:function(n,i){n&1&&(nP(s0),kI(0,l0,2,4,"label",3),Kf$2(1,"div",4)(2,"div",5,0),rP(4),Xf$2(),kI(5,c0,1,14,"pfy-input-number",6),Kf$2(6,"div",7,1),rP(8,1),Xf$2(),Kf$2(9,"div",8,2),rP(11,2),Xf$2(),ME(12,"div",9),Xf$2(),kI(13,d0,3,3,"small",10)),n&2&&(QR(i.label?0:-1),xR(),dE("has-custom-content",i.hasCustomContent)("has-focus",i.isInputInFocus)("invalid",i.isInvalid)("disabled",i.disabled),xR(),lE("hidden",!i.hasPrefix),xR(3),QR(i.hasCustomContent?-1:5),xR(),dE("has-prefix",i.hasPrefix)("has-suffix",i.hasSuffix),xR(3),lE("hidden",!i.hasSuffix),xR(4),QR(i.helperText?13:-1));},dependencies:[ns$2,ge$9],styles:['@charset "UTF-8";.input-area[_ngcontent-%COMP%]{--input-height: 48px;position:relative;contain:content;border-radius:4px}.input-area[_ngcontent-%COMP%]:hover ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:hover > .border[_ngcontent-%COMP%]{border-color:#a8a794}.input-area[_ngcontent-%COMP%]:focus-visible{outline:none}.input-area[_ngcontent-%COMP%]:focus-within ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible ~ .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-within > .border[_ngcontent-%COMP%], .input-area[_ngcontent-%COMP%]:focus-visible > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input-area[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.input-area.text-field[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:transparent}.input-area.disabled[_ngcontent-%COMP%]{pointer-events:none;background-color:#f5f5f0}.input-area.disabled[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .input-area.disabled[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input-area.disabled[_ngcontent-%COMP%]   .input-icon-button[_ngcontent-%COMP%]{color:#a8a794}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f0;cursor:not-allowed}.input-area.normal[_ngcontent-%COMP%]{--input-height: 48px}.input-area.compact[_ngcontent-%COMP%]{--input-height: 40px}.input-area.text-field[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]{--input-height: 32px}.input-area.text-field[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%], .input-area.ultra-compact[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.input-area[_ngcontent-%COMP%]   .input-area-content[_ngcontent-%COMP%]:empty{display:none}.input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:var(--input-height);border:none;outline:none;color:#2f2e0c;background-color:#fff;border-radius:inherit;transition:color .15s ease;font-size:1rem;line-height:1.5rem;padding:0 .75rem}.input[_ngcontent-%COMP%]:-webkit-autofill, .input[_ngcontent-%COMP%]:-webkit-autofill:hover, .input[_ngcontent-%COMP%]:-webkit-autofill:focus-visible, .input[_ngcontent-%COMP%]:-webkit-autofill:active{background-color:#fff!important;box-shadow:0 0 0 1000px #fff inset!important}.input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.input[_ngcontent-%COMP%]::-moz-placeholder{opacity:1}.input.placeholder-as-label[_ngcontent-%COMP%]::placeholder{color:#2f2e0c}.text-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:transparent}.input[_ngcontent-%COMP%]:not(:read-only):hover ~ .border[_ngcontent-%COMP%]{border-color:#a8a794}.input[_ngcontent-%COMP%]:not(:read-only):focus-visible ~ .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;appearance:textfield}.input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:48px}.compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input.has-icon.icon-on-the-left[_ngcontent-%COMP%]{padding-left:32px}.input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:48px}.compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:40px}.text-field[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left), .ultra-compact[_ngcontent-%COMP%] > .input.has-icon[_ngcontent-%COMP%]:not(.icon-on-the-left){padding-right:32px}.input.has-icon.icon-on-the-left[_ngcontent-%COMP%] ~ .input-icon-button[_ngcontent-%COMP%]{left:0;right:initial}.helper[_ngcontent-%COMP%]{margin-top:.25rem;color:#64634a;transition:color .15s ease;display:flex;gap:.5rem}.helper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:1.25rem}.label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem;color:#2f2e0c;display:flex;gap:.125rem}.label.required[_ngcontent-%COMP%]:after{content:"*"}.input-icon-button[_ngcontent-%COMP%]{appearance:none;background:transparent;border:none;padding:0;position:absolute;top:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;color:#2f2e0c;width:48px}.compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .input-icon-button[_ngcontent-%COMP%]{width:32px}.input-icon-button[_ngcontent-%COMP%]:not(:disabled){cursor:pointer}.input-icon-button[_ngcontent-%COMP%]:disabled{pointer-events:none}.search[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%]{border-radius:4px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-indent:0;background-color:#f5f5f0;padding:0 48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 32px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#64634a}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown{padding-right:1px}.search[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:not(:read-only):hover{background-color:#e0e0d7}.search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;transform:translateY(-50%);color:#2f2e0c;text-align:center;pointer-events:none;width:48px}.compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:40px}.text-field[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .ultra-compact[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:32px}.search[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}.search.disabled[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#a8a794}.invalid[_ngcontent-%COMP%]   .input-area[_ngcontent-%COMP%] > .border[_ngcontent-%COMP%]{border-color:#d12c2c;border-width:2px}.invalid[_ngcontent-%COMP%]   .helper[_ngcontent-%COMP%]{color:#d12c2c}.decorated-area[_ngcontent-%COMP%]{position:relative;contain:content;display:flex;align-items:stretch;border-radius:4px;background-color:#f5f5f0}.decorated-area[_ngcontent-%COMP%]:hover ~ .border[_ngcontent-%COMP%], .decorated-area[_ngcontent-%COMP%]:hover > .border[_ngcontent-%COMP%]{border-color:#a8a794}.decorated-area[_ngcontent-%COMP%]:focus-visible{outline:none}.decorated-area[_ngcontent-%COMP%]:focus-within ~ .border[_ngcontent-%COMP%], .decorated-area[_ngcontent-%COMP%]:focus-visible ~ .border[_ngcontent-%COMP%], .decorated-area[_ngcontent-%COMP%]:focus-within > .border[_ngcontent-%COMP%], .decorated-area[_ngcontent-%COMP%]:focus-visible > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.decorated-area[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.decorated-area.text-field[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{border-color:transparent}.decorated-area[_ngcontent-%COMP%]:not(.disabled):hover   .border[_ngcontent-%COMP%]{border-color:#a8a794}.decorated-area.invalid[_ngcontent-%COMP%] > .border[_ngcontent-%COMP%]{border-color:#d12c2c;border-width:2px}.decorated-area.invalid[_ngcontent-%COMP%] + .helper[_ngcontent-%COMP%]{color:#d12c2c}.decorated-area.has-focus[_ngcontent-%COMP%]:not(.invalid) > .border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.decorated-area.invalid[_ngcontent-%COMP%]   .decorator[_ngcontent-%COMP%], .decorated-area.has-focus[_ngcontent-%COMP%]   .decorator[_ngcontent-%COMP%]{margin:1px 0}.decorated-area[_ngcontent-%COMP%]   .custom-content[_ngcontent-%COMP%]{display:none;width:100%}.decorated-area.has-custom-content[_ngcontent-%COMP%] > .custom-content[_ngcontent-%COMP%]{display:block}.decorated-area[_ngcontent-%COMP%]:not(.has-custom-content)   .pfy-input-number[_ngcontent-%COMP%]{flex-grow:1}.decorated-area[_ngcontent-%COMP%]:not(.has-custom-content)   .pfy-input-number[_ngcontent-%COMP%]  .border{display:none}.decorated-area[_ngcontent-%COMP%]:not(.has-custom-content)   .pfy-input-number.has-prefix[_ngcontent-%COMP%]  .input-area{border-top-left-radius:0;border-bottom-left-radius:0}.decorated-area[_ngcontent-%COMP%]:not(.has-custom-content)   .pfy-input-number.has-suffix[_ngcontent-%COMP%]  .input-area{border-top-right-radius:0;border-bottom-right-radius:0}.decorator[_ngcontent-%COMP%]{display:flex;align-items:center;color:#64634a;font-size:1rem;line-height:1.5rem;text-align:center;padding-inline:.5rem}.decorator.prefix[_ngcontent-%COMP%]{border-radius:4px 0 0 4px;border-right:1px solid #e0e0d7}.decorator.suffix[_ngcontent-%COMP%]{border-radius:0 4px 4px 0;border-left:1px solid #e0e0d7}'],changeDetection:0});}}return t})(),Tu$1=(()=>{class t{constructor(){this.unmask=wu$2.Unmask,this.hexValue=oI(undefined),this.invalidColorHex=oI(false),this.isColorHexInputInFocus=oI(false),this.hexChange=new Xe$5;}set hex(e){let n=Pu$1(e);n?(this.hexValue.set(n),this.invalidColorHex.set(false)):this.invalidColorHex.set(true);}selectHex(e){let n=P1(e);n!==null&&(this.hexChange.emit(n),this.invalidColorHex.set(false));}onInputChange(e){let n=ku$1(e);this.invalidColorHex.set(!n),n&&this.selectHex(e);}onBlur(){this.isColorHexInputInFocus.set(false);}onFocus(){this.isColorHexInputInFocus.set(true);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-color-hex-input"]],viewQuery:function(n,i){if(n&1&&iP(p0,5),n&2){let r;sP(r=aP())&&(i.customHexInput=r.first);}},inputs:{hex:"hex"},outputs:{hexChange:"hexChange"},decls:5,vars:7,consts:[["customHexInput",""],[1,"custom-hex-input-item",3,"pfyCaptureMasking"],[1,"input-prefix"],["data-analyticsid","colorPickerHexInput",1,"custom-hex-input",3,"input","onfocus","onblur","value","invalid"]],template:function(n,i){if(n&1){let r=XR();Kf$2(0,"pfy-decorated-input",1)(1,"pfy-input-prefix",2),fP(2,"#"),Xf$2(),Kf$2(3,"pfy-input",3,0),VE("input",function(){nR(r);let p=dP(4);return rR(i.onInputChange(p.value))})("onfocus",function(){return nR(r),rR(i.onFocus())})("onblur",function(){return nR(r),rR(i.onBlur())}),Xf$2()();}n&2&&(dE("invalid",i.invalidColorHex())("has-focus",i.isColorHexInputInFocus()),lE("pfyCaptureMasking",i.unmask),xR(3),lE("value",i.hexValue())("invalid",i.invalidColorHex()));},dependencies:[vl$1,h1,Su$1,In$5],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;border-radius:4px}.custom-hex-input-item[_ngcontent-%COMP%]{display:block}.custom-hex-input-item[_ngcontent-%COMP%]   .input-prefix[_ngcontent-%COMP%]{padding:0 .25rem}'],changeDetection:0});}}return t})(),wl$1=(()=>{class t{set colors(e){this.colorsChange.next(e);}constructor(e){this.environment=e,this.colorsChange=new yn$7([]),this.colorBlocks$=this.colorsChange.pipe(ie$b(n=>n.map(i=>({hex:i.hex?.trim(),pattern:k1(i.pattern?.trim(),this.environment.imagesURL)})))),this.transparent=false;}ngOnDestroy(){this.colorsChange.complete();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4("environment"))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-option-color"]],inputs:{colors:"colors",transparent:"transparent",tooltip:"tooltip"},decls:5,vars:4,consts:[["transparentColor",""],["data-testid","group",1,"group",3,"pfyTooltip"],["data-testid","transparentColor",1,"color"],["data-testid","color",1,"color",3,"background-color","background-image"],["data-testid","color",1,"color"]],template:function(n,i){n&1&&(Kf$2(0,"ul",1),kI(1,h0,3,2)(2,g0,1,0,"li",2)(3,m0,1,0,"ng-template",null,0,OP),Xf$2()),n&2&&(dE("transparent",i.transparent),lE("pfyTooltip",i.transparent&&i.tooltip?"Transparent":i.tooltip),xR(),QR(i.transparent?2:1));},dependencies:[ft$6,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;position:relative;width:1rem;height:1rem;font-size:0;line-height:0;overflow:hidden;border-radius:50%}[_nghost-%COMP%]:after{content:"";position:absolute;inset:0;border:1px solid rgba(208,208,195,.5);border-radius:50%;pointer-events:none}.group[_ngcontent-%COMP%]{display:flex;position:absolute;inset:0}.group.transparent[_ngcontent-%COMP%]{background-color:#fff}.color[_ngcontent-%COMP%]{flex-grow:1;background-size:auto 100%}.group.transparent[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#fff 50%,#000 0),linear-gradient(#fff 50%,#000 0);background-size:67.1666666667% 67.1666666667%;background-blend-mode:exclusion;opacity:.3}'],changeDetection:0});}}return t})();function k1(t,o){return t?.length?`url('${`${o}api/file/${t}`}')`:undefined}var Ci$5=function(t){return t.Swatches="swatches",t.HueSaturation="hue-saturation",t}(Ci$5||{}),Ip=(()=>{class t{constructor(){this.color=oI("#ffffff"),this.hsv=HP(()=>{let e=this.color();return e?x1(e):[0,0,0]}),this.sv=HP(()=>{let[,e,n]=this.hsv();return [e,n]}),this.hue=HP(()=>this.hsv()[0]);}setHue(e){let[n,i]=this.sv();this.color.set(Tp([e,n,i]));}setSaturationValue([e,n]){let i=this.hue();this.color.set(Tp([i,e,n]));}setColor(e){this.color.set(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),S1=(()=>{class t{constructor(){this.window=N$8(Ii$3),this.buttonType=Ze$5.Secondary,this.buttonSize=lt$7.Large,this.pickedColor=new Xe$5,this.isEyedropperSupported$=hi$7(!!this.window.EyeDropper),this.tooltip$=this.isEyedropperSupported$.pipe(ie$b(e=>e?"":"Eyedropper not supported in this browser"));}activateEyeDropper(){return E$e(this,null,function*(){if(this.window.EyeDropper){let e=new this.window.EyeDropper;try{let n=yield e.open();this.pickedColor.emit(n.sRGBHex);}catch{}}})}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-eyedropper-button"]],outputs:{pickedColor:"pickedColor"},decls:4,vars:10,consts:[["data-analyticsid","colorPickerEyedropper",3,"buttonClick","disabled","type","size","isIconOnly","pfyTooltip"],["name","colorize",3,"colorInherit"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-button",0),TP(1,"async"),TP(2,"async"),VE("buttonClick",function(){return i.activateEyeDropper()}),ME(3,"pfy-icon",1),Xf$2()),n&2&&(lE("disabled",_P(1,6,i.isEyedropperSupported$)===false)("type",i.buttonType)("size",i.buttonSize)("isIconOnly",true)("pfyTooltip",_P(2,8,i.tooltip$)),xR(3),lE("colorInherit",true));},dependencies:[We$8,ft$6,ge$9,zd$1],encapsulation:2,changeDetection:0});}}return t})(),T1=360,I1=1,D1=1;function Iu$1(t){(0, Z$9.assert)(t>=0&&t<=T1,`Hue value should be in [0-360] range, got ${t}`);}function E1(t){(0, Z$9.assert)(t>=0&&t<=I1,`Saturation value should be in [0-1] range, got ${t}`);}function V1(t){(0, Z$9.assert)(t>=0&&t<=D1,`Value should be in [0-1] range, got ${t}`);}var A1=(()=>{class t{constructor(){this.hueValue=new In$7(1),this.hue$=this.hueValue.pipe(Dr$5()),this.hueChange=new Xe$5,this.colorCss$=this.hue$.pipe(ie$b(e=>`hsl(${e}, 100%, 50%)`));}set hue(e){Iu$1(e),this.hueValue.next(e);}ngOnDestroy(){this.hueValue.complete();}setHue(e){let n=parseInt(e,10);this.hueValue.next(n),this.hueChange.emit(n);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-hue-slider"]],inputs:{hue:"hue"},outputs:{hueChange:"hueChange"},decls:3,vars:7,consts:[["type","range","min","0","max","360","data-analyticsid","colorPickerHueSlider",1,"color-range",3,"input","value"]],template:function(n,i){n&1&&(Kf$2(0,"input",0),TP(1,"async"),TP(2,"async"),VE("input",function(s){return i.setHue(s.target.value)}),Xf$2()),n&2&&(uE("color",_P(1,3,i.colorCss$)),lE("value",_P(2,5,i.hue$)));},dependencies:[zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center}.color-range[_ngcontent-%COMP%]{width:100%;height:1.25rem;appearance:none;-webkit-appearance:none;border-radius:.625rem;border:1px solid #e0e0d7;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red);outline:none;cursor:pointer}.color-range[_ngcontent-%COMP%]:focus{outline:none}.color-range[_ngcontent-%COMP%]::-webkit-slider-thumb{height:1.25rem;aspect-ratio:1;border-radius:50%;appearance:none;background:currentColor;cursor:pointer;border:2px solid #ffffff}.color-range[_ngcontent-%COMP%]::-webkit-slider-thumb:active, .color-range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{cursor:pointer}.color-range[_ngcontent-%COMP%]::-moz-range-thumb{height:1.25rem;aspect-ratio:1;border-radius:50%;appearance:none;background:currentColor;cursor:pointer;border:2px solid #ffffff}.color-range[_ngcontent-%COMP%]::-moz-range-thumb:active, .color-range[_ngcontent-%COMP%]::-moz-range-thumb:hover{cursor:pointer}'],changeDetection:0});}}return t})(),R1=(()=>{class t{constructor(){this.destroyRef=N$8(mn$6),this.elementRef=N$8(Uo$5),this.background="",this.valueChange=new In$7(1),this.hueChange=new In$7(1),this.saturationValueChange=new Xe$5,this.click$=_i$7(this.elementRef.nativeElement,"click"),this.mouseDown$=_i$7(this.elementRef.nativeElement,"mousedown"),this.mouseUp$=_i$7(document,"mouseup"),this.mouseMove$=_i$7(document,"mousemove",{passive:true}),this.sv$=$p$1(this.click$.pipe(ie$b(e=>this.geSaturationAndValue(e))),this.mouseDown$.pipe(Ac$3(()=>this.mouseMove$.pipe(Oc$2(this.mouseUp$))),ie$b(e=>this.geSaturationAndValue(e)))).pipe(Dr$5(au$4)),this.cursorPosition$=$p$1(this.valueChange,this.sv$).pipe(ie$b(([e,n])=>({left:`${e*100}%`,bottom:`${n*100}%`})));}set value(e){if(!e)return;let[n,i]=e;E1(n),V1(i),this.valueChange.next(e);}set hue(e){Iu$1(e),this.hueChange.next(e);}ngAfterViewInit(){this.sv$.pipe(X$7(this.destroyRef)).subscribe(([e,n])=>{this.saturationValueChange.emit([e,n]);}),this.hueChange.pipe(X$7(this.destroyRef)).subscribe(e=>{this.background=`hsl(${e}, 100%, 50%)`;});}ngOnDestroy(){this.hueChange.complete(),this.valueChange.complete();}getCoordinates(e){let n=this.elementRef.nativeElement.getBoundingClientRect(),i=Xp$3(e.clientX-n.left,0,n.width),r=Xp$3(e.clientY-n.top,0,n.height);return {x:i,y:r}}geSaturationAndValue(e){let{x:n,y:i}=this.getCoordinates(e),r=this.elementRef.nativeElement,s=r.offsetWidth,p=r.offsetHeight;return [n/s,(p-i)/p]}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-saturation-value-selector"]],hostVars:2,hostBindings:function(n,i){n&2&&uE("background",i.background);},inputs:{value:"value",hue:"hue"},outputs:{saturationValueChange:"saturationValueChange"},decls:3,vars:6,consts:[["data-testid","cursor","data-analyticsid","colorPickerSaturationCursor",1,"cursor"]],template:function(n,i){if(n&1&&(ew$1(0),TP(1,"async"),ME(2,"div",0)),n&2){let r=_P(1,4,i.cursorPosition$);xR(2),uE("left",r==null?null:r.left)("bottom",r==null?null:r.bottom);}},dependencies:[zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:160px;position:relative;cursor:pointer}[_nghost-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to top,#000,#0000),linear-gradient(to right,#fff,#fff0)}.cursor[_ngcontent-%COMP%]{height:1.25rem;aspect-ratio:1;border-radius:50%;border:2px solid #ffffff;cursor:pointer;position:absolute;transform:translate(-50%,50%)}.cursor[_ngcontent-%COMP%]:active{cursor:none}'],changeDetection:0});}}return t})(),F1$1=(()=>{class t{constructor(){this.colors=cR([]),this.title=cR(undefined),this.colorSelect=new Xe$5;}selectColor(e){this.colorSelect.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-swatches"]],inputs:{colors:[1,"colors"],title:[1,"title"]},outputs:{colorSelect:"colorSelect"},decls:4,vars:1,consts:[[1,"title"],[1,"color-list"],["data-analyticsid","colorPickerSuggestedColor",1,"color-list-item",3,"colors","tooltip"],["data-analyticsid","colorPickerSuggestedColor",1,"color-list-item",3,"click","colors","tooltip"]],template:function(n,i){n&1&&(kI(0,f0,2,1,"h6",0),Kf$2(1,"div",1),JR(2,_0,1,6,"pfy-option-color",2,YR),Xf$2()),n&2&&(QR(i.title()?0:-1),xR(2),KR(i.colors()));},dependencies:[wl$1],styles:['@charset "UTF-8";[_nghost-%COMP%]:empty{display:none}.title[_ngcontent-%COMP%]{color:#64634a;font-size:.875rem;font-weight:400;line-height:1.25rem}.color-list[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;flex-direction:row;gap:.5rem;flex-wrap:wrap}.color-list-item[_ngcontent-%COMP%]{height:32px;width:32px}'],changeDetection:0});}}return t})(),q1=(()=>{class t{constructor(){this.colorPickerService=N$8(Ip),this.mode=PR(Ci$5.Swatches),this.swatches=cR([]),this.swatchesTitle=cR(),this.color=cR("#ffffff"),this.onChange=()=>{},this.onTouched=()=>{},this.pickColor=aR(),this.pickedColor=this.colorPickerService.color,this.hue=this.colorPickerService.hue,this.sv=this.colorPickerService.sv,this.swatchesEnabled=HP(()=>!!this.swatches()?.length),this.showSwatches=HP(()=>this.mode()===Ci$5.Swatches&&this.swatchesEnabled()),this.showHueAndSaturation=HP(()=>!this.showSwatches());}ngOnInit(){this.colorPickerService.setColor(this.color());}registerOnChange(e){this.onChange=e;}registerOnTouched(e){this.onTouched=e;}writeValue(e){this.colorPickerService.setColor(e);}togglePickerMode(){this.mode.set(this.mode()===Ci$5.Swatches?Ci$5.HueSaturation:Ci$5.Swatches);}hueChange(e){this.colorPickerService.setHue(e),this.emitColor();}saturationValueChange(e){this.colorPickerService.setSaturationValue(e),this.emitColor();}hexChange(e){this.colorPickerService.setColor(e),this.emitColor();}emitColor(){let e=this.pickedColor();this.onTouched(),this.pickColor.emit(e),this.onChange(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-color-picker"]],inputs:{mode:[1,"mode"],swatches:[1,"swatches"],swatchesTitle:[1,"swatchesTitle"],color:[1,"color"]},outputs:{mode:"modeChange",pickColor:"pickColor"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true},Ip])],ngContentSelectors:oe$6,decls:7,vars:9,consts:[[3,"colors","title"],[1,"hex-color-row"],[1,"circle",3,"click","colors"],[3,"hexChange","hex"],[3,"pickedColor"],[3,"colorSelect","colors","title"],["data-analyticsid","colorPickerSaturationCursor",3,"saturationValueChange","hue","value"],[3,"hueChange","hue"]],template:function(n,i){n&1&&(nP(),kI(0,b0,1,2,"pfy-swatches",0)(1,C0,2,3),Kf$2(2,"div",1)(3,"pfy-option-color",2),VE("click",function(){return i.togglePickerMode()}),Xf$2(),Kf$2(4,"pfy-color-hex-input",3),VE("hexChange",function(s){return i.hexChange(s)}),Xf$2(),Kf$2(5,"pfy-eyedropper-button",4),VE("pickedColor",function(s){return i.hexChange(s)}),Xf$2()(),rP(6)),n&2&&(QR(i.showSwatches()?0:i.showHueAndSaturation()?1:-1),xR(3),dE("clickable",i.swatchesEnabled()),lE("colors",IP(7,tu$1,IP(5,eu$1,i.pickedColor()))),xR(),lE("hex",i.pickedColor()));},dependencies:[F1$1,R1,A1,wl$1,Tu$1,S1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.75rem;width:300px;padding:.75rem;background-color:#fff;border:1px solid #e0e0d7;border-radius:6px}.hex-color-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.75rem}.circle[_ngcontent-%COMP%]{height:3rem;width:3rem;flex-shrink:0}.circle.clickable[_ngcontent-%COMP%]{cursor:pointer}'],changeDetection:0});}}return t})(),DS=(()=>{class t{constructor(){this.markSelected=false,this.type=Ze$5.Primary,this.size=lt$7.Medium,this.itemSelect=new Xe$5,this.buttonClick=new Xe$5,this.disabled$=new yn$7(false),this.loading$=new yn$7(false),this.listItems$=new yn$7([]),this.dropdownVisibleChange$=new yn$7(false),this.selectedItemChange$=new yn$7(null),this.dropdownVisible$=this.dropdownVisibleChange$.pipe(Sc$2(false),Tc$2(),ie$b(([e,n])=>n??!e),Rc$2(this.disabled$,this.loading$),ie$b(([e,n,i])=>!n&&!i?e:false)),this.selectedItem$=Hp$2([this.selectedItemChange$,this.listItems$]).pipe(ie$b(([e,n])=>e&&n.includes(e)?e:n[0]));}set listItems(e){this.listItems$.next(e);}set selectedItem(e){this.selectedItemChange$.next(e);}set disabled(e){this.disabled$.next(e);}set loading(e){this.loading$.next(e);}ngOnDestroy(){this.disabled$.complete(),this.loading$.complete(),this.listItems$.complete(),this.dropdownVisibleChange$.complete(),this.selectedItemChange$.complete();}toggleDropdown(e){this.dropdownVisibleChange$.next(e);}onItemSelect(e){this.toggleDropdown(false),this.selectedItemChange$.next(e),this.itemSelect.emit(e);}onMainButtonClick(e){this.buttonClick.emit(e);}onDropdownButtonClick(){this.toggleDropdown();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-combo-button"]],inputs:{markSelected:"markSelected",type:"type",size:"size",listItems:"listItems",selectedItem:"selectedItem",disabled:"disabled",loading:"loading"},outputs:{itemSelect:"itemSelect",buttonClick:"buttonClick"},decls:4,vars:11,consts:[[1,"combo-button-wrapper"],["data-testid","mainButton",1,"main-button",3,"buttonClick","disabled","type","size","loading"],["data-testid","dropdownButton",1,"dropdown-button",3,"buttonClick","disabled","type","size","isIconOnly"],[1,"arrow-icon","material-icons"],["data-testid","comboButtonDropdownList",1,"dropdown-list",3,"overlayClick","selectItem","fullWidth","listItems","visible","selectedItem","markSelected"]],template:function(n,i){if(n&1&&(kI(0,v0,9,23),TP(1,"async"),TP(2,"async"),TP(3,"async")),n&2){let r;QR((r=wP(7,y0,_P(1,1,i.loading$),_P(2,3,i.disabled$),_P(3,5,i.selectedItem$)))?0:-1,r);}},dependencies:[We$8,Tn$4,So$3,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block}.combo-button-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:inherit;z-index:0}.main-button[_ngcontent-%COMP%]{margin-right:-1px}.main-button[_ngcontent-%COMP%]  .button{border-top-right-radius:0;border-bottom-right-radius:0}.main-button[_ngcontent-%COMP%]  .button.primary{border-right:1px solid #84e354}.main-button[_ngcontent-%COMP%]  .button.primary:active{border-right-color:#4fba2c}.main-button[_ngcontent-%COMP%]  .button.alternative{border-right:1px solid #64634a}.main-button[_ngcontent-%COMP%]  .button.alternative:active{border-right-color:#a8a794}.main-button[_ngcontent-%COMP%]  .button:disabled{border-right-color:#e0e0d7}.main-button[_ngcontent-%COMP%]:active, .main-button[_ngcontent-%COMP%]:hover, .main-button[_ngcontent-%COMP%]:focus-within{margin-right:0;z-index:10}.main-button[_ngcontent-%COMP%]:active + .dropdown-button[_ngcontent-%COMP%], .main-button[_ngcontent-%COMP%]:hover + .dropdown-button[_ngcontent-%COMP%], .main-button[_ngcontent-%COMP%]:focus-within + .dropdown-button[_ngcontent-%COMP%]{margin-left:-1px}.dropdown-button[_ngcontent-%COMP%]  .button{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-button[_ngcontent-%COMP%]  .button.primary{border-left:1px solid #84e354}.dropdown-button[_ngcontent-%COMP%]  .button.primary:active{border-left-color:#4fba2c}.dropdown-button[_ngcontent-%COMP%]  .button.alternative{border-left:1px solid #64634a}.dropdown-button[_ngcontent-%COMP%]  .button.alternative:active{border-left-color:#a8a794}.dropdown-button[_ngcontent-%COMP%]  .button:disabled{border-left-color:#e0e0d7}.arrow-icon[_ngcontent-%COMP%]{color:inherit}.dropdown-list[_ngcontent-%COMP%]     .overlay{display:block;position:fixed;inset:0}'],changeDetection:0});}}return t})(),Dp=t=>t,Ep$1={transformFromAccessorValue:Dp,transformToAccessorValue:Dp},Hr$3=Symbol("null"),rs$2=(()=>{class t{constructor(e){this.ngControl=e,this.valueTransformation=Ep$1,this.accessorValue=new yn$7(Hr$3),this.accessorValue$=this.accessorValue.pipe(Ye$b(n=>n!==Hr$3)),e&&(e.valueAccessor=this);}ngOnDestroy(){this.accessorValue.complete(),this.writeValueSubscription?.unsubscribe(),this.onValueChangeSubscription?.unsubscribe(),this.syncValueSubscription?.unsubscribe();}setValueTransformation(e){this.valueTransformation=e;}get control(){return this.ngControl?.control||null}registerOnTouched(e){this.onTouched=()=>{this.autoSyncValues(),e();},this.valueAccessor?.registerOnTouched(this.onTouched);}registerOnChange(e){this.onChange=n=>{this.accessorValue.next(n);let i=this.valueTransformation.transformFromAccessorValue(n);this.onValueChangeSubscription?.unsubscribe(),this.onValueChangeSubscription=Ga$2(i,r=>{this.latestValue=r,e(r);});},this.valueAccessor?.registerOnChange(this.onChange);}writeLatestValue(){this.latestValue!==undefined&&this.writeValue(this.latestValue);}writeLatestAccessorValue(){let e=this.accessorValue.value;!this.onChange||e===Hr$3||this.onChange(e);}writeValue(e){this.latestValue=e,this.transformAndWriteValue(e);}setDisabledState(e){this.latestDisabled=e,Vp(this.valueAccessor,e);}setValueAccessor(e){e!==this.valueAccessor&&(this.valueAccessor=e,this.writeValueSubscription?.unsubscribe(),this.valueAccessor&&(this.onChange&&this.valueAccessor.registerOnChange(this.onChange),this.onTouched&&this.valueAccessor.registerOnTouched(this.onTouched),this.latestDisabled!==undefined&&Vp(this.valueAccessor,this.latestDisabled),this.writeLatestValue()));}transformAndWriteValue(e){this.writeValueSubscription?.unsubscribe();let n=this.valueAccessor;if(!n)return;let i=this.valueTransformation.transformToAccessorValue(e);this.writeValueSubscription=Ga$2(i,r=>{this.accessorValue.next(r),n.writeValue(r);});}autoSyncValues(){let e=this.accessorValue.value,n=this.latestValue;if(this.valueTransformation===Ep$1||n===undefined||e===undefined||e===Hr$3)return;let i=this.valueTransformation.transformToAccessorValue(this.latestValue);this.syncValueSubscription?.unsubscribe(),this.syncValueSubscription=Ga$2(i,r=>{this.syncValueSubscription?.unsubscribe(),r!==e&&this.writeValue(n);});}static{this.\u0275fac=function(n){return new(n||t)(pe$9(zt$4,10))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Ga$2(t,o){if(t&&t instanceof M$a)return t.subscribe(o);o(t);}function Vp(t,o){t&&(t.setDisabledState?t.setDisabledState(o):"disabled"in t&&(t.disabled=o));}var L1=(()=>{class t{constructor(e,n,i){if(this.proxy=e,this.valueAccessor=n?n[0]:i,this.valueAccessor)this.proxy.setValueAccessor(this.valueAccessor);else throw new Error("Cannot detect ControlValueAccessor on [pfyControlValueAccessorProxy] element")}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(rs$2,4),Yo$4(Fe$6,10),Yo$4(rs$2,10))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyControlValueAccessorProxy",""]]});}}return t})(),ES="X-Pfy-Currency",xl$1=new k$5("CurrenciesProvider"),$1=new k$5("CurrenciesProviderConfig"),VS={provide:xl$1,deps:[_u$3,$1],useFactory(t,o){return {get:()=>t.get(o.url).pipe(ie$b(e=>e.data.map(n=>({code:n.code,tags:n.tags,minorUnit:n.minor_unit}))))}}};function B1(t,o){let e=_s$2(t);return Number.isNaN(e)?e:Math.round(e*Du$1(o.minorUnit))}function Ap(t,o){let e=_s$2(t);return Number.isNaN(e)?"":(e/Du$1(o.minorUnit)).toFixed(o.minorUnit)}function _s$2(t){return typeof t=="string"&&!isNaN(Number(t)-parseFloat(t))?Number(t):typeof t!="number"?NaN:t}var Rp={};function Du$1(t){return Rp[t]??=Math.pow(10,t),Rp[t]}var Eo$3=(()=>{class t{constructor(e,n,i){this.currenciesProvider=e,this.locale=n,this.errorHandler=i,this.defaultCurrency={code:"USD",minorUnit:2},this.isLoadedCurrencies=new yn$7(false),this.currenciesByCode={},this.isCurrenciesLoaded$=this.isLoadedCurrencies.pipe(Dr$5());}loadCurrencies(){return this.currencies$||(this.currencies$=this.currenciesProvider.get().pipe(kc$2(()=>this.isLoadedCurrencies.next(true),()=>{this.isLoadedCurrencies.next(false),this.currencies$=undefined;}),ie$b(e=>(e.forEach(n=>{this.currenciesByCode[n.code]=n;}),e)),_c$3(1))),this.currencies$}getTaggedCurrencies(e){return this.loadCurrencies().pipe(mt$8(1),ie$b(n=>n.filter(i=>i.tags.includes(e))))}getCurrency(e){return e===this.defaultCurrency.code?hi$7(this.defaultCurrency):this.loadCurrencies().pipe(mt$8(1),ie$b(()=>{let n=this.currenciesByCode[e];return n||(n={code:e,minorUnit:2},this.errorHandler.handleError(new Error(`Trying to get unknown currency ${e}. Fallback to ${JSON.stringify(n)}`))),n}),Dr$5())}isDefaultCurrency(e){return this.defaultCurrency.code===e}amountToMajorUnits(e,n){return this.getCurrency(n).pipe(ie$b(i=>Ap(e,i)))}amountToMinorUnits(e,n){return this.getCurrency(n).pipe(ie$b(i=>B1(e,i)))}formatCurrency(e,n,i,r,s=this.locale){return e==null?hi$7(null):this.getCurrency(n).pipe(ie$b(p=>Fp$1(e,p,s,i,r)))}formatPrice(e,n,i,r,s=this.locale){return e==null?hi$7(null):this.getCurrency(n).pipe(ie$b(p=>Fp$1(Ap(e,p),p,s,i,r)))}static{this.\u0275fac=function(n){return new(n||t)(pe$9(xl$1),pe$9(pp$1),pe$9(it$a))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Fp$1(t,o,e,n,i){return Wa$2(_s$2(t),e,N1(o,e,n),o.code,i??`1.${o.minorUnit}`)}function N1(t,o,e){let n=e??"code";switch(typeof n=="boolean"&&(n=e?"symbol":"code"),n){case "symbol":return Ta$5(t.code,"wide",o);case "symbol-narrow":return Ta$5(t.code,"narrow",o);case "code":return `${t.code} `;default:return n}}var Vo$3=new k$5("CURRENCY_CODE_PROVIDER"),z1={provide:Vo$3,deps:[Eo$3],useFactory(t){return {currencyCode$:hi$7(t.defaultCurrency.code)}}},il$1=class il{haveChangedSinceLastCall(o){return this.lastSnapshot!==this.toSnapshot(o)}update(o){this.lastSnapshot=this.toSnapshot(o);}toSnapshot(o){return JSON.stringify(o)}},j1=(()=>{class t{constructor(e,n,i){this.currencyCodeProvider=e,this.currencyService=n,this.changeDetector=i,this.latestResult=null,this.dependenciesTracker=new il$1;}ngOnDestroy(){this.currencySubscription?.unsubscribe();}transform(e,n,i,r,s){let p=[n,e,i,r,s];if(this.dependenciesTracker.haveChangedSinceLastCall(p)){let O=n?hi$7(n):this.currencyCodeProvider.currencyCode$;this.currencySubscription?.unsubscribe(),this.currencySubscription=O.pipe(Ac$3(D=>this.formatCurrency(e,D,i,r,s))).subscribe(D=>{this.latestResult=D,this.changeDetector.markForCheck();}),this.dependenciesTracker.update(p);}return this.latestResult}formatCurrency(e,n,i,r,s){return this.currencyService.formatCurrency(e,n,i,r,s)}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Vo$3,16),Yo$4(Eo$3,16),Yo$4(bw$1,16))};}static{this.\u0275pipe=jR({name:"currency",type:t,pure:false});}}return t})(),AS=(()=>{class t{set currencyCode(e){this.currencyCode$.next(e);}constructor(e){this.currencyCodeProvider=e,this.currencyCode$=new In$7(1),this.code$=$p$1(this.currencyCodeProvider.currencyCode$,this.currencyCode$).pipe(ie$b(n=>n.toLowerCase()));}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Vo$3))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-currency-country-flag"]],inputs:{currencyCode:"currencyCode"},decls:3,vars:5,consts:[[1,"currency-flag-cropper"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),ME(1,"div"),TP(2,"async"),Xf$2()),n&2&&(xR(),zR("currency-flag currency-flag-lg currency-flag-",_P(2,3,i.code$),""));},dependencies:[zd$1],styles:[".currency-flag[_ngcontent-%COMP%]{display:inline-block;width:24px;height:16px;background-size:cover;background-image:url(https://wise.com/public-resources/assets/flags/rectangle_fallback.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag[_ngcontent-%COMP%]{height:24px;background-image:url(https://wise.com/web-art/assets/flags/wise.svg)}.currency-flag-sm[_ngcontent-%COMP%]{width:16px;height:10px}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag-sm[_ngcontent-%COMP%]{height:16px}.currency-flag-lg[_ngcontent-%COMP%]{width:36px;height:24px}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag-lg[_ngcontent-%COMP%]{height:36px}.currency-flag-xl[_ngcontent-%COMP%]{width:48px;height:32px}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag-xl[_ngcontent-%COMP%]{height:48px}.currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aed.png)}.currency-flag.currency-flag-afn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.currency-flag.currency-flag-all[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.currency-flag.currency-flag-amd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.currency-flag.currency-flag-ang[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ars.png)}.currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aud.png)}.currency-flag.currency-flag-awg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.currency-flag.currency-flag-azn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.currency-flag.currency-flag-bam[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bdt.png)}.currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bgn.png)}.currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bhd.png)}.currency-flag.currency-flag-bif[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bnd.png)}.currency-flag.currency-flag-bob[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/brl.png)}.currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.currency-flag.currency-flag-btn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bwp.png)}.currency-flag.currency-flag-byn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cad.png)}.currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/chf.png)}.currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/clp.png)}.currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cny.png)}.currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cop.png)}.currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/crc.png)}.currency-flag.currency-flag-cup[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.currency-flag.currency-flag-cve[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/czk.png)}.currency-flag.currency-flag-djf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dkk.png)}.currency-flag.currency-flag-dop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/egp.png)}.currency-flag.currency-flag-ern[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.currency-flag.currency-flag-etb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/eur.png)}.currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fjd.png)}.currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gbp.png)}.currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gel.png)}.currency-flag.currency-flag-ggp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ggp.png)}.currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ghs.png)}.currency-flag.currency-flag-gip[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hkd.png)}.currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hrk.png)}.currency-flag.currency-flag-htg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/huf.png)}.currency-flag.currency-flag-idr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ils.png)}.currency-flag.currency-flag-imp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/imp.png)}.currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/inr.png)}.currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.currency-flag.currency-flag-irr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/isk.png)}.currency-flag.currency-flag-jep[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jep.png)}.currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jmd.png)}.currency-flag.currency-flag-jod[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jpy.png)}.currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kes.png)}.currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.currency-flag.currency-flag-khr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/krw.png)}.currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kwd.png)}.currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lak.png)}.currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lkr.png)}.currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.currency-flag.currency-flag-lsl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lsl.png)}.currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mad.png)}.currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.currency-flag.currency-flag-mga[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.currency-flag.currency-flag-mop[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.currency-flag.currency-flag-mro[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mur.png)}.currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mxn.png)}.currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/myr.png)}.currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mzn.png)}.currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nad.png)}.currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ngn.png)}.currency-flag.currency-flag-nio[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nok.png)}.currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/npr.png)}.currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nzd.png)}.currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/omr.png)}.currency-flag.currency-flag-pab[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pab.png)}.currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pen.png)}.currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/php.png)}.currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pkr.png)}.currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pln.png)}.currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/qar.png)}.currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ron.png)}.currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rub.png)}.currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sar.png)}.currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.currency-flag.currency-flag-scr[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sek.png)}.currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sgd.png)}.currency-flag.currency-flag-shp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.currency-flag.currency-flag-sll[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sle[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.currency-flag.currency-flag-sos[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.currency-flag.currency-flag-srd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.currency-flag.currency-flag-std[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.currency-flag.currency-flag-svc[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.currency-flag.currency-flag-syp[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.currency-flag.currency-flag-szl[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/thb.png)}.currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.currency-flag.currency-flag-tmt[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tmt.png)}.currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.currency-flag.currency-flag-top[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/try.png)}.currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/twd.png)}.currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tzs.png)}.currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uah.png)}.currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ugx.png)}.currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/usd.png)}.currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uyu.png)}.currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.currency-flag.currency-flag-vef[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vnd.png)}.currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.currency-flag.currency-flag-wst[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xof.png)}.currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.currency-flag.currency-flag-yer[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zar.png)}.currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/public-resources/assets/flags/rectangle/zmw.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-aed[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/aed.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-afn[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/afn.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-all[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/all.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-amd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/amd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ang[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ang.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-aoa[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/aoa.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ars[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ars.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-aud[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/aud.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-awg[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/awg.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-azn[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/azn.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bam[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bam.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bbd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bbd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bdt[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/bdt.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bgn[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/bgn.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bhd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/bhd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bif[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bif.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bmd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bmd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/bnd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bob[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bob.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-brl[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/brl.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bsd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bsd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-btn[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/btn.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bwp[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/bwp.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-byn[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/byn.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-bzd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/bzd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cad[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/cad.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cdf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cdf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-chf[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/chf.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-clp[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/clp.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cny[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/cny.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cop[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/cop.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-crc[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/crc.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cup[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cup.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-cve[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/cve.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-czk[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/czk.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-djf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/djf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-dkk[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/dkk.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-dop[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dop.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-dzd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/dzd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-egp[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/egp.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ern[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ern.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-etb[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/etb.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-eur[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/eur.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-fjd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/fjd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-fkp[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/fkp.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gbp[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/gbp.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gel[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/gel.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ggp[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ggp.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ghs[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ghs.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gip[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gip.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gmd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gmd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gnf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gnf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gtq[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gtq.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-gyd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/gyd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-hkd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/hkd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-hnl[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/hnl.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-hrk[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/hrk.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-htg[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/htg.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-huf[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/huf.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-idr[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/idr.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ils[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ils.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-imp[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/imp.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-inr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/inr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-iqd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/iqd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-irr[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/irr.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-isk[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/isk.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-jep[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jep.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-jmd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/jmd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-jod[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/jod.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-jpy[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/jpy.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kes[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/kes.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kgs[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kgs.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-khr[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/khr.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kmf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kmf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kpw[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kpw.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-krw[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/krw.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kwd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/kwd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kyd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kyd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-kzt[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/kzt.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lak[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/lak.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lbp[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lbp.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/lkr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lrd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lrd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lsl[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/lsl.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ltl[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ltl.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-lyd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/lyd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mad[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/mad.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mdl[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mdl.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mga[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mga.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mkd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mkd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mmk[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mmk.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mnt[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mnt.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mop[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mop.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mro[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mro.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mur[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/mur.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mvr[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mvr.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mwk[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/mwk.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mxn[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/mxn.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-myr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/myr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-mzn[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/mzn.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-nad[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/nad.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ngn[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ngn.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-nio[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/nio.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-nok[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/nok.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-npr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/npr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-nzd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/nzd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-omr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/omr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pab[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/pab.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pen[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/pen.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pgk[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pgk.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-php[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/php.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pkr[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/pkr.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pln[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/pln.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-pyg[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/pyg.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-qar[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/qar.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ron[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ron.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-rsd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rsd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-rub[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/rub.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-rwf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/rwf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sar[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/sar.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sbd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sbd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-scr[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/scr.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sek[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/sek.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sgd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/sgd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-shp[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/shp.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sll[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sle[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sll.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-sos[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/sos.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-srd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/srd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-std[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/std.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-svc[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/svc.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-syp[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/syp.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-szl[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/szl.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-thb[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/thb.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-tjs[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tjs.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-tmt[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/tmt.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-tnd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/tnd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-top[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/top.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-try[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/try.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ttd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/ttd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-twd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/twd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-tzs[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/tzs.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-uah[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/uah.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-ugx[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/ugx.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-usd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/usd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-uyu[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/uyu.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-uzs[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/uzs.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-vef[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vef.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-vnd[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/vnd.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-vuv[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/vuv.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-wst[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/wst.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-xaf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xaf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-xcd[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xcd.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-xof[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/xof.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-xpf[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/xpf.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-yer[_ngcontent-%COMP%]{border-radius:50%;background-size:100% 100%;background-image:url(https://wise.com/public-resources/assets/flags/rectangle/yer.png)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-zar[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/zar.svg)}.np-theme-personal[_ngcontent-%COMP%]   .currency-flag.currency-flag-zmw[_ngcontent-%COMP%]{background-image:url(https://wise.com/web-art/assets/flags/zmw.svg)}",'@charset "UTF-8";.currency-flag-cropper[_ngcontent-%COMP%]{border:1px solid #e0e0d7;border-radius:50%;overflow:hidden;display:grid;height:24px;width:24px}.currency-flag-lg[_ngcontent-%COMP%]{margin:-1px;margin-left:calc((.5rem - 1px)*-1)}'],changeDetection:0});}}return t})(),Eu$2=(()=>{class t extends j1{formatCurrency(e,n,i,r,s){return this.currencyService.formatPrice(e,n,i,r,s)}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275pipe=jR({name:"price",type:t,pure:false});}}return t})(),qp=(()=>{class t{static forRoot(){return {ngModule:t,providers:[z1,{provide:xl$1,useValue:{get(){return hi$7([])}}},Eo$3]}}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({});}}return t})(),RS=(()=>{class t{constructor(e,n){this.currencyCodeProvider=e,this.currencyService=n,this.destroy$=new Z$a;}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}formatCurrency(e,n,i,r,s){return this.getCurrencyCodeAndSetupTeardown(n,p=>this.currencyService.formatCurrency(e,p,i,r,s))}formatPrice(e,n,i,r,s){return this.getCurrencyCodeAndSetupTeardown(n,p=>this.currencyService.formatPrice(e,p,i,r,s))}amountToMinorUnits(e,n){return this.getCurrencyCodeAndSetupTeardown(n,i=>this.currencyService.amountToMinorUnits(e,i))}amountToMajorUnits(e,n){return this.getCurrencyCodeAndSetupTeardown(n,i=>this.currencyService.amountToMajorUnits(e,i))}getCurrencyCodeAndSetupTeardown(e,n){return e?n(e):this.currencyCodeProvider.currencyCode$.pipe(Ac$3(n),Oc$2(this.destroy$))}static{this.\u0275fac=function(n){return new(n||t)(pe$9(Vo$3),pe$9(Eo$3))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),Ol$1=function(t){return t.Primary="primary",t.Secondary="secondary",t.Underlined="underlined",t}(Ol$1||{}),FS=Ol$1,Vu$2=(()=>{class t{constructor(){this.type=Ol$1.Primary,this.underlined=true,this.newTab=false,this.external=false;}focus(e){this.link.nativeElement.focus(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-link"]],viewQuery:function(n,i){if(n&1&&iP(w0,7),n&2){let r;sP(r=aP())&&(i.link=r.first);}},hostBindings:function(n,i){n&1&&VE("focus",function(s){return i.focus(s)});},inputs:{type:"type",underlined:"underlined",href:"href",newTab:"newTab",rel:"rel",external:"external"},ngContentSelectors:oe$6,decls:5,vars:9,consts:[["link",""],["data-testid","link"],[1,"content"],["name","open_in_new","data-testid","externalIcon",1,"external-icon"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"a",1,0)(2,"span",2),rP(3),Xf$2(),kI(4,x0,1,0,"pfy-icon",3),Xf$2()),n&2&&(zR("link ",i.type,""),GI("href",i.href,sy$2)("target",i.newTab?"_blank":null)("rel",i.rel),xR(2),dE("underlined",i.underlined),xR(2),QR(i.external?4:-1));},dependencies:[ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%], .link[_ngcontent-%COMP%]{font-family:inherit;font-size:inherit;line-height:inherit}.link[_ngcontent-%COMP%]{cursor:pointer;outline:none;color:#2f2e0c;font-weight:600;display:inline;text-decoration:none;transition:color .15s ease}.link[_ngcontent-%COMP%]   .underlined[_ngcontent-%COMP%]{text-decoration:underline;text-underline-position:under}.link[_ngcontent-%COMP%]:hover{color:#572f99}.link[_ngcontent-%COMP%]:visited{color:#2f2e0c}.link[_ngcontent-%COMP%]:visited:hover{color:#572f99}.link[_ngcontent-%COMP%]:focus-visible{border-radius:4px;outline:2px solid #0096cc;outline-offset:0;padding:0 .25rem;margin:0 calc(0px - .25rem)}.link.light[_ngcontent-%COMP%]{color:#fff}.link.light[_ngcontent-%COMP%]:hover{color:#d0d0c3}.link.light[_ngcontent-%COMP%]:visited{color:#fff}.link.light[_ngcontent-%COMP%]:visited:hover{color:#d0d0c3}.link[_ngcontent-%COMP%]   .external-icon[_ngcontent-%COMP%]{height:auto;margin-left:.25rem;font-size:inherit;line-height:inherit;vertical-align:bottom;color:inherit}'],changeDetection:0});}}return t})(),qS=(()=>{class t{constructor(){this.elementRef=N$8(Uo$5),this.renderer=N$8(NR),this.viewContainerRef=N$8(Ja$5),this.destroyConvertedComponents$=new Z$a,this.linkComponent=Vu$2;}get innerHTML(){return this.elementRef.nativeElement.innerHTML}set innerHTML(e){this.elementRef.nativeElement.innerHTML=e,this.destroyConvertedComponents$.next(),this.convertLinks();}ngOnDestroy(){this.destroyConvertedComponents$.next(),this.destroyConvertedComponents$.complete();}convertLinks(){this.elementRef.nativeElement.querySelectorAll("a").forEach(e=>{let n=this.convert(e,this.linkComponent),i=e.getAttribute("href")||undefined;i&&(n.setInput("href",i),i.startsWith("http")&&n.setInput("external",true)),e.target==="_blank"&&n.setInput("newTab",true),e.rel&&n.setInput("rel",e.rel);});}convert(e,n){let i=this.viewContainerRef.createComponent(n,{projectableNodes:[Array.from(e.childNodes)]});this.destroyConvertedComponents$.subscribe(()=>i.destroy());let r=i.location.nativeElement,s=e.parentElement;return this.renderer.insertBefore(s,r,e),this.renderer.removeChild(s,e),i}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-custom-html"]],inputs:{innerHTML:"innerHTML"},ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]  p:not(:last-child), [_nghost-%COMP%]  ul:not(:last-child), [_nghost-%COMP%]  ol:not(:last-child){margin-bottom:1.5rem}[_nghost-%COMP%]  b, [_nghost-%COMP%]  strong{font-weight:700}[_nghost-%COMP%]  ul, [_nghost-%COMP%]  ol{list-style-position:outside;margin-left:1.5rem}[_nghost-%COMP%]  ul li+li, [_nghost-%COMP%]  ol li+li{margin-top:.25rem}[_nghost-%COMP%]  ul{list-style-type:disc}[_nghost-%COMP%]  ol{list-style-type:decimal}[_nghost-%COMP%]  li>ul, [_nghost-%COMP%]  li>ol{margin-top:.25rem}[_nghost-%COMP%]  li>ul{list-style-type:circle}'],changeDetection:0});}}return t})(),Mi$5=(()=>{class t{constructor(){this.containerChange=new In$7(1),this.container$=this.containerChange.asObservable(),this.contentChange=new In$7(1),this.content$=this.contentChange.asObservable(),this.handleChange=new In$7(1),this.handle$=this.handleChange.asObservable();}setContainer(e){this.containerChange.next(e);}setContent(e){this.contentChange.next(e);}setHandle(e){this.handleChange.next(e);}ngOnDestroy(){this.containerChange.complete(),this.contentChange.complete(),this.handleChange.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),H1=.13,U1=14,W1=9,go$3={passive:true},ol$1=(()=>{class t{constructor(){this.elementsService=N$8(Mi$5),this.container$=this.elementsService.container$,this.dragStart$=(()=>{let e=this.container$.pipe(Ac$3(i=>_i$7(i,"mousedown")),G1()),n=this.container$.pipe(Ac$3(i=>_i$7(i,"touchstart",go$3)),Lp());return $p$1(e,n).pipe(X$7())})(),this.dragMove$=(()=>{let e=_i$7(window,"mousemove",go$3),n=this.container$.pipe(Ac$3(i=>_i$7(i,"touchmove",go$3)),Lp());return $p$1(e,n).pipe(X$7())})(),this.dragEnd$=(()=>{let e=_i$7(window,"mouseup",go$3),n=this.container$.pipe(Ac$3(i=>_i$7(i,"touchend",go$3)));return $p$1(e,n).pipe(X$7())})(),this.isDragging$=$p$1(this.dragStart$.pipe(ie$b(()=>true)),this.dragEnd$.pipe(ie$b(()=>false))),this.dragDirection$=this.dragStart$.pipe(Ac$3(e=>this.dragMove$.pipe(mt$8(1),ie$b(Ur$2),Sc$2(Ur$2(e)),Tc$2(),Oc$2(this.dragEnd$))),ie$b(([e,n])=>{let i=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return i>r?"horizontal":"vertical"})),this.startDragMovementY$=this.dragStart$.pipe(Ac$3(()=>this.dragMove$.pipe(mt$8(1),ie$b(e=>Ur$2(e).y),Oc$2(this.dragEnd$)))),this.dragMovementY$=yh$1(this.dragStart$,this.dragDirection$,this.startDragMovementY$).pipe(Ye$b(([e,n])=>n==="vertical"||!e.target?true:!Au$2(e.target,"PFY-DRAWER")),Ac$3(([,,e])=>this.dragMove$.pipe(ie$b(n=>Ur$2(n).y),Sc$2(e),Tc$2(),Oc$2(this.dragEnd$))),ie$b(([e,n])=>n-e),Mr$6()),this.storedInertiaData$=this.dragStart$.pipe(Ac$3(()=>this.dragMovementY$.pipe(Oc$2(this.dragEnd$),Sc$2(0),Qc$3((e,n)=>{let i=Date.now();if(e.distance&&Math.sign(e.distance)!==Math.sign(n))return Qa$1(i);let r=i-e.timestamp,s=Math.abs(e.distance/e.time),p=Math.abs(n/r);return e.distance&&p<s/2?Qa$1(i):{distance:e.distance+n,previousMovementY:n,time:e.time+r,startTime:e.startTime,timestamp:i}},Qa$1()))),ie$b(({distance:e,time:n})=>({velocity:e/n||0,direction:Math.sign(e)}))),this.inertiaData$=this.dragEnd$.pipe(Rc$2(this.storedInertiaData$),ie$b(([,e])=>e),Ye$b(({velocity:e})=>Math.abs(e)>H1)),this.inertiaPower$=this.inertiaData$.pipe(Ac$3(({direction:e,velocity:n})=>{let i=n*U1,r=Math.abs(i),s=r;return fh$2(0,Kp$1).pipe(ie$b(p=>{let O=Math.min(p+1,W1)/100,D=r*O;return s-=D,Math.max(Math.floor(s),0)*e}),Yc$3(()=>s>1))})),this.dragMovementY$.pipe(mt$8(1),X$7()).subscribe();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Au$2(t,o){let e=t.scrollLeft;function n(r){return t.scrollLeft=e+r,t.scrollLeft!==e}let i=n(1)||n(-1);return t.scrollLeft=e,i?true:t.nodeName===o||!t.parentElement||t.parentElement.nodeName===o?false:Au$2(t.parentElement,o)}function Qa$1(t=Date.now()){return {distance:0,time:0,previousMovementY:0,startTime:t,timestamp:t}}function Lp(){return Ye$b(t=>t.targetTouches.length===1)}function G1(){return kc$2(t=>{t.target instanceof HTMLElement&&$p(t.target)||document.activeElement&&$p(document.activeElement)||t.preventDefault();})}function Ur$2(t){if("clientX"in t&&"clientY"in t)return {x:t.clientX,y:t.clientY};if("targetTouches"in t&&t.targetTouches.length>0){let o=t.targetTouches[0];return {x:o.clientX,y:o.clientY}}return {x:0,y:0}}function $p(t){return t&&["INPUT","TEXTAREA"].includes(t.nodeName)}var Q1=1e3,Ya$2={movement:0},Bp=50,rl$1=300;function Y1(t,o){return new M$a(e=>{let n=new MutationObserver(i=>{e.next(i);});return n.observe(t,o),()=>n.disconnect()})}var ss$3=(()=>{class t{constructor(){this.elementsService=N$8(Mi$5),this.eventsService=N$8(ol$1),this.window=N$8(Ii$3),this.manualPosition=new Z$a,this.minBottomPosition=new yn$7(0),this.minBottomPosition$=this.minBottomPosition.asObservable(),this.contentScrollTop$=this.elementsService.content$.pipe(Ac$3(e=>_i$7(e,"scroll",{passive:true}).pipe(ie$b(()=>e.scrollTop),Sc$2(0))),_c$3(1)),this.contentMutation$=this.elementsService.content$.pipe(Bt$7(Kp$1,Q1),Ac$3(e=>Y1(e,{childList:true,subtree:true})),Ye$b(e=>e.some(n=>n.removedNodes.length>0))),this.position$=$p$1(hi$7(Ya$2).pipe(Bt$7(Kp$1)),this.eventsService.dragMovementY$.pipe(ie$b(e=>({movement:e}))),this.eventsService.inertiaPower$.pipe(ie$b(e=>({movement:e}))),this.manualPosition.pipe(ie$b(e=>({position:e}))),this.contentMutation$.pipe(ie$b(()=>Ya$2)),_i$7(this.window,"resize").pipe(ie$b(()=>Ya$2))).pipe(Rc$2(this.elementsService.container$,this.contentScrollTop$,this.minBottomPosition$),Ye$b(([,,e])=>e===0),Qc$3((e,[n,i,,r])=>{let s=Math.floor("position"in n?n.position:n.movement+e),p=this.window.innerHeight-i.offsetTop-r;return Xp$3(s,0,p)},0),Dr$5(),X$7(),_c$3(1)),this.offset$=this.position$.pipe(Rc$2(this.elementsService.container$),ie$b(([e,n])=>n.offsetTop+e),X$7(),_c$3(1));}ngOnDestroy(){this.manualPosition.complete();}setPosition(e){this.manualPosition.next(e);}setMinBottomPosition(e){this.minBottomPosition.next(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),K1=60,Np=16,zp$1=100,LS=(()=>{class t{constructor(){this.drawerElementsService=N$8(Mi$5,{optional:true}),this.drawerPositionService=N$8(ss$3,{optional:true}),this.resizeObserverService=N$8(fs$1),this.destroyRef=N$8(mn$6),this.innerContent=N$8(Uo$5).nativeElement,this.contentHeightChange$=this.resizeObserverService.observe(this.innerContent).pipe(Wc$3(zp$1),ie$b(e=>e.contentRect.height),Sc$2(this.innerContent.getBoundingClientRect().height),Tc$2(),ie$b(([e,n])=>n-e),Ye$b(e=>e>K1)),this.contentClickPosition$=_i$7(this.innerContent,"click").pipe(Wc$3(zp$1),ie$b(e=>{let n=this.innerContent.getClientRects()[0];return e.clientY-n.top}),Ye$b(e=>!!e));}ngAfterViewInit(){this.trackContentChange();}trackContentChange(){!this.drawerElementsService||!this.drawerPositionService||this.contentHeightChange$.pipe(Rc$2(this.contentClickPosition$,this.drawerElementsService.content$,this.drawerPositionService.position$),Ye$b(([,e,,n])=>n===0&&!!e),Bt$7(Kp$1),X$7(this.destroyRef)).subscribe(([e,n,i])=>{i.scrollTo({top:Math.min(i.scrollTop+e+Np,n-Np),behavior:"smooth"});});}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDrawerContentAutoScroll",""]]});}}return t})(),X1=50,Z1=16,sl$1=(()=>{class t{constructor(){this.elementsService=N$8(Mi$5),this.positionService=N$8(ss$3),this.renderer=N$8(NR),this.window=N$8(Ii$3),this.initialHeight=new Z$a,this.contentScrollTop$=this.positionService.contentScrollTop$,this.closeTrigger=new Z$a,this.close$=this.closeTrigger.asObservable(),this.initInitialHeight();}ngOnDestroy(){this.initialHeight.complete(),this.closeTrigger.complete();}setInitialHeight(e){this.initialHeight.next(e);}close(){this.closeTrigger.next();}animationStart(e){return kc$2(n=>{e(n).forEach(i=>{this.renderer.setStyle(i,"transition",`transform ${rl$1}ms ease-out`);});})}animationEnd(e){return oi$5(Mc$2(rl$1),kc$2(n=>{e(n).forEach(i=>this.renderer.removeStyle(i,"transition"));}))}initInitialHeight(){this.initialHeight.pipe(mt$8(1),Rc$2(this.elementsService.container$),kc$2(()=>this.positionService.setPosition(this.window.innerHeight)),Hc$3(0,J$7),this.animationStart(([,e])=>[e]),kc$2(([e,n])=>{this.positionService.setPosition(n.clientHeight-e);}),this.animationEnd(([,e])=>[e])).subscribe();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),J1=(()=>{class t{constructor(){this.drawerService=N$8(sl$1),this.drawerElementsService=N$8(Mi$5),this.drawerEventsService=N$8(ol$1),this.drawerPositionService=N$8(ss$3),this.renderer=N$8(NR),this.destroyRef=N$8(mn$6),this.window=N$8(Ii$3),this.topOffset=0,this.closeByDragToBottom=new Xe$5,this.translate$=this.drawerPositionService.position$,this.containerTransform$=this.translate$.pipe(ie$b(e=>`translateY(${e}px)`)),this.containerWillChange$=this.getDraggingWillChange$("transform"),this.closeToBottom$=this.translate$.pipe(Tc$2(),Ye$b(([e,n])=>e<n),Rc$2(this.drawerElementsService.container$),ie$b(([[,e],n])=>e>this.window.innerHeight-n.offsetTop-Bp)),this.isDrawerOnTopPosition$=this.translate$.pipe(ie$b(e=>e===0),Dr$5()),this.contentScrollTop$=this.drawerService.contentScrollTop$,this.contentScrollTopFixed$=Hp$2([this.isDrawerOnTopPosition$,this.contentScrollTop$]).pipe(ie$b(([e,n])=>!e&&n===0),Dr$5(),X$7(),_c$3({bufferSize:1,refCount:true})),this.contentWillChange$=this.getDraggingWillChange$("scroll-position"),this.showBottomShadow$=Hp$2([this.closeToBottom$.pipe(Sc$2(false)),$p$1(this.contentScrollTop$,this.translate$,this.drawerPositionService.contentMutation$.pipe(Sc$2([]),Wc$3(rl$1)))]).pipe(Wc$3(X1),ie$b(([e])=>{if(!this.innerContent||e)return  false;let{bottom:n}=this.innerContent.nativeElement.getBoundingClientRect();return !(n-Z1<this.window.innerHeight)}),Dr$5());}set minBottomPosition(e){this.drawerPositionService.setMinBottomPosition(e);}set container(e){this.drawerElementsService.setContainer(e.nativeElement);}set content(e){this.drawerElementsService.setContent(e.nativeElement);}set handle(e){this.drawerElementsService.setHandle(e.nativeElement);}ngOnInit(){this.containerTransform$.pipe(Rc$2(this.drawerElementsService.container$),X$7(this.destroyRef)).subscribe(([e,n])=>{n.style.transform=e;}),this.handleClose();}ngAfterViewInit(){this.initFooterAndShadowPositioning();}initFooterAndShadowPositioning(){(0, Z$9.assert)(!!this.drawerPositionService,"A Drawer with a DrawerPositionService must be present");let e=this.getFooterElement(),n=this.getBottomShadowElement();this.drawerPositionService.offset$.pipe(ie$b(i=>Math.max(i-this.window.innerHeight+e.offsetHeight,0)),Dr$5(),X$7(this.destroyRef)).subscribe(i=>{this.renderer.setStyle(e,"transform",`translateY(${i}px)`),this.renderer.setStyle(n,"transform",`translateY(${i}px)`);}),this.showBottomShadow$.pipe(X$7(this.destroyRef)).subscribe(()=>{this.renderer.setStyle(n,"bottom",`${this.footer?.nativeElement.clientHeight}px`);});}getFooterElement(){let e=this.footer;return (0, Z$9.assert)(!!e,"A footer element must be present in DrawerComponent"),e.nativeElement}getBottomShadowElement(){let e=this.bottomShadow;return (0, Z$9.assert)(!!e,"A bottomShadow element must be present in DrawerComponent"),e.nativeElement}handleClose(){this.drawerPositionService.minBottomPosition$.pipe(ie$b(e=>e<=0),Dr$5(),Ye$b(Boolean),Ac$3(()=>$p$1(this.closeToBottom$.pipe(Ye$b(Boolean)),this.drawerService.close$)),Rc$2(this.drawerElementsService.container$,this.drawerElementsService.handle$),ie$b(([,e,n])=>[e,n,this.getFooterElement(),this.getBottomShadowElement()]),this.drawerService.animationStart(([e,,n,i])=>[e,n,i]),kc$2(([e,n,i,r])=>{let s=parseInt(this.window.getComputedStyle(n,":after").height,10),p=this.window.innerHeight-e.offsetTop+Bp+(isNaN(s)?0:s);e.style.transform=`translateY(${p}px)`,this.renderer.setStyle(i,"transform",`translateY(${p}px)`),this.renderer.setStyle(r,"transform",`translateY(${p}px)`);}),this.drawerService.animationEnd(([e,,n,i])=>[e,n,i]),X$7(this.destroyRef)).subscribe(()=>{this.closeByDragToBottom.emit();});}getDraggingWillChange$(e){return this.drawerEventsService.isDragging$.pipe(ie$b(n=>n?e:""))}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-drawer"]],viewQuery:function(n,i){if(n&1&&(iP(O0,7,Uo$5),iP(M0,7,Uo$5),iP(P0,7,Uo$5),iP(k0,7,Uo$5),iP(S0,7,Uo$5),iP(T0,7,Uo$5)),n&2){let r;sP(r=aP())&&(i.container=r.first),sP(r=aP())&&(i.content=r.first),sP(r=aP())&&(i.handle=r.first),sP(r=aP())&&(i.footer=r.first),sP(r=aP())&&(i.bottomShadow=r.first),sP(r=aP())&&(i.innerContent=r.first);}},hostVars:2,hostBindings:function(n,i){n&2&&uE("padding-top",i.topOffset,"px");},inputs:{topOffset:"topOffset",minBottomPosition:"minBottomPosition"},outputs:{closeByDragToBottom:"closeByDragToBottom"},features:[gP([sl$1,Mi$5,ol$1,ss$3])],ngContentSelectors:D0,decls:19,vars:20,consts:[["container",""],["handle",""],["content",""],["innerContent",""],["bottomShadow",""],["footer",""],["data-testId","drawerContainer",1,"drawer"],["data-testid","handle",1,"handle"],["data-testid","content",1,"content"],["data-testId","innerContent",1,"inner-content"],["data-testid","bottomShadow",1,"bottom-shadow"],["data-testid","footer",1,"footer"]],template:function(n,i){n&1&&(nP(I0),Kf$2(0,"div",6,0),TP(2,"async"),ME(3,"div",7,1),TP(5,"async"),Kf$2(6,"div",8,2),TP(8,"async"),TP(9,"async"),Kf$2(10,"div",9,3),rP(12),Xf$2()()(),ME(13,"div",10,4),TP(15,"async"),Kf$2(16,"div",11,5),rP(18,1),Xf$2()),n&2&&(uE("will-change",_P(2,10,i.containerWillChange$)),xR(3),dE("enlarged",_P(5,12,i.isDrawerOnTopPosition$)),xR(3),uE("will-change",_P(8,14,i.contentWillChange$)),dE("scroll-fixed",_P(9,16,i.contentScrollTopFixed$)),xR(7),dE("active",_P(15,18,i.showBottomShadow$)));},dependencies:[zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:fixed;pointer-events:none;inset:0;width:100%;height:100%;overflow:hidden;contain:strict}.drawer[_ngcontent-%COMP%]{pointer-events:auto;position:relative;height:100%;touch-action:none}.content[_ngcontent-%COMP%]{min-height:100%;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426;border-top-right-radius:6px;border-top-left-radius:6px;max-height:100%;background-color:#fff;border-top:1px solid #e0e0d7;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;overscroll-behavior-y:none;-ms-overflow-style:none;scrollbar-width:none}.content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.content.scroll-fixed[_ngcontent-%COMP%]{overflow-y:hidden}.handle[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:.25rem;width:48px;height:.25rem;border-radius:.125rem;background-color:#a8a794}.handle[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;inset:-1rem -.5rem -.25rem}.handle.enlarged[_ngcontent-%COMP%]:after{top:-2rem;left:-50vw;right:-50vw}.inner-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bottom-shadow[_ngcontent-%COMP%]{position:absolute;opacity:0;bottom:0;left:0;right:0;height:36px;background:linear-gradient(#a8a79400,#a8a7941a);transition:opacity .15s ease-in-out;z-index:10}.bottom-shadow.active[_ngcontent-%COMP%]{opacity:1}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding:1rem;border-top:1px solid #e0e0d7;background-color:#fff;opacity:1;pointer-events:auto}.footer[_ngcontent-%COMP%]:empty{opacity:0;display:none}'],changeDetection:0});}}return t})(),$S=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-drawer-footer"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});}}return t})(),BS=(()=>{class t{constructor(){this.drawerService=N$8(sl$1,{optional:true}),this.element=N$8(Uo$5),this.initialElementOffset=0;}ngAfterViewInit(){this.setDrawerInitialHeight();}setDrawerInitialHeight(){if(!this.drawerService)return;let e=this.element.nativeElement,n=e.offsetTop+e.clientHeight;this.drawerService.setInitialHeight(n+this.initialElementOffset);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyDrawerInitialElement",""]],inputs:{initialElementOffset:"initialElementOffset"}});}}return t})(),jp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({});}}return t})();function Ru$1(t,o){let e=o?.trim();if(!e)return t;let n=Pi$6(e),i=[],r=[];return t.forEach(s=>{if(Up$1(s.name,n)){i.push(s);return}ex(s)&&Up$1(s.secondaryName,n)&&r.push(s);}),i.sort((s,p)=>Hp$1(s.name,p.name,n)),r.sort((s,p)=>Hp$1(s.secondaryName,p.secondaryName,n)),i.concat(r)}function Hp$1(t,o,e){let n=Pi$6(t).indexOf(e),i=Pi$6(o).indexOf(e);return n-i}function Up$1(t,o){return !!t&&Pi$6(t).includes(o)}function Pi$6(t){return t.toLocaleLowerCase()}function Fu$1(t,o){let e=window.getComputedStyle(o,null),n=parseInt(e.getPropertyValue("border-top-width"),10),i=parseInt(e.getPropertyValue("border-left-width"),10),r=t.offsetTop-o.offsetTop<o.scrollTop,s=t.offsetLeft-o.offsetLeft<o.scrollLeft,p=t.offsetTop-o.offsetTop+t.clientHeight-n>o.scrollTop+o.clientHeight,O=t.offsetLeft-o.offsetLeft+t.clientWidth-i>o.scrollLeft+o.clientWidth;(r||p||s||O)&&t.scrollIntoView({block:"nearest",inline:"start"});}function ex(t){return !!t.secondaryName}var tx=(()=>{class t{set listItems(e){this.listItems$.next(e);}get listItems(){return this.listItems$.getValue()}set disabled(e){this.disabled$.next(e);}get disabled(){return this.disabled$.getValue()}set selectedItem(e){this.value!==e&&(this.value=e);}get selectedItem(){return this.value}set filteredListItems(e){this.filteredListItemsChange$.next(e);}get filteredListItems(){return this.filteredListItemsChange$.getValue()}constructor(e,n,i,r,s){this.changeDetector=e,this.elementRef=n,this.viewContainerRef=i,this.dropdownService=r,this.destroyRef=s,this.autocomplete="never",this.listItems$=new yn$7([]),this.dropdownAsOverlayOnMobile=true,this.appearance=mt$6.Normal,this.disabled$=new yn$7(false),this.required=false,this.invalid=false,this.filteringEnabled=true,this.queryControl=new Nt$1(""),this.selectedItemChange=new Xe$5,this.queryChange=this.queryControl.valueChanges,this.showDropdownList$=new In$7(1),this.filteredListItemsChange$=new yn$7([]),this.filteredListItems$=$p$1(this.filteredListItemsChange$,this.listItems$),this.highlightedItem=null,this.value=null,this.isDropdownOpened$=this.dropdownService.isDropdownOpened$(this.getOrigin.bind(this)),this.inputIconKey$=this.isDropdownOpened$.pipe(ie$b(p=>p?Xn$3.Opened:Xn$3.Closed)),this.onTouchedFn=()=>{},this.controlValueAccessorChangeFn=()=>{};}ngOnChanges(){this.selectedItem&&(this.queryControl.setValue(this.selectedItem.name,{emitEvent:false}),this.highlightedItem=this.selectedItem);}ngAfterViewInit(){(0, Z$9.assert)(!!this.input,"AutocompleteOverlayComponent must have input"),(0, Z$9.assert)(!!this.listTemplate||!!this.list,"AutocompleteOverlayComponent must have a dropdown list or its template"),Hp$2([this.showDropdownList$,this.filteredListItems$]).pipe(Rc$2(this.isDropdownOpened$)).subscribe(([[e,n],i])=>{let r=e&&n.length;if(r&&!i){if(!n?.length)return;this.dropdownService.show(this.getDropdownOverlayConfig());}else !r&&i&&this.dropdownService.hide(this.getOrigin());}),this.disabled$.pipe(Dr$5(),X$7(this.destroyRef)).subscribe(e=>e?this.queryControl.disable():this.queryControl.enable());}ngOnDestroy(){this.showDropdownList$.next(false),this.showDropdownList$.complete(),this.listItems$.complete(),this.filteredListItemsChange$.complete();}getOrigin(){return this.input?.inputAreaRef}filter(){if(!this.filteringEnabled)return;if(!this.listItems){this.filteredListItemsChange$.next([]);return}let e=this.getFormattedValue();if(!e){this.filteredListItemsChange$.next(this.listItems),this.highlightedItem=null,this.showDropdownList$.next(true);return}let n=Ru$1(this.listItems,e);this.filteredListItemsChange$.next(n),this.highlightedItem=n[0]||null,n.length&&this.showDropdownList$.next(true);}getFormattedValue(){let e=this.queryControl.value||"";return Pi$6(e).trim()}validate(){let e=this.getFormattedValue();if(!(this.highlightedItem?.name.toLocaleLowerCase().trim()===e||this.highlightedItem?.secondaryName?.toLocaleLowerCase().trim()===e)){this.selectedItem=null,this.invalid=true;return}!this.selectedItem&&this.highlightedItem&&this.onItemSelect(this.highlightedItem),this.selectedItem?.name.toLocaleLowerCase().trim()!==e&&(this.selectedItem=this.highlightedItem,this.queryControl.setValue(this.selectedItem?.name||"",{emitEvent:false})),this.invalid=!this.selectedItem;}onItemSelect(e){if(!e?.disabled){if(this.selectedItem=e??null,this.highlightedItem=this.selectedItem,!this.selectedItem){this.invalid=true;return}this.queryControl.setValue(this.selectedItem.name,{emitEvent:false}),this.onInputBlur(),this.selectedItemChange.emit(this.selectedItem);}}onInputFocus(){this.invalid=false,this.showDropdownList$.next(true);}onInputBlur(e){let n=e?.relatedTarget;if([this.input.inputAreaRef,this.list?.listRef].some(r=>r?.nativeElement.contains(n))){(n.tagName==="A"&&!!n.closest(".disabled")||n===this.list?.listRef.nativeElement)&&this.focusInput();return}this.validate(),this.showDropdownList$.next(false),this.filteredListItemsChange$.next(this.listItems),this.controlValueAccessorChangeFn(this.selectedItem),this.onTouchedFn();}onIconClick(e){return E$e(this,null,function*(){e.preventDefault(),e.stopPropagation(),(yield th$2(this.isDropdownOpened$))?(this.showDropdownList$.next(false),this.validate()):(this.showDropdownList$.next(true),this.focusInput());})}highlightNext(e,n,i){if(n.preventDefault(),!i.length)return;let r=this.highlightedItem?i.indexOf(this.highlightedItem):-1,s=0;e==="down"?s=i.length>r+1?r+1:0:s=r-1>=0?r-1:i.length-1,this.highlightedItem=i[s],this.scrollToActiveLink();}selectHighlighted(){this.highlightedItem&&!this.highlightedItem.disabled&&(this.onItemSelect(this.highlightedItem),this.blurInput());}blurInput(e){e?.preventDefault(),this.input.inputRef?.nativeElement.blur();}focusInput(){this.disabled||setTimeout(()=>{this.input.inputRef?.nativeElement.focus();});}scrollToActiveLink(){setTimeout(()=>{let e=this.getActiveLinkElement(),n=e?.parentNode?.parentNode;e&&n&&Fu$1(e,n);});}getActiveLinkElement(){return this.list?.listRef?.nativeElement?this.list.listRef.nativeElement.querySelector(".link.active"):null}writeValue(e){this.selectedItem=e,this.highlightedItem=e,this.queryControl.setValue(e?.name??"",{emitEvent:false}),this.changeDetector.markForCheck();}registerOnChange(e){this.controlValueAccessorChangeFn=e;}registerOnTouched(e){this.onTouchedFn=e;}setDisabledState(e){this.disabled$.next(e);}getDropdownOverlayConfig(){let e=this.getOrigin();return (0, Z$9.assert)(!!e,"Origin must be present when showing dropdown list in AutocompleteOverlayComponent"),{origin:e,dropdownTemplateRef:this.listTemplate,viewContainerRef:this.viewContainerRef,fullWidth:true,asOverlayOnMobile:this.dropdownAsOverlayOnMobile,positioningContainer:this.positioningContainer}}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1),Yo$4(Uo$5),Yo$4(Ja$5),Yo$4(yu$1),Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-autocomplete-overlay"]],viewQuery:function(n,i){if(n&1&&(iP(Si$3,5),iP(nu$1,5),iP(ki$5,5)),n&2){let r;sP(r=aP())&&(i.input=r.first),sP(r=aP())&&(i.listTemplate=r.first),sP(r=aP())&&(i.list=r.first);}},inputs:{name:"name",placeholder:"placeholder",label:"label",helperText:"helperText",autocomplete:"autocomplete",listItems:"listItems",dropdownAsOverlayOnMobile:"dropdownAsOverlayOnMobile",appearance:"appearance",disabled:"disabled",required:"required",invalid:"invalid",positioningContainer:"positioningContainer",filteringEnabled:"filteringEnabled",selectedItem:"selectedItem"},outputs:{selectedItemChange:"selectedItemChange",queryChange:"queryChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),tR],decls:4,vars:3,consts:[["listTemplate",""],["input",""],["list",""],["data-testid","input",1,"input",3,"formControl","appearance","required","helperText","iconFocusable","iconKey","invalid","label","name","placeholder","autocomplete"],["data-testid","input",1,"input",3,"input","change","onblur","onfocus","iconClick","keydown.escape","keydown.arrowDown","keydown.arrowUp","keydown.enter","formControl","appearance","required","helperText","iconFocusable","iconKey","invalid","label","name","placeholder","autocomplete"],["data-testid","list",3,"usedInOverlay","selectedItem","highlightSelected","fullWidth","asOverlayOnMobile"],["data-testid","list",3,"selectItem","usedInOverlay","selectedItem","highlightSelected","fullWidth","asOverlayOnMobile"],[3,"pfyDropdownListItem"],["option-secondary-name",""],["option-image",""]],template:function(n,i){if(n&1&&(kI(0,E0,3,13,"pfy-input",3),TP(1,"async"),kI(2,q0,2,3,"ng-template",null,0,OP)),n&2){let r;QR((r=_P(1,1,i.filteredListItems$))?0:-1,r);}},dependencies:[In$5,Tt$4,Vt$6,$n$5,Ki$4,xr$4,So$3,fl$1,_l$1,ps$2,zd$1],styles:[iu$2]});}}return t})(),Oo$3=class Oo{},al$1=class al{},qu$1=(()=>{class t{set disabled(e){this.disabledChange.next(e);}constructor(e,n){this.dropdownSelect=e,this.elementRef=n,this.inputAppearance=mt$6,this.tabindex=0,this.appearance=mt$6.Normal,this.placeholderAsLabel=false,this.disabledChange=new In$7(1),this.disabled$=this.disabledChange.pipe(Sc$2(false),Dr$5()),this.onblur=new Xe$5,this.onfocus=new Xe$5,this.removeItem=new Xe$5,this.destroy$=new Z$a,this.items$=this.dropdownSelect.selectedItemsChange.pipe(Sc$2(this.dropdownSelect.selectedItems),ie$b(i=>this.dropdownSelect.listItems.filter(r=>i.has(r))),Oc$2(this.destroy$));}ngOnInit(){this.disabled$.pipe(Oc$2(this.destroy$)).subscribe(e=>{this.tabindex=e?-1:0;});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.disabledChange.complete();}onBlur(e){this.onblur.emit(e);}blur(){this.elementRef.nativeElement.blur();}onFocus(e){this.onfocus.emit(e);}focus(){this.elementRef.nativeElement.focus();}onTagMousedown(e){e.stopPropagation(),e.preventDefault();}itemTrackBy(e,n){return n.value}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Oo$3),Yo$4(Uo$5))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-select-input-values"]],hostVars:1,hostBindings:function(n,i){n&1&&VE("blur",function(s){return i.onBlur(s)})("focus",function(s){return i.onFocus(s)}),n&2&&GI("tabindex",i.tabindex);},inputs:{placeholder:"placeholder",appearance:"appearance",placeholderAsLabel:"placeholderAsLabel",disabled:"disabled"},outputs:{onblur:"onblur",onfocus:"onfocus",removeItem:"removeItem"},features:[gP([{provide:al$1,useExisting:t}])],decls:2,vars:3,consts:[["data-testid","tagItem",1,"tag",3,"name","small","canRemove"],["data-testid","tagItem",1,"tag",3,"removeTag","mousedown","name","small","canRemove"],["data-testid","placeholder",1,"placeholder",3,"placeholder-as-label"],["data-testid","placeholder",1,"placeholder"]],template:function(n,i){if(n&1&&(kI(0,z0,2,1),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.items$))?0:-1,r);}},dependencies:[is$2,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;overflow:auto;margin-right:var(--input-height);min-height:var(--input-height);padding:.5rem}[_nghost-%COMP%]:focus{outline:none}.placeholder[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{margin-left:.25rem;white-space:nowrap}.placeholder[_ngcontent-%COMP%]{color:#a8a794}.placeholder.placeholder-as-label[_ngcontent-%COMP%]{color:#2f2e0c}'],changeDetection:0});}}return t})(),nx=(()=>{class t extends To$1{set asAccordionOnMobile(e){this.asAccordionOnMobileChange.next(e);}set showSelectedItemsAsCount(e){this.showSelectedItemsAsCountChange.next(e);}blur(){this.blurInput();}focus(){this.focusInput();}constructor(e,n,i){super(i),this.elementRef=e,this.viewportService=n,this.inputAppearance=mt$6,this.isDesktop$=this.viewportService.match(gt$7.M),this.listItems=[],this.highlightSelected=false,this.markSelected=true,this.selectedItems=new Set,this.showDropdownList=false,this.fullWidth=true,this.dropdownAsOverlayOnMobile=true,this.appearance=mt$6.Normal,this.multiple=false,this.asAccordionOnMobileChange=new yn$7(false),this.showAccordion$=Hp$2([this.asAccordionOnMobileChange,this.isDesktop$]).pipe(ie$b(([r,s])=>r&&!s),Dr$5()),this.showSelectedItemsAsCountChange=new yn$7(false),this.showDropdownSelectInputValues$=this.showSelectedItemsAsCountChange.pipe(Hc$3(0),ie$b(r=>{let s=!!this.placeholder&&!this.label;return this.multiple&&!s&&!r})),this.selectedItemChange=new Xe$5,this.selectedItemsChange=new Xe$5,this.tabindex="0",this.accordionFullWidth=true,this.inputValue=new yn$7(undefined),this.selectionSet$=$p$1(this.selectedItemChange.pipe(ie$b(r=>new Set([r]))),this.selectedItemsChange),this.firstChanges=true;}ngOnChanges(e){if(this.firstChanges){this.setVisibleInputValue(),this.firstChanges=false;return}[e.asAccordionOnMobile,e.multiple,e.showSelectedItemsAsCount,e.selectedItem,e.selectedItems,e.placeholder,e.label].some(i=>!!i)&&this.setVisibleInputValue();}ngAfterViewInit(){(0, Z$9.assert)(!!this.list,"DropdownSelectComponent must have a DropdownListComponent ViewChild");}ngOnDestroy(){this.asAccordionOnMobileChange.complete(),this.showSelectedItemsAsCountChange.complete();}deselectItem(e){this.multiple?((0, Z$9.assert)(!!e,"Deselecting in multiple mode requires an item"),this.selectedItems.has(e)&&this.toggleItem(e)):this.toggleItem(undefined);}deselectAllItems(){if(this.multiple){let e=new Set;this.selectedItems=e,this.selectedItem=undefined,this.setVisibleInputValue(),this.onChange(this.selectedItems),this.selectedItemsChange.emit(e);}else this.deselectItem();}toggleItem(e){if(!e?.disabled){if(this.multiple){(0, Z$9.assert)(!!e,"Selecting in multiple mode requires an item");let n=new Set(this.selectedItems);n.has(e)?n.delete(e):n.add(e),this.selectedItems=n;}this.selectedItem=e,this.setVisibleInputValue(),this.multiple?(this.onChange(this.selectedItems),this.selectedItemsChange.emit(this.selectedItems)):(this.onInputBlur(),this.onChange(e),this.selectedItemChange.emit(e));}}onItemSelect(e){e?.disabled||(this.selectedItem=e,this.setVisibleInputValue(),!this.multiple&&(this.onInputBlur(),this.onChange(e),this.selectedItemChange.emit(e)));}onSelectedItemsChange(e){this.multiple&&(this.selectedItems=e,this.onChange(e),this.selectedItemsChange.emit(e));}onInputFocus(e){super.onInputFocus(e),this.showDropdownList=true;}onInputBlur(e){super.onInputBlur(e);let n=e?.relatedTarget;if(this.elementRef.nativeElement.contains(n)){let i=()=>n.tagName==="A"&&!!n.closest(".disabled"),r=()=>n===this.list?.listRef.nativeElement;(this.multiple||i()||r())&&this.focusInput();return}this.showDropdownList=false;}toggleDropdown(e){if(e.preventDefault(),e.stopPropagation(),this.showDropdownList){let n=document.activeElement;n&&"blur"in n&&n.blur();}else this.focusInput();}writeValue(e){let n=e||undefined;!this.multiple&&this.isSingleListItem(n)&&(this.selectedItem=n),this.setVisibleInputValue(),this.value=n,super.writeValue(n);}onChange(e){this.controlValueAccessorChangeFn(e);}reset(){}blurInput(e){e?.preventDefault(),setTimeout(()=>{this.multiple&&this.values?this.values.blur():this.input?.inputRef?.nativeElement.blur();});}focusInput(){this.disabled||setTimeout(()=>{this.multiple&&this.values?this.values.focus():this.input?.inputRef?.nativeElement.focus();});}getItems(){return this.listItems}getSelectionSet(){return this.selectedItem?new Set([this.selectedItem]):this.selectedItems?this.selectedItems:new Set}clearAll(){this.deselectAllItems();}setAppearance(e){this.appearance=e;}isSingleListItem(e){if(e instanceof Set)return  false;if(e===undefined)return  true;let n=e;return n.name!==undefined&&n.value!==undefined}setVisibleInputValue(){if(this.multiple&&this.showSelectedItemsAsCountChange.getValue()){this.visibleInputValue=this.selectedItems.size?this.selectedItems.size+" selected":undefined;return}if(this.placeholder&&!this.label){this.visibleInputValue=undefined;return}this.visibleInputValue=this.selectedItem?.name;}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(nn$6),Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-select"]],viewQuery:function(n,i){if(n&1&&(iP(Si$3,5),iP(ki$5,5),iP(ou$1,5)),n&2){let r;sP(r=aP())&&(i.input=r.first),sP(r=aP())&&(i.list=r.first),sP(r=aP())&&(i.values=r.first);}},hostVars:1,hostBindings:function(n,i){n&1&&VE("blur",function(){return i.blur()})("focus",function(){return i.focus()}),n&2&&GI("tabindex",i.tabindex);},inputs:{listItems:"listItems",highlightSelected:"highlightSelected",markSelected:"markSelected",selectedItem:"selectedItem",selectedItems:"selectedItems",showDropdownList:"showDropdownList",fullWidth:"fullWidth",dropdownAsOverlayOnMobile:"dropdownAsOverlayOnMobile",appearance:"appearance",multiple:"multiple",asAccordionOnMobile:"asAccordionOnMobile",showSelectedItemsAsCount:"showSelectedItemsAsCount"},outputs:{onblur:"onblur",onfocus:"onfocus",iconClick:"iconClick",selectedItemChange:"selectedItemChange",selectedItemsChange:"selectedItemsChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true},{provide:Oo$3,useExisting:t},{provide:Cl$1,useExisting:uu$4(()=>t),multi:true}]),bI,tR],decls:3,vars:3,consts:[["list",""],["input",""],["values",""],["data-testid","accordion",3,"title","expanded","fullWidth"],["data-testid","asAccordionDropdownList",3,"selectItem","selectedItemsChange","asAccordionDropdownList","listItems","selectedItem","selectedItems","highlightSelected","markSelected","multiple"],["data-testid","input",1,"input",3,"keydown.escape","onblur","onfocus","mousedown","iconKey","ngModel","name","label","disabled","required","invalid","readOnly","helperText","placeholder","placeholderAsLabel","appearance"],["input-area-content","","data-testid","values",3,"placeholder","placeholderAsLabel","appearance","disabled"],["data-testid","defaultDropdownList",1,"dropdown-list",3,"selectItem","selectedItemsChange","ngClass","visible","listItems","selectedItem","selectedItems","fullWidth","asOverlayOnMobile","automaticDirection","highlightSelected","markSelected","multiple"],["input-area-content","","data-testid","values",3,"onblur","onfocus","removeItem","placeholder","placeholderAsLabel","appearance","disabled"]],template:function(n,i){n&1&&(kI(0,j0,4,11,"pfy-accordion"),TP(1,"async"),kI(2,U0,6,29)),n&2&&QR(_P(1,1,i.showAccordion$)?0:2);},dependencies:[cu$2,gl$1,So$3,In$5,Tt$4,Vt$6,$n$5,jt$3,qu$1,Ld$1,zd$1],styles:[iu$2]});}}return t})(),ix=(()=>{class t extends To$1{set listItems(e){this.listItems$.next(e);}get listItems(){return this.listItems$.value}set showDropdownList(e){this.showDropdownList$.next(e);}set asAccordionOnMobile(e){this.asAccordionOnMobileChange.next(e);}set showSelectedItemsAsCount(e){this.showSelectedItemsAsCountChange.next(e);}blur(){this.blurInput();}focus(){this.focusInput();}constructor(e,n,i,r,s){super(s),this.elementRef=e,this.viewContainerRef=n,this.viewportService=i,this.dropdownService=r,this.isDesktop$=this.viewportService.match(gt$7.M),this.highlightSelected=false,this.markSelected=true,this.selectedItems=new Set,this.showDropdownList$=new In$7(1),this.fullWidth=true,this.dropdownAsOverlayOnMobile=true,this.appearance=mt$6.Compact,this.multiple=false,this.searchable=false,this.asAccordionOnMobileChange=new yn$7(false),this.showAccordion$=Hp$2([this.asAccordionOnMobileChange,this.isDesktop$]).pipe(ie$b(([p,O])=>p&&!O),Dr$5()),this.showSelectedItemsAsCountChange=new yn$7(false),this.showInputCustomContent$=this.showSelectedItemsAsCountChange.pipe(Hc$3(0),ie$b(p=>this.multiple&&!this.isPlaceholderUsedAsLabel()&&!p||this.searchable)),this.selectedItemChange=new Xe$5,this.selectedItemsChange=new Xe$5,this.queryChange=gi$4(()=>this.visibleInputValue$),this.tabindex="0",this.accordionFullWidth=true,this.inputValue=new yn$7(undefined),this.visibleInputValue$=new yn$7(""),this.listItems$=new yn$7([]),this.displayedItems$=Hp$2([this.visibleInputValue$,this.listItems$]).pipe(ie$b(([p,O])=>!this.searchable||p===this.selectedItem?.name?O:Ru$1(O,Pi$6(p||"")))),this.isDropdownOpened$=this.dropdownService.isDropdownOpened$(this.getOrigin.bind(this)),this.inputIconKey$=this.isDropdownOpened$.pipe(ie$b(p=>p?Xn$3.Opened:Xn$3.Closed)),this.firstChanges=true;}ngOnChanges(e){if(this.firstChanges){this.setVisibleInputValue(),this.firstChanges=false;return}[e.asAccordionOnMobile,e.multiple,e.showSelectedItemsAsCount,e.selectedItem,e.selectedItems,e.placeholder,e.label].some(i=>!!i)&&this.setVisibleInputValue();}ngAfterViewInit(){(0, Z$9.assert)(!!this.listTemplate||!!this.list,"DropdownSelectOverlayComponent must have a dropdown list or its template"),this.showDropdownList$.pipe(Rc$2(this.isDropdownOpened$)).subscribe(([e,n])=>{e&&!n?this.dropdownService.show(this.getDropdownOverlayConfig()):!e&&n&&this.dropdownService.hide(this.getOrigin());});}ngOnDestroy(){this.showDropdownList$.next(false),this.showDropdownList$.complete(),this.asAccordionOnMobileChange.complete(),this.showSelectedItemsAsCountChange.complete(),this.listItems$.complete();}getOrigin(){return this.input?.inputAreaRef}deselectItem(e){this.multiple?((0, Z$9.assert)(!!e,"Deselecting in multiple mode requires an item"),this.selectedItems.has(e)&&this.toggleItem(e)):this.toggleItem(undefined);}deselectAllItems(){if(this.multiple){let e=new Set;this.selectedItems=e,this.selectedItem=undefined,this.setVisibleInputValue(),this.onChange(this.selectedItems),this.selectedItemsChange.emit(e);}else this.deselectItem();}toggleItem(e){if(!e?.disabled){if(this.multiple){(0, Z$9.assert)(!!e,"Selecting in multiple mode requires an item");let n=new Set(this.selectedItems);n.has(e)?n.delete(e):n.add(e),this.onSelectedItemsChange(n);}this.selectedItem=e,this.setVisibleInputValue(),this.multiple||(this.onInputBlur(),this.onChange(e),this.selectedItemChange.emit(e));}}onItemSelect(e){e?.disabled||(this.selectedItem=e,this.highlightedItem=this.selectedItem,this.setVisibleInputValue(),!this.multiple&&(this.onInputBlur(),this.onChange(e),this.selectedItemChange.emit(e)));}onSelectedItemsChange(e){if(!this.multiple)return;let n=this.selectedItems?.size||0;this.searchInput&&e.size>=n&&requestAnimationFrame(()=>{this.searchInput?.nativeElement.scrollIntoView({inline:"end",behavior:"smooth"});}),this.selectedItems=e,this.onChange(e),this.selectedItemsChange.emit(e);}onInputFocus(e){super.onInputFocus(e),this.showDropdownList$.next(true);}onInputBlur(e){super.onInputBlur(e);let n=e?.relatedTarget;if([this.elementRef,this.list?.listRef].some(r=>r?.nativeElement.contains(n))){let r=()=>n.tagName==="A"&&!!n.closest(".disabled"),s=()=>n===this.list?.listRef.nativeElement;(this.multiple||r()||s())&&this.focusInput();return}this.showDropdownList$.next(false),this.highlightedItem=this.selectedItem,this.multiple&&this.searchable&&this.visibleInputValue$.next("");}toggleDropdown(e){return E$e(this,null,function*(){if(this.searchable||e.preventDefault(),e.stopPropagation(),yield th$2(this.isDropdownOpened$)){let i=document.activeElement;i&&"blur"in i&&i.blur();}else this.focusInput();})}highlightNext(e,n,i){if(n.preventDefault(),!i.length)return;let r=this.highlightedItem?i.indexOf(this.highlightedItem):-1,s=0;e==="down"?s=i.length>r+1?r+1:0:s=r-1>=0?r-1:i.length-1,this.highlightedItem=i[s],this.scrollToActiveLink();}scrollToActiveLink(){setTimeout(()=>{let e=this.getActiveLinkElement(),n=e?.parentNode?.parentNode;e&&n&&Fu$1(e,n);});}getActiveLinkElement(){return this.list?.listRef?.nativeElement.querySelector(".link.active")||null}selectHighlighted(){this.highlightedItem&&!this.highlightedItem.disabled&&(this.onItemSelect(this.highlightedItem),this.blurInput());}writeValue(e){let n=e||undefined;!this.multiple&&this.isSingleListItem(n)&&(this.selectedItem=n),this.multiple&&(!n||n instanceof Set)&&(this.selectedItems=n||new Set),this.setVisibleInputValue(),this.value=n,super.writeValue(n);}onChange(e){this.controlValueAccessorChangeFn(e);}reset(){}blurInput(e){e?.preventDefault(),this.multiple&&this.values?this.values.blur():this.input?.inputRef?.nativeElement.blur();}focusInput(){this.disabled||setTimeout(()=>{this.multiple&&this.values&&!this.searchable?this.values.focus():(this.input?.inputRef||this.searchInput)?.nativeElement.focus();});}getDropdownOverlayConfig(){let e=this.getOrigin();return (0, Z$9.assert)(!!e,"Origin must be present for overlay config in DropdownSelectOverlayComponent"),{origin:e,dropdownTemplateRef:this.listTemplate,viewContainerRef:this.viewContainerRef,fullWidth:this.fullWidth,asOverlayOnMobile:this.dropdownAsOverlayOnMobile,positioningContainer:this.positioningContainer}}isSingleListItem(e){if(e instanceof Set)return  false;if(e===undefined)return  true;let n=e;return n.name!==undefined&&n.value!==undefined}setVisibleInputValue(){if(this.multiple&&this.showSelectedItemsAsCountChange.getValue()){this.visibleInputValue$.next(this.selectedItems.size?this.selectedItems.size+" selected":"");return}if(this.isPlaceholderUsedAsLabel()&&!this.searchable){this.visibleInputValue$.next("");return}this.multiple||this.visibleInputValue$.next(this.selectedItem?.name||"");}updateVisibleInputValue(e){this.visibleInputValue$.next(e);}isPlaceholderUsedAsLabel(){return !!this.placeholder&&!this.label}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(Ja$5),Yo$4(nn$6),Yo$4(yu$1),Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-dropdown-select-overlay"]],viewQuery:function(n,i){if(n&1&&(iP(Si$3,5),iP(nu$1,5),iP(ki$5,5),iP(ou$1,5),iP(W0,5)),n&2){let r;sP(r=aP())&&(i.input=r.first),sP(r=aP())&&(i.listTemplate=r.first),sP(r=aP())&&(i.list=r.first),sP(r=aP())&&(i.values=r.first),sP(r=aP())&&(i.searchInput=r.first);}},hostVars:1,hostBindings:function(n,i){n&1&&VE("blur",function(){return i.blur()})("focus",function(){return i.focus()}),n&2&&GI("tabindex",i.tabindex);},inputs:{listItems:"listItems",highlightSelected:"highlightSelected",markSelected:"markSelected",selectedItem:"selectedItem",selectedItems:"selectedItems",showDropdownList:"showDropdownList",fullWidth:"fullWidth",dropdownAsOverlayOnMobile:"dropdownAsOverlayOnMobile",positioningContainer:"positioningContainer",appearance:"appearance",multiple:"multiple",searchable:"searchable",asAccordionOnMobile:"asAccordionOnMobile",showSelectedItemsAsCount:"showSelectedItemsAsCount"},outputs:{onblur:"onblur",onfocus:"onfocus",iconClick:"iconClick",selectedItemChange:"selectedItemChange",selectedItemsChange:"selectedItemsChange",queryChange:"queryChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true},{provide:Oo$3,useExisting:t}]),bI,tR],decls:3,vars:3,consts:[["list",""],["listTemplate",""],["input",""],["values",""],["searchInput",""],["data-testid","accordion",3,"title","expanded","fullWidth"],["data-testid","asAccordionDropdownList",3,"selectItem","selectedItemsChange","asAccordionDropdownList","listItems","selectedItem","selectedItems","highlightSelected","markSelected","multiple"],["data-testid","input",1,"input",3,"iconKey","ngModel","name","label","disabled","required","invalid","readOnly","helperText","placeholder","placeholderAsLabel","appearance"],["data-testid","input",1,"input",3,"keydown.escape","onblur","onfocus","mousedown","keydown.arrowDown","keydown.arrowUp","keydown.enter","iconKey","ngModel","name","label","disabled","required","invalid","readOnly","helperText","placeholder","placeholderAsLabel","appearance"],["input-area-content","",1,"custom-input-area"],["data-testid","values",1,"values","no-margin",3,"placeholder","placeholderAsLabel","appearance","disabled"],["data-testid","dropdown.searchInput",1,"search-input","has-icon",3,"name","placeholder","value"],["data-testid","values",1,"values","no-margin",3,"onblur","onfocus","removeItem","placeholder","placeholderAsLabel","appearance","disabled"],["data-testid","dropdown.searchInput",1,"search-input","has-icon",3,"input","blur","focus","name","placeholder","value"],["data-testid","defaultDropdownList",3,"selectItem","selectedItemsChange","usedInOverlay","listItems","selectedItem","selectedItems","fullWidth","asOverlayOnMobile","highlightSelected","markSelected","multiple"]],template:function(n,i){n&1&&(kI(0,G0,4,11,"pfy-accordion"),TP(1,"async"),kI(2,J0,4,3)),n&2&&QR(_P(1,1,i.showAccordion$)?0:2);},dependencies:[cu$2,gl$1,So$3,In$5,Tt$4,Vt$6,$n$5,jt$3,qu$1,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:block;outline:none}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .input:not(:disabled), [_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .input-area-content{cursor:pointer}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:hover~.border{border-color:#a8a794}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .input:not(:disabled):read-only:focus-visible~.border{border-color:#0096cc;border-width:2px}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]  .input-icon{color:#2f2e0c}.custom-input-area[_ngcontent-%COMP%]{display:flex;overflow:auto;margin-right:var(--input-height)}.custom-input-area[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;min-width:150px}.custom-input-area[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]{flex:0 0 auto}.search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:var(--input-height);border:none;outline:none;color:#2f2e0c;background-color:#fff;border-radius:inherit;transition:color .15s ease;font-size:1rem;line-height:1.5rem;padding:0 .75rem}.search-input[_ngcontent-%COMP%]::placeholder{color:#a8a794}.search-input[_ngcontent-%COMP%]::-moz-placeholder{opacity:1}.text-field[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background-color:transparent}.values.no-margin[_ngcontent-%COMP%]{margin-right:0}.values[_ngcontent-%COMP%] + .search-input[_ngcontent-%COMP%]{padding-left:0}']});}}return t})(),Lu$1=function(t){return t.Icon="icon",t.FullLogo="fullLogo",t}(Lu$1||{}),NS=(()=>{class t{constructor(){this.type=Lu$1.FullLogo;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-express-logo"]],inputs:{type:"type"},decls:2,vars:1,consts:[["src","assets/svg/printify-express-logo.svg",1,"logo"]],template:function(n,i){n&1&&(ME(0,"img",0),kI(1,eb$1,2,0,"span")),n&2&&(xR(),QR(i.type==="fullLogo"?1:-1));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;column-gap:.5rem;align-items:center;font-size:.875rem;line-height:1.25rem}.logo[_ngcontent-%COMP%]{width:24px;height:24px}'],changeDetection:0});}}return t})(),zS=(()=>{class t{constructor(){this.isFavorite=false,this.favoriteClick=new Xe$5,this.iconType=cs$2,this.buttonSize=lt$7.Small;}onClick(e){this.favoriteClick.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-favorite-button"]],inputs:{isFavorite:"isFavorite"},outputs:{favoriteClick:"favoriteClick"},decls:2,vars:4,consts:[["type","secondary","data-testid","button",3,"buttonClick","isIconOnly","size"],["name","favorite","data-testid","icon",1,"icon",3,"type","colorInherit"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-button",0),VE("buttonClick",function(s){return i.onClick(s)}),ME(1,"pfy-icon",1),Xf$2()),n&2&&(lE("isIconOnly",true)("size",i.buttonSize),xR(),lE("type",i.isFavorite?i.iconType.Filled:i.iconType.Outlined)("colorInherit",true));},dependencies:[We$8,ge$9],encapsulation:2,changeDetection:0});}}return t})();var $u$1=(()=>{class t{transform(e,n=0){return t.formatBytes(e,n)}static getPower(e,n,i){let r=Math.log(1-1/(n*10**i*2));return Math.max(0,Math.floor((Math.log(Math.abs(e))-r)/Math.log(n)))}static{this.units=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];}static formatBytes(e,n){let r=Math.min(this.getPower(e,1024,n==="auto"?0:n),this.units.length-1),s=this.units[r],p=e/1024**r;return `${p.toFixed(t.determineDecimals(p,r,n))} ${s}`}static determineDecimals(e,n,i){return n===0?0:i!=="auto"?i:Math.max(0,Math.min(2,2-Math.floor(Math.log10(Math.abs(e)))))}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275pipe=jR({name:"fileSize",type:t,pure:true});}}return t})(),Mo$4=function(t){return t.Image="image",t.File="file",t}(Mo$4||{}),Wp=(()=>{class t{constructor(){this.file=cR.required(),this.progress=cR(0),this.error=cR(""),this.delete=aR(),this.buttonSize=lt$7,this.buttonType=Ze$5,this.type=oI(Mo$4.File),this.loading=HP(()=>!this.error()&&this.progress()<100),this.src=HP(()=>this.type()===Mo$4.File?"":URL.createObjectURL(this.file()));}setType(e){this.type.set(e);}onDeleteClick(){this.delete.emit();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-file-upload-item"]],inputs:{file:[1,"file"],progress:[1,"progress"],error:[1,"error"]},outputs:{delete:"delete"},decls:2,vars:1,consts:[[1,"image-container",3,"error","loading"],[1,"info-container"],[1,"name-container"],["name","description"],[1,"error-container"],[1,"progress-container"],["name","check_circle",1,"completed-icon"],["pfyTooltip","Delete file","data-testid","deleteButton",1,"action-button",3,"buttonClick","type","size","isIconOnly"],["name","delete"],["name","error",1,"error-icon",3,"colorInherit"],["data-testid","progressBar",1,"progress-bar"],[1,"image-container"],[1,"image",3,"src"],[1,"image-overlay"],[1,"image-loader"],["data-testid","imageDeleteButton",1,"image-button",3,"buttonClick","type","size","isIconOnly"],["name","close",1,"image-button-icon"]],template:function(n,i){n&1&&kI(0,rb,11,8)(1,cb,7,9,"div",0),n&2&&QR(i.type()==="file"?0:1);},dependencies:[ge$9,We$8,du$2,$u$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;gap:.5rem;min-height:32px;flex-wrap:wrap}@media (min-width: 600px){[_nghost-%COMP%]{gap:1rem;flex-wrap:nowrap}}.info-container[_ngcontent-%COMP%]{flex:1}.name-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}.error-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;color:#d12c2c;margin-top:.5rem}.progress-container[_ngcontent-%COMP%]{height:4px;border-radius:2px;background-color:#e0e0d7;position:relative;flex:0 1 25%}@media (max-width: 599px){.progress-container[_ngcontent-%COMP%]{flex:1 1 100%;width:100%;order:3}}.progress-bar[_ngcontent-%COMP%]{position:absolute;height:100%;border-radius:inherit;left:0;top:0;background:#2f2e0c}.completed-icon[_ngcontent-%COMP%]{flex:0 0 fit-content}.image-container[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #e0e0d7;border-radius:4px;position:relative;aspect-ratio:1/1}.image-container.error[_ngcontent-%COMP%]{border:2px solid #d12c2c}.image-container.loading[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{display:block}.image-container[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{display:block;background:#00000080}.image-container[_ngcontent-%COMP%]:hover   .image-button[_ngcontent-%COMP%]{display:block}.image-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{flex-direction:column;margin:0;height:100%;align-items:center;justify-content:center;text-align:center}.image-overlay[_ngcontent-%COMP%]{display:none;position:absolute;inset:0;background:#ffffff80}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-button[_ngcontent-%COMP%]{display:none;position:absolute;top:.125rem;right:.125rem}pfy-icon.image-button-icon[_ngcontent-%COMP%]{color:#f5f5f0}'],changeDetection:0});}}return t})(),ox=5242880,jS=(()=>{class t{constructor(){this.title=cR("File upload"),this.description=cR("Upload your file here"),this.descriptionTooltip=cR(""),this.maxFileSize=cR(ox),this.dragAndDrop=cR(false),this.maxFileCount=cR(Number.MAX_SAFE_INTEGER),this.accept=cR("image/*, .zip, .doc, .pdf,.csv"),this.filesChange=aR(),this.fileInput=AR("fileInput",{read:Uo$5}),this.fileUploadItems=RR(),this.isImageUploader=HP(()=>rx(this.accept())),this.disabled=HP(()=>this.fileUploadItems().length>=this.maxFileCount()),this.isDragging=oI(false),this.buttonSize=lt$7,this.buttonType=Ze$5,Pw$1(()=>{let e=this.isImageUploader()?Mo$4.Image:Mo$4.File;this.fileUploadItems().forEach(n=>n.setType(e));});}triggerUpload(){this.fileInput()?.nativeElement.click();}onDragOver(e){this.dragAndDrop()&&(e.preventDefault(),e.stopPropagation(),this.isDragging.set(true));}onDragLeave(e){this.dragAndDrop()&&(e.preventDefault(),e.stopPropagation(),this.isDragging.set(false));}onDrop(e){if(!this.dragAndDrop())return;e.preventDefault(),e.stopPropagation(),this.isDragging.set(false);let n=Array.from(e.dataTransfer?.files||[]);n.length&&this.filesChange.emit(n);}onFilePick(e){let n=e.target;n.files?.length&&this.filesChange.emit(Array.from(n.files));}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-file-upload"]],contentQueries:function(n,i,r){n&1&&cP(r,i.fileUploadItems,Wp,4),n&2&&uP();},viewQuery:function(n,i){n&1&&lP(i.fileInput,db,5,Uo$5),n&2&&uP();},hostVars:2,hostBindings:function(n,i){n&2&&dE("drag-n-drop",i.dragAndDrop());},inputs:{title:[1,"title"],description:[1,"description"],descriptionTooltip:[1,"descriptionTooltip"],maxFileSize:[1,"maxFileSize"],dragAndDrop:[1,"dragAndDrop"],maxFileCount:[1,"maxFileCount"],accept:[1,"accept"]},outputs:{filesChange:"filesChange"},ngContentSelectors:oe$6,decls:7,vars:9,consts:[["fileInput",""],["hidden","","type","file","data-testid","fileInput",3,"change","accept","disabled"],["data-testid","dragArea",1,"drag-info-container",3,"drag-over"],[1,"items-container"],[1,"add-image-button",3,"disabled"],["data-testid","dragArea",1,"drag-info-container",3,"dragover","dragleave","drop"],["src","assets/svg/file-upload-logo.svg",1,"logo"],[1,"browse-button",3,"buttonClick","size","type"],[1,"description-container"],[1,"description"],["name","help_outline",1,"description-icon",3,"pfyTooltip"],[1,"title"],[1,"browse-button",3,"size","type","pfyTooltip"],[1,"browse-button",3,"buttonClick","size","type","pfyTooltip"],[1,"add-image-button",3,"click","disabled"],["name","add_photo_alternate",3,"colorInherit"]],template:function(n,i){if(n&1){let r=XR();nP(),Kf$2(0,"input",1,0),VE("change",function(p){return nR(r),rR(i.onFilePick(p))}),Xf$2(),kI(2,hb,7,5,"div",2)(3,bb,3,3),Kf$2(4,"div",3),rP(5),kI(6,Cb,3,2,"button",4),Xf$2();}n&2&&(lE("accept",i.accept())("disabled",i.disabled()),GI("multiple",i.maxFileCount()>1?true:null),xR(2),QR(i.dragAndDrop()?2:3),xR(2),dE("drag-n-drop",i.dragAndDrop)("images",i.isImageUploader()),xR(2),QR(i.isImageUploader()?6:-1));},dependencies:[ge$9,We$8,ft$6],styles:['@charset "UTF-8";.drag-n-drop[_nghost-%COMP%]{display:block}.drag-n-drop[_nghost-%COMP%]   .description-container[_ngcontent-%COMP%], .drag-n-drop[_nghost-%COMP%]   .browse-button[_ngcontent-%COMP%]{margin-top:1rem}.drag-n-drop[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:.5rem}.drag-n-drop[_nghost-%COMP%]   .items-container[_ngcontent-%COMP%]:not(:empty){border-top:none;margin-top:.5rem;padding:1rem}.drag-info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:3rem 0;align-items:center;border:1px dashed #e0e0d7;border-radius:6px}.drag-info-container[_ngcontent-%COMP%]:hover{background-color:#f5f5f0}.drag-info-container.dragging[_ngcontent-%COMP%]{background-color:#f5f5f0;border:1px solid #64634a}.description-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.description[_ngcontent-%COMP%]{color:#64634a}pfy-icon.description-icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.browse-button[_ngcontent-%COMP%]{margin-top:.5rem}.items-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.items-container[_ngcontent-%COMP%]:not(:empty){border-top:1px solid #e0e0d7;padding-top:1rem;margin-top:1rem}.items-container.images[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem}@media (min-width: 600px){.items-container.images[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr)}}.add-image-button[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0d7;border-radius:4px;cursor:pointer;color:#2f2e0c;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;aspect-ratio:1/1}.add-image-button[_ngcontent-%COMP%]:hover{background:#f5f5f0}.add-image-button[_ngcontent-%COMP%]:disabled{background:#f5f5f0;cursor:not-allowed;color:#a8a794}'],changeDetection:0});}}return t})();function rx(t){let o=t.split(",").map(n=>n.trim()),e=[".jpg",".jpeg",".png",".svg"];return o.every(n=>n.startsWith("image/")||e.includes(n))}var sx=200,HS=(()=>{class t{constructor(e){this.elementRef=e,this.subscriptions=new V$7,this.windowHeight=new yn$7(window.innerHeight);}onWindowResize(){this.windowHeight.next(window.innerHeight);}ngOnInit(){this.reflowOnHeightChange();}ngOnDestroy(){this.subscriptions.unsubscribe();}reflowOnHeightChange(){if(!CSS.supports("max-height","-webkit-fill-available"))return;let e=this.windowHeight.pipe(Dr$5(),Nc$2(1),Wc$3(sx));this.subscriptions.add(e.subscribe(()=>this.forceReflow()));}forceReflow(){let e=this.elementRef.nativeElement;e.style.display="inline-block",setTimeout(()=>e.style.display="");}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyFullHeight",""]],hostBindings:function(n,i){n&1&&VE("resize",function(){return i.onWindowResize()},false,bR);}});}}return t})(),yi$3=function(t){return t.Success="success",t.Warning="warning",t.Error="error",t.Info="info",t}(yi$3||{}),US=(()=>{class t{constructor(){this.type=yi$3.Info,this.icons={[yi$3.Success]:"check_circle",[yi$3.Info]:"info",[yi$3.Warning]:"warning",[yi$3.Error]:"error"};}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-inline-message"]],inputs:{type:"type",message:"message"},ngContentSelectors:vb,decls:5,vars:3,consts:[["data-testid","inline-message","role","status",1,"inline-message",3,"ngClass"],["type","outlined","data-testid","inline-message-icon",1,"icon",3,"name"]],template:function(n,i){n&1&&(nP(yb),Kf$2(0,"span",0),ME(1,"pfy-icon",1),Kf$2(2,"span"),fP(3),rP(4),Xf$2()()),n&2&&(lE("ngClass",i.type),xR(),lE("name",i.icons[i.type]),xR(2),ip$2(" ",i.message," "));},dependencies:[Ld$1,ge$9],styles:['@charset "UTF-8";.inline-message[_ngcontent-%COMP%]{display:inline-flex;font-size:1rem;line-height:1.5rem;vertical-align:top;color:#2f2e0c}.inline-message.info[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#5fd0f4}.inline-message.warning[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ff993c}.inline-message.success[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#357c1d}.inline-message.error[_ngcontent-%COMP%], .inline-message.error[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#d12c2c}.inline-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:.5rem}'],changeDetection:0});}}return t})(),ax=(()=>{class t extends To$1{constructor(e){super(e),this.placeholderAsLabel=false,this.hostClass=true,this.inputValue=new yn$7(""),this.hasValue$=this.inputValue.pipe(ie$b(n=>!!n.length),Dr$5()),this.type="password",this.iconKey="visibility_off";}ngOnInit(){this.iconClickable=true;}onChange(e){this.controlValueAccessorChangeFn(e);}writeValue(e){this.value=e,super.writeValue(e);}reset(){this.writeValue(""),this.onChange("");}onIconClick(e){let n=this.type==="password";this.type=n?"text":"password",this.iconKey=n?"visibility":"visibility_off";}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input-password"]],hostVars:2,hostBindings:function(n,i){n&2&&dE("pfy-input-password",i.hostClass);},inputs:{placeholderAsLabel:"placeholderAsLabel"},outputs:{onblur:"onblur",onfocus:"onfocus",iconClick:"iconClick"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),bI],ngContentSelectors:ul$1,decls:14,vars:17,consts:[["inputArea",""],["inputAreaContent",""],["input",""],["data-testId","container",1,"pfy-input"],[1,"label",3,"required"],["data-testId","input-area",1,"input-area",3,"ngClass"],["data-testId","search-icon","name","search",1,"search-icon","input-icon"],[1,"input",3,"has-icon","has-value","icon-on-the-left","placeholder-as-label","disabled","readonly","autocomplete","type","step","ngModel"],["data-testid","input-area-content-wrapper",1,"input-area-content",3,"cdkObserveContent"],["data-testId","icon","type","button",1,"input-icon-button",3,"value","disabled"],["type","button","data-testId","icon",1,"input-icon-button",3,"disabled"],[1,"border"],["data-testId","helper-text",1,"helper"],[1,"label"],[1,"input",3,"ngModelChange","input","blur","focus","disabled","readonly","autocomplete","type","step","ngModel"],["data-testId","icon","type","button",1,"input-icon-button",3,"click","mousedown","value","disabled"],[1,"input-icon",3,"name","colorInherit"],["type","button","data-testId","icon",1,"input-icon-button",3,"click","disabled"],["name","close",1,"input-icon",3,"colorInherit"],["data-testId","helper-icon",1,"icon",3,"name","colorInherit"]],template:function(n,i){if(n&1){let r=XR();nP(pl$1),Kf$2(0,"div",3),kI(1,wb,2,4,"label",4),Kf$2(2,"div",5,0),kI(4,xb,1,0,"pfy-icon",6)(5,Ob,3,22,"input",7),Kf$2(6,"div",8,1),VE("cdkObserveContent",function(){return nR(r),rR(i.onInputAreaContentChange())}),rP(8),Xf$2(),kI(9,Mb,2,5,"button",9)(10,Pb,2,2,"button",10),TP(11,"async"),ME(12,"div",11),Xf$2(),kI(13,kb,3,3,"small",12),Xf$2();}n&2&&(dE("disabled",i.disabled)("invalid",i.invalid)("search",i.isSearch),xR(),QR(i.label?1:-1),xR(),lE("ngClass",i.appearance),xR(2),QR(i.isSearch?4:-1),xR(),QR(i.inputAreaContentCount===0?5:-1),xR(),dE("disabled",i.disabled),xR(3),QR(!i.isSearch&&i.iconKey?9:-1),xR(),QR(i.isSearch&&_P(11,15,i.hasValue$)?10:-1),xR(3),QR(i.helperText?13:-1));},dependencies:[Ld$1,ge$9,Tt$4,wn$5,Vt$6,jt$3,Er$4,zd$1],styles:[Jp$1],changeDetection:0});}}return t})(),lx=(()=>{class t{set currencyCode(e){this.currencyCodeOverride$.next(e);}constructor(e,n,i){this.currencyService=e,this.valueAccessorProxy=n,this.appearance=mt$6.Normal,this.readOnly=false,this.disabled=false,this.invalid=false,this.iconFocusable=true,this.iconOnTheLeft=false,this.required=false,this.autocomplete="off",this.autofocus=false,this.showCurrencyCode=true,this.onblur=new Xe$5,this.onfocus=new Xe$5,this.currencyCodeOverride$=new yn$7(undefined),this.valueAccessorProxy.setValueTransformation(this),this.currencyCode$=Hp$2([this.currencyCodeOverride$,i.currencyCode$]).pipe(ie$b(([r,s])=>r||s));}transformFromAccessorValue(e){return !e||!e.trim()||Number.isNaN(_s$2(e))?NaN:this.currencyCode$.pipe(Ac$3(n=>this.currencyService.amountToMinorUnits(e,n)))}transformToAccessorValue(e){return e==null||typeof e=="string"&&!e.trim()||Number.isNaN(e)?"":this.currencyCode$.pipe(Ac$3(n=>this.currencyService.amountToMajorUnits(e,n)))}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Eo$3),Yo$4(rs$2),Yo$4(Vo$3))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-input-price"]],inputs:{currencyCode:"currencyCode",label:"label",placeholder:"placeholder",helperText:"helperText",name:"name",appearance:"appearance",readOnly:"readOnly",disabled:"disabled",invalid:"invalid",iconFocusable:"iconFocusable",iconKey:"iconKey",iconOnTheLeft:"iconOnTheLeft",required:"required",autocomplete:"autocomplete",autofocus:"autofocus",showCurrencyCode:"showCurrencyCode"},outputs:{onblur:"onblur",onfocus:"onfocus"},features:[gP([rs$2])],decls:4,vars:1,consts:[["input",""],[3,"label","helperText","invalid","required","disabled"],["pfyControlValueAccessorProxy","",3,"name","label","helperText","invalid","required","disabled","appearance","readOnly","iconFocusable","iconKey","iconOnTheLeft","autocomplete","autofocus","placeholder"],[3,"ngTemplateOutlet"],["pfyControlValueAccessorProxy","",3,"onfocus","onblur","name","label","helperText","invalid","required","disabled","appearance","readOnly","iconFocusable","iconKey","iconOnTheLeft","autocomplete","autofocus","placeholder"],["pfyControlValueAccessorProxy","",1,"no-border",3,"onfocus","onblur","name","disabled","appearance","readOnly","iconFocusable","iconKey","iconOnTheLeft","autocomplete","autofocus","placeholder"]],template:function(n,i){n&1&&kI(0,Tb,5,9,"pfy-decorated-input",1)(1,Ib,1,14,"pfy-input",2)(2,Db,1,10,"ng-template",null,0,OP),n&2&&QR(i.showCurrencyCode?0:1);},dependencies:[vl$1,Su$1,$d$2,In$5,L1,zd$1],styles:[".no-border[_ngcontent-%COMP%]     .border{display:none}"],changeDetection:0});}}return t})(),WS=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-left-bar"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;height:100%;width:68px;border-right:1px solid #e0e0d7;background-color:#fff;overflow-x:hidden}'],changeDetection:0});}}return t})(),cx=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-left-bar-button-icon"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:[`@charset "UTF-8";pfy-left-bar-button-icon>svg{display:block;width:100%}pfy-left-bar-button-icon>svg .fill{fill:currentColor}pfy-left-bar-button-icon>svg .stroke{stroke:currentColor}
`],encapsulation:2,changeDetection:0});}}return t})(),GS=(()=>{class t{constructor(){this.label="",this.analyticsId="",this.tooltip="",this.tooltipShortcut="",this.active=false,this.disabled=false,this.buttonClick=new Xe$5;}set contentIcon(e){e&&(e.colorInherit=true);}handleClick(){this.buttonClick.emit();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-left-bar-button"]],contentQueries:function(n,i,r){if(n&1&&oP(r,ge$9,5),n&2){let s;sP(s=aP())&&(i.contentIcon=s.first);}},inputs:{label:"label",analyticsId:"analyticsId",tooltip:"tooltip",tooltipShortcut:"tooltipShortcut",active:"active",disabled:"disabled"},outputs:{buttonClick:"buttonClick"},ngContentSelectors:oe$6,decls:5,vars:8,consts:[[1,"wrapper",3,"pfyTooltip","tooltipEnabled","tooltipShortcut"],[1,"button",3,"click","disabled"],[1,"icon"],[1,"label"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"div",0)(1,"button",1),VE("click",function(){return i.handleClick()}),Kf$2(2,"pfy-left-bar-button-icon",2),rP(3),Xf$2(),kI(4,Eb,2,1,"span",3),Xf$2()()),n&2&&(lE("pfyTooltip",i.tooltip?i.tooltip:i.tooltipShortcut?i.label:"")("tooltipEnabled",!i.active)("tooltipShortcut",i.disabled?"":i.tooltipShortcut),xR(),dE("active",i.active),lE("disabled",i.disabled),GI("data-analyticsid",i.analyticsId||null),xR(3),QR(i.label.length?4:-1));},dependencies:[ft$6,cx],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;aspect-ratio:1}.wrapper[_ngcontent-%COMP%]{flex-grow:1}.button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;border:none;background-color:#fff;cursor:pointer;padding:0;transition:background-color,color .15s ease-out}.button[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:10px;line-height:1rem}.button[_ngcontent-%COMP%]:hover{background-color:#f5f5f0}.button[_ngcontent-%COMP%]:active, .button.active[_ngcontent-%COMP%]{background-color:#64634a;color:#f5f5f0}.button[_ngcontent-%COMP%]:disabled{cursor:default;background-color:#f5f5f0}.button[_ngcontent-%COMP%]:disabled   .icon[_ngcontent-%COMP%]{color:#a8a794}.button[_ngcontent-%COMP%]:disabled   .label[_ngcontent-%COMP%]{color:#a8a794}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;width:24px;aspect-ratio:1}'],changeDetection:0});}}return t})(),dx=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-panel-header"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},encapsulation:2,changeDetection:0});}}return t})(),px=(()=>{class t{constructor(){this.destroyRef=N$8(mn$6),this.resizeObserverService=N$8(fs$1),this.closeButtonSize=lt$7.Small,this.closeButtonType=Ze$5.Ghost,this.heading="",this.sizeContainerChange=new yn$7(undefined),this.fullHeightChange=new yn$7(false),this.insetWidthChange=new yn$7(0),this.insetHeightChange=new yn$7(0),this.containerSize$=this.sizeContainerChange.pipe(Ac$3(e=>e?this.resizeObserverService.observeInZone(e,this.destroyRef).pipe(ie$b(({contentRect:{height:n,width:i}})=>({width:i,height:n}))):hi$7(undefined)),Dr$5((e,n)=>au$4(e,n))),this.panelStyle$=Hp$2([this.containerSize$,this.fullHeightChange,this.insetWidthChange,this.insetHeightChange]).pipe(ie$b(([e,n,i,r])=>{if(!e)return {};let s=e.width-i,p=e.height-r;return {maxWidth:s+"px",maxHeight:p+"px",height:n?p+"px":undefined}})),this.panelClose=new Xe$5;}get sizeContainer(){return this.sizeContainerChange.getValue()}set sizeContainer(e){this.sizeContainerChange.next(e);}set fullHeight(e){this.fullHeightChange.next(e);}set insetWidth(e){this.insetWidthChange.next(e);}set insetHeight(e){this.insetHeightChange.next(e);}ngOnDestroy(){this.sizeContainerChange.complete(),this.fullHeightChange.complete(),this.insetWidthChange.complete(),this.insetHeightChange.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-panel"]],contentQueries:function(n,i,r){if(n&1&&oP(r,dx,5),n&2){let s;sP(s=aP())&&(i.headerComponent=s.first);}},inputs:{heading:"heading",sizeContainer:"sizeContainer",fullHeight:"fullHeight",insetWidth:"insetWidth",insetHeight:"insetHeight"},outputs:{panelClose:"panelClose"},ngContentSelectors:Ab,decls:4,vars:4,consts:[["headerTemplate",""],[1,"panel",3,"ngStyle"],[1,"header"],[1,"heading"],[3,"ngTemplateOutlet"],[3,"buttonClick","isIconOnly","size","type"],["name","close"]],template:function(n,i){n&1&&(nP(Vb),Kf$2(0,"aside",1),TP(1,"async"),kI(2,qb,7,5,"header",2),rP(3),Xf$2()),n&2&&(lE("ngStyle",_P(1,2,i.panelStyle$)),xR(2),QR(i.headerComponent||i.heading?2:-1));},dependencies:[jd$2,$d$2,We$8,ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.panel[_ngcontent-%COMP%]{width:390px;display:flex;flex-direction:column;background:#fff;outline:1px solid #e0e0d7}.header[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;padding:1rem;gap:.5rem;border-bottom:1px solid transparent}'],changeDetection:0});}}return t})(),ux={originX:"start",originY:"top",overlayX:"start",overlayY:"top"};var QS=(()=>{class t{constructor(){this.destroyRef=N$8(mn$6),this.dropdownComponentSubject=new yn$7(null),this.panelOpened=new Xe$5,this.openedChange=this.dropdownComponentSubject.pipe(Ac$3(e=>e?e.openedChange:hi$7(false)),X$7(this.destroyRef)),this.panelPositions=[ux];}set dropdown(e){this.dropdownComponentSubject.next(e);}get dropdown(){return this.dropdownComponentSubject.getValue()}ngAfterContentInit(){this.setPanelSizeContainer(),this.closeDropdownOnPanelClose(),this.observeDropdownOpen();}setPanelSizeContainer(){this.panelContainer&&((0, Z$9.assert)(!!this.panel,"Left Bar Panel Option requires a Panel content when setting panel container"),!this.panel.sizeContainer&&(this.panel.sizeContainer=this.panelContainer.nativeElement));}closeDropdownOnPanelClose(){this.panel&&((0, Z$9.assert)(!!this.dropdown,"Left Bar Panel Option requires a Dropdown to be present"),this.panel.panelClose.pipe(X$7(this.destroyRef)).subscribe(()=>{this.dropdown?.toggle(false);}));}observeDropdownOpen(){(0, Z$9.assert)(!!this.dropdown,"Left Bar Panel Option requires a Dropdown to be present"),this.dropdown.openedChange.pipe(Ye$b(Boolean),X$7(this.destroyRef)).subscribe(()=>{this.panelOpened.emit();});}togglePanel(e){(0, Z$9.assert)(!!this.dropdown,"Left Bar Panel Option requires a Dropdown to be present"),this.dropdown.toggle(e);}ngOnDestroy(){this.dropdownComponentSubject.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-left-bar-panel-option"]],contentQueries:function(n,i,r){if(n&1&&oP(r,px,7),n&2){let s;sP(s=aP())&&(i.panel=s.first);}},viewQuery:function(n,i){if(n&1&&iP(xo$3,7),n&2){let r;sP(r=aP())&&(i.dropdown=r.first);}},inputs:{panelContainer:[2,"panelContainer","panelContainer",hx],panelPositions:"panelPositions"},outputs:{panelOpened:"panelOpened",openedChange:"openedChange"},features:[BR],ngContentSelectors:$b,decls:3,vars:5,consts:[[3,"connectedToEl","customPositions","fullWidth","horizontalOffset","positioningContainer"],["pfyDropdownAction","",4,"pfyDropdownInput"],[4,"pfyDropdownResult"],["pfyDropdownAction",""]],template:function(n,i){n&1&&(nP(Lb),Kf$2(0,"pfy-dropdown",0),kI(1,Bb,2,0,"div",1)(2,Nb,2,0,"div",2),Xf$2()),n&2&&lE("connectedToEl",i.panelContainer)("customPositions",i.panelPositions)("fullWidth",false)("horizontalOffset",0)("positioningContainer",i.panelContainer==null?null:i.panelContainer.nativeElement);},dependencies:[xo$3,gs$1,hs$2,ms$2],encapsulation:2,changeDetection:0});}}return t})();function hx(t){if(t instanceof Uo$5)return t;if(t instanceof HTMLElement)return new Uo$5(t);throw new Error("Value is not an ElementRef or HTMLElement")}var Ml$1=function(t){return t.Primary="primary",t.Negative="negative",t.Monochrome="monochrome",t}(Ml$1||{}),gx=(()=>{class t{constructor(){this.color=Ml$1.Primary,this.fullLogo=true;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-logo"]],inputs:{color:"color",fullLogo:"fullLogo"},decls:2,vars:1,consts:[["width","127","height","34","viewBox","0 0 127 34","fill","none","xmlns","http://www.w3.org/2000/svg","data-testid","fullLogo",1,"logo",3,"ngClass"],["width","21","height","26","viewBox","0 0 21 24","fill","none","xmlns","http://www.w3.org/2000/svg","data-testid","smallLogo",1,"logo",3,"ngClass"],["id","Logo"],["id","Logo Shape"],["d","M32.9116 7.69097C30.7483 8.06883 29.587 8.89143 28.8716 12.6797V7.5669L21.8364 9.77847V24.905H29.579V16.9409C29.579 15.7646 30.3421 14.7237 31.4629 14.3716L34.5453 13.4024V7.56851C34.5453 7.56851 33.3178 7.62088 32.9108 7.69178L32.9116 7.69097Z","fill","#2F2E0C"],["d","M59.5294 7.06582H59.5286C56.6659 7.06582 54.5858 8.68039 53.6014 10.6406V7.41468L46.0776 9.78014V24.9059H53.8202V14.6843C53.8202 13.1632 54.6487 12.6161 55.5257 12.6161C56.4027 12.6161 57.0116 13.1019 57.0116 14.387V24.9059H64.7541V13.4468C64.7541 9.15171 62.8928 7.06582 59.5294 7.06582Z","fill","#2F2E0C"],["d","M92.8641 7.007V7.56694H90.8646V12.9456H92.8641V24.9067H100.607V12.9456H103.939V7.56694H100.607V7.0215C100.607 6.02488 101.413 5.21679 102.407 5.21679H103.939V0.513259H99.3437C95.7647 0.513259 92.8641 3.42013 92.8641 7.007Z","fill","#2F2E0C"],["d","M36.0021 24.9066H43.7447V10.5125L36.0021 12.9456V24.9066Z","fill","#2F2E0C"],["d","M43.1179 3.20908C42.354 2.57743 41.196 2.21729 39.8806 2.21729C39.2418 2.21729 38.6378 2.3035 38.0975 2.46625L37.957 2.50975C36.6068 2.9569 35.6895 3.89632 35.6895 5.14834C35.6895 5.27966 35.6992 5.40696 35.7194 5.53184C35.9649 7.09807 37.722 8.08099 39.8806 8.08099C42.2264 8.08099 44.0724 6.93532 44.0724 5.14834C44.0724 4.36361 43.7171 3.70296 43.1179 3.20827V3.20908Z","fill","#2F2E0C"],["d","M76.095 0.348877L68.3524 2.78201V7.56692H66.353V12.9456H68.3524V19.1855C68.3524 22.3454 70.9083 24.9058 74.06 24.9058H79.4269V19.594H77.6697C76.8008 19.594 76.095 18.8883 76.095 18.0157V12.9448H79.4269V7.56692H76.095V0.348877Z","fill","#2F2E0C"],["d","M88.3783 3.20908C87.6144 2.57743 86.4556 2.21729 85.1401 2.21729C84.5022 2.21729 83.8973 2.3035 83.3579 2.46625L83.2174 2.50975C81.8664 2.9569 80.9498 3.89632 80.9498 5.14834C80.9498 5.27966 80.9595 5.40696 80.9797 5.53184C81.2252 7.09807 82.9824 8.08099 85.1401 8.08099C87.4868 8.08099 89.332 6.93532 89.332 5.14834C89.332 4.36361 88.9775 3.70296 88.3783 3.20827V3.20908Z","fill","#2F2E0C"],["d","M81.4238 24.9066H89.1664V10.5125L81.4238 12.9456V24.9066Z","fill","#2F2E0C"],["d","M118.397 7.5669L115.509 18.7779C115.366 19.2355 114.942 19.5481 114.462 19.5481C114.159 19.5481 113.886 19.4256 113.687 19.2266C113.488 19.0276 113.366 18.7529 113.366 18.4491V7.5669H105.855V17.998C105.855 19.967 106.396 21.9007 107.312 23.1615C108.919 25.3683 112.509 25.7115 114.547 23.9132L112.373 33.1438H119.898L126.727 7.5677H118.397V7.5669Z","fill","#2F2E0C"],["d","M13.3509 0.999012H0V7.56687H12.3625C12.9326 7.56687 13.4316 7.99066 13.4841 8.56027C13.5108 8.84064 13.4308 9.10571 13.2774 9.31599C13.1425 9.50049 12.9503 9.6431 12.7218 9.714L0 13.7118V24.9058H8.29089V17.8038C9.81551 17.3244 11.3425 16.8507 12.8607 16.3503C14.7309 15.734 16.6965 15.2248 18.2647 13.9704C19.8927 12.6668 20.7632 10.4915 20.7632 8.42733C20.7632 4.32403 17.445 0.999012 13.3509 0.999012Z","fill","#2F2E0C"],["id","Logo Shape","d","M13.3512 0H0V6.56563H12.3628C12.9329 6.56563 13.432 6.98927 13.4845 7.55869C13.5111 7.83897 13.4312 8.10395 13.2778 8.31416C13.1429 8.49859 12.9507 8.64115 12.7222 8.71202L0 12.7084V23.8987H8.29113V16.7991C9.81578 16.3198 11.3429 15.8463 12.8611 15.3461C14.7313 14.73 16.6969 14.221 18.2652 12.967C19.8932 11.6638 20.7638 9.48924 20.7638 7.4258C20.7638 3.32389 17.4455 0 13.3512 0Z","fill","#2F2E0C"]],template:function(n,i){n&1&&kI(0,zb,13,1,":svg:svg",0)(1,jb,3,1,":svg:svg",1),n&2&&QR(i.fullLogo?0:1);},dependencies:[Ld$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-flex}.logo[_ngcontent-%COMP%]{flex:1;min-height:fit-content;max-height:fit-content}.primary[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#aeff6e}.monochrome[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#2f2e0c}.negative[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}'],changeDetection:0});}}return t})(),bo$3=function(t){return t.Action="action",t.Dropdown="dropdown",t.Divider="divider",t.Expandable="expandable",t.ExternalLink="externalLink",t.InternalLink="internalLink",t}(bo$3||{}),mx=(()=>{class t{constructor(){this.role="separator";}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-divider-item"]],hostVars:1,hostBindings:function(n,i){n&2&&GI("role",i.role);},decls:0,vars:0,template:function(n,i){},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;padding:0;margin:0;height:1px;background:#e0e0d7}'],changeDetection:0});}}return t})(),Pl$1=new k$5("MENU_DROPDOWN_OFFSET_PX"),fx="data-dropdown-toggle",Bu$2=(()=>{class t{constructor(){this.togglesDropdownResult=true;}static isDropdownResultToggle(e){return !!e.closest(`[${fx}="true"]`)}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyMenuDropdownResultToggle",""]],hostVars:1,hostBindings:function(n,i){n&2&&GI("data-dropdown-toggle",i.togglesDropdownResult);},inputs:{togglesDropdownResult:"togglesDropdownResult"}});}}return t})(),_x=(()=>{class t{constructor(){this.dropdownComponentService=N$8(pn$6),this.inputsService=N$8(tn$4),this.fullWidth=Wn$4(Hp$2([this.inputsService.observe("fullWidth"),this.inputsService.observe("stretch")]).pipe(ie$b(([e,n])=>e||n)));}onClick(e){Bu$2.isDropdownResultToggle(e)&&this.dropdownComponentService.toggle(false);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-dropdown-result"]],hostAttrs:[1,"menu-dropdown-result"],hostVars:2,hostBindings:function(n,i){n&1&&VE("click",function(s){return i.onClick(s.target)}),n&2&&dE("full-width",i.fullWidth());},features:[gP([{provide:Pl$1,useValue:16}])],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426;padding:.5rem;background-color:#fff;width:285px;overflow-y:auto;max-height:80vh;border-radius:4px}.full-width[_nghost-%COMP%]{width:100%;min-width:285px}'],changeDetection:0});}}return t})(),Ao$3=(()=>{class t{constructor(){this.disabled=false;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,inputs:{subText:"subText",iconLeft:"iconLeft",iconRight:"iconRight",tooltip:"tooltip",disabled:"disabled",badgeColor:"badgeColor",badgeText:"badgeText"}});}}return t})(),Ro$3=(()=>{class t extends Ao$3{constructor(){super(...arguments),this.active=false,this.highlighted=false;}getStateClass(){if(this.disabled)return "disabled";if(this.highlighted)return "highlighted";if(this.active)return "active"}onContentClick(e){this.disabled&&e.stopPropagation();}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-item"]],inputs:{active:"active",highlighted:"highlighted"},features:[HR([{directive:Bu$2,inputs:["togglesDropdownResult","togglesDropdownResult"]}]),bI],ngContentSelectors:oe$6,decls:4,vars:1,consts:[["button",""],[3,"pfyTooltip","showTooltipOnMobile","tooltipWithDelay"],[4,"ngTemplateOutlet"],[1,"menu-item",3,"disabled","ngClass"],[1,"content",3,"click"],["data-testid","iconLeft",1,"material-icons-outlined","icon"],[1,"text","text-ellipsis"],[1,"text-xs","sub-text"],[1,"badge",3,"color"],["data-testid","iconRight",1,"material-icons-outlined","icon","right-icon"]],template:function(n,i){if(n&1&&(nP(),kI(0,Ub,2,4,"div",1)(1,Gb,1,1,"ng-container")(2,Zb,8,6,"ng-template",null,0,OP)),n&2){let r;QR((r=i.tooltip)?0:1,r);}},dependencies:[ft$6,$d$2,Ld$1,Tn$4,hl$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.menu-dropdown-result[_nghost-%COMP%]   .menu-item.active[_ngcontent-%COMP%], .menu-dropdown-result   [_nghost-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{color:#2f2e0c;font-weight:400;border-radius:4px;border:none}.menu-dropdown-result[_nghost-%COMP%]   .menu-item.active[_ngcontent-%COMP%]:before, .menu-dropdown-result   [_nghost-%COMP%]   .menu-item.active[_ngcontent-%COMP%]:before{display:none}.menu-item-compact[_nghost-%COMP%]     .label, .menu-item-compact   [_nghost-%COMP%]     .label, .menu-item-compact[_nghost-%COMP%]   .right-icon[_ngcontent-%COMP%], .menu-item-compact   [_nghost-%COMP%]   .right-icon[_ngcontent-%COMP%], .menu-item-compact[_nghost-%COMP%]   .sub-text[_ngcontent-%COMP%], .menu-item-compact   [_nghost-%COMP%]   .sub-text[_ngcontent-%COMP%]{display:none}.menu-item-compact[_nghost-%COMP%]     .menu-item .content, .menu-item-compact   [_nghost-%COMP%]     .menu-item .content{gap:0}.menu-item-compact[_nghost-%COMP%]   .menu-item[_ngcontent-%COMP%], .menu-item-compact   [_nghost-%COMP%]   .menu-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.menu-item[_ngcontent-%COMP%]{color:#2f2e0c;font-weight:400;border-radius:4px;border:none;position:relative;display:block;width:100%;background:transparent;padding:.5rem;appearance:none;cursor:pointer}.menu-item[_ngcontent-%COMP%]:before{display:none}.menu-item[_ngcontent-%COMP%]:not(.disabled):not(.active):not(.highlighted):hover{background:#f5f5f0}.menu-item.active[_ngcontent-%COMP%], .menu-item.highlighted[_ngcontent-%COMP%]{color:#2f2e0c;background-color:#fff}.menu-item.disabled[_ngcontent-%COMP%]{color:#a8a794;background-color:#fff;cursor:default}.menu-item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex-grow:1;text-align:left}.menu-item[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{color:#64634a;font-weight:400;overflow:inherit;text-overflow:inherit;white-space:inherit}.menu-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{vertical-align:bottom;color:inherit}.content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}'],changeDetection:0});}}return t})(),kl=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyMenuItems",""]]});}}return t})(),as$1=(()=>{class t{constructor(e){this.router=e,this.navigationEnd$=this.router.events.pipe(Ye$b(n=>n instanceof ie$a));}hasActiveInternalLinkItems(e){return e.pipe(ie$b(n=>this.collectInternalLinkItems(n)),Ac$3(n=>this.navigationEnd$.pipe(Sc$2(undefined),ie$b(()=>this.isAnyInternalLinkItemActive(n)))),Dr$5())}collectInternalLinkItems(e){return e.reduce((n,i)=>{switch(i.type){case bo$3.InternalLink:return [...n,i];case bo$3.Dropdown:case bo$3.Expandable:return [...n,...this.collectInternalLinkItems(i.items)];default:return n}},[])}isAnyInternalLinkItemActive(e){return e.some(n=>this.isInternalLinkItemActive(n))}isInternalLinkItemActive(e){return this.router.isActive(e.path,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})}static{this.\u0275fac=function(n){return new(n||t)(pe$9(ve$8))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})(),Gp$2=8,bx=(()=>{class t extends Ao$3{set items(e){this.items$.next(e);}constructor(e,n,i){super(),this.dropdownOverlayService=e,this.nestedMenuItemsService=n,this.offset=i,this.dropdownOffset=this.offset?Gp$2+this.offset:Gp$2,this.dropdownPositions=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:this.dropdownOffset},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.dropdownOffset},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:this.dropdownOffset}],this.items$=new yn$7([]),this.hasActiveInternalLinkItems$=this.nestedMenuItemsService.hasActiveInternalLinkItems(this.items$),this.isDropdownOpened$=this.dropdownOverlayService.isDropdownOpened$(()=>this.dropdown);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Io$3),Yo$4(as$1),Yo$4(Pl$1,8))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-dropdown-item"]],contentQueries:function(n,i,r){if(n&1&&oP(r,kl,5,fo$3),n&2){let s;sP(s=aP())&&(i.itemsTemplate=s.first);}},viewQuery:function(n,i){if(n&1&&iP(Jb,7,Uo$5),n&2){let r;sP(r=aP())&&(i.dropdown=r.first);}},inputs:{items:"items"},features:[gP([as$1]),bI],ngContentSelectors:oe$6,decls:4,vars:2,consts:[["dropdown",""],[3,"fullWidth","customPositions"],["pfyDropdownAction","","iconRight","chevron_right",3,"iconLeft","subText","tooltip","highlighted","active","disabled","togglesDropdownResult","badgeText","badgeColor",4,"pfyDropdownInput"],["pfyDropdownResultAction","","data-testid","dropdownResult",3,"shouldSetMaxHeight",4,"pfyDropdownResult"],["pfyDropdownAction","","iconRight","chevron_right",3,"iconLeft","subText","tooltip","highlighted","active","disabled","togglesDropdownResult","badgeText","badgeColor"],["pfyDropdownResultAction","","data-testid","dropdownResult",3,"shouldSetMaxHeight"],[3,"ngTemplateOutlet"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"pfy-dropdown",1,0),kI(2,eC,4,13,"pfy-menu-item",2)(3,nC,2,2,"pfy-menu-dropdown-result",3),Xf$2()),n&2&&lE("fullWidth",false)("customPositions",i.dropdownPositions);},dependencies:[xo$3,gs$1,Ro$3,hs$2,ms$2,_x,yl$1,$d$2,zd$1],encapsulation:2,changeDetection:0});}}return t})(),ll$1=(()=>{class t{constructor(){this.expandedMenuItem=new yn$7(null);}isExpanded$(e){return this.expandedMenuItem.pipe(ie$b(n=>n===e))}toggle(e){this.expandedMenuItem.next(this.expandedMenuItem.value===e?null:e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyMenuExpandableItemController",""]]});}}return t})(),Cx=(()=>{class t extends Ao$3{set items(e){this.items$.next(e);}constructor(e,n){super(),this.nestedMenuItemsService=e,this.menuExpandableItemController=n,this.controller=this.menuExpandableItemController??new cl$1,this.items$=new yn$7([]),this.isExpanded$=this.controller.isExpanded$(this).pipe(Dr$5()),this.hasActiveInternalLinkItems$=this.nestedMenuItemsService.hasActiveInternalLinkItems(this.items$);}toggle(){this.controller.toggle(this);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(as$1),Yo$4(ll$1,8))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-expandable-item"]],contentQueries:function(n,i,r){if(n&1&&oP(r,kl,5,fo$3),n&2){let s;sP(s=aP())&&(i.itemsTemplate=s.first);}},inputs:{items:"items"},features:[gP([as$1]),bI],ngContentSelectors:oe$6,decls:7,vars:19,consts:[[3,"click","iconLeft","iconRight","subText","tooltip","highlighted","active","disabled","togglesDropdownResult","badgeText","badgeColor"],["data-testid","expandableContent","pfyMenuExpandableItemController","",1,"expandable-content"],[3,"ngTemplateOutlet"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"pfy-menu-item",0),TP(1,"async"),TP(2,"async"),TP(3,"async"),VE("click",function(){return i.toggle()}),rP(4),Xf$2(),kI(5,oC,2,2,"div",1),TP(6,"async")),n&2&&(lE("iconLeft",i.iconLeft)("iconRight",_P(1,11,i.isExpanded$)?"expand_less":"expand_more")("subText",i.subText)("tooltip",i.tooltip)("highlighted",_P(2,13,i.isExpanded$)||false)("active",_P(3,15,i.hasActiveInternalLinkItems$)||false)("disabled",i.disabled)("togglesDropdownResult",false)("badgeText",i.badgeText)("badgeColor",i.badgeColor),xR(5),QR(_P(6,17,i.isExpanded$)?5:-1));},dependencies:[Ro$3,ll$1,$d$2,zd$1],styles:['@charset "UTF-8";.expandable-content[_ngcontent-%COMP%]{padding:.5rem 0 .5rem 1rem;overflow:hidden}'],data:{animation:[$r$3("contentExpansion",[Br$4("in",kn$6({height:"*"})),so$5(":enter",[kn$6({height:0}),ro$4("150ms ease-in-out")]),so$5(":leave",[ro$4("150ms ease-in-out",kn$6({height:0}))])])]},changeDetection:0});}}return t})(),cl$1=class cl{constructor(){this.isExpanded=new yn$7(false);}isExpanded$(){return this.isExpanded.asObservable()}toggle(){this.isExpanded.next(!this.isExpanded.value);}},yx=(()=>{class t extends Ao$3{ngOnInit(){(0, Z$9.assert)(!!this.url,"MenuExternalLinkItemComponent: url input is required");}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-external-link-item"]],inputs:{url:"url",newTab:"newTab",badgeColor:"badgeColor",badgeText:"badgeText"},features:[bI],ngContentSelectors:oe$6,decls:3,vars:9,consts:[[3,"iconLeft","iconRight","subText","tooltip","disabled","badgeText","badgeColor"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"a")(1,"pfy-menu-item",0),rP(2),Xf$2()()),n&2&&(GI("href",i.disabled?null:i.url,sy$2)("target",i.newTab?"_blank":"_self"),xR(),lE("iconLeft",i.iconLeft)("iconRight",i.iconRight)("subText",i.subText)("tooltip",i.tooltip)("disabled",i.disabled)("badgeText",i.badgeText)("badgeColor",i.badgeColor));},dependencies:[Ro$3],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0});}}return t})(),vx=(()=>{class t extends Ao$3{constructor(){super(...arguments),this.isLinkActive=false;}ngOnInit(){(0, Z$9.assert)(!!this.path,"MenuInternalLinkItemComponent: path input is required");}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu-internal-link-item"]],inputs:{path:"path",queryParams:"queryParams",newTab:"newTab",isActiveMatchOptions:"isActiveMatchOptions",badgeColor:"badgeColor",badgeText:"badgeText"},features:[bI],ngContentSelectors:oe$6,decls:3,vars:11,consts:[["routerLinkActive","",3,"isActiveChange","routerLink","queryParams","target"],[3,"iconLeft","iconRight","subText","tooltip","active","disabled","badgeText","badgeColor"]],template:function(n,i){n&1&&(nP(),Kf$2(0,"a",0),VE("isActiveChange",function(s){return i.isLinkActive=s}),Kf$2(1,"pfy-menu-item",1),rP(2),Xf$2()()),n&2&&(lE("routerLink",i.disabled?null:i.path)("queryParams",i.queryParams)("target",i.newTab?"_blank":"_self"),xR(),lE("iconLeft",i.iconLeft)("iconRight",i.iconRight)("subText",i.subText)("tooltip",i.tooltip)("active",i.isLinkActive)("disabled",i.disabled)("badgeText",i.badgeText)("badgeColor",i.badgeColor));},dependencies:[ef$2,Io$4,Ro$3],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0});}}return t})(),YS=(()=>{class t{constructor(){this.items=[],this.menuItemType=bo$3;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-menu"]],inputs:{items:"items"},decls:3,vars:0,consts:[["pfyMenuExpandableItemController",""],["data-testid","expandable",3,"items","subText","iconLeft","tooltip","disabled","badgeColor","badgeText"],["data-testid","dropdown",3,"items","subText","iconLeft","tooltip","disabled","badgeColor","badgeText"],["data-testid","internalLink",3,"path","queryParams","newTab","isActiveMatchOptions","subText","iconLeft","iconRight","tooltip","disabled","badgeColor","badgeText"],["data-testid","externalLink",3,"url","newTab","subText","iconLeft","iconRight","tooltip","disabled","badgeColor","badgeText"],["data-testid","action",3,"subText","iconLeft","iconRight","tooltip","disabled","badgeColor","badgeText"],["data-testid","divider"],[1,"label"],[3,"items",4,"pfyMenuItems"],[3,"items"],["data-testid","action",3,"click","subText","iconLeft","iconRight","tooltip","disabled","badgeColor","badgeText"]],template:function(n,i){n&1&&(ep$2(0,0),JR(1,hC,6,1,null,null,YR),tp$2()),n&2&&(xR(),KR(i.items));},dependencies:[t,ll$1,Cx,kl,bx,vx,yx,Ro$3,mx],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}'],changeDetection:0});}}return t})(),Sl$1=function(t){return t.S="small",t.M="medium",t.L="large",t.XL="extra-large",t}(Sl$1||{}),Zn$3=class Zn{constructor(o,e,n){this.overlayRef=o,this.componentOrTemplateRef=e,this.data=n;}close(o){this.overlayRef.dispose(),this.secondaryAction?.complete(),this.primaryAction?.complete(),this.backAction?.complete(),this.closeAction?.next(o),this.closeAction?.complete();}getData(){return this.data}getContent(){return this.componentOrTemplateRef}primaryActionPerformed(o){this.primaryAction?.next(o);}secondaryActionPerformed(o){this.secondaryAction?.next(o);}backActionPerformed(o){this.backAction?.next(o);}afterSecondaryAction(){return this.secondaryAction??=new Z$a,this.secondaryAction.asObservable()}afterPrimaryAction(){return this.primaryAction??=new Z$a,this.primaryAction.asObservable()}afterBackAction(){return this.backAction??=new Z$a,this.backAction.asObservable()}afterClosed(){return this.closeAction??=new Z$a,this.closeAction.asObservable()}},Nu$1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-modal-dialog-header"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},encapsulation:2,changeDetection:0});}}return t})(),bs$2=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-modal-dialog-content"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});}}return t})(),Cs$4=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-modal-dialog-footer"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},encapsulation:2,changeDetection:0});}}return t})(),Fo$1=(()=>{class t{set customModalDialogHeader(e){this.hasCustomHeader=!!e?.nativeElement,this.changeDetector.detectChanges();}set customModalDialogFooter(e){this.hasCustomFooter=!!e?.nativeElement,this.changeDetector.detectChanges();}set customModalDialogContent(e){this.hasCustomContent=!!e?.nativeElement,this.changeDetector.detectChanges();}constructor(e,n,i,r){this.changeDetector=e,this.modalDialogRef=n,this.viewportService=i,this.content=r,this.modalSize=Sl$1.S,this.showTitleBackButton=false,this.primaryActionButtonType=Ze$5.Primary,this.pinToTop=false,this.hideCloseButton=false,this.hugContentOnMobile=false,this.role="dialog",this.hasCustomHeader=false,this.hasCustomFooter=false,this.hasCustomContent=false,this.isMobileScreen$=this.viewportService.matchBelow(gt$7.M),this.setModalData();}close(){this.modalDialogRef.close();}primaryActionClick(){this.modalDialogRef.primaryActionPerformed();}secondaryActionClick(){this.modalDialogRef.secondaryActionPerformed();}back(){this.modalDialogRef.backActionPerformed();}setModalData(){let e=this.modalDialogRef.getData();e&&(e.showTitleBackButton&&(this.showTitleBackButton=e?.showTitleBackButton),e.primaryActionButtonType&&(this.primaryActionButtonType=e?.primaryActionButtonType),e.pinToTop&&(this.pinToTop=e?.pinToTop),e.modalSize&&(this.modalSize=e.modalSize),this.title=e.title,this.message=e.message,this.secondaryAction=e.secondaryAction,this.primaryAction=e.primaryAction,this.hideCloseButton=!!e.hideCloseButton,this.contentVars=e.inputs,this.hugContentOnMobile=!!e.hugContentOnMobile);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1),Yo$4(Zn$3),Yo$4(nn$6),Yo$4(fo$3,12))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-modal-dialog"]],contentQueries:function(n,i,r){if(n&1&&(oP(r,Nu$1,5,Uo$5),oP(r,Cs$4,5,Uo$5),oP(r,bs$2,5,Uo$5)),n&2){let s;sP(s=aP())&&(i.customModalDialogHeader=s.first),sP(s=aP())&&(i.customModalDialogFooter=s.first),sP(s=aP())&&(i.customModalDialogContent=s.first);}},hostVars:1,hostBindings:function(n,i){n&2&&GI("role",i.role);},inputs:{modalSize:"modalSize",title:"title",message:"message",showTitleBackButton:"showTitleBackButton",secondaryAction:"secondaryAction",primaryAction:"primaryAction",primaryActionButtonType:"primaryActionButtonType",pinToTop:"pinToTop",hideCloseButton:"hideCloseButton",contentVars:"contentVars",hugContentOnMobile:"hugContentOnMobile"},ngContentSelectors:su$1,decls:13,vars:19,consts:[["cdkTrapFocus","","cdkTrapFocusAutoCapture","",1,"modal-dialog-wrapper"],["data-testid","modalDialogHeader",1,"modal-dialog-header"],["size","small","type","ghost","data-testid","backButton",1,"back-button",3,"isIconOnly"],[1,"title-text",3,"center-title"],["size","small","type","ghost","data-testid","closeButton",1,"close-button",3,"isIconOnly"],["data-testid","modalDialogContent",1,"modal-dialog-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testid","modalDialogFooter"],[1,"footer-buttons"],["size","small","type","ghost","data-testid","backButton",1,"back-button",3,"buttonClick","isIconOnly"],["title","Back",1,"material-icons","back-icon"],[1,"title-text"],["size","small","type","ghost","data-testid","closeButton",1,"close-button",3,"buttonClick","isIconOnly"],["title","Close",1,"material-icons"],["type","secondary","data-testid","footerSecondaryAction"],["data-testid","footerPrimaryAction",3,"type"],["type","secondary","data-testid","footerSecondaryAction",3,"buttonClick"],["data-testid","footerPrimaryAction",3,"buttonClick","type"]],template:function(n,i){n&1&&(nP(ru$1),Kf$2(0,"div",0)(1,"div",1),kI(2,mC,6,6,"pfy-button",2)(3,fC,3,5,"h5",3),rP(4),kI(5,_C,3,1,"pfy-button",4),Xf$2(),Kf$2(6,"div",5),kI(7,bC,2,1,"p"),rP(8,1),kI(9,CC,0,0,"ng-template",6),Xf$2(),Kf$2(10,"div",7),rP(11,2),kI(12,wC,3,2,"div",8),Xf$2()()),n&2&&(WR(i.modalSize),dE("non-fullscreen",i.hugContentOnMobile)("pin-to-top",i.pinToTop),xR(),dE("no-border-bottom",!(i.title!=null&&i.title.length)&&!i.hasCustomHeader)("no-title",!(i.title!=null&&i.title.length)),xR(),QR(i.showTitleBackButton?2:-1),xR(),QR(i.title&&!i.hasCustomHeader?3:-1),xR(2),QR(i.hideCloseButton?-1:5),xR(2),QR(!i.hasCustomContent&&!i.content?7:-1),xR(2),lE("ngTemplateOutlet",i.content)("ngTemplateOutletContext",i.contentVars),xR(),dE("modal-dialog-footer",!!i.secondaryAction||!!i.primaryAction||i.hasCustomFooter),xR(2),QR((i.secondaryAction||i.primaryAction)&&!i.hasCustomFooter?12:-1));},dependencies:[We$8,jd$1,io$3,zd$1,$d$2],styles:['@charset "UTF-8";.modal-dialog-wrapper[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;display:flex;flex-direction:column;margin:0 auto;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);width:100%;height:100%}.modal-dialog-wrapper.non-fullscreen[_ngcontent-%COMP%]{max-height:85%;width:calc(100% - 1.5rem);height:auto}@media (min-width: 600px){.modal-dialog-wrapper[_ngcontent-%COMP%]{max-height:85%;height:auto}.modal-dialog-wrapper.small[_ngcontent-%COMP%]{max-width:384px}.modal-dialog-wrapper.medium[_ngcontent-%COMP%]{max-width:592px}.modal-dialog-wrapper.large[_ngcontent-%COMP%]{max-width:800px}.modal-dialog-wrapper.extra-large[_ngcontent-%COMP%]{max-width:1008px}.modal-dialog-wrapper.pin-to-top[_ngcontent-%COMP%]{top:0;margin-top:2.5rem;transform:none}.modal-dialog-wrapper[_ngcontent-%COMP%]:not(.small)   .back-icon[_ngcontent-%COMP%]{margin-left:-.5rem;margin-right:.25rem}}.modal-dialog-header[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:space-between}.modal-dialog-header[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:1.5rem;line-height:1.75rem}.modal-dialog-header[_ngcontent-%COMP%]   .title-text.center-title[_ngcontent-%COMP%]{text-align:center}.modal-dialog-header.no-title[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin-left:auto}.modal-dialog-header[_ngcontent-%COMP%]:empty{display:none}.modal-dialog-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-right:1.5rem}.modal-dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin-left:1.5rem}@media (min-width: 600px){.modal-dialog-header[_ngcontent-%COMP%]{padding:1.5rem}.modal-dialog-header.no-border-bottom[_ngcontent-%COMP%]{padding:1rem 1rem 0 1.5rem}}.modal-dialog-content[_ngcontent-%COMP%]{flex:1 1 0%;display:flex;flex-direction:column;padding:1rem;overflow-y:auto}@media (min-width: 600px){.modal-dialog-content[_ngcontent-%COMP%]{padding:1.5rem}}.modal-dialog-footer[_ngcontent-%COMP%]{padding:1rem;margin-top:auto;display:flex}.modal-dialog-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:1rem}@media (min-width: 600px){.modal-dialog-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem}.modal-dialog-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{flex-direction:row;width:auto;margin-left:auto}}'],changeDetection:0});}}return t})(),Qn$4=Symbol("MODAL_DIALOG_REF_KEY"),dl$1=class dl{constructor(o,e){this.componentRef=o,this[Qn$4]=e,this.componentChangeDetectorRef=this.componentRef.injector.get(bw$1);}get component(){return this.componentRef.instance}setInputs(o){let e=this.component;e instanceof Fo$1?e.contentVars=o:Object.assign(e,o),this.componentChangeDetectorRef.detectChanges();}close(){return this[Qn$4].close()}afterClosed(){return this[Qn$4].afterClosed()}afterSecondaryAction(){return this[Qn$4].afterSecondaryAction()}afterPrimaryAction(){return this[Qn$4].afterPrimaryAction()}afterBackAction(){return this[Qn$4].afterBackAction()}};function wx(t){return t[Qn$4]}var zu$1=(()=>{class t{constructor(e,n){this.overlay=e,this.injector=n,this.openedDialogs=new Set,this.isAnyOpened=new yn$7(false),this.isAnyModalOpened$=this.isAnyOpened.pipe(Dr$5());}open(e,n){let i=this.overlay.position().global().centerHorizontally();i=n?.pinToTop?i.top():i.centerVertically();let r=this.overlay.create({positionStrategy:i,hasBackdrop:true,backdropClass:n?.backdropClass||"modal-overlay-backdrop",scrollStrategy:n?.scrollStrategy||this.overlay.scrollStrategies.block(),disposeOnNavigation:true}),s=new Zn$3(r,e,n||{}),p=[{provide:Zn$3,useValue:s}];e instanceof fo$3&&p.push({provide:fo$3,useValue:e});let O=_e$8.create({parent:n?.injector??this.injector,providers:p}),D=e instanceof fo$3?this.getModalDialogComponent():e,V=new Mn$5(D,null,O),j=r.attach(V),re=new dl$1(j,s);re.setInputs(n?.inputs);let he=re.afterClosed();return n?.required||$p$1(r.backdropClick(),r.keydownEvents().pipe(Ye$b(Me=>Me.key==="Escape"))).pipe(mt$8(1),Oc$2(he)).subscribe(()=>re.close()),this.openedDialogs.add(s),this.isAnyOpened.next(true),he.pipe(mt$8(1)).subscribe(()=>{this.openedDialogs.delete(s),this.isAnyOpened.next(this.openedDialogs.size>0);}),re}getModalDialogComponent(){return Fo$1}closeAll(){Array.from(this.openedDialogs).forEach(e=>e.close()),this.openedDialogs.clear();}ngOnDestroy(){this.closeAll(),this.isAnyOpened.complete();}static{this.\u0275fac=function(n){return new(n||t)(pe$9(Jt$6),pe$9(_e$8))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),KS=(()=>{class t{constructor(e){this.dialogService=e,this.isAnyModalOpened$=this.dialogService.isAnyModalOpened$;}open(e,n,i){let r=this.dialogService.open(e,x$d(w$9({},n),{injector:i}));return wx(r)}closeAll(){this.dialogService.closeAll();}ngOnDestroy(){this.dialogService.ngOnDestroy();}static{this.\u0275fac=function(n){return new(n||t)(pe$9(zu$1))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),ls$2=function(t){return t.Numbers="Numbers",t.Dots="Dots",t}(ls$2||{}),Oi$4=function(t){return t.Button="Button",t.Dot="Dot",t.Link="Link",t}(Oi$4||{});function xx(t,o,e,n){return e>=n?[]:(t===ls$2.Numbers?Ox:ju$1)(o,e,n).map((r,s,p)=>({page:r,active:r===o,ellipsisAfter:s===0&&p[s+1]-p[s]>1,ellipsisBefore:s===p.length-1&&p[s]-p[s-1]>1}))}function Ox(t,o,e){let n=ju$1(t,o,e);return [o,...n.slice(1,-1),e]}function ju$1(t,o,e,n=5){let i=t-Math.floor((n-1)/2),r=t+Math.round((n-1)/2),s=Math.max(o,i-Math.max(0,r-e));return Array.from({length:Math.min(n,e-o+1)},(p,O)=>s+O)}function Mx(t,o,e,n,i){if(!t)return "";let r=o?`of ${o} ${t}`:t;return e&&n?`${n-e+1} ${r}`:i?`${i} ${r}`:""}var Px=(()=>{class t{constructor(){this.inputAppearance=mt$6,this.itemType=Oi$4,this.itemClick=new Xe$5;}onClick(){this.itemClick.emit();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-pagination-item"]],inputs:{type:"type",item:"item"},outputs:{itemClick:"itemClick"},decls:2,vars:8,consts:[["data-analyticsid","paginationPageNumber","tabindex","0",1,"page-number",3,"click"]],template:function(n,i){n&1&&(Kf$2(0,"a",0),VE("click",function(){return i.onClick()}),fP(1),Xf$2()),n&2&&(dE("active",i.item.active)("ellipsis-before",i.item.ellipsisBefore)("ellipsis-after",i.item.ellipsisAfter),GI("href",i.type===i.itemType.Link?"?page="+i.item.page:null,sy$2),xR(),ip$2(" ",i.item.page,`
`));},styles:['@charset "UTF-8";.page-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:32px;height:32px;width:auto;border-radius:4px;cursor:pointer;text-decoration:none;color:inherit}.page-number[_ngcontent-%COMP%]:hover{background-color:#f5f5f0}.page-number.active[_ngcontent-%COMP%]{background-color:#64634a;color:#f5f5f0}.page-number.active[_ngcontent-%COMP%]:hover{background-color:#434228}.page-number[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc;outline-offset:-2px}.ellipsis-before[_ngcontent-%COMP%]:before, .ellipsis-after[_ngcontent-%COMP%]:after{content:"\\2026"}'],changeDetection:0});}}return t})(),XS=(()=>{class t{set current(e){this.currentPage$.next(e);}set first(e){this.first$.next(e);}set last(e){this.last$.next(e);}set showPageNumbers(e){this.showPageNumbers$.next(e);}set label(e){this.label$.next(e);}set firstPageItem(e){this.firstPageItem$.next(e);}set lastPageItem(e){this.lastPageItem$.next(e);}set itemsTotal(e){this.itemsTotal$.next(e);}set itemsPerPage(e){this.itemsPerPage$.next(e);}set style(e){this.style$.next(e);}set buttonsAsLinks(e){this.buttonsAsLinks$.next(e);}constructor(e){this.destroyRef=e,this.inputAppearance=mt$6,this.itemType=Oi$4,this.showItemsPerPage=false,this.itemsPerPageOptions=[{name:"12",value:12},{name:"24",value:24},{name:"36",value:36}],this.changedPage=new Xe$5,this.changedItemsPerPage=new Xe$5,this.currentPage$=new yn$7(1),this.showPageNumbers$=new yn$7(true),this.label$=new In$7(1),this.first$=new yn$7(1),this.last$=new In$7(1),this.firstPageItem$=new yn$7(0),this.lastPageItem$=new yn$7(0),this.itemsTotal$=new yn$7(0),this.style$=new yn$7(ls$2.Numbers),this.itemsPerPage$=new In$7(1),this.goToPage$=new Z$a,this.buttonsAsLinks$=new yn$7(false),this.pages$=Hp$2([this.style$,this.currentPage$,this.first$,this.last$]).pipe(ie$b(n=>xx(...n))),this.selectedItemsPerPage$=this.itemsPerPage$.pipe(ie$b(n=>this.itemsPerPageOptions.find(({value:i})=>i===n)||this.itemsPerPageOptions[0])),this.paginationItemType$=Hp$2([this.style$,this.showPageNumbers$,this.buttonsAsLinks$,this.pages$]).pipe(ie$b(([n,i,r,s])=>{if(s.length!==0)return n===ls$2.Dots||!i?Oi$4.Dot:r?Oi$4.Link:Oi$4.Button}),Dr$5()),this.prevDisabled$=Hp$2([this.currentPage$,this.first$]).pipe(ie$b(([n,i])=>n===i),Dr$5()),this.nextDisabled$=Hp$2([this.currentPage$,this.last$]).pipe(ie$b(([n,i])=>n===i),Dr$5()),this.itemsCountLabel$=Hp$2([this.label$,this.itemsTotal$,this.firstPageItem$,this.lastPageItem$,this.itemsPerPage$.pipe(Sc$2(0))]).pipe(ie$b(n=>Mx(...n)));}ngOnInit(){this.goToPage$.pipe(Rc$2(this.first$,this.last$),ie$b(([e,n,i])=>Math.max(n,Math.min(i,e))),Rc$2(this.currentPage$),Ye$b(([e,n])=>e!==n),ie$b(([e])=>e),X$7(this.destroyRef)).subscribe(e=>{this.currentPage$.next(e),this.changedPage.emit(e);});}ngOnDestroy(){this.currentPage$.complete(),this.first$.complete(),this.last$.complete(),this.showPageNumbers$.complete(),this.label$.complete(),this.firstPageItem$.complete(),this.lastPageItem$.complete(),this.itemsTotal$.complete(),this.style$.complete(),this.itemsPerPage$.complete();}goToPage(e){this.goToPage$.next(e);}goToPreviousPage(){this.goToPage(this.currentPage$.getValue()-1);}goToNextPage(){this.goToPage(this.currentPage$.getValue()+1);}onItemsPerPageChange(e){this.changedItemsPerPage.emit(e.value);}pageTrackBy(e,{page:n,active:i}){return `${n}${i}`}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-pagination"]],inputs:{showItemsPerPage:"showItemsPerPage",itemsPerPageOptions:"itemsPerPageOptions",current:"current",first:"first",last:"last",showPageNumbers:"showPageNumbers",label:"label",firstPageItem:"firstPageItem",lastPageItem:"lastPageItem",itemsTotal:"itemsTotal",itemsPerPage:"itemsPerPage",style:"style",buttonsAsLinks:"buttonsAsLinks"},outputs:{changedPage:"changedPage",changedItemsPerPage:"changedItemsPerPage"},decls:6,vars:7,consts:[[1,"overview"],[1,"items-per-page"],["data-testid","pages",1,"pages"],[1,"items-per-page-dropdown",3,"valueChange","appearance","items","value"],["type","ghost","size","small",3,"buttonClick","isIconOnly","disabled"],["name","chevron_left","colorInherit","true"],[1,"pagination-items"],["name","chevron_right","colorInherit","true"],[3,"item","type"],[3,"itemClick","item","type"]],template:function(n,i){if(n&1&&(Kf$2(0,"div",0),kI(1,xC,8,8,"div",1)(2,OC,2,1,"span"),TP(3,"async"),Xf$2(),kI(4,kC,8,9,"nav",2),TP(5,"async")),n&2){let r,s;xR(),QR(i.showItemsPerPage?1:-1),xR(),QR((r=_P(3,3,i.itemsCountLabel$))?2:-1,r),xR(2),QR((s=_P(5,5,i.paginationItemType$))?4:-1,s);}},dependencies:[xo$3,We$8,ge$9,Px,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:1rem}@media (min-width: 840px){[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:0}}.overview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;font-size:.875rem}.items-per-page[_ngcontent-%COMP%]{display:none}@media (min-width: 840px){.items-per-page[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}}.items-per-page-dropdown[_ngcontent-%COMP%]{width:80px;font-size:1rem}.pages[_ngcontent-%COMP%]{display:flex;align-items:center;-webkit-user-select:none;user-select:none}@media (min-width: 840px){.pages[_ngcontent-%COMP%]{justify-content:flex-end}}.pagination-items[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin:0 .75rem}'],changeDetection:0});}}return t})(),Hu$1=(()=>{class t{transform(e,n,i){return parseInt(e.toString(),10)===1?n:i}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275pipe=jR({name:"plural",type:t,pure:true});}}return t})(),Po$6=class Po{constructor(o,e,n){this.overlay=o,this.content=e,this.data=n,this.popoverDismissed=new yn$7(false),this.popoverConfirmed=new yn$7(false),o.backdropClick().pipe(mt$8(1)).subscribe(()=>{this.close();}),o.keydownEvents().pipe(Ye$b(i=>i.key==="Escape"),mt$8(1)).subscribe(()=>{this.close();});}getContent(){return this.content}getData(){return this.data}close(){this.popoverDismissed.next(true),this.popoverDismissed.complete(),this.popoverConfirmed.complete(),this.overlay.dispose();}confirm(){this.popoverConfirmed.next(true);}afterDismiss(){return this.popoverDismissed.asObservable()}afterConfirm(){return this.popoverConfirmed.asObservable()}},fo$1=function(t){return t.Text="text",t.Template="template",t.CustomComponent="component",t}(fo$1||{}),kx$1=(()=>{class t{constructor(e){this.popoverRef=e,this.contentTypes=fo$1,this.buttonType=Ze$5,this.buttonSize=lt$7,this.title="",this.dismissButton="",this.confirmButton="",this.darkBackground=false,this.showArrow=false,this.stepCurrent=0,this.stepTotal=0,this.contentType=fo$1.CustomComponent,this.content="";}ngOnInit(){this.setPopoverData(),this.content=this.popoverRef.getContent(),typeof this.content=="string"?this.contentType=fo$1.Text:this.content instanceof fo$3&&(this.contentType=fo$1.Template,this.context={close:this.popoverRef.close.bind(this.popoverRef)});}close(){this.popoverRef.close();}confirm(){this.popoverRef.confirm();}setPopoverData(){let e=this.popoverRef.getData();e?.title&&(this.title=e.title),e?.dismissButton&&(this.dismissButton=e.dismissButton),e?.confirmButton&&(this.confirmButton=e.confirmButton),e?.darkBackground&&(this.darkBackground=e.darkBackground),e?.showArrow&&(this.showArrow=true),e?.stepCurrent&&(this.stepCurrent=e.stepCurrent),e?.stepTotal&&(this.stepTotal=e.stepTotal);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Po$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["ng-component"]],inputs:{title:"title",dismissButton:"dismissButton",confirmButton:"confirmButton",darkBackground:"darkBackground",showArrow:"showArrow",stepCurrent:"stepCurrent",stepTotal:"stepTotal"},decls:10,vars:13,consts:[["cdkTrapFocus","","cdkTrapFocusAutoCapture","","tabindex","-1","aria-label","Popover","data-testid","popover","aria-modal","true","role","dialog",1,"popover"],["data-testid","popoverTitle",1,"title","small-bold"],["data-testid","contentWrapper",1,"content-wrapper"],[1,"text-xs"],[1,"footer"],["data-testid","steps",1,"steps"],["data-testid","buttonsWrapper",1,"buttons"],["data-testid","popoverArrow",1,"popover-arrow",3,"dark"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngComponentOutlet"],["data-testid","popoverDismissButton",1,"button",3,"type","size"],["data-testid","popoverConfirmButton",1,"button",3,"size"],["data-testid","popoverDismissButton",1,"button",3,"buttonClick","type","size"],["data-testid","popoverConfirmButton",1,"button",3,"buttonClick","size"],["data-testid","popoverArrow",1,"popover-arrow"]],template:function(n,i){if(n&1&&(Kf$2(0,"div",0),kI(1,SC,2,1,"small",1),Kf$2(2,"div",2),kI(3,TC,2,1,"p",3)(4,DC,1,2,"ng-container")(5,VC,1,1,"ng-container"),Xf$2(),Kf$2(6,"div",4),kI(7,AC,2,2,"small",5)(8,qC,3,2,"div",6),Xf$2(),kI(9,LC,1,2,"div",7),Xf$2()),n&2){let r;dE("dark",i.darkBackground)("with-buttons",!!i.dismissButton||!!i.confirmButton)("with-steps",!!i.stepCurrent&&!!i.stepTotal),xR(),QR(i.title?1:-1),xR(),dE("text-xs",i.contentType!==i.contentTypes.Text),xR(),QR((r=i.contentType)===i.contentTypes.Text?3:r===i.contentTypes.Template?4:r===i.contentTypes.CustomComponent?5:-1),xR(4),QR(i.stepCurrent||i.stepTotal?7:-1),xR(),QR(i.dismissButton||i.confirmButton?8:-1),xR(),QR(i.showArrow?9:-1);}},dependencies:[io$3,$d$2,Nd$2,We$8],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative}.popover[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:80vh;background-color:#fff;outline:none}.popover.dark[_ngcontent-%COMP%]{background-color:#2f2e0c;color:#f5f5f0}.popover.dark[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{color:#f5f5f0}.popover.dark[_ngcontent-%COMP%]     .link{text-decoration:underline}.popover.dark[_ngcontent-%COMP%]     .link, .popover.dark[_ngcontent-%COMP%]     .link:focus, .popover.dark[_ngcontent-%COMP%]     .link:hover, .popover.dark[_ngcontent-%COMP%]     .link:visited, .popover.dark[_ngcontent-%COMP%]     .link:visited .material-icons{color:inherit}.popover[_ngcontent-%COMP%]:not(.dark){filter:drop-shadow(0px 6px 10px rgba(168,167,148,.1)) drop-shadow(0px 3px 20px rgba(168,167,148,.1)) drop-shadow(0px 3px 4px rgba(168,167,148,.15))}.popover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .popover[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%], .popover[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-right:1rem;padding-left:1rem}.popover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;padding-top:1rem;padding-bottom:.5rem}.popover[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex-grow:1;overflow-x:hidden;overscroll-behavior:contain;padding-top:1rem;padding-bottom:1rem}.popover[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] ~ .content-wrapper[_ngcontent-%COMP%]{padding-top:0}.popover.with-buttons[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%], .popover.with-steps[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.popover[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.popover[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1 0 auto}.popover[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.5rem;padding-top:.5rem;padding-bottom:1rem}.popover[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]:empty{display:none}.popover[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{flex:1 0 auto;color:#64634a}.popover[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]:empty{display:none}.popover-arrow[_ngcontent-%COMP%]{position:absolute}.popover-arrow[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:100%;transform:translate(-50%);border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:12px solid #ffffff}.popover-arrow.dark[_ngcontent-%COMP%]:before{border-bottom:12px solid #2f2e0c}.cdk-overlay-pane.top[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.top   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.bottom[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.bottom   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{left:50%}.cdk-overlay-pane.left[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.left   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.right[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.right   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{top:50%}.cdk-overlay-pane.top[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.top   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{bottom:0;transform:rotate(180deg)}.cdk-overlay-pane.bottom[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.bottom   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{top:0;transform:rotate(0)}.cdk-overlay-pane.top-right[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.top-right   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{bottom:0;left:10px;transform:rotate(180deg)}.cdk-overlay-pane.top-left[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.top-left   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{bottom:0;right:10px;transform:rotate(180deg)}.cdk-overlay-pane.right[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.right   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{left:0;transform:rotate(270deg)}.cdk-overlay-pane.left[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.left   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{right:0;transform:rotate(90deg)}.cdk-overlay-pane.bottom-right[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.bottom-right   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{top:0;left:10px;transform:rotate(0)}.cdk-overlay-pane.bottom-left[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%], .cdk-overlay-pane.bottom-left   [_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{top:0;right:10px;transform:rotate(0)}'],changeDetection:0});}}return t})(),ZS=(()=>{class t{constructor(e,n){this.overlay=e,this.injector=n;}open({origin:e,content:n,hasBackdrop:i,data:r,hideArrow:s}){let p=this.overlay.create(this.getOverlayConfig(e,i)),O=x$d(w$9({},r),{showArrow:!s&&!!e}),D=new Po$6(p,n,O),V=_e$8.create({parent:this.injector,providers:[{provide:Po$6,useValue:D}]});return p.attach(new Mn$5(kx$1,null,V)),D}getOverlayConfig(e,n=true){return new Un$4({hasBackdrop:n,backdropClass:"cdk-overlay-transparent-backdrop",positionStrategy:this.getOverlayPosition(e),scrollStrategy:this.overlay.scrollStrategies.reposition(),disposeOnNavigation:true})}getOverlayPosition(e){return e?this.overlay.position().flexibleConnectedTo(e).withPositions(Sx()).withFlexibleDimensions(true).withPush(false):this.overlay.position().global().centerHorizontally().centerVertically()}static{this.\u0275fac=function(n){return new(n||t)(pe$9(Jt$6),pe$9(_e$8))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function Sx(){return [{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",panelClass:["top"],offsetY:-1*20},{originX:"center",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:["top-right"],offsetX:-1*20,offsetY:-1*20},{originX:"center",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:["top-left"],offsetX:20,offsetY:-1*20},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",panelClass:["right"],offsetX:20},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",panelClass:["bottom"],offsetY:20},{originX:"center",originY:"bottom",overlayX:"start",overlayY:"top",panelClass:["bottom-right"],offsetX:-1*20,offsetY:20},{originX:"center",originY:"bottom",overlayX:"end",overlayY:"top",panelClass:["bottom-left"],offsetX:20,offsetY:20},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",panelClass:["left"],offsetX:-1*20}]}var vi$5=function(t){return t.Visited="visited",t.Current="current",t.Unvisited="unvisited",t}(vi$5||{}),Tx=(()=>{class t{constructor(){this.states=vi$5;}get state(){return this.currentStepIndex===undefined||this.stepIndex<this.currentStepIndex?vi$5.Visited:this.stepIndex>this.currentStepIndex?vi$5.Unvisited:vi$5.Current}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-progress-indicator-large"]],inputs:{stepLabel:"stepLabel",stepIndex:"stepIndex",isLast:"isLast",currentStepIndex:"currentStepIndex"},decls:9,vars:8,consts:[[1,"item-group",3,"ngClass"],["data-testid","itemLine",1,"line"],[1,"item-with-label"],[1,"item"],["data-testid","visitedIndicator",1,"icon-container"],["data-testid","currentIndicator",1,"icon-container"],[1,"label"],["type","filled","name","check_circle",3,"colorInherit"],["name","adjust",3,"colorInherit"],["name","radio_button_unchecked",1,"unvisited-icon"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),kI(1,$C,1,0,"span",1),Kf$2(2,"div",2)(3,"div",3),kI(4,BC,2,1,"div",4)(5,NC,2,1,"div",5)(6,zC,2,0,"div",5),Xf$2(),Kf$2(7,"p",6),fP(8),Xf$2()()()),n&2&&(dE("last",i.isLast),lE("ngClass",i.state),xR(),QR(i.isLast?-1:1),xR(3),QR(i.state===i.states.Visited?4:-1),xR(),QR(i.state===i.states.Current?5:-1),xR(),QR(i.state===i.states.Unvisited?6:-1),xR(2),WE(i.stepLabel));},dependencies:[Ld$1,ge$9],styles:['@charset "UTF-8";.item-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;position:relative;color:#64634a}.item-group[_ngcontent-%COMP%]:not(.last){padding-bottom:3rem}.item-with-label[_ngcontent-%COMP%]{display:flex;gap:.25rem}.label[_ngcontent-%COMP%]{min-height:3rem}.item[_ngcontent-%COMP%]{height:24px;width:24px}.line[_ngcontent-%COMP%]{position:absolute;bottom:0;left:12px;top:24px;border-left:2px solid #e0e0d7;transform:translate(-50%);margin:-.125rem 0}.icon-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}pfy-icon.unvisited-icon[_ngcontent-%COMP%]{color:#e0e0d7}.current[_ngcontent-%COMP%], .visited[_ngcontent-%COMP%]{color:#2f2e0c}.current[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .visited[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border:none}.visited[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-color:#2f2e0c}'],changeDetection:0});}}return t})(),Ix=(()=>{class t{constructor(){this.stepLabel="";}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-progress-indicator-small"]],inputs:{stepLabel:"stepLabel",stepsCount:"stepsCount",currentStepIndex:"currentStepIndex"},decls:4,vars:2,consts:[[1,"circle-with-label"],["name","adjust",1,"icon",3,"colorInherit"],[1,"label"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),ME(1,"pfy-icon",1),kI(2,jC,2,3,"small",2)(3,HC,2,0,"small",2),Xf$2()),n&2&&(xR(),lE("colorInherit",true),xR(),QR(i.currentStepIndex!==undefined?2:3));},dependencies:[ge$9],styles:['@charset "UTF-8";.circle-with-label[_ngcontent-%COMP%]{display:flex;gap:.25rem;padding:1rem;align-items:flex-start}pfy-icon.icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px}.label[_ngcontent-%COMP%]{font-weight:700}'],changeDetection:0});}}return t})(),JS=(()=>{class t{get currentStep(){return (0, Z$9.assert)(!!this.steps,`${t.name}: steps input is required`),this.steps.find(e=>e.id===this.currentId)}get currentStepIndex(){return this.currentStep?this.steps.indexOf(this.currentStep):undefined}constructor(e){this.viewportService=e,this.isMobileScreen$=this.viewportService.matchBelow(gt$7.ML);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(nn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-progress-indicator"]],inputs:{steps:"steps",currentId:"currentId"},decls:3,vars:3,consts:[["data-testid","indicatorSmall",3,"stepLabel","stepsCount","currentStepIndex"],["data-testid","indicatorLarge",3,"stepLabel","stepIndex","isLast","currentStepIndex"]],template:function(n,i){n&1&&(kI(0,UC,1,3,"pfy-progress-indicator-small",0),TP(1,"async"),kI(2,GC,2,0)),n&2&&QR(_P(1,1,i.isMobileScreen$)?0:2);},dependencies:[Ix,Tx,zd$1],encapsulation:2,changeDetection:0});}}return t})(),Dx=(()=>{class t{constructor(e){this.changeDetector=e,this.disabled=false,this.min=0,this.max=100,this.step=1,this.value=0,this.dragChange=new Xe$5,this.valueChange=new Xe$5,this.backgroundSize="100% 100%";}onInput(){this.setBackgroundSize(),this.dragChange.emit(this.value);}setBackgroundSize(){let e=2*((this.value-this.min)*100)/(this.max-this.min);this.backgroundSize=`${e}% 100%`;}static floatSafeRemainder(e,n){let i=(e.toString().split(".")[1]||"").length,r=(n.toString().split(".")[1]||"").length,s=i>r?i:r,p=parseInt(Number(e).toFixed(s).replace(".",""),10),O=parseInt(Number(n).toFixed(s).replace(".",""),10);return p%O/Math.pow(10,s)}checkBackgroundFill(){if(t.floatSafeRemainder(this.max,this.step)!==0)throw new Error(`Can't reach max value ${this.max} with step value ${this.step}`);if(t.floatSafeRemainder(this.max-this.value,this.step)!==0)throw new Error(`Can't reach max value ${this.max} with step value ${this.step} when value is ${this.value}`)}checkValue(){if(this.value>this.max)throw new Error(`Model value ${this.value} is greater than max value ${this.max}`);if(this.value<this.min)throw new Error(`Model value ${this.value} is less than min value ${this.min}`)}ngOnChanges(){this.checkBackgroundFill(),this.checkValue(),this.setBackgroundSize();}registerOnChange(e){this.valueChange.subscribe(e);}registerOnTouched(e){this.dragChange.subscribe(e);}setDisabledState(e){this.disabled=e,this.changeDetector.markForCheck();}writeValue(e){this.value=e,this.setBackgroundSize(),this.changeDetector.markForCheck();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-range-select"]],inputs:{disabled:"disabled",min:"min",max:"max",step:"step",value:"value"},outputs:{dragChange:"dragChange",valueChange:"valueChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),tR],decls:2,vars:7,consts:[[1,"range-wrap"],["type","range",3,"ngModelChange","input","change","ngModel","min","max","step","disabled"]],template:function(n,i){n&1&&(Kf$2(0,"label",0)(1,"input",1),XE("ngModelChange",function(s){return pP(i.value,s)||(i.value=s),s}),VE("input",function(){return i.onInput()})("change",function(){return i.valueChange.emit(i.value)}),Xf$2()()),n&2&&(xR(),uE("background-size",i.backgroundSize),KE("ngModel",i.value),lE("min",i.min)("max",i.max)("step",i.step)("disabled",i.disabled));},dependencies:[Tt$4,wn$5,pa$3,Vt$6,jt$3],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.range-wrap[_ngcontent-%COMP%]{position:relative;display:flex;height:16px;align-items:center}.range-wrap[_ngcontent-%COMP%]:before{display:block;position:absolute;left:0;top:8px;transform:translateY(-50%);width:100%;height:4px;background-color:#e0e0d7;border-radius:10px;content:""}input[type=range][_ngcontent-%COMP%]{position:relative;-webkit-appearance:none;appearance:none;height:4px;width:100%;margin:0;padding:0;border-radius:10px;background-color:transparent;background-image:linear-gradient(to right,#2f2e0c 50%,transparent 50%);background-size:100% 100%;background-repeat:no-repeat;cursor:default}input[type=range][_ngcontent-%COMP%]:focus{outline:none}input[type=range][_ngcontent-%COMP%]:hover{cursor:pointer}input[type=range][_ngcontent-%COMP%]:disabled{-webkit-user-select:none;user-select:none;cursor:default;opacity:.45}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:4px}input[type=range][_ngcontent-%COMP%]::-moz-range-progress{width:100%;height:4px}input[type=range][_ngcontent-%COMP%]::-ms-track{width:100%;height:4px}input[type=range][_ngcontent-%COMP%]::-moz-range-progress{background-image:inherit;background-size:200% 100%;background-repeat:inherit;border-radius:10px}input[type=range][_ngcontent-%COMP%]::-moz-focus-outer{border:0}input[type=range][_ngcontent-%COMP%]::-ms-track{background:transparent;border-color:transparent;border-width:16px;color:transparent;border-radius:10px}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{border:1px solid transparent;height:16px;width:16px;border-radius:50%;background:#2f2e0c;-webkit-appearance:none;margin-top:-6px;transition:background-color .15s ease,outline .15s ease}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{border:1px solid transparent;height:16px;width:16px;border-radius:50%;background:#2f2e0c;-webkit-appearance:none;margin-top:-6px;transition:background-color .15s ease,outline .15s ease}input[type=range][_ngcontent-%COMP%]::-ms-thumb{border:1px solid transparent;height:16px;width:16px;border-radius:50%;background:#2f2e0c;-webkit-appearance:none;margin-top:-6px;transition:background-color .15s ease,outline .15s ease}input[type=range][_ngcontent-%COMP%]:not([disabled]):hover::-webkit-slider-thumb{background-color:#434228}input[type=range][_ngcontent-%COMP%]:not([disabled]):hover::-moz-range-thumb{background-color:#434228}input[type=range][_ngcontent-%COMP%]:not([disabled]):hover::-ms-thumb{background-color:#434228}input[type=range][_ngcontent-%COMP%]:not([disabled]):focus-visible::-webkit-slider-thumb{background-color:#2f2e0c;border-color:#e0e0d7;outline:2px solid #0096cc}input[type=range][_ngcontent-%COMP%]:not([disabled]):focus-visible::-moz-range-thumb{background-color:#2f2e0c;border-color:#e0e0d7;outline:2px solid #0096cc}input[type=range][_ngcontent-%COMP%]:not([disabled]):focus-visible::-ms-thumb{background-color:#2f2e0c;border-color:#e0e0d7;outline:2px solid #0096cc}input[type=range][_ngcontent-%COMP%]:not([disabled]):active::-webkit-slider-thumb{background:#64634a}input[type=range][_ngcontent-%COMP%]:not([disabled]):active::-moz-range-thumb{background:#64634a}input[type=range][_ngcontent-%COMP%]:not([disabled]):active::-ms-thumb{background:#64634a}']});}}return t})();var Co$4=function(t){return t.Key="key",t.Icon="icon",t.Glyph="glyph",t}(Co$4||{}),Xr$2=typeof navigator<"u"&&(navigator.platform.indexOf("Mac")===0||navigator.platform==="iPhone"),Ex=["backspace","control","ctrl","command","option"],Vx={delete:Xr$2?"backspace":null,enter:"return",meta:Xr$2?"command":"ctrl",alt:Xr$2?"option":null},Qp$1={up:"arrow_upward_alt",down:"arrow_downward_alt",left:"arrow_left_alt",right:"arrow_right_alt"},Yp={shift:"\u21E7",backspace:"\u232B",delete:"\u2326",space:"\u2423",return:"\u21B5",escape:"\u238B",command:"\u2318",option:"\u2325"};function Ax(t){return t.toLowerCase().trim()}function Rx(t){return Ex.includes(t)}function Fx(t){return oi$5(ie$b(o=>{if(Rx(o)){let e=new Error(`Not allowed to display a platform-specific shortcut key: \`${o}\``);return t?.(e),""}return o}),Dr$5())}function qx(t){let o=Vx[t]||t,e=o.charAt(0).toUpperCase()+o.slice(1);if(o in Qp$1){let n=Qp$1[o];return {type:Co$4.Icon,value:n,name:e}}if(Xr$2&&o in Yp){let n=Yp[o];return {type:Co$4.Glyph,value:n,name:e}}return o?{type:Co$4.Key,value:o,name:e}:null}var eT=(()=>{class t{set key(e){this.inputKey.next(e);}constructor(e){this.errorHandler=e,this.shortcutType=Co$4,this.inputKey=new In$7(1),this.result$=this.inputKey.pipe(ie$b(Ax),Fx(n=>this.errorHandler.handleError(n)),ie$b(qx));}ngOnDestroy(){this.inputKey.complete();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(it$a))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-shortcut-key"]],inputs:{key:"key"},decls:2,vars:3,consts:[[3,"class"],[1,"icon-inner",3,"name"]],template:function(n,i){if(n&1&&(kI(0,XC,4,3,"kbd",0),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.result$))?0:-1,r);}},dependencies:[ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.125rem;min-width:20px;min-height:20px;background-color:#e0e0d7;border-radius:4px;vertical-align:middle;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:empty{display:none}.key[_ngcontent-%COMP%], .glyph[_ngcontent-%COMP%]{font:inherit;line-height:1}.icon[_ngcontent-%COMP%]   .icon-inner[_ngcontent-%COMP%]{display:block;font-size:inherit}'],changeDetection:0});}}return t})(),Uu$2=function(t){return t.S="small",t.M="medium",t.L="large",t}(Uu$2||{}),yo$3=function(t){return t.S="small",t.M="medium",t.L="large",t}(yo$3||{}),Kp={[yo$3.S]:30,[yo$3.M]:60,[yo$3.L]:100},tT=(()=>{class t{set customHeader(e){this.hasCustomHeader=!!e?.nativeElement,this.changeDetector.detectChanges();}set customContent(e){this.hasCustomContent=!!e?.nativeElement,this.changeDetector.detectChanges();}set customFooter(e){this.hasCustomFooter=!!e?.nativeElement,this.changeDetector.detectChanges();}constructor(e){this.content=e,this.changeDetector=N$8(bw$1),this.modalDialogRef=N$8(Zn$3),this.viewportService=N$8(nn$6),this.window=N$8(Ii$3),this.showTitleBackButton=false,this.panelSize=Uu$2.S,this.drawerSize=yo$3.L,this.primaryActionButtonType=Ze$5.Alternative,this.role="dialog",this.hasCustomHeader=false,this.hasCustomContent=false,this.hasCustomFooter=false,this.isMobileScreen$=this.viewportService.matchBelow(gt$7.M),this.setData();}close(){this.modalDialogRef.close();}primaryActionClick(){this.modalDialogRef.primaryActionPerformed();}secondaryActionClick(){this.modalDialogRef.secondaryActionPerformed();}back(){this.modalDialogRef.backActionPerformed();}getDrawerTopOffsetPx(){let e=100-Kp[this.drawerSize];return Math.round(this.window.innerHeight*e/100)}getDrawerHeightStyle(){return `${Kp[this.drawerSize]}vh`}setData(){let e=this.modalDialogRef.getData();e&&(e.showTitleBackButton&&(this.showTitleBackButton=e.showTitleBackButton),e.primaryActionButtonType&&(this.primaryActionButtonType=e.primaryActionButtonType),e.panelSize&&(this.panelSize=e.panelSize),e.drawerSize&&(this.drawerSize=e.drawerSize),this.title=e.title,this.secondaryAction=e.secondaryAction,this.primaryAction=e.primaryAction,this.contentVars=e.inputs);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(fo$3,12))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-side-panel"]],contentQueries:function(n,i,r){if(n&1&&(oP(r,Nu$1,5,Uo$5),oP(r,bs$2,5,Uo$5),oP(r,Cs$4,5,Uo$5)),n&2){let s;sP(s=aP())&&(i.customHeader=s.first),sP(s=aP())&&(i.customContent=s.first),sP(s=aP())&&(i.customFooter=s.first);}},hostVars:1,hostBindings:function(n,i){n&2&&GI("role",i.role);},inputs:{title:"title",showTitleBackButton:"showTitleBackButton",panelSize:"panelSize",drawerSize:"drawerSize",secondaryAction:"secondaryAction",primaryAction:"primaryAction",primaryActionButtonType:"primaryActionButtonType",contentVars:"contentVars"},ngContentSelectors:su$1,decls:9,vars:3,consts:[["header",""],["body",""],["footer",""],["cdkTrapFocus","","cdkTrapFocusAutoCapture","","data-testid","sidePanelMobile",3,"topOffset"],["data-testid","sidePanelDesktop","cdkTrapFocus","","cdkTrapFocusAutoCapture","",1,"side-panel-wrapper",3,"ngClass"],["cdkTrapFocus","","cdkTrapFocusAutoCapture","","data-testid","sidePanelMobile",3,"closeByDragToBottom","topOffset"],["data-testid","sidePanelMobileInnerWrapper",1,"drawer-inner-wrapper"],[4,"ngTemplateOutlet"],["data-testid","sidePanelHeader",1,"side-panel-header"],["size","small","type","ghost","data-testid","backButton",3,"isIconOnly"],[1,"title-text"],["size","small","type","ghost","data-testid","closeButton",1,"close-button",3,"buttonClick","isIconOnly"],["title","Close","name","close"],["size","small","type","ghost","data-testid","backButton",3,"buttonClick","isIconOnly"],["title","Back","name","arrow_back"],["data-testid","sidePanelContent",1,"side-panel-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testid","sidePanelFooter"],[1,"footer-buttons"],["type","secondary","size","large","data-testid","footerSecondaryAction"],["size","large","data-testid","footerPrimaryAction",3,"type"],["type","secondary","size","large","data-testid","footerSecondaryAction",3,"buttonClick"],["size","large","data-testid","footerPrimaryAction",3,"buttonClick","type"]],template:function(n,i){n&1&&(nP(ru$1),kI(0,ty$1,5,6,"pfy-drawer",3),TP(1,"async"),kI(2,ry$1,4,4,"aside",4)(3,cy$1,3,1,"ng-template",null,0,OP)(5,py$1,3,2,"ng-template",null,1,OP)(7,my$1,3,3,"ng-template",null,2,OP)),n&2&&QR(_P(1,1,i.isMobileScreen$)&&i.drawerSize!=="large"?0:2);},dependencies:[J1,io$3,$d$2,Ld$1,We$8,ge$9,zd$1],styles:['@charset "UTF-8";.drawer-inner-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.side-panel-wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;position:absolute;inset:0;width:100%;height:100%;max-height:100svh}@media (min-width: 600px){.side-panel-wrapper[_ngcontent-%COMP%]{left:auto}.side-panel-wrapper.small[_ngcontent-%COMP%]{width:612px}.side-panel-wrapper.medium[_ngcontent-%COMP%]{width:808px}.side-panel-wrapper.large[_ngcontent-%COMP%]{width:968px}}.side-panel-header[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;justify-content:space-between;gap:1.5rem}@media (min-width: 600px){.side-panel-header[_ngcontent-%COMP%]{padding:1.5rem}}.side-panel-header[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.side-panel-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin-left:auto}.side-panel-header[_ngcontent-%COMP%]:empty{display:none}.side-panel-content[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:minmax(0,1fr);flex-grow:1;padding:1.5rem;overflow-y:auto}.side-panel-footer[_ngcontent-%COMP%]{padding:1rem;background:#fff;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}.side-panel-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:1rem}@media (min-width: 600px){.side-panel-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:none;box-shadow:none}.side-panel-footer[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{flex-direction:row;width:auto;margin-left:auto;justify-content:flex-end}}'],changeDetection:0});}}return t})(),Lx=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-sidebar-section"]],ngContentSelectors:oe$6,decls:1,vars:0,template:function(n,i){n&1&&(nP(),rP(0));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;padding:.75rem 1rem}[_nghost-%COMP%]:not(:last-child){border-bottom:1px solid #e0e0d7}[_nghost-%COMP%]   .collapsed[_nghost-%COMP%], .collapsed   [_nghost-%COMP%]{padding:.5rem}'],changeDetection:0});}}return t})(),nT=(()=>{class t{constructor(){this.logoFullSize=true,this.logoColor=Ml$1.Monochrome,this.isCollapsible=false,this.initialIsCollapsedState=false,this.collapse=new Xe$5,this.isCollapsed=false,this.isScrollable$=new yn$7(false),this.hasMoreContent$=new yn$7(false);}ngOnInit(){this.isCollapsed=this.initialIsCollapsedState;}ngAfterViewInit(){if(!this.contentContainerRef)return;let e=this.contentContainerRef.nativeElement,n=e.scrollHeight>e.clientHeight;this.isScrollable$.next(n),this.hasMoreContent$.next(n);}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.collapse.emit(this.isCollapsed);}onScroll(e){let n=e.scrollHeight>e.clientHeight,i=e.scrollHeight<=e.scrollTop+e.clientHeight;this.hasMoreContent$.next(n&&!i);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-sidebar"]],viewQuery:function(n,i){if(n&1&&iP(fy,5,Uo$5),n&2){let r;sP(r=aP())&&(i.contentContainerRef=r.first);}},hostVars:4,hostBindings:function(n,i){n&2&&dE("collapsed",i.isCollapsed)("menu-item-compact",i.isCollapsed);},inputs:{logoLink:"logoLink",logoFullSize:"logoFullSize",logoColor:"logoColor",isCollapsible:"isCollapsible",initialIsCollapsedState:"initialIsCollapsedState"},outputs:{collapse:"collapse"},features:[gP([{provide:Pl$1,useValue:16}])],ngContentSelectors:by$1,decls:7,vars:4,consts:[["contentContainer",""],[1,"logo-section"],["data-testid","logoLink",3,"routerLink"],["data-testid","logo",3,"color","fullLogo"],["data-testid","toggleCollapseButton",1,"toggle-collapse-button",3,"title"],[1,"sidebar-content"],["data-testid","toggleCollapseButton",1,"toggle-collapse-button",3,"click","title"],[1,"material-icons"]],template:function(n,i){n&1&&(nP(_y),Kf$2(0,"pfy-sidebar-section",1)(1,"a",2),ME(2,"pfy-logo",3),Xf$2(),kI(3,Cy$1,3,2,"button",4),Xf$2(),Kf$2(4,"div",5,0),rP(6),Xf$2()),n&2&&(xR(),lE("routerLink",i.logoLink),xR(),lE("color",i.logoColor)("fullLogo",i.logoFullSize&&!i.isCollapsed),xR(),QR(i.isCollapsible?3:-1));},dependencies:[Lx,Io$4,gx,Tn$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;width:240px;background-color:#e0e0d7;border-right:1px solid #e0e0d7;z-index:20}.collapsed[_nghost-%COMP%]{width:74px}.collapsed[_nghost-%COMP%]   .logo-section[_ngcontent-%COMP%]{padding:1.5rem .5rem;text-align:center}.menu-item-compact[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{align-items:center}.logo-section[_ngcontent-%COMP%]{position:relative;padding:1.5rem}.sidebar-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:hidden}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:.25rem}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e0e0d7;border-radius:4px}.toggle-collapse-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;top:50%;right:0;transform:translate(50%,-50%);width:1.5rem;height:1.5rem;padding:0;border:1px solid #2f2e0c;border-radius:.5rem;background:#2f2e0c;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}.toggle-collapse-button[_ngcontent-%COMP%]:hover{background-color:#434228}.toggle-collapse-button[_ngcontent-%COMP%]:active{background-color:#64634a;border:1px solid #64634a}.toggle-collapse-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f5f5f0;position:relative;font-size:1.25rem;rotate:45deg}'],changeDetection:0});}}return t})(),vo$3=function(t){return t.Empty="star_outline",t.Half="star_half",t.Full="star",t}(vo$3||{}),Wr$3=5,Wu$2=function(t){return t.Small="small",t.Medium="medium",t}(Wu$2||{}),iT=(()=>{class t{constructor(){this.size=Wu$2.Medium,this.ariaLabel="",this.starIcon=vo$3,this.iconType=cs$2;}ngOnChanges(){(0, Z$9.assert)(this.isRatingValid(),`Rating should be defined and in the range (0 - ${Wr$3})`),this.setStarIcons(this.rating);}generateStarIcons(e){return Array.from({length:Wr$3},(n,i)=>$x(i,e))}setStarIcons(e){this.starIcons=this.generateStarIcons(e),this.ariaLabel=`Rating: ${e} out of ${Wr$3} stars`;}isRatingValid(){return typeof this.rating=="number"&&this.rating>=0&&this.rating<=Wr$3}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-star-rating"]],hostVars:1,hostBindings:function(n,i){n&2&&GI("aria-label",i.ariaLabel);},inputs:{rating:"rating",size:"size"},features:[tR],decls:2,vars:0,consts:[["aria-hidden","true",1,"star",3,"ngClass","type","name"]],template:function(n,i){n&1&&JR(0,yy$1,1,3,"pfy-icon",0,ZR),n&2&&KR(i.starIcons);},dependencies:[Ld$1,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .star.small[_ngcontent-%COMP%]{font-size:20px;max-height:20px}[_nghost-%COMP%]   .star.medium[_ngcontent-%COMP%]{font-size:24px;max-height:24px}'],changeDetection:0});}}return t})();function $x(t,o){let n=Math.ceil(o*2)/2-t;return n>=1?vo$3.Full:n<=0?vo$3.Empty:vo$3.Half}var Gu=function(t){return t.Grey="grey",t.Blue="blue",t.Yellow="yellow",t.Red="red",t.Green="green",t}(Gu||{}),Qu$2=function(t){return t.Left="left",t.Right="right",t}(Qu$2||{}),oT=(()=>{class t{constructor(){this.color=Gu.Grey,this.status="",this.statusDetails="",this.alignment=Qu$2.Left;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-status"]],hostVars:1,hostBindings:function(n,i){n&2&&GI("rebrand-collision-id",null);},inputs:{color:"color",status:"status",statusDetails:"statusDetails",alignment:"alignment",tooltip:"tooltip"},decls:6,vars:10,consts:[["data-testid","status-text-wrapper",1,"status-text-wrapper",3,"ngClass"],["data-testid","status-color",1,"status-color",3,"ngClass"],["data-testid","status-text",1,"status-text",3,"ngClass","pfyTooltip","showTooltipOnMobile"],["data-testid","status-details-text",1,"status-details-text",3,"ngClass"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),ME(1,"div",1),Kf$2(2,"span",2),fP(3),Xf$2()(),Kf$2(4,"div",3),fP(5),Xf$2()),n&2&&(lE("ngClass",i.alignment),xR(),lE("ngClass",i.color),xR(),dE("has-tooltip",i.tooltip),lE("ngClass",i.color)("pfyTooltip",i.tooltip)("showTooltipOnMobile",true),xR(),ip$2(" ",i.status," "),xR(),lE("ngClass",i.alignment),xR(),ip$2(" ",i.statusDetails,`
`));},dependencies:[Ld$1,ft$6],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;max-width:171px}.status-text-wrapper[_ngcontent-%COMP%]{display:flex}.status-text-wrapper.left[_ngcontent-%COMP%]{justify-content:flex-start}.status-text-wrapper.right[_ngcontent-%COMP%]{justify-content:flex-end}.status-text-wrapper[_ngcontent-%COMP%]   .status-color[_ngcontent-%COMP%]{flex:0 0 16px;width:16px;height:1.5rem;margin-right:.5rem;position:relative}.status-text-wrapper[_ngcontent-%COMP%]   .status-color[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:10px;height:10px}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.blue[_ngcontent-%COMP%]:after, .status-text-wrapper[_ngcontent-%COMP%]   .status-color.green[_ngcontent-%COMP%]:after{border-radius:50%}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.red[_ngcontent-%COMP%]:after, .status-text-wrapper[_ngcontent-%COMP%]   .status-color.yellow[_ngcontent-%COMP%]:after{height:0;width:0;border-width:0 5px 10px 5px;border-color:transparent;border-style:solid}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.grey[_ngcontent-%COMP%]:after{background-color:#434228}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.blue[_ngcontent-%COMP%]:after{background-color:#007099}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.green[_ngcontent-%COMP%]:after{background-color:#357c1d}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.yellow[_ngcontent-%COMP%]:after{border-bottom-color:#af5604}.status-text-wrapper[_ngcontent-%COMP%]   .status-color.red[_ngcontent-%COMP%]:after{border-bottom-color:#d12c2c}.status-text-wrapper[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;color:#2f2e0c;font-weight:600}.status-text-wrapper[_ngcontent-%COMP%]   .status-text.yellow[_ngcontent-%COMP%]{color:#af5604}.status-text-wrapper[_ngcontent-%COMP%]   .status-text.red[_ngcontent-%COMP%]{color:#d12c2c}.status-text-wrapper[_ngcontent-%COMP%]   .status-text.has-tooltip[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline dashed;text-decoration-thickness:1px;text-underline-position:under;text-decoration-color:#64634a}.status-details-text[_ngcontent-%COMP%]{display:flex;color:#64634a;font-size:.875rem;line-height:1.25rem}@media (min-width: 600px){.status-details-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}.status-details-text.left[_ngcontent-%COMP%]{margin-left:1.5rem}.status-details-text.right[_ngcontent-%COMP%]{justify-content:flex-end}'],changeDetection:0});}}return t})(),Yu$2=function(t){return t.Completed="completed",t.Selected="selected",t.Disabled="disabled",t}(Yu$2||{}),Bx=(()=>{class t{constructor(){this.state=Yu$2.Completed;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-step"]],viewQuery:function(n,i){if(n&1&&iP(Zp$1,7,fo$3),n&2){let r;sP(r=aP())&&(i.template=r.first);}},inputs:{state:"state"},ngContentSelectors:oe$6,decls:2,vars:0,consts:[["template",""]],template:function(n,i){n&1&&(nP(),kI(0,vy$1,1,0,"ng-template",null,0,OP));},encapsulation:2,changeDetection:0});}}return t})(),rT=(()=>{class t{constructor(){this.isSSR=!N$8(ht$5).isBrowser;}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-stepper"]],contentQueries:function(n,i,r){if(n&1&&oP(r,Bx,5),n&2){let s;sP(s=aP())&&(i.steps=s);}},ngContentSelectors:oe$6,decls:3,vars:1,consts:[["data-testid","step",1,"step",3,"ngClass"],[3,"ngTemplateOutlet"],["name","arrow_forward",1,"arrow-icon"]],template:function(n,i){n&1&&(nP(),kI(0,xy$1,1,0),JR(1,My$1,3,3,null,null,wy$1,true)),n&2&&(QR(i.isSSR?0:-1),xR(),KR(i.steps));},dependencies:[Ld$1,$d$2,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;gap:.5rem}.step[_ngcontent-%COMP%]{padding:0 .25rem}.step.selected[_ngcontent-%COMP%]{font-weight:700}.step.disabled[_ngcontent-%COMP%]{color:#a8a794}pfy-icon.arrow-icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px;color:#a8a794}'],changeDetection:0});}}return t})(),Ku$1=(()=>{class t{constructor(){this.collapsible=false,this.activeValue=new yn$7(false),this.active$=this.activeValue.asObservable();}set active(e){this.activeValue.next(e);}get active(){return this.activeValue.getValue()}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,inputs:{label:"label",number:"number",tabId:"tabId",collapsible:"collapsible",labelAnalyticsId:"labelAnalyticsId",path:"path",queryParams:"queryParams",active:"active"}});}}return t})(),Nx$1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyLazyTabContent",""]]});}}return t})(),zx=(()=>{class t extends Ku$1{static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-sub-tab"]],features:[bI],decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0});}}return t})(),jx=(()=>{class t extends Ku$1{constructor(){super(...arguments),this.tabContent=undefined;}ngAfterViewInit(){(0, Z$9.assert)(!this.collapsible,"Collapsible is not no longer supported in Printify UI Kit "+this.collapsible),(0, Z$9.assert)(this.subTabs.length<1,"SubTabs are not no longer supported in Printify UI Kit "+this.subTabs.length);}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(t)))(i||t)}})();}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-tab"]],contentQueries:function(n,i,r){if(n&1&&(oP(r,Nx$1,7,fo$3),oP(r,zx,4)),n&2){let s;sP(s=aP())&&(i.tabContent=s.first),sP(s=aP())&&(i.subTabs=s);}},hostVars:1,hostBindings:function(n,i){n&2&&GI("rebrand-collision-id",null);},features:[bI],ngContentSelectors:oe$6,decls:2,vars:3,consts:[[4,"ngTemplateOutlet"]],template:function(n,i){n&1&&(nP(),kI(0,Ty$1,2,1),TP(1,"async")),n&2&&QR(_P(1,1,i.active$)?0:-1);},dependencies:[$d$2,zd$1],styles:["[_nghost-%COMP%]{flex:1;overflow:auto}"],changeDetection:0});}}return t})(),sT=(()=>{class t{set tabList(e){this.tabListElRef$.next(e);}constructor(e,n){this.changeDetector=e,this.resizeObserverService=n,this.vertical=false,this.darkBackground=false,this.activeTabChange=new Xe$5,this.tabListElRef$=new Z$a,this.tabOveflows$=this.tabListElRef$.pipe(Ye$b(i=>!!i),Ac$3(i=>this.resizeObserverService.observe(i.nativeElement).pipe(Jc$5(xu$2,undefined,{leading:true,trailing:true}),ie$b(r=>r.target.scrollWidth>r.target.clientWidth),Dr$5()))),this.tabScrollElement$=this.tabListElRef$.pipe(mt$8(1),Ac$3(i=>Je$6(hi$7(i.nativeElement),_i$7(i.nativeElement,"scroll",{passive:true}).pipe(ie$b(r=>r.currentTarget)))),_c$3({bufferSize:1,refCount:true})),this.showLeftIndicator$=Hp$2([this.tabOveflows$,this.tabScrollElement$]).pipe(ie$b(([i,r])=>i&&r.scrollLeft>0),Dr$5()),this.showRightIndicator$=Hp$2([this.tabOveflows$,this.tabScrollElement$]).pipe(ie$b(([i,r])=>i&&r.scrollWidth-Math.round(r.scrollLeft)>r.clientWidth),Dr$5());}ngAfterViewInit(){(0, Z$9.assert)(!this.vertical,"vertical is not no longer supported in Printify UI Kit"),(0, Z$9.assert)(!this.darkBackground,"darkBackground are not no longer supported in Printify UI Kit");}ngAfterContentInit(){window.requestAnimationFrame(()=>{this.selectAndSetActiveTab();}),this.tabsSyncSubscription=this.tabs.changes.subscribe(()=>{this.changeDetector.markForCheck(),!(this.activeTab&&this.tabs.some(n=>n===this.activeTab))&&window.requestAnimationFrame(()=>this.setActiveTab(this.tabs.first));}),this.tabListElRef$.pipe(mt$8(1),Hc$3(0,Kp$1)).subscribe(e=>{this.labels&&this.scrollToActiveTab(e,this.labels);});}ngOnDestroy(){this.tabsSyncSubscription?.unsubscribe(),this.tabListElRef$.complete();}findActiveTabs(e){return [...e.toArray().flatMap(i=>[i,...i.subTabs||[]]).filter(i=>i.active)]}isActiveChange(e,n){e&&this.setActiveTab(n);}scrollToActiveTab(e,n){if(this.vertical)return;let i=this.tabs.toArray().findIndex(D=>D.active),r=n.toArray()[i];if(!e?.nativeElement||!r?.nativeElement)return;let s=e.nativeElement.getBoundingClientRect(),p=r.nativeElement.getBoundingClientRect(),O=p.left-s.left-s.width/2+p.width/2;window.requestAnimationFrame(()=>{e.nativeElement.scrollTo({left:O,behavior:"smooth"});});}selectAndSetActiveTab(){(0, Z$9.assert)(!!this.tabs?.length,"Tabs should be defined in TabsComponent");let e=this.findActiveTabs(this.tabs);this.setActiveTab(e[0]||this.tabs.first);}setActiveTab(e){(0, Z$9.assert)(!!this.tabs?.length,"Tabs should be defined in TabsComponent"),!(this.activeTab?.label===e.label&&e.active)&&(this.activeTab=e,this.updateTabsStatus(e,this.tabs),this.activeTabChange.emit(e));}shouldRenderSubTabs(e){return !!e?.subTabs?.length&&(e.active||!e.collapsible)}updateTabsStatus(e,n){n?.forEach(i=>{let r=i.label===e.label;i.active=r,i.subTabs.length&&(i.subTabs.forEach(s=>{let p=s.label===e.label;s.active=p,p&&(i.active=true);}),r&&(i.subTabs.first.active=true));});}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1),Yo$4(fs$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-tabs"]],contentQueries:function(n,i,r){if(n&1&&oP(r,jx,4),n&2){let s;sP(s=aP())&&(i.tabs=s);}},viewQuery:function(n,i){if(n&1&&(iP(Iy$1,5,Uo$5),iP(Dy$1,5)),n&2){let r;sP(r=aP())&&(i.tabList=r.first),sP(r=aP())&&(i.labels=r);}},inputs:{vertical:"vertical",darkBackground:"darkBackground"},outputs:{activeTabChange:"activeTabChange"},ngContentSelectors:oe$6,decls:4,vars:1,consts:[["tabContent",""],["tabList",""],["tabLabel",""],["data-testid","tabs-header",1,"tabs-header"],["data-testid","tabsList",1,"tabs-list"],["data-testid","tabs-list-entry",1,"tabs-list-entry",3,"active"],["data-testid","tabs-list-entry",1,"tabs-list-entry"],["data-testid","tab-label","routerLinkActive","",1,"tab-label",3,"routerLink"],["data-testid","tab-label",1,"tab-label"],["data-testid","tab-label","routerLinkActive","",1,"tab-label",3,"click","isActiveChange","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-testid","tab-label",1,"tab-label",3,"click"],["data-testid","tab-number",1,"tab-number"]],template:function(n,i){n&1&&(nP(),kI(0,qy$1,7,8,"div",3),rP(1),kI(2,$y$1,2,2,"ng-template",null,0,OP)),n&2&&QR(i.tabs!=null&&i.tabs.length?0:-1);},dependencies:[ef$2,Io$4,$d$2,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column}.tabs-header[_ngcontent-%COMP%]{position:relative;overflow:hidden}.tabs-header[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;border-bottom:1px solid #e0e0d7}.tabs-list[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;overflow:auto hidden;z-index:1;-ms-overflow-style:none;scrollbar-width:none}.tabs-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs-list[_ngcontent-%COMP%]:before, .tabs-list[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:52px;transition:opacity .15s ease-in-out,transform .15s ease-in-out;opacity:0;pointer-events:none;z-index:11}.tabs-list.left-indicator[_ngcontent-%COMP%]:before, .tabs-list.right-indicator[_ngcontent-%COMP%]:after{transform:translate(0);opacity:1}.tabs-list[_ngcontent-%COMP%]:before{left:0;background:linear-gradient(90deg,#fff,#fff0);transform:translate(-100%)}.tabs-list[_ngcontent-%COMP%]:after{right:0;background:linear-gradient(270deg,#fff,#fff0);transform:translate(100%)}.tab-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;background-color:transparent;border:none;cursor:pointer;text-align:center;transition:color .15s ease;white-space:nowrap;color:#2f2e0c;text-decoration:none;font-size:1rem;line-height:1.5rem}@media (min-width: 600px){.tab-label[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.tab-label[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc;outline-offset:-2px;border-radius:4px}.tabs-list-entry[_ngcontent-%COMP%]{position:relative}.tabs-list-entry[_ngcontent-%COMP%]:after{content:"";border-bottom:3px solid transparent;transition:border-color .15s ease;position:absolute;bottom:0;left:0;right:0;z-index:10}.tabs-list-entry[_ngcontent-%COMP%]:not(.active):hover:after{border-bottom-color:#e0e0d7}.tabs-list-entry.active[_ngcontent-%COMP%]:after{border-bottom-width:4px;border-bottom-color:#64634a}.tabs-list-entry.active[_ngcontent-%COMP%]   .tab-number[_ngcontent-%COMP%]{color:#f5f5f0;background-color:#64634a}.tab-number[_ngcontent-%COMP%]{display:inline-block;min-width:20px;padding:0 .25rem;margin-left:.5rem;border-radius:1000px;text-align:center;font-weight:700;color:#2f2e0c;background-color:#d0d0c3;transition:background-color .15s ease,color .15s ease;font-size:.875rem;line-height:1.25rem}@media (min-width: 600px){.tab-number[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}[_nghost-%COMP%]     pfy-tab:empty{display:none;height:0}'],changeDetection:0});}}return t})(),Ka=1;function Hx$1(){return Ka===Number.MAX_SAFE_INTEGER&&(Ka=1),Ka++}var Xu$2=(()=>{class t{get value(){return this.textareaValue}set value(e){this.textareaValue!==e&&(this.textareaValue=e);}constructor(e){this.changeDetector=e,this.disabled=false,this.invalid=false,this.height=160,this.maxHeight=200,this.required=false,this.readonly=false,this.helperTextIcon="info",this.onblur=new Xe$5,this.onfocus=new Xe$5,this.textareaValue="",this.onTouchedFn=()=>{},this.controlValueAccessorChangeFn=()=>{};}ngOnInit(){this.height&&this.height!=="auto"&&this.textarea&&(this.textarea.nativeElement.style.minHeight=`${this.height}px`);}ngAfterViewInit(){setTimeout(()=>{this.autoresize();});}ngAfterContentChecked(){this.autoresize();}onChange(e){this.controlValueAccessorChangeFn(e.target.value),this.autoresize();}writeValue(e){this.value=e,this.changeDetector.markForCheck();}registerOnChange(e){this.controlValueAccessorChangeFn=e;}registerOnTouched(e){this.onTouchedFn=e;}setDisabledState(e){this.disabled=e;}onTextareaBlur(){this.onTouchedFn(),this.onblur.emit();}onTextareaFocus(){this.onfocus.emit();}focus(){this.textarea?.nativeElement.focus();}blur(){this.textarea?.nativeElement.blur();}autoresize(){let e=this.textarea?.nativeElement;e&&(e.style.maxHeight=`${this.maxHeight}px`,this.height!=="auto"&&(e.style.height=this.height?`${this.height}px`:"0px",e.scrollHeight>parseInt(e.style.height,10)&&(e.style.height=`${e.scrollHeight}px`)));}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-textarea"]],viewQuery:function(n,i){if(n&1&&iP(By$1,7),n&2){let r;sP(r=aP())&&(i.textarea=r.first);}},hostVars:1,hostBindings:function(n,i){n&1&&VE("focus",function(){return i.focus()})("blur",function(){return i.blur()}),n&2&&GI("tabindex",i.disabled?-1:0);},inputs:{value:"value",label:"label",placeholder:"placeholder",helperText:"helperText",name:"name",disabled:"disabled",invalid:"invalid",maxLength:"maxLength",height:"height",maxHeight:"maxHeight",required:"required",readonly:"readonly",helperTextIcon:"helperTextIcon",rows:"rows"},outputs:{onblur:"onblur",onfocus:"onfocus"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}])],decls:7,vars:18,consts:[["textarea",""],[1,"pfy-textarea"],[1,"label",3,"for"],[1,"textarea-container"],[1,"textarea",3,"ngModelChange","blur","input","change","focus","ngModel","required","disabled","readonly"],[1,"textarea-border"],[1,"footer"],[1,"footer-info"],[1,"footer-info-icon-container"],["name","error","type","outlined","data-testId","helperIcon",1,"footer-info-icon"],["type","outlined","data-testId","helperIcon",1,"footer-info-icon",3,"name"],[1,"footer-info-text"],[1,"footer-info-count"]],template:function(n,i){if(n&1){let r=XR();Kf$2(0,"div",1),kI(1,zy$1,3,3,"label",2),Kf$2(2,"div",3)(3,"textarea",4,0),XE("ngModelChange",function(p){return nR(r),pP(i.value,p)||(i.value=p),rR(p)}),VE("blur",function(){return nR(r),rR(i.onTextareaBlur())})("input",function(p){return nR(r),rR(i.onChange(p))})("change",function(p){return nR(r),rR(i.onChange(p))})("focus",function(){return nR(r),rR(i.onTextareaFocus())}),Xf$2(),ME(5,"div",5),Xf$2(),kI(6,Wy$1,8,4,"div",6),Xf$2();}n&2&&(dE("disabled",i.disabled)("invalid",i.invalid),xR(),QR(i.label?1:-1),xR(),dE("auto-height",i.height==="auto"),xR(),KE("ngModel",i.value),lE("required",i.required)("disabled",i.disabled)("readonly",i.readonly),GI("id",i.name)("name",i.name)("aria-required",i.required)("placeholder",i.placeholder)("rows",i.rows)("maxlength",i.maxLength),xR(3),QR(i.helperText?6:-1));},dependencies:[Tt$4,wn$5,Vt$6,$n$5,jt$3,ge$9],styles:['@charset "UTF-8";.pfy-textarea[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-height:0}.pfy-textarea[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#2f2e0c;display:flex;gap:.125rem}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]{position:relative;contain:content;border-radius:4px;min-height:0}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea-border[_ngcontent-%COMP%]{pointer-events:none;position:absolute;inset:0;border:1px solid #e0e0d7;border-radius:inherit;transition:border .15s ease}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{display:block;resize:vertical;padding:.75rem;min-height:72px;max-height:200px;width:100%;box-sizing:border-box;color:#2f2e0c;height:72px;border:none;outline:none}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::placeholder{color:#a8a794}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container.auto-height[_ngcontent-%COMP%]{contain:unset;display:flex;flex-direction:column}.pfy-textarea[_ngcontent-%COMP%]   .textarea-container.auto-height[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{height:100%}.pfy-textarea[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:relative;color:#64634a;justify-content:space-between;transition:color .15s ease;display:flex;font-size:.875rem}.pfy-textarea[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{display:flex;gap:.25rem}.pfy-textarea[_ngcontent-%COMP%]   .footer-info-icon[_ngcontent-%COMP%]{display:block;color:inherit;font-size:1rem;max-height:1rem;line-height:inherit}.pfy-textarea[_ngcontent-%COMP%]:not(.invalid)   .textarea[_ngcontent-%COMP%]:not(:read-only):hover ~ .textarea-border[_ngcontent-%COMP%]{border-color:#a8a794}.pfy-textarea[_ngcontent-%COMP%]:not(.invalid)   .textarea[_ngcontent-%COMP%]:not(:read-only):focus-visible ~ .textarea-border[_ngcontent-%COMP%]{border-color:#0096cc;border-width:2px}.pfy-textarea.invalid[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea-border[_ngcontent-%COMP%]{border-color:#d12c2c;border-width:2px}.pfy-textarea.invalid[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{color:#d12c2c}.pfy-textarea.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .pfy-textarea.disabled[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], .pfy-textarea.disabled[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%], .pfy-textarea.disabled[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%], .pfy-textarea.disabled[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]::placeholder{color:#a8a794}.pfy-textarea.disabled[_ngcontent-%COMP%]   .textarea[_ngcontent-%COMP%]{background-color:#f5f5f0;cursor:not-allowed}'],changeDetection:0});}}return t})(),Ux=24,Wx=(()=>{class t{constructor(){this.dialogRef=N$8(Zn$3),this.formControl=new Nt$1(this.dialogRef.getData().html),this.maxLength=this.dialogRef.getData().maxLength,this.helperText=this.dialogRef.getData().helperText,this.buttonType=Ze$5,this.buttonSize=lt$7,this.areaMaxHeight=1e3,this.areaRows=this.areaMaxHeight/Ux;}onSave(){this.dialogRef.primaryActionPerformed(this.formControl.value),this.dialogRef.close();}onCancel(){this.dialogRef.close();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-text-editor-code-modal"]],decls:8,vars:9,consts:[[3,"title"],[1,"content"],["cdkFocusInitial","",1,"code-editor",3,"formControl","helperText","maxLength","maxHeight","height","rows"],[1,"footer"],[3,"buttonClick","type"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-modal-dialog",0)(1,"pfy-modal-dialog-content",1),ME(2,"pfy-textarea",2),Xf$2(),Kf$2(3,"pfy-modal-dialog-footer",3)(4,"pfy-button",4),VE("buttonClick",function(){return i.onCancel()}),fP(5,"Cancel"),Xf$2(),Kf$2(6,"pfy-button",4),VE("buttonClick",function(){return i.onSave()}),fP(7,"Save"),Xf$2()()()),n&2&&(lE("title","Source code"),xR(2),lE("formControl",i.formControl)("helperText",i.helperText)("maxLength",i.maxLength)("maxHeight",i.areaMaxHeight)("height","auto")("rows",i.areaRows),xR(2),lE("type",i.buttonType.Secondary),xR(2),lE("type",i.buttonType.Primary));},dependencies:[Fo$1,Cs$4,bs$2,We$8,Xu$2,Tt$4,Vt$6,Ki$4,xr$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.content[_ngcontent-%COMP%], .code-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1rem}@media (min-width: 600px){.footer[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}}'],changeDetection:0});}}return t})();function Gx(t){let o=t.convertHTML.bind(t);t.convertHTML=e=>Yx$1(o,e);}function Qx(t){t.getHTML=Kx.bind(t);}function Yx$1(t,o){let n=wp.sanitize(o)?.replace(/(<\/?)(th)([\s>])/g,"$1td$3");return t(n)}function Kx(t,o){let[e,n]=this.scroll.line(t);if(e){let i=e.length();return e.length()>=n+o&&!(n===0&&o===i)?ko$4(e,n,o,true):ko$4(this.scroll,t,o,true)}return ""}function wi$3(t,o,e){if(t.length===0){let[Le]=Xa$1(e.pop());return o<=0?`</li></${Le}>`:`</li></${Le}>${wi$3([],o-1,e)}`}let[{child:n,offset:i,length:r,indent:s,type:p},...O]=t,[D,V]=Xa$1(p),j=n.domNode.getAttribute("style"),re=j?` style="${j}"`:"";if(s>o)return e.push(p),s===o+1?`<${D}><li${V}${re}>${ko$4(n,i,r)}${wi$3(O,s,e)}`:`<${D}><li${re}>${wi$3(t,o+1,e)}`;let he=e[e.length-1];if(s===o&&p===he)return `</li><li${V}${re}>${ko$4(n,i,r)}${wi$3(O,s,e)}`;let[Me]=Xa$1(e.pop());return `</li></${Me}>${wi$3(t,o-1,e)}`}function ko$4(t,o,e,n=false){if("html"in t&&typeof t.html=="function")return t.html(o,e);if(t instanceof Mh$3)return Zx(t.value().slice(o,o+e));if(t instanceof lt$9){if(t.statics.blotName==="list-container"){let D=[];return t.children.forEachAt(o,e,(V,j,re)=>{let he="formats"in V&&typeof V.formats=="function"?V.formats():{};D.push({child:V,offset:j,length:re,indent:he.indent||0,type:he.list});}),wi$3(D,-1,[])}let i=[];if(t.children.forEachAt(o,e,(D,V,j)=>{i.push(ko$4(D,V,j));}),n||t.statics.blotName==="list")return i.join("");let{outerHTML:r,innerHTML:s}=t.domNode,[p,O]=r.split(`>${s}<`);return p==="<table"?`<table>${i.join("")}<${O}`:`${p}>${i.join("")}<${O}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function Xa$1(t){let o=t==="ordered"?"ol":"ul";switch(t){case "checked":return [o,' data-list="checked"'];case "unchecked":return [o,' data-list="unchecked"'];default:return [o,""]}}var Xx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zx(t){return t.replace(/[&<>"']/g,o=>Xx[o])}var aT=(()=>{class t{constructor(){this.value=PR(""),this.placeholder=cR(""),this.disabled=PR(false),this.label=cR(""),this.required=cR(false),this.helperText=cR(""),this.invalid=cR(false),this.maxLength=cR(),this.editorFocus=aR(),this.editorBlur=aR(),this.editorEl=AR.required("editor",{read:Uo$5}),this.toolbarEl=AR.required("toolbar",{read:Uo$5}),this.zone=N$8(te$6),this.cdr=N$8(bw$1),this.dialogService=N$8(zu$1),this.destroyRef=N$8(mn$6),this.isFocused=false,this.labelId=`text-editor-label-${Hx$1()}`,this.valueLength=HP(()=>this.editorValue().length),this.onTouch=()=>{},this.onModelChange=()=>{},this.editorValue=oI(""),this.editor=Wn$4(Hp$2([Lr$3(this.editorEl),Lr$3(this.toolbarEl)]).pipe(Ac$3(([e,n])=>this.getQuillInstance(e.nativeElement,{modules:{toolbar:n.nativeElement},placeholder:this.placeholder()})))),Pw$1(()=>{this.editorValue()!==this.value()&&this.setEditorValue(this.editor(),this.value());}),Pw$1(()=>this.editor()?.root.setAttribute("aria-labelled-by",this.labelId)),Pw$1(()=>this.editor()?.root.setAttribute("aria-required",this.required().toString())),Pw$1(()=>this.editor()?.root.setAttribute("aria-invalid",this.invalid().toString())),Pw$1(()=>this.editor()?.root.setAttribute("data-placeholder",this.placeholder())),Pw$1(()=>{this.editor()?.root.setAttribute("aria-disabled",this.disabled().toString()),this.editor()?.enable(!this.disabled());}),Pw$1(()=>{this.initEditor(this.editor());});}initEditor(e){if(!e)return;let n=this.handleTextChange.bind(this),i=this.handleSelectionChange.bind(this);this.editorValue.set(e.getSemanticHTML()),this.editor()?.on("text-change",n),this.editor()?.on("selection-change",i),$p$1(_i$7(this.editor().scroll.domNode,"focus",()=>true),_i$7(this.editor().scroll.domNode,"blur",()=>false)).pipe(X$7(this.destroyRef)).subscribe(r=>this.handleFocusChange(r)),_i$7(this.toolbarEl().nativeElement,"mousedown").pipe(X$7(this.destroyRef)).subscribe(r=>r.preventDefault());}writeValue(e){this.value.set(e);}registerOnChange(e){this.onModelChange=e;}registerOnTouched(e){this.onTouch=e;}setDisabledState(e){this.disabled.set(e);}focus(){this.editor()?.focus();}blur(){this.editor()?.blur();}showCode(){let e=this.dialogService.open(Wx,{modalSize:Sl$1.XL,html:this.editor()?.getSemanticHTML(),maxLength:this.maxLength(),helperText:this.helperText()});e.afterPrimaryAction().pipe(X$7(this.destroyRef),Oc$2(e.afterClosed())).subscribe(n=>{n&&this.setEditorValue(this.editor(),n,"api");});}handleTextChange(){let e=this.editor()?.getSemanticHTML();e&&this.zone.run(()=>{this.onModelChange(e),this.value.set(e),this.editorValue.set(e);});}handleSelectionChange(e){let n=!!e;n!==this.isFocused&&this.zone.run(()=>{this.handleFocusChange(n);});}handleFocusChange(e){this.isFocused!==e&&(this.isFocused=e,this.cdr.markForCheck(),e?this.editorFocus.emit():(this.editorBlur.emit(),this.onTouch()));}setEditorValue(e,n,i="silent"){if(!e)return;let r=e.clipboard.convert({html:n});e.setContents(r,i),this.editorValue.set(e.getSemanticHTML());}getQuillInstance(e,n={}){return this.zone.runOutsideAngular(()=>E$e(this,null,function*(){let i=(yield import('./chunk-CcUiBN_b.js')).default;i.register(Jx(),true);let r=new i(e,n);return Qx(r.editor),Gx(r.clipboard),r}))}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-text-editor"]],viewQuery:function(n,i){n&1&&(lP(i.editorEl,Gy$1,5,Uo$5),lP(i.toolbarEl,Qy$1,5,Uo$5)),n&2&&uP(2);},inputs:{value:[1,"value"],placeholder:[1,"placeholder"],disabled:[1,"disabled"],label:[1,"label"],required:[1,"required"],helperText:[1,"helperText"],invalid:[1,"invalid"],maxLength:[1,"maxLength"]},outputs:{value:"valueChange",disabled:"disabledChange",editorFocus:"editorFocus",editorBlur:"editorBlur"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}])],ngContentSelectors:Ky$1,decls:38,vars:24,consts:[["toolbar",""],["editor",""],[1,"label",3,"required"],[1,"editor-container"],["data-testId","toolbar",1,"toolbar"],[1,"toolbar-section"],["pfyTooltip","Bold",1,"ql-bold","toolbar-button",3,"disabled"],["name","format_bold",3,"colorInherit"],["pfyTooltip","Italic",1,"ql-italic","toolbar-button",3,"disabled"],["name","format_italic",3,"colorInherit"],["pfyTooltip","Underlined",1,"ql-underline","toolbar-button",3,"disabled"],["name","format_underlined",3,"colorInherit"],[1,"toolbar-toggle"],["value","bullet","pfyTooltip","Bullet list",1,"ql-list","toolbar-button","toggle-button",3,"disabled"],["name","format_list_bulleted",3,"colorInherit"],["value","ordered","pfyTooltip","Numbered list",1,"ql-list","toolbar-button","toggle-button",3,"disabled"],["name","format_list_numbered",3,"colorInherit"],["value","","pfyTooltip","Align left",1,"ql-align","toolbar-button","toggle-button","no-highlight",3,"disabled"],["name","format_align_left",3,"colorInherit"],["value","center","pfyTooltip","Align center","data-testId","centerButton",1,"ql-align","toolbar-button","toggle-button",3,"disabled"],["name","format_align_center",3,"colorInherit"],["value","right","pfyTooltip","Align right",1,"ql-align","toolbar-button","toggle-button",3,"disabled"],["name","format_align_right",3,"colorInherit"],["pfyTooltip","Source code",1,"toolbar-button",3,"click"],["name","code",3,"colorInherit"],["data-testId","editor",1,"editor"],[1,"loader"],[1,"line-1"],[1,"line-2"],[1,"line-3"],[1,"line-4"],[1,"corner-container"],[1,"editor-footer"],["data-testId","helper-text",1,"helper",3,"invalid"],[1,"counter"],[1,"label"],["data-testId","helper-text",1,"helper"],["data-testId","helper-icon",1,"icon",3,"name","colorInherit"]],template:function(n,i){if(n&1){let r=XR();nP(Yy$1),kI(0,Xy,2,4,"label",2),Kf$2(1,"div",3)(2,"div",4,0)(4,"div",5)(5,"button",6),ME(6,"pfy-icon",7),Xf$2(),Kf$2(7,"button",8),ME(8,"pfy-icon",9),Xf$2(),Kf$2(9,"button",10),ME(10,"pfy-icon",11),Xf$2()(),Kf$2(11,"div",12)(12,"button",13),ME(13,"pfy-icon",14),Xf$2(),Kf$2(14,"button",15),ME(15,"pfy-icon",16),Xf$2()(),Kf$2(16,"div",12)(17,"button",17),ME(18,"pfy-icon",18),Xf$2(),Kf$2(19,"button",19),ME(20,"pfy-icon",20),Xf$2(),Kf$2(21,"button",21),ME(22,"pfy-icon",22),Xf$2()(),Kf$2(23,"div",5)(24,"button",23),VE("click",function(){return nR(r),rR(i.showCode())}),ME(25,"pfy-icon",24),Xf$2()()(),Kf$2(26,"div",25,1)(28,"div",26),ME(29,"pfy-skeleton",27)(30,"pfy-skeleton",28)(31,"pfy-skeleton",29)(32,"pfy-skeleton",30),Xf$2()(),Kf$2(33,"div",31),rP(34),Xf$2()(),Kf$2(35,"div",32),kI(36,Zy,3,5,"small",33)(37,Jy,2,2,"small",34),Xf$2();}n&2&&(QR(i.label()?0:-1),xR(5),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(2),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(2),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(),lE("disabled",i.disabled()),xR(),lE("colorInherit",true),xR(3),lE("colorInherit",true),xR(),dE("focused",i.isFocused)("invalid",i.invalid()),xR(10),QR(i.helperText()?36:-1),xR(),QR(i.maxLength()?37:-1));},dependencies:[ge$9,ft$6,hu$1],styles:[`@charset "UTF-8";.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container:not(.ql-disabled) li[data-list=checked]>.ql-ui,.ql-container:not(.ql-disabled) li[data-list=unchecked]>.ql-ui{cursor:pointer}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0}@supports (counter-set: none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-set:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor p,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{counter-reset:list-0 list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor table{border-collapse:collapse}.ql-editor td{border:1px solid #000;padding:2px 5px}.ql-editor ol{padding-left:1.5em}.ql-editor li{list-style-type:none;padding-left:1.5em;position:relative}.ql-editor li>.ql-ui:before{display:inline-block;margin-left:-1.5em;margin-right:.3em;text-align:right;white-space:nowrap;width:1.2em}.ql-editor li[data-list=checked]>.ql-ui,.ql-editor li[data-list=unchecked]>.ql-ui{color:#777}.ql-editor li[data-list=bullet]>.ql-ui:before{content:"\\2022"}.ql-editor li[data-list=checked]>.ql-ui:before{content:"\\2611"}.ql-editor li[data-list=unchecked]>.ql-ui:before{content:"\\2610"}@supports (counter-set: none){.ql-editor li[data-list]{counter-set:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list]{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered]{counter-increment:list-0}.ql-editor li[data-list=ordered]>.ql-ui:before{content:counter(list-0,decimal) ". "}.ql-editor li[data-list=ordered].ql-indent-1{counter-increment:list-1}.ql-editor li[data-list=ordered].ql-indent-1>.ql-ui:before{content:counter(list-1,lower-alpha) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-1{counter-set:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-2{counter-increment:list-2}.ql-editor li[data-list=ordered].ql-indent-2>.ql-ui:before{content:counter(list-2,lower-roman) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-2{counter-set:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-3{counter-increment:list-3}.ql-editor li[data-list=ordered].ql-indent-3>.ql-ui:before{content:counter(list-3,decimal) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-3{counter-set:list-4 list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-4{counter-increment:list-4}.ql-editor li[data-list=ordered].ql-indent-4>.ql-ui:before{content:counter(list-4,lower-alpha) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-4{counter-set:list-5 list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-5{counter-increment:list-5}.ql-editor li[data-list=ordered].ql-indent-5>.ql-ui:before{content:counter(list-5,lower-roman) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-5{counter-set:list-6 list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-6{counter-increment:list-6}.ql-editor li[data-list=ordered].ql-indent-6>.ql-ui:before{content:counter(list-6,decimal) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-6{counter-set:list-7 list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-6{counter-reset:list-7 list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-7{counter-increment:list-7}.ql-editor li[data-list=ordered].ql-indent-7>.ql-ui:before{content:counter(list-7,lower-alpha) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-7{counter-set:list-8 list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-7{counter-reset:list-8 list-9}}.ql-editor li[data-list=ordered].ql-indent-8{counter-increment:list-8}.ql-editor li[data-list=ordered].ql-indent-8>.ql-ui:before{content:counter(list-8,lower-roman) ". "}@supports (counter-set: none){.ql-editor li[data-list].ql-indent-8{counter-set:list-9}}@supports not (counter-set: none){.ql-editor li[data-list].ql-indent-8{counter-reset:list-9}}.ql-editor li[data-list=ordered].ql-indent-9{counter-increment:list-9}.ql-editor li[data-list=ordered].ql-indent-9>.ql-ui:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor li.ql-direction-rtl{padding-right:1.5em}.ql-editor li.ql-direction-rtl>.ql-ui:before{margin-left:.3em;margin-right:-1.5em;text-align:left}.ql-editor table{table-layout:fixed;width:100%}.ql-editor table td{outline:none}.ql-editor .ql-code-block-container{font-family:monospace}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor .ql-ui{position:absolute}.ql-editor.ql-blank:before{color:#0009;content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor .ql-code-block-container{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor .ql-code-block-container{margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor .ql-code-block-container{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-code-block-container{position:relative}.ql-code-block-container .ql-ui{right:5px;top:5px}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}pfy-text-editor{display:block}pfy-text-editor .label{margin-bottom:.25rem;font-size:.875rem;line-height:1.25rem;color:#2f2e0c;display:flex;gap:.125rem}pfy-text-editor .label.required:after{content:"*"}pfy-text-editor .editor-container{position:relative}pfy-text-editor .toolbar{display:inline-flex;flex-wrap:wrap;gap:.5rem 1rem}pfy-text-editor .toolbar-section{display:flex;gap:.5rem}pfy-text-editor .toolbar-toggle{display:flex;gap:0}pfy-text-editor .toolbar-button{display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid #e0e0d7;border-radius:4px;background-color:#fff;cursor:pointer;transition:background-color .15s ease,border-color .15s ease}pfy-text-editor .toolbar-button:hover{background-color:#f5f5f0;border-color:#a8a794}pfy-text-editor .toolbar-button:active,pfy-text-editor .toolbar-button[aria-pressed=true]:not(.no-highlight){background-color:#e0e0d7;border-color:#a8a794}pfy-text-editor .toolbar-button:disabled{background-color:#f5f5f0;color:#a8a794;pointer-events:none;border:1px solid #e0e0d7}pfy-text-editor .toolbar-button:focus-visible{outline:2px solid #0096cc;outline-offset:-2px}pfy-text-editor .toggle-button+.toggle-button{border-left-width:0;border-top-left-radius:0;border-bottom-left-radius:0}pfy-text-editor .toggle-button:has(+.toggle-button){border-top-right-radius:0;border-bottom-right-radius:0}pfy-text-editor .toggle-button:hover,pfy-text-editor .toggle-button:active,pfy-text-editor .toggle-button[aria-pressed=true]:not(.no-highlight){border-left-width:1px}pfy-text-editor .toggle-button:has(+.toggle-button:hover),pfy-text-editor .toggle-button:has(+.toggle-button:active),pfy-text-editor .toggle-button:has(+.toggle-button[aria-pressed=true]:not(.no-highlight)){border-right-width:0}pfy-text-editor .editor{border:1px solid #e0e0d7;border-radius:4px;height:205px;resize:vertical;overflow:hidden;margin-top:1rem}pfy-text-editor .editor.focused:not(.ql-disabled){outline:2px solid #0096cc;outline-offset:-2px}pfy-text-editor .editor.invalid{outline:2px solid #d12c2c;outline-offset:-2px}pfy-text-editor .loader{padding:.75rem;display:flex;flex-direction:column;row-gap:1rem}pfy-text-editor .loader .line-1{width:90%}pfy-text-editor .loader .line-2{width:70%}pfy-text-editor .loader .line-3{width:85%}pfy-text-editor .loader .line-4{width:30%}pfy-text-editor .corner-container{position:absolute;right:2rem;bottom:1rem;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}pfy-text-editor .corner-container:empty{display:none}pfy-text-editor .editor-footer{display:flex;gap:.5rem;align-items:flex-end}pfy-text-editor .helper{margin-top:.25rem;color:#64634a;transition:color .15s ease;display:flex;gap:.5rem;flex:1}pfy-text-editor .helper .icon{font-size:16px;max-height:16px;line-height:1.25rem}pfy-text-editor .helper.invalid{color:#d12c2c}pfy-text-editor .counter{color:#64634a;flex:0 0 fit-content;margin-top:.25rem}pfy-text-editor .ql-editor{padding:.75rem;font-size:1rem;line-height:1.5rem}@media (min-width: 600px){pfy-text-editor .ql-editor{font-size:1rem;line-height:1.5rem}}pfy-text-editor .ql-editor.ql-blank:before{color:#a8a794;font-style:normal;left:.75rem;right:.75rem}pfy-text-editor .ql-editor li[data-list=bullet]>.ql-ui:before{content:"\\2022"}pfy-text-editor .ql-editor li[data-list=bullet].ql-indent-1>.ql-ui:before{content:"\\25cb"}pfy-text-editor .ql-editor li[data-list=bullet].ql-indent-2>.ql-ui:before{content:"\\25aa"}pfy-text-editor .ql-editor table{border-collapse:collapse;table-layout:auto;border:1px dashed #bbb}pfy-text-editor .ql-editor td{border:1px dashed #bbb}
/*!
 * Quill Editor v2.0.2
 * https://quilljs.com
 * Copyright (c) 2017-2024, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
`],encapsulation:2,changeDetection:0});}}return t})();function Jx(){return {"formats/size":new Bi$4("size","font-size",{scope:c$c.BLOCK_BLOT}),"formats/font-weight":new Bi$4("font-weight","font-weight",{scope:c$c.BLOCK_BLOT}),"formats/border-top":new Bi$4("border-top","border-top",{scope:c$c.BLOCK_BLOT}),"formats/padding":new Bi$4("padding","padding",{scope:c$c.BLOCK_BLOT}),"formats/word-break":new Bi$4("word-break","word-break",{scope:c$c.BLOCK_BLOT}),"formats/align":new Bi$4("align","text-align",{scope:c$c.BLOCK_BLOT,whitelist:["right","center","justify"]})}}var Sn$5=class Sn{static isEqual(o,e){return o.status===e.status&&eO(o,e)&&o.action===e.action}static fromToastInput(o,e){let n=typeof o!="string"&&"content"in o?o:{content:o};return x$d(w$9({},n),{status:e})}constructor(o){this.status=o.status,this.content=o.content,this.action=o.action,this.closingTimeout=o.closingTimeout,this.positionHostElementBelow=o.positionHostElementBelow;}};function eO(t,o){return typeof t.content==typeof o.content&&typeof t.content=="string"?t.content===o.content:au$4(t.content,o.content)&&au$4(t.templateContext,o.templateContext)}var tO=6e3,Xp$1="pfy-toast-host",nO="pfy-toast-outlet",iO="pfy-toast",oO=(()=>{class t{constructor(e,n){this.elementRef=e,this.toastData=n,this.destroy$=new Z$a,this.status=ot$a.Info,this.action="",this.actionAnalyticsId="",this.dismissAnalyticsId="",this.toastConfirm=new Xe$5,this.toastDismiss=new Xe$5,this.icons={[ot$a.Success]:Wt$4.Success,[ot$a.Info]:Wt$4.Info,[ot$a.Error]:Wt$4.Error},this.message="",this.showClose=false,(0, Z$9.assert)(!n||!!n.content,"content should be defined in ToastComponent, if toastData is present"),this.setToastData(n),this.showClose=true;}ngAfterViewInit(){if(!this.toastData)return;let e=this.toastData.closingTimeout??tO;if(!(!!e&&(!this.action||!!this.toastData.timeoutWithAction)))return;let i=_i$7(this.elementRef.nativeElement,"mouseenter"),r=_i$7(this.elementRef.nativeElement,"mouseleave");mh$2(i.pipe(Ei$9(true)),fh$2(e).pipe(Ei$9(false))).pipe(Ac$3(s=>s?r.pipe(Mc$2(e)):hi$7(false)),mt$8(1),Oc$2(this.destroy$)).subscribe(()=>this.toastDismiss.emit());}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}setToastData(e){e&&(e.status&&(this.status=e.status),e.content&&(typeof e.content=="string"?this.message=e.content:(this.template=e.content,this.templateContext=e.templateContext)),e.action&&(this.action=e.action),e.actionAnalyticsId&&(this.actionAnalyticsId=e.actionAnalyticsId),e.dismissAnalyticsId&&(this.dismissAnalyticsId=e.dismissAnalyticsId));}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5),Yo$4(Sn$5,8))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-toast"]],hostVars:2,hostBindings:function(n,i){n&2&&WR(i.status);},inputs:{status:"status",action:"action",actionAnalyticsId:"actionAnalyticsId",dismissAnalyticsId:"dismissAnalyticsId"},outputs:{toastConfirm:"toastConfirm",toastDismiss:"toastDismiss"},ngContentSelectors:oe$6,decls:8,vars:6,consts:[[1,"status-icon",3,"name"],[1,"content"],[1,"message"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","secondary","size","small","data-testid","actionButton",1,"toast-action-button"],["type","ghost","size","small","data-testid","dismissButton",1,"dismiss-button",3,"isIconOnly"],["type","secondary","size","small","data-testid","actionButton",1,"toast-action-button",3,"buttonClick"],["type","ghost","size","small","data-testid","dismissButton",1,"dismiss-button",3,"buttonClick","isIconOnly"],["name","close",1,"dismiss-icon"]],template:function(n,i){n&1&&(nP(),ME(0,"pfy-icon",0),Kf$2(1,"div",1)(2,"p",2),fP(3),rP(4),kI(5,ev$1,1,0,"ng-container",3),Xf$2(),kI(6,tv$1,2,2,"pfy-button",4),Xf$2(),kI(7,nv$1,2,2,"pfy-button",5)),n&2&&(lE("name",i.icons[i.status]),xR(3),ip$2(" ",i.message," "),xR(2),lE("ngTemplateOutlet",i.template)("ngTemplateOutletContext",i.templateContext),xR(),QR(i.action?6:-1),xR(),QR(i.showClose?7:-1));},dependencies:[ge$9,$d$2,We$8],styles:['@charset "UTF-8";[_nghost-%COMP%]{padding:.75rem .5rem .75rem .75rem;border:1px solid #e0e0d7;border-radius:6px;display:flex;gap:.5rem;color:#2f2e0c;width:fit-content}.info[_nghost-%COMP%]{background-color:#434228;color:#f5f5f0}.info[_nghost-%COMP%]   .status-icon[_ngcontent-%COMP%], .info[_nghost-%COMP%]   .dismiss-icon[_ngcontent-%COMP%]{color:#f5f5f0}.success[_nghost-%COMP%]{background-color:#c6fb9d}.error[_nghost-%COMP%]{background-color:#faa8a8}[_nghost-%COMP%]   .status-icon[_ngcontent-%COMP%]{line-height:32px}[_nghost-%COMP%]   .status-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .dismiss-icon[_ngcontent-%COMP%]{color:#2f2e0c}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem}@media (min-width: 480px){[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:row}}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{align-items:center;padding-top:calc((32px - 1.5rem)/2)}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link{margin-left:.5rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link, [_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link:focus-visible, [_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link:hover, [_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link:visited, [_nghost-%COMP%]   .message[_ngcontent-%COMP%]     .link:visited .material-icons{color:inherit}'],changeDetection:0});}}return t})(),rO=(()=>{class t{constructor(){this.document=N$8(L$8),this.rendererFactory=N$8(ho$5),this.componentFactoryResolver=N$8(an$5),this.parentInjector=N$8(_e$8),this.appRef=N$8(ln$5),this.renderer=this.rendererFactory.createRenderer(null,null),this.toastOriginEl=this.document.body,this.toastHostEl=this.createToastHostElement(),this.toastsChange=new yn$7([]),this.renderer.appendChild(this.toastOriginEl,this.toastHostEl);}ngOnDestroy(){let e=this.toastsChange.getValue();e.length&&e.forEach(n=>{this.removeToast(n.data);}),this.toastHostEl&&this.toastHostEl.parentElement&&this.renderer.removeChild(this.toastOriginEl,this.toastHostEl),this.toastsChange.complete();}success(e){return this.showToast(Sn$5.fromToastInput(e,ot$a.Success))}error(e){return this.showToast(Sn$5.fromToastInput(e,ot$a.Error))}info(e){return this.showToast(Sn$5.fromToastInput(e,ot$a.Info))}setOrigin(e){this.toastOriginEl=e,this.renderer.appendChild(this.toastOriginEl,this.toastHostEl);}resetOrigin(e){e&&e!==this.toastOriginEl||(this.toastOriginEl=this.document.body,this.renderer.appendChild(this.toastOriginEl,this.toastHostEl));}showToast(e,n){let i=this.toastsChange.getValue();this.setHostElementPosition(e);let r=this.getPortalInjector(e),s=this.createPortalOutlet(),O=new Mn$5(n||oO,null,r).attach(s);O.location.nativeElement.className=iO;let D={data:e,portalOutlet:s},V=this.listenToEvents(O.instance,D),j=[...i,D];return this.toastsChange.next(j),V}removeToast(e){let n=this.getFullToast(e);n&&this.closeToast(n);}closeToast({portalOutlet:e}){e.dispose();let n=this.toastsChange.getValue().filter(({portalOutlet:i})=>e!==i);this.toastsChange.next(n);}getFullToast(e){return this.toastsChange.getValue().find(n=>Sn$5.isEqual(n.data,e))}createToastHostElement(){let e=document.getElementById(Xp$1);if(e)return e;let n=this.renderer.createElement("div");return n.id=Xp$1,n}setHostElementPosition(e){let n=e.positionHostElementBelow?document.querySelector(e.positionHostElementBelow):null,i=this.toastOriginEl.offsetTop,r=n?Math.max(n.getBoundingClientRect().bottom,i):i;this.toastHostEl.style.top=r+"px",this.toastHostEl.style.left=this.toastOriginEl.offsetLeft+"px",this.toastHostEl.style.width=this.toastOriginEl.offsetWidth+"px";}createPortalOutlet(){let e=this.renderer.createElement("div");return e.className=nO,this.renderer.appendChild(this.toastHostEl,e),new fi$4(e,this.componentFactoryResolver,this.appRef,this.parentInjector)}getPortalInjector(e){return _e$8.create({parent:this.parentInjector,providers:[{provide:Sn$5,useValue:e}]})}listenToEvents(e,n){let i=(O,D)=>O.some(V=>V.portalOutlet===D),r=this.toastsChange.pipe(Tc$2(),Ye$b(([O,D])=>i(O,n.portalOutlet)&&!i(D,n.portalOutlet)),Mc$2(0,Yp$1)),s=e.toastConfirm.pipe(mt$8(1),Oc$2(r)),p=e.toastDismiss.pipe(mt$8(1),Oc$2(r));return $p$1(s,p).subscribe(()=>{this.closeToast(n);}),{confirmed$:s,dismissed$:p}}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),lT=(()=>{class t{constructor(){this.toastService=N$8(rO),this.element=N$8(Uo$5);}ngAfterViewInit(){this.toastService.setOrigin(this.element.nativeElement);}ngOnDestroy(){this.toastService.resetOrigin(this.element.nativeElement);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyToastOrigin",""]]});}}return t})(),sO=(()=>{class t{constructor(e){this.changeDetector=e,this.leftLabel=false,this.disabled=false,this.contentLabel=false,this.model=false,this.modelChange=new Xe$5;}writeValue(e){this.model=!!e,this.changeDetector.markForCheck();}registerOnChange(e){this.modelChange.subscribe(e);}registerOnTouched(e){this.modelChange.subscribe(e);}setDisabledState(e){this.disabled=e,this.changeDetector.markForCheck();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-toggle"]],inputs:{leftLabel:"leftLabel",label:"label",disabled:"disabled",contentLabel:[2,"contentLabel","contentLabel",e=>Pd$1(e)],model:"model"},outputs:{modelChange:"modelChange"},features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),BR],ngContentSelectors:ov$1,decls:8,vars:14,consts:[["labelTemplate",""],[1,"control"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"toggle-container"],["type","checkbox",1,"toggle-input",3,"change","ngModelChange","ngModel","disabled"],[1,"toggle-toggle"],[3,"class"]],template:function(n,i){if(n&1){let r=XR();nP(iv$1),Kf$2(0,"label",1),kI(1,av$1,1,0,"ng-container",2),Kf$2(2,"div",3)(3,"input",4),VE("change",function(){return nR(r),rR(i.modelChange.emit(i.model))}),XE("ngModelChange",function(p){return nR(r),pP(i.model,p)||(i.model=p),rR(p)}),Xf$2(),ME(4,"span",5),Xf$2(),kI(5,lv$1,1,0,"ng-container",2),Xf$2(),kI(6,uv$1,1,1,"ng-template",null,0,OP);}if(n&2){let r=dP(7);dE("disabled",i.disabled),GI("aria-disabled",i.disabled)("tabindex",i.disabled?-1:0),xR(),lE("ngTemplateOutlet",r)("ngTemplateOutletContext",IP(10,rv$1,i.leftLabel)),xR(2),KE("ngModel",i.model),lE("disabled",i.disabled),xR(2),lE("ngTemplateOutlet",r)("ngTemplateOutletContext",IP(12,sv$1,!i.leftLabel));}},dependencies:[$d$2,Tt$4,ia$4,Vt$6,jt$3],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block}.control[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.control.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.control.disabled[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%], .control.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.control.disabled[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#a8a794}.control.disabled[_ngcontent-%COMP%]   .toggle-toggle[_ngcontent-%COMP%]{background-color:#f5f5f0;border:1px solid #e0e0d7}.control.disabled[_ngcontent-%COMP%]   .toggle-toggle[_ngcontent-%COMP%]:after{background-color:#a8a794}.control[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#2f2e0c}.control[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]:empty{display:none}.control[_ngcontent-%COMP%]   .label.right[_ngcontent-%COMP%]{margin-left:.5rem}.control[_ngcontent-%COMP%]   .label.left[_ngcontent-%COMP%]{margin-right:.5rem}.control[_ngcontent-%COMP%]:focus-visible{outline:none}.control[_ngcontent-%COMP%]:focus-visible:not(.disabled)   .toggle-toggle[_ngcontent-%COMP%]{outline:2px solid #0096cc;outline-offset:.125rem}.toggle-toggle[_ngcontent-%COMP%]{display:inline-block;position:relative;width:40px;height:22px;transition:background-color .15s ease;background:#a8a794;border-radius:11px}.toggle-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;content:"";background-color:#fff;left:0;top:50%;transform:translateY(-50%);transition:.15s;margin:0 .125rem;width:18px;height:18px;border-radius:100%}.toggle-container[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;display:flex;align-items:center}.toggle-input[_ngcontent-%COMP%]{position:absolute;opacity:0}.toggle-input[_ngcontent-%COMP%]:not(:checked) + .toggle-toggle[_ngcontent-%COMP%]:hover{background-color:#64634a}.toggle-input[_ngcontent-%COMP%]:checked + .toggle-toggle[_ngcontent-%COMP%]:after{left:calc(40px - (18px + .25rem))}.toggle-input[_ngcontent-%COMP%]:checked:not(:disabled) + .toggle-toggle[_ngcontent-%COMP%]{background-color:#357c1d}.toggle-input[_ngcontent-%COMP%]:checked:not(:disabled) + .toggle-toggle[_ngcontent-%COMP%]:hover{background-color:#4fba2c}'],changeDetection:0});}}return t})(),cT=(()=>{class t{constructor(){this.viewportService=N$8(nn$6),this.buttonType=Ze$5,this.isMobileScreen$=this.viewportService.matchBelow(gt$7.M),this.showBack=true,this.showAction=true,this.actionIcon="help",this.actionText="Help",this.backClick=new Xe$5,this.actionClick=new Xe$5,this.closeClick=new Xe$5;}onBackClick(e){this.backClick.emit(e);}onActionClick(e){this.actionClick.emit(e);}onCloseClick(e){this.closeClick.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-top-bar"]],inputs:{showBack:"showBack",text:"text",showAction:"showAction",actionIcon:"actionIcon",actionText:"actionText"},outputs:{backClick:"backClick",actionClick:"actionClick",closeClick:"closeClick"},decls:8,vars:6,consts:[[1,"section"],[1,"back-button",3,"type","isIconOnly"],[1,"text"],[1,"action-button",3,"type","isIconOnly"],[1,"close-button",3,"buttonClick","type","isIconOnly"],["name","close","data-testid","closeIcon",3,"colorInherit"],[1,"back-button",3,"buttonClick","type","isIconOnly"],["name","arrow_back","data-testid","arrowBackIcon",3,"colorInherit"],[1,"action-button",3,"buttonClick","type","isIconOnly"],["data-testid","actionIcon",3,"name","colorInherit"],[1,"action-text"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),kI(1,hv$2,2,3,"pfy-button",1),Kf$2(2,"div",2),fP(3),Xf$2()(),Kf$2(4,"div",0),kI(5,mv$1,4,7,"pfy-button",3),Kf$2(6,"pfy-button",4),VE("buttonClick",function(s){return i.onCloseClick(s)}),ME(7,"pfy-icon",5),Xf$2()()),n&2&&(xR(),QR(i.showBack?1:-1),xR(2),WE(i.text),xR(2),QR(i.showAction?5:-1),xR(),lE("type",i.buttonType.Ghost)("isIconOnly",true),xR(),lE("colorInherit",true));},dependencies:[ge$9,We$8,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:20;padding:1rem;display:flex;align-items:center;justify-content:space-between;gap:.5rem}@media (min-width: 840px){[_nghost-%COMP%]{padding:1rem 1.5rem}}.section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.text[_ngcontent-%COMP%]{color:#64634a;font-size:1rem;line-height:1.5rem}@media (min-width: 600px){.text[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.action-text[_ngcontent-%COMP%]{display:none}@media (min-width: 600px){.action-text[_ngcontent-%COMP%]{display:block}}'],changeDetection:0});}}return t})(),aO=50,lO=(()=>{class t{constructor(){this.setText=new In$7(1),this.text$=this.setText.asObservable(),this.setMaxLines=new In$7(1),this.maxLines$=this.setMaxLines.pipe(Sc$2(1),ie$b(t.checkMultiLineSupport)),this.trackWindowResize=new In$7(1),this.windowResize$=_i$7(window,"resize",{passive:true}).pipe(Wc$3(aO),Ei$9(true)),this.resizeTracked$=this.trackWindowResize.pipe(Sc$2(false),Ac$3(e=>(e?this.windowResize$:ph$2).pipe(Sc$2(e)))),this.templateData$=Hp$2([this.text$,this.maxLines$,this.resizeTracked$]).pipe(ie$b(t.getTemplateDataFromInputs),_c$3(1)),this.updateTruncation=new Z$a,this.updateTruncation$=this.updateTruncation.pipe(Sc$2(undefined)),this.dataUpdate$=Hp$2([this.templateData$,this.updateTruncation$]).pipe(Bt$7(Yp$1),ie$b(([e])=>({inputData:e,textElement:this.textElement})),Ye$b(e=>!!e.textElement)),this.isTruncated$=this.dataUpdate$.pipe(ie$b(({inputData:e,textElement:n})=>t.getTruncationStatus(n.nativeElement,e.maxLines)),_c$3(1)),this.minHeight$=this.dataUpdate$.pipe(Rc$2(this.isTruncated$),ie$b(([{inputData:e,textElement:n},i])=>i&&e.isMultiLine?t.getMinHeight(n.nativeElement,e.maxLines):undefined),Dr$5());}set text(e){this.setText.next(e);}set maxLines(e){this.setMaxLines.next(e);}set updateOnWindowResize(e){this.trackWindowResize.next(e);}ngOnDestroy(){this.setText.complete(),this.setMaxLines.complete(),this.trackWindowResize.complete(),this.updateTruncation.complete();}updateTruncationStatus(){this.updateTruncation.next();}static getTruncationStatus(e,n){return n>1?e.scrollHeight>e.offsetHeight:e.scrollWidth>e.offsetWidth}static getMinHeight(e,n){let i=parseInt(window.getComputedStyle(e).getPropertyValue("line-height"),10);return i?`${i*n}px`:undefined}static getTemplateDataFromInputs([e,n]){let i=n>1;return {text:e,maxLines:n,isMultiLine:i,clampLines:i?n:undefined}}static checkMultiLineSupport(e){return e>1&&!CSS.supports("-webkit-line-clamp",e.toString())?1:e}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-truncated-text-tooltip"]],viewQuery:function(n,i){if(n&1&&iP(fv$2,5),n&2){let r;sP(r=aP())&&(i.textElement=r.first);}},inputs:{text:"text",maxLines:"maxLines",updateOnWindowResize:"updateOnWindowResize"},decls:2,vars:3,consts:[["textElement",""],[1,"text",3,"single","multi","truncated","-webkit-line-clamp","min-height","pfyTooltip","showTooltipOnMobile"],[1,"text",3,"pfyTooltip","showTooltipOnMobile"]],template:function(n,i){if(n&1&&(kI(0,_v$2,6,19,"p",1),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.templateData$))?0:-1,r);}},dependencies:[ft$6,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;cursor:default}.text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.text[_ngcontent-%COMP%]:after{content:"";display:block}.truncated[_ngcontent-%COMP%]{text-decoration:underline dashed;text-decoration-thickness:1px;text-underline-position:under;text-decoration-color:#2f2e0c}  .link .truncated:hover{text-decoration-color:inherit}.single[_ngcontent-%COMP%]{white-space:nowrap}.multi[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;hyphens:auto}'],changeDetection:0});}}return t})(),cO={production:false,visualTesting:false,imagesURL:"https://images-merch.printify.com/"},Tl$1=(()=>{class t{constructor(){this.defaultTooltipText="Product and production cost for 1 print area";}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-cost-icon"]],inputs:{tooltipText:"tooltipText"},decls:1,vars:2,consts:[["name","help",1,"tooltip-icon",3,"pfyTooltip","showTooltipOnMobile"]],template:function(n,i){n&1&&ME(0,"pfy-icon",0),n&2&&lE("pfyTooltip",i.tooltipText||i.defaultTooltipText)("showTooltipOnMobile",true);},dependencies:[ge$9,ft$6],styles:['@charset "UTF-8";[_nghost-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{font-size:1rem;max-height:1rem;vertical-align:text-bottom;cursor:pointer}'],changeDetection:0});}}return t})(),dO=(()=>{class t{constructor(){this.changeDetectorRef=N$8(bw$1),this.destroyRef=N$8(mn$6),this.disabled=false,this.tooltip="",this.stateChange=new Xe$5,this.allVariantsSelectedChanged=new yn$7(false),this.allVariantsSelected$=this.allVariantsSelectedChanged.asObservable(),this.someVariantsSelectedChanged=new yn$7(false),this.someVariantsSelected$=this.someVariantsSelectedChanged.asObservable();}set allVariantsSelected(e){this.allVariantsSelectedChanged.next(e);}set someVariantsSelected(e){this.someVariantsSelectedChanged.next(e);}ngOnInit(){Hp$2([this.someVariantsSelected$,this.allVariantsSelected$]).pipe(Tc$2(),Ye$b(([[e,n]])=>!e&&!n),X$7(this.destroyRef)).subscribe(()=>{this.changeDetectorRef.detectChanges();});}ngOnDestroy(){this.allVariantsSelectedChanged.complete(),this.someVariantsSelectedChanged.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-select-all-checkbox"]],inputs:{disabled:"disabled",tooltip:"tooltip",allVariantsSelected:"allVariantsSelected",someVariantsSelected:"someVariantsSelected"},outputs:{stateChange:"stateChange"},decls:3,vars:8,consts:[["data-testid","selectAllVariants","data-analyticsid","selectAllVariants",3,"stateChange","checked","indeterminate","disabled","pfyTooltip"]],template:function(n,i){n&1&&(Kf$2(0,"pfy-checkbox",0),TP(1,"async"),TP(2,"async"),VE("stateChange",function(){return i.stateChange.emit()}),Xf$2()),n&2&&lE("checked",_P(1,4,i.allVariantsSelected$))("indeterminate",_P(2,6,i.someVariantsSelected$))("disabled",i.disabled)("pfyTooltip",i.tooltip);},dependencies:[Ti$7,ft$6,zd$1],styles:["[_nghost-%COMP%]{display:inline-flex}"],changeDetection:0});}}return t})(),It$4=function(t){return t.InStock="in-stock",t.OutOfStock="out-of-stock",t.OnDemand="on-demand",t.Pending="pending",t.Discontinued="discontinued",t}(It$4||{});function pO(t,o,e,n,i=false){let r=gO(t,o),s=t.costs.sort((V,j)=>j.placeholders.length-V.placeholders.length),p=[];!r.length&&n&&r.push(n);let O=new Set(r),D=true;return s.forEach(V=>{V.placeholders.every(re=>O.has(re))&&(p.push(V),D=D&&V.printing===0,V.placeholders.forEach(re=>{O.delete(re);}));}),uO(i,p,e,D,s,n)}function uO(t,o,e,n,i,r){let s=mO(t,o[0]?.resultSubscription,o[0]?.result),p=s&&(e||o.length===1||n),O=_O(i,e,r),D=1-fO(O.margin),V=O.blank/D,j=O.fee/D,re=(e?[O]:o).flatMap(Le=>{let un=Le.printing/D,qo=Le.placeholders.length,ys=qo>1;return Le.placeholders.map(Jn=>({label:Jn,value:un/qo,isDiscount:ys}))}),he=re.reduce((Le,un)=>Le+un.value,0),Me=Math.round(V+j+he);return s=s&&p?s:Me,{blank:V,fee:j,printing:re,result:s}}function hO(t,o){return o.find(e=>e.variant_ids.includes(t.id))}function gO(t,o){return (hO(t,o)?.placeholders||[]).filter(n=>{let i=n.images.length,s=n.position==="neck"?1:0;return i>s}).map(({position:n})=>n)}function mO(t,o,e){return t&&o||e}function fO(t){return (typeof t=="string"?parseFloat(t):t)/100}function _O(t,o,e){return o&&(t.find(n=>n.placeholders.length===1&&e&&n.placeholders.includes(e))||t.find(n=>n.placeholders.length===1))||t[0]}function bO(t,o){return t.status?t.status:o?It$4.InStock:It$4.OutOfStock}function Zu(t,o){return o?o.reduce((n,i)=>{let r=i.items.find(s=>t.options.includes(s.id));return r?n.concat(r):n},[]).every(n=>n.status!=="unavailable"):false}function CO(t,o){return o&&o.find(n=>n.items.some(i=>i.id===t))?.type||""}function yO(t){if(!t)return [];let o=[...new Set(t.map(e=>e.type))];return Array.from(o)}function vO(t,o){if(o)return o.reduce((e,n)=>e.concat(n.items),[]).find(e=>e.id===t)}function wO(t,o){return o?o.find(e=>e.type===t)?.items||[]:[]}function xO(t,o){if(t.availablePrintProviders)return t.availablePrintProviders;let e=o.map(n=>n.availablePrintProviders);return e.every(n=>!!n)?e.reduce((n,i)=>n.filter(r=>i.includes(r))):[]}function Ju$1(t){switch(t){case It$4.InStock:case It$4.OnDemand:return "In stock";case It$4.OutOfStock:case It$4.Pending:default:return "Out of stock"}}var en$2=class t{constructor(){this.destroy$=new Z$a,this.readOnly=new yn$7(false),this.showAvailablePrintProviders=new yn$7(true),this.selectedOptionType=new yn$7("size"),this.optionTypes=new yn$7([]),this.selectedVariantIds=new yn$7([]),this.outOfStockVariantIds=new yn$7([]),this.singleVariantSelect=new yn$7(false),this.allowOutOfStockSelection=new yn$7(true),this.expandedRow=new yn$7(0),this.showPremiumPrices=new yn$7(false),this.readOnly$=this.readOnly.asObservable(),this.showAvailablePrintProviders$=this.showAvailablePrintProviders.asObservable(),this.singleVariantSelect$=this.singleVariantSelect.asObservable(),this.selectedOptionType$=this.selectedOptionType.asObservable(),this.optionTypes$=this.optionTypes.asObservable(),this.selectedVariantIds$=this.selectedVariantIds.asObservable(),this.outOfStockVariantIds$=this.outOfStockVariantIds.asObservable(),this.expandedRow$=this.expandedRow.asObservable(),this.allowOutOfStockSelection$=this.allowOutOfStockSelection.asObservable(),this.showPremiumPrices$=this.showPremiumPrices.asObservable(),this.unselectableVariantIds$=Hp$2([this.allowOutOfStockSelection$,this.outOfStockVariantIds$]).pipe(ie$b(([o,e])=>o?[]:e),Oc$2(this.destroy$),_c$3(1)),this.isUserSubscribed=false;}static{this.availableStatus=[It$4.InStock,It$4.OutOfStock,It$4.OnDemand,It$4.Pending];}static{this.outOfStockStatus=[It$4.OutOfStock,It$4.Pending];}ngOnDestroy(){this.readOnly.complete(),this.showAvailablePrintProviders.complete(),this.selectedOptionType.complete(),this.optionTypes.complete(),this.selectedVariantIds.complete(),this.outOfStockVariantIds.complete(),this.singleVariantSelect.complete(),this.expandedRow.complete(),this.allowOutOfStockSelection.complete(),this.showPremiumPrices.complete(),this.destroy$.next(),this.destroy$.complete();}updateReadOnly(o){this.readOnly.next(o);}updateIsUserSubscribed(o){this.isUserSubscribed=o;}updateShowAvailablePrintProviders(o){this.showAvailablePrintProviders.next(o);}updateSelectedOptionType(o){this.selectedOptionType.next(o);}updateOptionTypes(o){this.optionTypes.next(o);}updateSelectedVariantIds(o){this.selectedVariantIds.next(o);}updateOutOfStockVariantIds(o){this.outOfStockVariantIds.next(o);}updateExpandedRow(o){this.expandedRow.next(o);}updateSingleVariantSelect(o){this.singleVariantSelect.next(o);}updateAllowOutOfStockSelection(o){this.allowOutOfStockSelection.next(o);}selectedVariantIdsValue(){return this.selectedVariantIds.value}outOfStockVariantIdsValue(){return this.outOfStockVariantIds.value}expandedRowValue(){return this.expandedRow.value}singleVariantSelectValue(){return this.singleVariantSelect.value}allowOutOfStockSelectionValue(){return this.allowOutOfStockSelection.value}updateShowPremiumPrices(o){this.showPremiumPrices.next(o);}getUnselectableVariantIds(){return this.allowOutOfStockSelectionValue()?[]:this.outOfStockVariantIdsValue()}getPriceForVariant(o,e=[],n,i,r){return pO(o,e,n,i,r??this.isUserSubscribed).result}getAvailabilityForVariant(o,e){return o.status&&this.allowOutOfStockSelectionValue()?t.availableStatus.includes(o.status):o.available&&Zu(o,e)}static{this.\u0275fac=function(e){return new(e||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}},Il$1=(()=>{class t{constructor(){this.badgeColor=ds$3.Yellow,this.optionType$=new yn$7("size"),this.colors$=new yn$7([]),this.label$=new yn$7(""),this.smallText$=new yn$7(true),this.isBestSeller$=new yn$7(false),this.hasColor$=Hp$2([this.colors$,this.optionType$]).pipe(ie$b(([e,n])=>n==="color"&&!!e&&e.length)),this.tooltip$=this.colors$.pipe(Ye$b(e=>!!e?.length),ie$b((e=[])=>e.map(n=>n.hex.toUpperCase()).join(" / ")));}set colors(e){this.colors$.next(e);}set optionType(e){this.optionType$.next(e);}set label(e){this.label$.next(e);}set smallText(e){this.smallText$.next(e);}set isBestSeller(e){this.isBestSeller$.next(e);}ngOnDestroy(){this.colors$.complete(),this.optionType$.complete(),this.label$.complete(),this.smallText$.complete(),this.isBestSeller$.complete();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-variants-table-column-text"]],inputs:{colors:"colors",optionType:"optionType",label:"label",smallText:"smallText",isBestSeller:"isBestSeller"},decls:11,vars:21,consts:[[1,"text-container",3,"pfyTooltip","tooltipWithDelay"],["data-testid","colorInfo",1,"option-color",3,"with-small-text","colors"],["data-testid","columnText",1,"label"],["iconKey","whatshot","data-testid","bestSellerBadge",1,"best-seller",3,"color"],["data-testid","colorInfo",1,"option-color",3,"colors"]],template:function(n,i){n&1&&(Kf$2(0,"div",0),TP(1,"async"),kI(2,bv$1,3,7,"pfy-option-color",1),TP(3,"async"),Kf$2(4,"span",2),TP(5,"async"),TP(6,"async"),fP(7),TP(8,"async"),Xf$2(),kI(9,Cv$1,2,1,"pfy-badge",3),TP(10,"async"),Xf$2()),n&2&&(lE("pfyTooltip",_P(1,9,i.tooltip$))("tooltipWithDelay",true),xR(2),QR(_P(3,11,i.hasColor$)?2:-1),xR(2),dE("small-text",_P(5,13,i.smallText$))("with-color",_P(6,15,i.hasColor$)),xR(3),ip$2(" ",_P(8,17,i.label$)," "),xR(2),QR(_P(10,19,i.isBestSeller$)?9:-1));},dependencies:[ft$6,wl$1,hl$1,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.text-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.option-color[_ngcontent-%COMP%]{width:20px;height:20px;margin-block:.125rem}.label[_ngcontent-%COMP%]{margin:auto 0}.label.with-color[_ngcontent-%COMP%], .best-seller[_ngcontent-%COMP%]{margin-left:.5rem}'],changeDetection:0});}}return t})(),Yn$4=function(t){return t.Base="variant-row",t.FirstVariantRow="first-variant-row",t.LastVariantRow="last-variant-row",t.OutOfStock="out-of-stock",t.Simplified="simplified",t}(Yn$4||{}),eh$1=(()=>{class t{constructor(){this.variantsTableService=N$8(en$2),this.destroyRef=N$8(mn$6),this.disabledTooltip="",this.firstVariantRow$=new yn$7(false),this.lastVariantRow$=new yn$7(false),this.simplified$=new yn$7(false),this.variant$=new yn$7({available:false,id:0,options:[],price:0,standardPrice:0,premiumPrice:0,availablePrintProviders:[],status:It$4.OutOfStock}),this.disabledChange=new yn$7(false),this.disabled$=this.disabledChange.asObservable(),this.variantSelect=new Xe$5,this.columnClick=new Xe$5,this.cssClass=Yn$4.Base,this.optionTypes$=this.variantsTableService.optionTypes$,this.selectedOptionType$=this.variantsTableService.selectedOptionType$,this.readOnly$=this.variantsTableService.readOnly$,this.showAvailablePrintProviders$=this.variantsTableService.showAvailablePrintProviders$,this.showPremiumPrices$=this.variantsTableService.showPremiumPrices$,this.price$=this.variant$.pipe(ie$b(({price:e})=>e)),this.standardPrice$=this.variant$.pipe(ie$b(({standardPrice:e})=>e)),this.premiumPrice$=this.variant$.pipe(ie$b(({premiumPrice:e})=>e)),this.singleVariantSelect$=this.variantsTableService.singleVariantSelect$,this.isChecked$=Hp$2([this.variantsTableService.selectedVariantIds$,this.variant$]).pipe(ie$b(([e,n])=>e.includes(n.id))),this.outOfStock$=Hp$2([this.variantsTableService.outOfStockVariantIds$,this.variant$]).pipe(ie$b(([e,n])=>e.includes(n.id))),this.disabledSelection$=Hp$2([this.outOfStock$,this.variantsTableService.allowOutOfStockSelection$,this.disabled$]).pipe(ie$b(([e,n,i])=>i||e&&!n)),this.availableProviders$=this.variant$.pipe(ie$b(({availablePrintProviders:e})=>e.length?e.join(", "):"-")),this.statusLabel$=this.variant$.pipe(ie$b(e=>Ju$1(e.status))),this.cssClass$=Hp$2([this.outOfStock$,this.simplified$,this.firstVariantRow$,this.lastVariantRow$]).pipe(ie$b(([e,n,i,r])=>{let s=[Yn$4.Base];return i&&s.push(Yn$4.FirstVariantRow),r&&s.push(Yn$4.LastVariantRow),e&&s.push(Yn$4.OutOfStock),n&&s.push(Yn$4.Simplified),s.join(" ")})),this.rowData$=Hp$2([this.selectedOptionType$,this.optionTypes$,this.variant$,this.simplified$]).pipe(ie$b(([e,n,i,r])=>n.map(s=>{let p=e!==s;if(!(p||!r))return;let D=s==="color",V=p&&D&&i.color?.colors,j=p&&(D?i.color?.label:i[s]),{isBestSeller:re}=i;return {showText:p,optionType:s,colors:V,label:j,isBestSeller:re}}).filter(s=>!!s)));}set simplified(e){this.simplified$.next(e);}set firstVariantRow(e){this.firstVariantRow$.next(e);}set lastVariantRow(e){this.lastVariantRow$.next(e);}set variant(e){this.variant$.next(e);}set disabled(e){this.disabledChange.next(e);}onVariantColumnClick(e){e?.stopPropagation(),this.columnClick.emit(this.variant$.value);}ngOnInit(){this.cssClass$.pipe(X$7(this.destroyRef)).subscribe(e=>{this.cssClass=e;});}ngOnDestroy(){this.disabledChange.complete();}onVariantSelectCheckboxChange(e){let n=this.variant$.value.id;this.variantSelect.emit({variantId:n,selected:e});}onVariantSelectRadioChange(e){this.variantSelect.emit({variantId:Number(e),selected:true});}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-variants-table-row"]],hostVars:2,hostBindings:function(n,i){n&1&&VE("click",function(){return i.onVariantColumnClick()}),n&2&&WR(i.cssClass);},inputs:{simplified:"simplified",firstVariantRow:"firstVariantRow",lastVariantRow:"lastVariantRow",variant:"variant",disabled:"disabled",disabledTooltip:"disabledTooltip"},outputs:{variantSelect:"variantSelect",columnClick:"columnClick"},decls:15,vars:17,consts:[[1,"column","select",3,"pfyTooltip","tooltipEnabled"],[1,"column","small-text"],[1,"column","small-text","stock-status-text"],["data-testid","priceColumn",1,"column","small-text","number-column"],["data-testid","availableProvidersColumn",1,"column","small-text","providers"],["data-testid","expandColumn",1,"column","expand"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"checked","disabled"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"checked","option","disabled"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"stateChange","checked","disabled"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"stateChanged","checked","option","disabled"],[3,"colors","label","optionType","isBestSeller"],["data-testid","standardPriceColumn",1,"column","small-text","number-column"],["data-testid","premiumPriceColumn",1,"column","column--premium-price","small-text","number-column"],["data-testid","variantAvailableProviders",1,"providers-list",3,"text"]],template:function(n,i){n&1&&(kI(0,xv$1,6,10,"td",0),TP(1,"async"),JR(2,Mv$1,2,1,"td",1,YR),TP(4,"async"),Kf$2(5,"td",2),fP(6),TP(7,"async"),Xf$2(),kI(8,Pv$1,8,10),TP(9,"async"),kI(10,kv$1,4,5,"td",3)(11,Sv$1,3,3,"td",4),TP(12,"async"),kI(13,Tv$1,1,0,"td",5),TP(14,"async")),n&2&&(QR(_P(1,5,i.readOnly$)?-1:0),xR(2),KR(_P(4,7,i.rowData$)),xR(4),WE(_P(7,9,i.statusLabel$)),xR(2),QR(_P(9,11,i.showPremiumPrices$)?8:10),xR(3),QR(_P(12,13,i.showAvailablePrintProviders$)?11:-1),xR(2),QR(_P(14,15,i.simplified$)?-1:13));},dependencies:[ft$6,Ti$7,ml$1,Il$1,lO,zd$1,Eu$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:table-row;background:#f5f5f0}.first-variant-row[_nghost-%COMP%]   .column[_ngcontent-%COMP%]{padding-top:1rem}.simplified[_nghost-%COMP%]   .column[_ngcontent-%COMP%]{padding-top:1rem}.out-of-stock[_nghost-%COMP%]   .stock-status-text[_ngcontent-%COMP%]{color:#d12c2c}.column[_ngcontent-%COMP%]{padding:0 1rem 1rem;vertical-align:middle}.column--premium-price[_ngcontent-%COMP%]{background-color:#d8ffbd}@media (min-width: 840px){.column.number-column[_ngcontent-%COMP%]{text-align:right}}.select[_ngcontent-%COMP%]{line-height:0}.providers[_ngcontent-%COMP%]{position:relative}.providers-list[_ngcontent-%COMP%]{position:absolute;inset:0;padding:inherit}'],changeDetection:0});}}return t})(),th$1=(()=>{class t{set option(e){this.option$.next(e);}set variantData(e){this.variantData$.next(e);}constructor(e){this.variantsTableService=e,this.disabled=false,this.maxSelectedVariantsReached=false,this.excludingVat=false,this.modalClose=new Xe$5,this.variantData$=new yn$7([]),this.option$=new yn$7({id:0,label:"",availablePrintProviders:[]}),this.optionTypes$=this.variantsTableService.optionTypes$,this.selectedOptionType$=this.variantsTableService.selectedOptionType$,this.readOnly$=this.variantsTableService.readOnly$,this.showAvailablePrintProviders$=this.variantsTableService.showAvailablePrintProviders$,this.showPremiumPrices$=this.variantsTableService.showPremiumPrices$,this.label$=this.option$.pipe(ie$b(n=>n?.label)),this.allVariantsSelected$=Hp$2([this.variantData$,this.variantsTableService.selectedVariantIds$]).pipe(Dr$5(([n,i],[r,s])=>n===r&&i===s),ie$b(([n,i])=>n.map(s=>s.id).every(s=>i.includes(s)))),this.someVariantsSelected$=Hp$2([this.variantData$,this.variantsTableService.selectedVariantIds$]).pipe(Dr$5(([n,i],[r,s])=>n===r&&i===s),ie$b(([n,i])=>{let r=n.map(p=>p.id);return !r.every(p=>i.includes(p))&&r.some(p=>i.includes(p))})),this.colors$=Hp$2([this.selectedOptionType$,this.variantData$]).pipe(Dr$5(([n,i],[r,s])=>n===r&&i===s),ie$b(([n,i])=>n==="color"?i[0]?.color?.colors:undefined)),this.singleVariantSelect$=this.variantsTableService.singleVariantSelect$,this.allVariantsUnselectable$=Hp$2([this.variantData$,this.variantsTableService.unselectableVariantIds$,this.option$]).pipe(Dr$5(([n,i,r],[s,p,O])=>n===s&&i===p&&r===O),ie$b(([n,i])=>n.every(r=>i.includes(r.id))));}handleUpdate(){this.variantsTableService.updateSelectedVariantIds(this.variantsTableService.selectedVariantIdsValue()),this.modalClose.emit();}onVariantSelect(e){if(e.disabled)return;let{id:n}=e;if(this.variantsTableService.getUnselectableVariantIds().includes(n))return;if(this.variantsTableService.singleVariantSelectValue()){this.variantsTableService.updateSelectedVariantIds([n]);return}let i=this.variantsTableService.selectedVariantIdsValue().indexOf(n);if(!(i>-1)&&!this.maxSelectedVariantsReached){this.variantsTableService.updateSelectedVariantIds([...this.variantsTableService.selectedVariantIdsValue(),n]);return}let s=[...this.variantsTableService.selectedVariantIdsValue()];s.splice(i,1),this.variantsTableService.updateSelectedVariantIds(s);}onSelectAllVariantsChange(){let e=this.variantData$.value.map(p=>p.id),n=this.variantsTableService.selectedVariantIdsValue().filter(p=>e.includes(p)),i=this.variantsTableService.getUnselectableVariantIds().filter(p=>e.includes(p)),r=n.length+i.length!==e.length,s=e.reduce((p,O)=>r&&!this.maxSelectedVariantsReached?(!p.includes(O)&&!i.includes(O)&&p.push(O),p):(p.includes(O)&&p.splice(p.indexOf(O),1),p),this.variantsTableService.selectedVariantIdsValue());this.variantsTableService.updateSelectedVariantIds(s);}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(en$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-variants-group-modal"]],inputs:{option:"option",variantData:"variantData",disabled:"disabled",maxSelectedVariantsReached:"maxSelectedVariantsReached",excludingVat:"excludingVat",costTooltipText:"costTooltipText"},outputs:{modalClose:"modalClose"},decls:6,vars:7,consts:[[3,"modalClose","title"],[1,"modal-content"],["data-testid","modalFooter"],[1,"selected-option"],[1,"small-text","title"],[3,"colors","label","optionType"],[1,"table-wrapper"],["data-testid","variantsTable",1,"table-content"],["data-testid","headerRow",1,"header-row"],[1,"column","small-text","select-all"],[1,"column","small-text"],[1,"column","small-text","number-column"],["data-testid","availableProvidersHeader",1,"column","small-text"],["data-testid","variantRow",3,"simplified","variant","disabled"],["data-testid","selectAllVariantsButton",3,"checked","indeterminate","disabled"],["data-testid","selectAllVariantsButton",3,"stateChange","checked","indeterminate","disabled"],["data-testid","tooltipCostIcon",1,"cost-icon",3,"tooltipText"],[1,"column","column--premium-price","small-text","number-column"],["data-testid","variantRow",3,"columnClick","simplified","variant","disabled"],["data-testid","saveButton",1,"btn-apply",3,"buttonClick"]],template:function(n,i){if(n&1&&(Kf$2(0,"pfy-modal-dialog",0),VE("modalClose",function(){return i.modalClose.emit()}),Kf$2(1,"pfy-modal-dialog-content",1),kI(2,Bv$1,25,23),TP(3,"async"),Xf$2(),kI(4,Nv$2,3,0,"pfy-modal-dialog-footer",2),TP(5,"async"),Xf$2()),n&2){let r;lE("title","Group details"),xR(2),QR((r=_P(3,3,i.selectedOptionType$))?2:-1,r),xR(2),QR(_P(5,5,i.readOnly$)?-1:4);}},dependencies:[Fo$1,bs$2,Il$1,Ti$7,Tl$1,eh$1,Cs$4,We$8,zd$1,Gd$1],styles:['@charset "UTF-8";.modal-content[_ngcontent-%COMP%]{width:100%}.selected-option[_ngcontent-%COMP%]{margin-bottom:1rem}.selected-option[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.table-content[_ngcontent-%COMP%]{min-width:100%;table-layout:auto;border-collapse:collapse;border:1px solid #e0e0d7}.variant-row[_ngcontent-%COMP%]{border:1px solid #e0e0d7;background:#fff;cursor:pointer}.column[_ngcontent-%COMP%]{padding:1rem;vertical-align:middle;font-weight:700}@media (max-width: 839px){.column[_ngcontent-%COMP%]{white-space:nowrap}}.column--premium-price[_ngcontent-%COMP%]{background-color:#c6fb9d}.header-row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{padding:.75rem 1rem}.select-all[_ngcontent-%COMP%]{line-height:0}.cost-icon[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 479px){.btn-apply[_ngcontent-%COMP%]{width:100%}}'],changeDetection:0});}}return t})(),OO=(()=>{class t{constructor(){this.plural=N$8(Hu$1),this.variantsTableService=N$8(en$2),this.viewportService=N$8(nn$6),this.destroyRef=N$8(mn$6),this.excludingVat=false,this.selectWithSingleVariant=false,this.disabledTooltip="",this.useSingleVariantSelection$=this.viewportService.matchBelow(gt$7.ML).pipe(ie$b(e=>!e&&this.selectWithSingleVariant)),this.variantSelect=new Xe$5,this.viewVariantGroup=new Xe$5,this.toggleExpand=new Xe$5,this.cssClass="",this.variantData$=new yn$7([]),this.option$=new yn$7({id:0,label:"",availablePrintProviders:[]}),this.readOnly$=this.variantsTableService.readOnly$,this.singleVariantSelect$=this.variantsTableService.singleVariantSelect$,this.showAvailablePrintProviders$=this.variantsTableService.showAvailablePrintProviders$,this.showPremiumPrices$=this.variantsTableService.showPremiumPrices$,this.optionTypes$=this.variantsTableService.optionTypes$,this.selectedOptionType$=this.variantsTableService.selectedOptionType$,this.disabledChange=new yn$7(false),this.disabled$=this.disabledChange.asObservable(),this.availableProvidersContent$=this.variantData$.pipe(ie$b(e=>{let n=e.flatMap(s=>s.availablePrintProviders),i=new Set(n).size;if(i<1)return "-";let r=this.plural.transform(i,"provider","providers");return `${i} ${r}`})),this.selectedVariants$=Hp$2([this.variantData$,this.variantsTableService.selectedVariantIds$]).pipe(ie$b(([e,n])=>e.filter(i=>n.includes(i.id))),Dr$5()),this.areSomeSelected$=this.selectedVariants$.pipe(Rc$2(this.variantData$),ie$b(([e,n])=>{let i=e.length;return i>0&&i<n.length})),this.stockDescription$=Hp$2([this.variantData$,this.variantsTableService.outOfStockVariantIds$,this.useSingleVariantSelection$]).pipe(Dr$5(),ie$b(([e,n,i])=>{if(i)return Ju$1(e[0].status);let r=e.map(O=>O.id),s=n.filter(O=>r.includes(O)).length,p=e.length;return s===0?"All in stock":s===e.length?"All out of stock":`${s} of ${p} out of stock`})),this.areAllSelected$=Hp$2([this.variantData$,this.variantsTableService.selectedVariantIds$]).pipe(Dr$5(),ie$b(([e,n])=>e.map(r=>r.id).every(r=>n.includes(r)))),this.priceRange$=this.variantData$.pipe(ie$b(e=>Za$1(e.map(n=>n.price)))),this.standardPriceRange$=this.variantData$.pipe(ie$b(e=>Za$1(e.map(n=>n.standardPrice)))),this.premiumPriceRange$=this.variantData$.pipe(ie$b(e=>Za$1(e.map(n=>n.premiumPrice)))),this.rowData$=Hp$2([this.selectedOptionType$,this.optionTypes$,this.variantData$,this.useSingleVariantSelection$]).pipe(ie$b(([e,n,i,r])=>n.map(s=>{let p=s===e,D=p&&e==="color"||r?i[0].color?.colors:undefined,V=this.getOptionDescription(s,e,r);return {isSelected:p,colors:D,label:V,optionType:s}}))),this.expanded$=Hp$2([this.option$,this.variantsTableService.expandedRow$]).pipe(ie$b(([e,n])=>n===e.id)),this.allVariantsUnselectable$=Hp$2([this.variantData$,this.variantsTableService.unselectableVariantIds$,this.disabled$]).pipe(ie$b(([e,n,i])=>i||n.length>0&&e.every(({id:r})=>n.includes(r))),Dr$5());}set option(e){this.option$.next(e);}set variantData(e){this.variantData$.next(e);}set disabled(e){this.disabledChange.next(e);}ngOnInit(){this.useSingleVariantSelection$.pipe(X$7(this.destroyRef)).subscribe(e=>{this.cssClass=e?"title-row single-variant-select-single-variant":"title-row";});}ngOnDestroy(){this.variantData$.complete(),this.option$.complete(),this.disabledChange.complete();}onAllSelectedChange(){let e=this.variantData$.value.map(s=>s.id),n=this.variantsTableService.selectedVariantIdsValue().filter(s=>e.includes(s)),i=this.variantsTableService.getUnselectableVariantIds().filter(s=>e.includes(s)),r=n.length+i.length!==e.length;e.forEach(s=>{this.variantSelect.emit({variantId:s,selected:r&&!i.includes(s)});});}onViewDetailsClick(e){e.stopPropagation(),this.viewVariantGroup.emit(this.option$.value);}onToggleExpand(e){e.stopPropagation(),this.selectWithSingleVariant||this.toggleExpand.emit(this.option$.value.id);}getOptionDescription(e,n,i){if(n===e)return this.option$.value.label;if(i){let r=this.variantData$.value[0];return (e==="color"?r.color?.label:this.variantData$.value[0][e])||""}switch(e){case "color":return this.getColorDescription();case "size":return this.getSizeDescription();default:let s=this.variantData$.value.map(p=>p[e]).reduce((p,O)=>(p.add(O),p),new Set);return Array.from(s).join(", ")}}getOptionItems(e){let i=this.variantData$.value.map(r=>r[e]).reduce((r,s)=>(r.add(e==="color"?s.label:s),r),new Set);return Array.from(i)}getColorDescription(){let n=this.getOptionItems("color").length;return this.plural.transform(n,`${n} color`,`${n} colors`)}getSizeDescription(){let n=this.getOptionItems("size").length;return this.plural.transform(n,`${n} size`,`${n} sizes`)}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-variants-table-title-row"]],hostVars:2,hostBindings:function(n,i){n&2&&WR(i.cssClass);},inputs:{option:"option",variantData:"variantData",excludingVat:"excludingVat",costTooltipText:"costTooltipText",selectWithSingleVariant:"selectWithSingleVariant",disabled:"disabled",disabledTooltip:"disabledTooltip"},outputs:{variantSelect:"variantSelect",viewVariantGroup:"viewVariantGroup",toggleExpand:"toggleExpand"},decls:2,vars:3,consts:[[1,"column","select-all",3,"pfyTooltip","tooltipEnabled","single-variant-select"],["data-testid","dataColumn",1,"column",3,"selected-option"],[1,"column",3,"click"],[1,"mob-col-title","small-text"],["data-testid","stockDescription",1,"small-text"],[1,"column","number-column"],["data-testid","availableProvidersColumn",1,"column"],[1,"column","expand",3,"click"],["data-testid","expandVariantList",1,"expand-row","material-icons"],["data-testid","viewDetails","data-analyticsid","viewVariantDetails",1,"mob-view-details",3,"click"],[1,"link-content"],[1,"column","select-all",3,"pfyTooltip","tooltipEnabled"],["data-testid","selectAllVariants","data-analyticsid","selectAllOptionVariants",3,"checked","indeterminate","disabled"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"checked","disabled"],["data-testid","selectAllVariants","data-analyticsid","selectAllOptionVariants",3,"stateChange","checked","indeterminate","disabled"],["data-testid","selectVariant","data-analyticsid","selectVariant",3,"stateChanged","checked","disabled"],["data-testid","dataColumn",1,"column",3,"click"],["data-testid","columnText",3,"colors","label","optionType"],[1,"column","number-column",3,"click"],["data-testid","tooltipPriceIcon",1,"cost-icon",3,"tooltipText"],["data-testid","standardPrice",1,"small-text"],[1,"column","column--premium-price","number-column",3,"click"],["data-testid","premiumPrice",1,"small-text"],["data-testid","tooltipCostIcon",1,"cost-icon",3,"tooltipText"],["data-testid","price",1,"small-text"],["data-testid","availableProvidersColumn",1,"column",3,"click"],["data-testid","optionAvailableProviders",1,"small-text"]],template:function(n,i){if(n&1&&(kI(0,lw,22,17),TP(1,"async")),n&2){let r;QR((r=_P(1,1,i.option$))?0:-1,r);}},dependencies:[ft$6,Ti$7,ml$1,Il$1,Tl$1,Tn$4,Vu$2,zd$1,Gd$1,Eu$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;width:100%;flex-wrap:wrap;background-color:#fff;transition:background-color .15s ease}@media (min-width: 840px){[_nghost-%COMP%]{display:table-row}[_nghost-%COMP%]:hover{background-color:#f5f5f0}}.column[_ngcontent-%COMP%]{padding:1rem}@media (max-width: 839px){.column[_ngcontent-%COMP%]{display:block;width:auto}}@media (min-width: 840px){.column[_ngcontent-%COMP%]{vertical-align:middle}.column.number-column[_ngcontent-%COMP%]{text-align:right}}.column--premium-price[_ngcontent-%COMP%]{background-color:#d8ffbd}.column.expand[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media (max-width: 839px){.column.expand[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem 1rem;border-top:1px solid #e0e0d7}}.column.select-all[_ngcontent-%COMP%]{width:calc(2rem + 24px);vertical-align:middle;line-height:0}@media (max-width: 839px){.column.select-all[_ngcontent-%COMP%]{border:1px solid #e0e0d7;border-width:0 0 1px}.column.select-all.single-variant-select[_ngcontent-%COMP%]{width:0}}@media (max-width: 839px){.column.selected-option[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0d7;border-width:0 0 1px}.column.select-all[_ngcontent-%COMP%] + .column.selected-option[_ngcontent-%COMP%]{width:calc(100% - (2rem + 24px));padding-left:0}}.expand-row[_ngcontent-%COMP%]{display:none;-webkit-user-select:none;user-select:none}@media (min-width: 840px){.expand-row[_ngcontent-%COMP%]{display:block}}.mob-view-details[_ngcontent-%COMP%]{display:grid;justify-content:center}@media (min-width: 840px){.mob-view-details[_ngcontent-%COMP%]{display:none}}.mob-col-title[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}@media (min-width: 840px){.mob-col-title[_ngcontent-%COMP%]{display:none}}.cost-icon[_ngcontent-%COMP%]{margin-left:.25rem}'],changeDetection:0});}}return t})();function Za$1(t){if(!t.length)return null;t.sort((n,i)=>n-i);let o=t[0],e=t[t.length-1];return o===e?[o]:[o,e]}var MO=(()=>{class t{constructor(){this.variantsTableService=N$8(en$2),this.destroyRef=N$8(mn$6),this.noAvailablePrintProviders=false,this.maxSelectedVariantsReached=false,this.excludingVat=false,this.stickyHeader=false,this.disabledTooltip="",this.selectAllDisabledReason="",this.selectedVariantsUpdated=new Xe$5,this.expandedRow$=this.variantsTableService.expandedRow$,this.expandedRow=this.expandedRow$,this.providedTitleRowsChange=new yn$7(undefined),this.providedTitleRows$=this.providedTitleRowsChange.pipe(Ye$b(Boolean)),this.selectedModalOption={id:0,label:"",availablePrintProviders:[]},this.showGroupModalOnMobile=false,this.variantData=[],this.variantsCount=0,this.orderedOptionItemIds=[],this.variantRawData$=new yn$7({optionsList:[],pricingPrintArea:"",prints:[],variants:[]}),this.options=new yn$7([]),this.options$=this.options.asObservable(),this.optionTypes$=this.variantsTableService.optionTypes$,this.readonly$=this.variantsTableService.readOnly$,this.showAvailablePrintProviders$=this.variantsTableService.showAvailablePrintProviders$,this.showPremiumPrices$=this.variantsTableService.showPremiumPrices$,this.variantOptionMap$=this.options$.pipe(ie$b(e=>{let n={};return e.forEach(i=>{n[i.id]=this.getVariantsForOptionItem(i);}),n})),this.computedTitleRows$=Hp$2([this.variantOptionMap$.pipe(Ye$b(e=>Object.keys(e).length>0)),this.options$.pipe(Ye$b(e=>e.length>0)),this.expandedRow$]).pipe(ie$b(([e,n,i])=>n.map(r=>{let s=i===r.id,p=e[r.id];return {option:r,isExpanded:s,variantData:p}}))),this.titleRows$=mh$2(this.providedTitleRows$,this.computedTitleRows$),this.allVariantsSelected$=this.variantsTableService.selectedVariantIds$.pipe(ie$b(e=>e.length===this.variantsCount)),this.someVariantsSelected$=this.variantsTableService.selectedVariantIds$.pipe(ie$b(e=>e.length&&e.length<this.variantsCount)),this.singleVariantSelect$=this.variantsTableService.singleVariantSelect$,this.readOnly$=this.variantsTableService.readOnly$,this.showSelectAll$=Hp$2([this.readOnly$,this.singleVariantSelect$]).pipe(ie$b(([e,n])=>!e&&!n)),this.optionsListChange=new In$7(1),this.optionsList$=this.optionsListChange.asObservable(),this.selectedRowChange=new In$7(1),this.selectedRow$=Hp$2([this.titleRows$,this.selectedRowChange]).pipe(ie$b(([e,n])=>e.find(({option:i})=>i.id===n?.option.id)));}set variantRawData(e){this.variantData=this.getVariantDataFromRawState(e),this.noAvailablePrintProviders=this.variantData.every(s=>!s.availablePrintProviders.length),this.noAvailablePrintProviders&&(this.showAvailablePrintProviders=false),this.setOrderedOptionItemIds(e.optionsList),this.variantsCount=this.variantData.length;let n=this.variantData.map(({id:s})=>s),i=e.variants.filter(({id:s})=>n.includes(s)),r=e.optionsList.map(s=>x$d(w$9({},s),{items:s.items.filter(({id:p})=>this.variantData.some(({options:O})=>O.includes(p)))}));this.setOutOfStockVariantList(r,i),this.setSelectedVariants(i),this.variantRawData$.next(x$d(w$9({},e),{optionsList:r}));}set optionsList(e){e&&this.optionsListChange.next(e);}set titleRows(e){if(!e)return;let n=e.flatMap(i=>i.variantData);this.variantData=n,this.variantsCount=n.length,this.setSelectedVariants(n),this.providedTitleRowsChange.next(e);}set readOnly(e){this.variantsTableService.updateReadOnly(e);}set isUserSubscribed(e){this.variantsTableService.updateIsUserSubscribed(!!e);}set showAvailablePrintProviders(e){this.variantsTableService.updateShowAvailablePrintProviders(this.noAvailablePrintProviders?false:e);}set singleVariantSelect(e){this.variantsTableService.updateSingleVariantSelect(e);}set selectedOptionType(e){this.variantsTableService.updateSelectedOptionType(e);}set allowOutOfStockSelection(e){this.variantsTableService.updateAllowOutOfStockSelection(e);}set showPremiumPrices(e){this.variantsTableService.updateShowPremiumPrices(e);}ngOnInit(){this.initSubscriptions();}ngOnDestroy(){this.variantRawData$.complete(),this.options.complete(),this.providedTitleRowsChange.complete(),this.optionsListChange.complete(),this.selectedRowChange.complete();}initSubscriptions(){Hp$2([this.variantRawData$,this.variantsTableService.selectedOptionType$]).pipe(Ye$b(([e,n])=>!!e&&!!n),X$7(this.destroyRef)).subscribe(([e,n])=>{this.setOptionTypes(e.optionsList,n);}),Hp$2([this.optionsList$,this.variantsTableService.selectedOptionType$]).pipe(X$7(this.destroyRef)).subscribe(([e,n])=>{this.setOptionTypes(e,n);}),this.variantsTableService.selectedVariantIds$.pipe(X$7(this.destroyRef)).subscribe(e=>{this.selectedVariantsUpdated.emit(e);}),Hp$2([this.providedTitleRows$,this.optionsList$]).pipe(mt$8(1),X$7(this.destroyRef)).subscribe(([e,n])=>{this.setOutOfStockVariantList(n,e.flatMap(i=>i.variantData));});}getVariantDataFromRawState(e){return e.variants.reduce((n,i)=>{if(i.status&&!en$2.availableStatus.includes(i.status))return n;let r=i.options.map(j=>vO(j,e.optionsList));if(!r.every(j=>!!j))return n;let s={},p=r.reduce((j,re)=>{let he=CO(re.id,e.optionsList);return he==="color"?j[he]={colors:re.colors,label:re.label}:j[he]=re.label,j},s),O=this.variantsTableService.getAvailabilityForVariant(i,e.optionsList),D=bO(i,O),V=i.isBestSeller||false;return n.concat(w$9({id:i.id,price:this.variantsTableService.getPriceForVariant(i,e.prints,this.readOnly,e.pricingPrintArea),standardPrice:this.variantsTableService.getPriceForVariant(i,e.prints,this.readOnly,e.pricingPrintArea,false),premiumPrice:this.variantsTableService.getPriceForVariant(i,e.prints,this.readOnly,e.pricingPrintArea,true),options:i.options,availablePrintProviders:xO(i,r),available:O,status:D,isBestSeller:V},p))},[])}titleRowTrackBy(e,n){return JSON.stringify({id:n.option?.id,variantData:n.variantData})}variantTrackBy(e,n){return n.id}toggleVariantExpanded(e){let n=this.variantsTableService.expandedRowValue();this.variantsTableService.updateExpandedRow(n!==e?e:0);}onSelectAllVariantsChange(){let e=this.variantsCount,n=this.variantsTableService.selectedVariantIdsValue().length,i=this.variantsTableService.getUnselectableVariantIds(),r=n+i.length!==e,s=[];r&&!this.maxSelectedVariantsReached&&this.variantData.forEach(p=>{i.includes(p.id)||s.push(p.id);}),this.variantsTableService.updateSelectedVariantIds(s);}onVariantSelect({variantId:e,selected:n}){if(n&&!this.maxSelectedVariantsReached){if(this.variantsTableService.singleVariantSelectValue()){this.variantsTableService.updateSelectedVariantIds([e]);return}!this.variantsTableService.selectedVariantIdsValue().includes(e)&&!this.variantsTableService.getUnselectableVariantIds().includes(e)&&this.variantsTableService.updateSelectedVariantIds([...this.variantsTableService.selectedVariantIdsValue(),e]);return}let i=this.variantsTableService.selectedVariantIdsValue().indexOf(e);if(i>-1){let r=[...this.variantsTableService.selectedVariantIdsValue()];r.splice(i,1),this.variantsTableService.updateSelectedVariantIds(r);}}onViewVariantGroup(e){this.selectedRowChange.next(e),this.selectedModalOption=e.option,this.showGroupModalOnMobile=true;}closeVariantsGroupModal(){this.showGroupModalOnMobile=false;}getVariantsForOptionItem(e){return this.variantData.filter(i=>i.options.includes(e.id)).sort((i,r)=>{let s=i.options.filter(O=>O!==e.id)[0],p=r.options.filter(O=>O!==e.id)[0];return this.orderedOptionItemIds.indexOf(s)-this.orderedOptionItemIds.indexOf(p)})}setOutOfStockVariantList(e,n){let i=n.filter(r=>r.status&&!en$2.availableStatus.includes(r.status)?false:r.status?en$2.outOfStockStatus.includes(r.status):!r.available||!Zu(r,e)).map(r=>r.id);this.variantsTableService.updateOutOfStockVariantIds(i);}setOptionTypes(e,n){let i=yO(e);i=i.reduce((r,s)=>r.includes(s)?r:r.concat(s),[n]),this.variantsTableService.updateOptionTypes(i),this.options.next(wO(n,e));}setSelectedVariants(e){if(this.readOnly)return;let n=e.filter(i=>this.variantsTableService.allowOutOfStockSelectionValue()?!!i.on:!!i.on&&i.available).map(i=>i.id).filter(i=>!this.variantsTableService.getUnselectableVariantIds().includes(i));this.variantsTableService.updateSelectedVariantIds(n);}setOrderedOptionItemIds(e){e.forEach(n=>{this.orderedOptionItemIds=this.orderedOptionItemIds.concat(n.items.map(({id:i})=>i));});}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfy-variants-table"]],inputs:{variantRawData:"variantRawData",optionsList:"optionsList",titleRows:"titleRows",maxSelectedVariantsReached:"maxSelectedVariantsReached",readOnly:"readOnly",isUserSubscribed:"isUserSubscribed",showAvailablePrintProviders:"showAvailablePrintProviders",singleVariantSelect:"singleVariantSelect",selectedOptionType:"selectedOptionType",allowOutOfStockSelection:"allowOutOfStockSelection",showPremiumPrices:"showPremiumPrices",excludingVat:"excludingVat",costTooltipText:"costTooltipText",stickyHeader:"stickyHeader",disabledTooltip:"disabledTooltip",selectAllDisabledReason:"selectAllDisabledReason"},outputs:{selectedVariantsUpdated:"selectedVariantsUpdated",expandedRow:"expandedRow"},features:[gP([en$2])],decls:22,vars:21,consts:[[1,"select-all-variants-mobile"],[1,"table-content"],["data-testid","headerRow",1,"header-row"],[1,"column","select-all"],[1,"column","small-text"],[1,"column","small-text","number-column"],["data-testid","availableProvidersHeader",1,"column","small-text"],[1,"column","expand"],[3,"stateChange","allVariantsSelected","someVariantsSelected","disabled","pfyTooltip"],[1,"select-all-variants-mobile-text"],[3,"allVariantsSelected","someVariantsSelected","disabled","pfyTooltip"],["data-testid","tooltipCostIcon",1,"cost-icon",3,"tooltipText"],[1,"column","column--premium-price","small-text","number-column"],["role","row","data-testid","titleRow","data-analyticsid","variantTitleRow",3,"toggleExpand","viewVariantGroup","variantSelect","option","variantData","disabled","disabledTooltip","costTooltipText","excludingVat","selectWithSingleVariant"],["role","row","data-testid","variantRow",3,"firstVariantRow","lastVariantRow","variant","disabled","disabledTooltip"],["role","row","data-testid","variantRow",3,"variantSelect","firstVariantRow","lastVariantRow","variant","disabled","disabledTooltip"],["data-testid","variantsGroupModal",3,"option","variantData","disabled","maxSelectedVariantsReached","costTooltipText","excludingVat"],["data-testid","variantsGroupModal",3,"modalClose","option","variantData","disabled","maxSelectedVariantsReached","costTooltipText","excludingVat"]],template:function(n,i){if(n&1&&(kI(0,cw,6,8,"div",0),TP(1,"async"),Kf$2(2,"table",1)(3,"tr",2),kI(4,pw,3,3,"th",3),TP(5,"async"),JR(6,uw,3,3,"th",4,YR),TP(8,"async"),Kf$2(9,"th",4),fP(10,"Inventory"),Xf$2(),kI(11,gw,6,3),TP(12,"async"),kI(13,fw,4,3,"th",5)(14,_w,2,0,"th",6),TP(15,"async"),ME(16,"th",7),Xf$2(),JR(17,yw,3,10,null,null,i.titleRowTrackBy,true),TP(19,"async"),Xf$2(),kI(20,ww,1,1),TP(21,"async")),n&2){let r;QR(_P(1,7,i.showSelectAll$)?0:-1),xR(2),dE("sticky",i.stickyHeader),xR(2),QR(_P(5,9,i.readOnly$)?-1:4),xR(2),KR(_P(8,11,i.optionTypes$)),xR(5),QR(_P(12,13,i.showPremiumPrices$)?11:13),xR(3),QR(_P(15,15,i.showAvailablePrintProviders$)?14:-1),xR(3),KR(_P(19,17,i.titleRows$)),xR(3),QR((r=_P(21,19,i.selectedRow$))?20:-1,r);}},dependencies:[dO,ft$6,Tl$1,OO,eh$1,th$1,zd$1,Gd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}@media (min-width: 840px){[_nghost-%COMP%]{border-bottom:1px solid #e0e0d7}}.table-content[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column}@media (min-width: 840px){.table-content[_ngcontent-%COMP%]{display:table;table-layout:auto;border-collapse:collapse;border:1px solid #e0e0d7;border-bottom-style:none}}@media (min-width: 840px){.title-row[_ngcontent-%COMP%]:last-of-type{border-bottom:none}}@media (min-width: 840px){.sticky.title-row[_ngcontent-%COMP%]:first-of-type{border-top:none}}.sticky.header-row[_ngcontent-%COMP%]{position:sticky;z-index:1;top:0;background:#fff}@media (max-width: 839px){.header-row[_ngcontent-%COMP%], .variant-row[_ngcontent-%COMP%]{display:none}}.header-row[_ngcontent-%COMP%]{background-color:#e0e0d7}.header-row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem;font-weight:700;color:#2f2e0c;text-align:left;vertical-align:middle}.header-row[_ngcontent-%COMP%]   .column--premium-price[_ngcontent-%COMP%]{background-color:#c6fb9d}.header-row[_ngcontent-%COMP%]   .column.select-all[_ngcontent-%COMP%] + .column[_ngcontent-%COMP%]{padding-left:0}@media (min-width: 840px){.header-row[_ngcontent-%COMP%]   .column.number-column[_ngcontent-%COMP%]{text-align:right}}.title-row[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:4px;border:1px solid #e0e0d7}@media (min-width: 840px){.title-row[_ngcontent-%COMP%]{margin-bottom:0;border-radius:0}.title-row[_ngcontent-%COMP%]:last-of-type{border-bottom:none}}.title-row.single-variant-select-single-variant[_ngcontent-%COMP%]:hover{background-color:#fff}@media (min-width: 840px){.title-row[_ngcontent-%COMP%]:not(.single-variant-select-single-variant){cursor:pointer}}.select-all[_ngcontent-%COMP%]{line-height:0}.select-all-variants-mobile[_ngcontent-%COMP%]{display:inline-flex;margin-bottom:1rem}@media (min-width: 840px){.select-all-variants-mobile[_ngcontent-%COMP%]{display:none}}.select-all-variants-mobile[_ngcontent-%COMP%]   .select-all-variants-mobile-text[_ngcontent-%COMP%]{margin-left:.5rem}.cost-icon[_ngcontent-%COMP%]{margin-left:.25rem}'],changeDetection:0});}}return t})(),dT=(()=>{class t{constructor(e){this.visualTestingService=e;}static forRoot(e){return {ngModule:t,providers:[{provide:"environment",useValue:e}]}}static{this.\u0275fac=function(n){return new(n||t)(pe$9(pu$1))};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({providers:[Hu$1,$u$1,{provide:"environment",useValue:cO}],imports:[rp$1,qp,Tt$4,Ld,np$1,Vr$4,Ki$4,tf$2,jp,Xu$2,Fo$1,Pw,tx,tl$1,bu$1,u1,q1,Tu$1,vl$1,nx,ix,In$5,ns$2,ax,Dx,sO,th$1,MO,lx,jp,qp]});}}return t})();
var e$7=D$a(Kc$2()),o$b={none:0,finished:100,from(s){return (0, e$7.assert)(s>=this.none&&s<=this.finished,"Progress must be between 0 and 100"),s}};var Oi$3=(()=>{class e{constructor(t){this.elementRef=t;}ngAfterViewChecked(){queueMicrotask(()=>{let t=this.elementRef.nativeElement.textContent?.trim().length;this.elementRef.nativeElement.hidden=!t;});}static{this.\u0275fac=function(r){return new(r||e)(Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:e,selectors:[["","pfaHideWhenEmpty",""]],standalone:false});}}return e})();var Li$4=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({imports:[Gs$2]});}}return e})();var be$7="unsaved_product",ae$7="unsaved_product_from_interrupted_session",ji$3=function(e){return e[e.Standard=1]="Standard",e[e.Express=2]="Express",e[e.ExpressDelivery=3]="ExpressDelivery",e[e.Economy=4]="Economy",e}(ji$3||{}),Ti$6=function(e){return e.Size="size",e.Color="color",e.Scent="scent",e.Depth="depth",e.Surface="surface",e.Paper="paper",e.Shape="shape",e.Quantity="quantity",e.Material="material",e}(Ti$6||{}),Di$4=function(e){return e.Front="front",e.Back="back",e.Neck="neck",e.All="all",e}(Di$4||{});var K$7=function(e){return e.Imperial="imperial",e.Metric="metric",e}(K$7||{}),Mi$4=function(e){return e[e.DESCRIPTION_TOO_LONG=1e3]="DESCRIPTION_TOO_LONG",e[e.TITLE_TOO_LONG=1001]="TITLE_TOO_LONG",e[e.TOO_MANY_OPTIONS=1002]="TOO_MANY_OPTIONS",e[e.NO_IMAGES=1004]="NO_IMAGES",e[e.NO_CATEGORIES=1005]="NO_CATEGORIES",e[e.NOT_FOUND_CATEGORY=1006]="NOT_FOUND_CATEGORY",e[e.NOT_VISIBLE_CATEGORY=1007]="NOT_VISIBLE_CATEGORY",e[e.TITLE_ALREADY_EXISTS=1008]="TITLE_ALREADY_EXISTS",e[e.TITLE_CONTAINS_INVALID_SYMBOLS=1009]="TITLE_CONTAINS_INVALID_SYMBOLS",e}(Mi$4||{}),Vi$3=function(e){return e.Ok="ok",e.Blocked="blocked",e.Appealed="appealed",e.AppealDenied="appeal_denied",e}(Vi$3||{}),W$7=function(e){return e.IpInfringement="ip",e.AcceptableContentViolation="content",e.CpgLabelingIssue="cpg",e}(W$7||{}),Go$3={[W$7.IpInfringement]:"IP infringement",[W$7.AcceptableContentViolation]:"Acceptable content violation",[W$7.CpgLabelingIssue]:"CPG labeling issue"},zo$2={[W$7.IpInfringement]:"intellectual property infringement",[W$7.AcceptableContentViolation]:"acceptable content violation",[W$7.CpgLabelingIssue]:"the product labeling issue"},Bi$2=function(e){return e.Global="GLOBAL",e.StandardEligibleForGlobal="STANDARD_ELIGIBLE_FOR_GLOBAL",e.Standard="STANDARD",e}(Bi$2||{}),Gi$2=function(e){return e.Created="created",e.Digitizing="digitizing",e.Rejected="rejected",e.Digitized="digitized",e}(Gi$2||{}),T$a=function(e){return e.ExceededHardLimitStitchCount="Exceeded Hard Limit Stitch Count",e.SmallNegativeSpace="Small Negative Space",e.SmallShapeOrText="Small Shape/Text",e.ThinLines="Thin Lines",e.PhotographicArtwork="Photographic Artwork",e.GradientElementArtwork="Gradient Element Artwork",e.ArtworkColorNotAvailable="Artwork Color Not Available",e.ArtworkExceeds6Colors="Artwork Exceeds 6 Colors",e.MultipleIssues="Multiple Issue",e}(T$a||{}),Co$3={[T$a.ExceededHardLimitStitchCount]:"the design file\u2019s stitch count exceeds the product's hard-limit stitch count",[T$a.SmallNegativeSpace]:"there is not enough negative space in the design to allow for embroidery",[T$a.SmallShapeOrText]:"the shapes and/or text in your design is too small to allow for embroidery",[T$a.ThinLines]:"the file contains thin lines that are not suitable for embroidery",[T$a.PhotographicArtwork]:"the file contains photographic artwork with multiple colors that does not allow for embroidery",[T$a.GradientElementArtwork]:"the artwork contains a gradient element that does not allow for embroidery",[T$a.ArtworkColorNotAvailable]:"the artwork includes color/s that are not included in the 14-color palette",[T$a.ArtworkExceeds6Colors]:"the artwork requires more than 6 color thread assignments and is not suitable for embroidery",[T$a.MultipleIssues]:"the artwork has multiple issues"},Wo$3=10101,zi$2=function(e){return e.Divergent="divergent",e.DivergentVariants="divergentVariants",e.Compliant="compliant",e}(zi$2||{}),Ci$4=function(e){return e.Product="product",e.PersonalisableProduct="personalisable_product",e}(Ci$4||{});var f$c=new k$5("ENVIRONMENT");var Q$9=new k$5("WINDOW",{providedIn:"root",factory:()=>window});var Ee$8,Wi$2=new Uint8Array(16);function Te$8(){if(!Ee$8&&(Ee$8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ee$8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ee$8(Wi$2)}var R$e=[];for(let e=0;e<256;++e)R$e.push((e+256).toString(16).slice(1));function xt$4(e,o=0){return R$e[e[o+0]]+R$e[e[o+1]]+R$e[e[o+2]]+R$e[e[o+3]]+"-"+R$e[e[o+4]]+R$e[e[o+5]]+"-"+R$e[e[o+6]]+R$e[e[o+7]]+"-"+R$e[e[o+8]]+R$e[e[o+9]]+"-"+R$e[e[o+10]]+R$e[e[o+11]]+R$e[e[o+12]]+R$e[e[o+13]]+R$e[e[o+14]]+R$e[e[o+15]]}var qi$2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),De$a={randomUUID:qi$2};function Yi$4(e,o,t){if(De$a.randomUUID&&!o&&!e)return De$a.randomUUID();e=e||{};let r=e.random||(e.rng||Te$8)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,o){t=t||0;for(let i=0;i<16;++i)o[t+i]=r[i];return o}return xt$4(r)}var Me$6=Yi$4;var ye$6=()=>Me$6();var bt$5=new k$5("UNIQUE_ID",{providedIn:"root",factory:()=>ye$6()});var Et$2=new k$5("URL",{providedIn:"root",factory:()=>URL});var yt$5=new k$5("UserSubscriptionState");var Pt$4=D$a(Kc$2());var Fi$3=(()=>{class e{constructor(){this.details=new In$7(1),this.detailsPatch=new Z$a,this.details$=this.details.pipe(Ac$3(t=>this.detailsPatch.pipe(Qc$3((r,i)=>w$9(w$9({},r),i),t),Sc$2(t))),_c$3(1)),this.userId$=this.details$.pipe(ie$b(t=>t.userId),Dr$5()),this.storeId$=this.details$.pipe(ie$b(t=>t.storeId),Dr$5()),this.sessionUpdated=new Z$a;}set(t){this.details.next(t);}patch(t){this.detailsPatch.next(t);}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Z$8=(()=>{class e{constructor(t){this.sessionDetails=t,this.details$=this.sessionDetails.details$,this.userId$=this.sessionDetails.userId$,this.storeId$=this.sessionDetails.storeId$,this.sessionUpdated$=this.sessionDetails.sessionUpdated.asObservable();}switchStore(t){this.sessionDetails.patch({storeId:t});}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Fi$3))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var It$3=(()=>{class e{constructor(t,r){this.http=t,this.environment=r;}getMerchantByUserId(t){return this.http.get(`${this.environment.schubApiUrl}merchants/${t}`)}optOutAiGeneration(t){return this.http.patch(`${this.environment.schubApiUrl}merchants/${t}/ai-generation/opt-out`,{})}optInAiGeneration(t){return this.http.patch(`${this.environment.schubApiUrl}merchants/${t}/ai-generation/opt-in`,{})}acceptListingTerms(t){return this.http.patch(`${this.environment.schubApiUrl}/merchants/${t}/accept-listing-terms`,{})}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var wt$4=(()=>{class e{constructor(){this.merchantSalesChannelSettingsApiService=N$8(It$3),this.merchantSettings=new yn$7(null),this.allowAi$=this.merchantSettings.pipe(ie$b(t=>t?.has_ai_generation)),this.needsToAcceptListingTerms$=this.merchantSettings.pipe(ie$b(t=>t?.needs_to_accept_listing_terms));}saveUserDecisionToUseAi(t,r){return (t?this.merchantSalesChannelSettingsApiService.optInAiGeneration(r):this.merchantSalesChannelSettingsApiService.optOutAiGeneration(r)).pipe(kc$2(()=>this.patchMerchantSettings({has_ai_generation:t,needs_to_accept_listing_terms:!t})))}fetchMerchantSetting(t){this.merchantSalesChannelSettingsApiService.getMerchantByUserId(t).subscribe(r=>this.merchantSettings.next(r));}patchMerchantSettings(t){this.merchantSettings.value&&this.merchantSettings.next(rc$5(w$9({},this.merchantSettings.value),t,Ki$3));}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function Ki$3(e,o){if(!(!Array.isArray(e)||!Array.isArray(o)))return o}var Zi$3=function(e){return e.FLAT_DISCOUNT="FLAT_DISCOUNT",e.PERCENTAGE_DISCOUNT="PERCENTAGE_DISCOUNT",e.FREE_SHIPPING="FREE_SHIPPING",e.SUBSCRIPTION_PERIOD="SUBSCRIPTION_PERIOD",e.SHIPPING_PERCENTAGE_DISCOUNT="SHIPPING_PERCENTAGE_DISCOUNT",e.PRODUCTION_PERCENTAGE_DISCOUNT="PRODUCTION_PERCENTAGE_DISCOUNT",e}(Zi$3||{});function At$3(e){return (e?.legal.address?.country||e?.details.registration_country)??null}var Rt$5=(()=>{class e{constructor(t,r){this.http=t,this.environment=r;}updateTimezoneAndUnits(t,r){return this.http.put(`${this.environment.apiURL}v1/users/${r}`,{timezone:t.timezone,units:t.units})}setMarketingNotificationEnabled(t,r){return this.http.post(`${this.environment.apiURL}v1/users/${r}/notifications/marketing`,{marketing_notifications_enabled:Number(t)})}deleteUserDataRequest(t){return this.http.post(`${this.environment.apiURL}v1/users/${t}/request-account-deletion`,{})}deleteUserData(t,r){return this.http.post(`${this.environment.apiURL}v1/users/${r}/delete-account`,{delete_token:t.deleteToken,delete_reason:t.deleteReason})}changeLoginEmail(t,r){return this.http.post(`${this.environment.apiURL}v1/users/${r}/email-change`,t).pipe(yi$5(({error:i})=>{let s="An error occurred while updating the email address. Please, try again later.",a=i&&Ji$5(i)&&(Ie$5(i.errors.email)||Ie$5(i.errors.password))||s;return Xp$2(new Error(a))}))}updatePassword(t,r){return this.http.post(`${this.environment.apiURL}v1/users/${r}/password-change`,t).pipe(yi$5(({error:i})=>{let s="An error occurred while updating the password. Please, try again later.",a=i&&Xi$3(i)&&(Ie$5(i.errors.current)||Ie$5(i.errors.password))||s;return Xp$2(new Error(a))}))}resendEmailVerification(t){return this.http.post(`${this.environment.apiURL}v1/users/${t}/resend-email-verification`,{})}updateCatalogCurrency(t,r){return this.http.post(`${this.environment.apiURL}v1/users/${r}/set-catalog-currency`,{catalog_currency:t})}setInvoiceFrequency(t,r){return this.http.put(`${this.environment.apiURL}v1/users/${t}`,{invoice_frequency:r})}giveConsent(t){return this.http.post(`${this.environment.apiURL}v1/users/${t}/notifications/consent`,null)}verifyAccount(t){return this.http.post(`${this.environment.apiURL}v1/accounts/verify`,{confirm:t})}getUserById(t){return this.http.get(`${this.environment.apiURL}v1/users/${t}`)}getUserProductsStats(t){return this.http.get(`${this.environment.apiURL}v1/users/${t}/products/stats`)}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Ie$5=e=>{if(e)return Array.isArray(e)?e[0]:e},Ji$5=e=>e.errors!==undefined,Xi$3=e=>e.errors!==undefined;var J$5=(()=>{class e{constructor(t,r,i){this.userApiService=t,this.sessionDetailsProvider=r,this.merchantSalesChannelSettingsService=i,this.user=new yn$7(null),this.user$=this.user.pipe(ie$b(s=>s||{})),this.id$=this.user$.pipe(_h$1("details","id"),Ye$b(s=>!!s),Dr$5()),this.authenticatedUser$=this.user.pipe(Ye$b(s=>!!s)),this.userCountry$=this.authenticatedUser$.pipe(ie$b(At$3)),this.units$=this.user$.pipe(_h$1("details","units"),Ye$b(s=>!!s),Sc$2(K$7.Imperial),Dr$5()),this.weightUnits$=this.user$.pipe(ie$b(s=>s?.details.units===K$7.Imperial?"lb":"kg")),this.ordersTotalCount$=this.user$.pipe(ie$b(s=>s.orders?.total)),this.isPowerSeller$=this.user$.pipe(ie$b(s=>s.power_seller_tag==="POWER_SELLER")),this.isSuperPowerSeller$=this.user$.pipe(ie$b(s=>s.power_seller_tag==="SUPER_POWER_SELLER")),this.address$=this.user$.pipe(_h$1("contacts","address")),this.hasMerchantAnalyticsDashboardEnabled$=this.user$.pipe(ie$b(s=>s.has_merchant_analytics_dashboard_enabled)),this.catalogCurrency$=this.user$.pipe(ie$b(({catalog_currency:s})=>s),Dr$5()),this.isEmailVerified$=this.user$.pipe(ie$b(s=>!!s?.email_verified)),this.hasCompletedLegalAddress$=this.user$.pipe(ie$b(({legal:s})=>!!s.address));}getUserData(){return this.user.getValue()}getLegalName(){return this.getUserData()?.legal?.legal_name||""}getId(){return this.user.value?.details?.id}hasOrderDiscount(){return !!this.user.value?.order_discount}isAuthorized(){return !!this.getId()}updateTimezoneAndUnits(t){return this.userApiService.updateTimezoneAndUnits(t,this.getValidUserId()).pipe(kc$2(()=>this.patchUser({details:t})))}setMarketingNotificationEnabled(t){return this.userApiService.setMarketingNotificationEnabled(t,this.getValidUserId()).pipe(kc$2(()=>this.patchUser({marketing_notifications_enabled:Number(t)})))}deleteUserData(t){return this.userApiService.deleteUserData(t,this.getValidUserId())}deleteUserDataRequest(){return this.userApiService.deleteUserDataRequest(this.getValidUserId())}changeLoginEmail(t){return this.userApiService.changeLoginEmail(t,this.getValidUserId()).pipe(kc$2(()=>{this.patchUser({email_verified:false,details:{email:t.email}});}))}updatePassword(t){return this.userApiService.updatePassword(t,this.getValidUserId())}resendEmailVerification(){return this.userApiService.resendEmailVerification(this.getValidUserId())}updateBalance(t){this.patchUser({details:{balance:t}});}reload(){return this.sessionDetailsProvider.userId$.pipe(Ac$3(t=>t?(this.merchantSalesChannelSettingsService.fetchMerchantSetting(t),this.userApiService.getUserById(t)):hi$7(null)),kc$2(t=>this.user.next(t)),mt$8(1))}getValidUserId(){let t=this.getId();return (0, Pt$4.assert)(!!t,`${e.name}: User ID is missing.`),t}updateCatalogCurrency(t){return this.isAuthorized()?this.userApiService.updateCatalogCurrency(t,this.getValidUserId()).pipe(kc$2(()=>this.patchUser({catalog_currency:t}))):hi$7(undefined)}saveInvoiceFrequency(t){return this.userApiService.setInvoiceFrequency(this.getValidUserId(),t).pipe(kc$2(()=>this.patchUser({details:{invoice_frequency:t}})))}giveConsent(){return this.userApiService.giveConsent(this.getValidUserId()).pipe(Ac$3(()=>this.reload()),ie$b(()=>{}))}verifyAccount(t){return this.userApiService.verifyAccount(t).pipe(kc$2(()=>this.patchUser({email_verified:true})))}isToggleOn(t){let r=this.getUserData()?.toggles?.on;return r&&t?r.some(i=>i[t]===1):false}patchUser(t){this.user.value&&this.user.next(rc$5(w$9({},this.user.value),t,eo$2));}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Rt$5),pe$9(Z$8),pe$9(wt$4))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function eo$2(e,o){if(!(!Array.isArray(e)||!Array.isArray(o)))return o}var I$8=function(e){return e.Local="localStorage",e.Session="sessionStorage",e}(I$8||{});var Ge$8=D$a(Kc$2());function kt$1(e,o){let t=r=>w$9({name:e,value:r},Object.fromEntries(Object.entries(o??{}).map(([i,s])=>[i,(...a)=>s(r,...a)])));return t.propertyName=e,t}var nn$5=kt$1("registration_sales_channel_intent"),Be$7=function(e){return e.SalesChannelIntent="marketingAttributionDataSalesChannelIntent",e}(Be$7||{});var to$3=["right_panel_state","designer-onboarding","recently_used_colors","large-embroidery-popover-dismissed","go_back_modal_skipped","designing_guidelines_popup","skip_product_info_popup","designer_personalization_panel_submitted"],ce$9={[I$8.Session]:[],[I$8.Local]:[...to$3,"amcc","gclid","ab-test-token","product_import_info_seen","banners","initiated_from_sales_channel","printify_express_popups_dismissed","variantsTableConfig","onboardingWizardProductCreationVisited","viewed-wizard-pages","printify_placeit_popups_dismissed","lastForceRefresh","appForceRefreshedEventPayload","gpsr_banner_dismissed","popups_manager","last_shopify_store_url","target_market","cashback_seen_gmv","show_dashboard_payouts_onboarding_banner","rebrand","rebrand_modal_seen","hide_save_later_modal","order-routing-banner","bulk_product_discounts_banner_closed_times","other_order_personalization_banner_closed_times","bulk_order_info_modal_viewed","printify-express-order-warning-disabled","manual_order_personalization_banner_closed","orders-printify-connect-reviews-seen-date","skip_imported_personalised_order_review_step_banner","etsy_recommendation_widget_hidden","dashboardChecklistWidget","personalisationEnabledForFirstTime","personalisationTipBanner","personalizationPromoModalLastShown","personalizationPromoModalShownCount",Be$7.SalesChannelIntent]};var Y$4=(()=>{class e{constructor(t){this.window=t,this.cache={};}getNonPrimitive(t,r,i){let s=this.getRawStoredValue(t,i);if(!s)return r;try{return JSON.parse(s)}catch{return r}}getString(t,r,i){let s=this.getRawStoredValue(t,i);return s||r}getNumber(t,r,i){let s=this.getRawStoredValue(t,i);return s===null?r:+s}getBoolean(t,r,i){let s=this.getRawStoredValue(t,i);return s===null?r:s==="true"}getRawStoredValue(t,r){return this.storageAvailable(r)?this.window[r].getItem(t):null}set(t,r,i){if(!this.storageAvailable(i.storageType))return;(0, Ge$8.assert)(ce$9[i.storageType].includes(t)===!i.clearOnAuth,`Key "${t}" ${i.clearOnAuth?"mustn't":"must"} be listed in STORAGE_PERSISTED_KEYS if "clearOnAuth" is set to "${i.clearOnAuth}".`);let s;switch(typeof r){case "number":case "string":s=`${r}`;break;default:s=JSON.stringify(r);}this.window[i.storageType].setItem(t,s);}setString(t,r,i){if(!this.storageAvailable(i.storageType))return;(0, Ge$8.assert)(ce$9[i.storageType].includes(t)===!i.clearOnAuth,`Key "${t}" ${i.clearOnAuth?"mustn't":"must"} be listed in STORAGE_PERSISTED_KEYS if "clearOnAuth" is set to "${i.clearOnAuth}".`);let s=JSON.stringify(r);this.window[i.storageType].setItem(t,s);}get(t,r,i){if(!this.storageAvailable(i))return r;let s=this.window[i].getItem(t);if(!s)return r;try{return JSON.parse(s)}catch{return r}}remove(t,r){this.storageAvailable(r)&&this.window[r].removeItem(t);}clear(t){if(this.storageAvailable(I$8.Session)){let r=ce$9[I$8.Session].map(s=>[s,this.window.sessionStorage.getItem(s)]),i=this.window.sessionStorage.getItem(ae$7);this.window.sessionStorage.clear(),r.forEach(([s,a])=>a&&this.window.sessionStorage.setItem(s,a)),i&&(t&&t===JSON.parse(i).userId&&this.window.sessionStorage.setItem(be$7,JSON.stringify(JSON.parse(i).product)),t||this.window.sessionStorage.setItem(ae$7,i));}if(this.storageAvailable(I$8.Local)){let r=ce$9[I$8.Local].map(i=>[i,this.window.localStorage.getItem(i)]);this.window.localStorage.removeItem("session"),this.window.localStorage.clear(),r.forEach(([i,s])=>s&&this.window.localStorage.setItem(i,s));}}storageAvailable(t){return this.cache[t]??=this.isStorageAvailable(t),this.cache[t]}isStorageAvailable(t){let r;try{r=this.window[t];let i="__storage_test__";return r.setItem(i,i),r.removeItem(i),!0}catch(i){return i instanceof DOMException&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!!r&&r.length!==0}}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Q$9))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var X$6=(()=>{class e{constructor(){this.events=new Z$a,this.events$=this.events.asObservable();}dispatch(t){this.events.next(t);}on(t){return this.events.pipe(Ye$b(r=>r instanceof t))}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var $t$2=class $t{};var Ot$3=class Ot{};var Lt$4=class Lt{};var jt$2=function(e){return e.DummyFeatureFlag="dummy_feature_flag",e.CatalogCheaperBlanks="cata_cheaper_blanks",e.Catalog3LayerCategories="cata_3_layer_categories",e.EconomyShippingMain="economy_shipping",e.GrowthAlwaysCaptcha="growth_always_captcha",e.Turnstile="platform_api_auth_service_turnstile",e.SkuEditing="sku_editing",e.EtsyMigrationToV3="etsy_migration_to_v3",e.EBayNewErrorMessages="dis-3652_ebay_error_messages",e.MyProductsOrderButton="my_products_order_button",e.IssuesBanner="issues_banner",e.MarketingCampaignBanner="marketing_campaign_banner",e.SalesChannelRenewToken="dis-4062_reauthorization_for_etsy_and_ebay",e.ListingGuidesForPrintex="se-4251_listing_guides_for_printex_on_product_details_page",e.StoreConnectionSettingsRefactoring="gsc_store_connection_settings_refactoring",e.DisableSapi="disable_sapi_ui",e.SalesChannelsSelectionCatalog="se_sales_channels_selection_catalog",e.NewProductDetailsVariantsGrouping="se_new_product_details_variants_grouping",e.PrintifyExpressProject1Feature="printify_express_project1_feature",e.ResaleCertificates="cpm-559_resale_certificates",e.ShopifySCHShippingProfiles="shopify_sch_shipping_profiles",e.EtsyExpressDelivery="etsy_express_delivery",e.VideoMockupFeedback="video_mockup_feedback",e.AQCInOrders="aqc_in_orders",e.StorefrontCreationStepTheme="storefront_creation_step_theme",e.ShopifyDefaultShippingProfile="shopify_default_shipping_profile",e.EtsyDefaultShippingProfile="etsy_default_shipping_profile",e.MerchantAnalytics="merchant_analytics",e.StoreOrderSettings="order_routing_or-1288_settings_page_redesign",e.BulkUpdateExpressDeliveryImprovements="se_7083_bulk_update_express_delivery_improvements",e.NewShippingSectionLayout="se_7462_new_shipping_section_layout",e.TikTokForceOrderRouting="tiktok_shops_force_order_routing_on",e.ShopifyEconomyShipping="se_7969_shopify_economy_shipping",e.MarTechSellersClub="martech_sellersclub",e.MockupLibraryUpload="mockup_library_upload",e.ProductShippingTable="siuk_product_shipping_table",e.ConsumerBrandingBuilder="consumer_branding_builder",e.PriceTableImprovements="se_8141_etsy_price_table_improvements",e.PaymentsStripeACH="payments_stripe_ach",e.MultipleTabsLogout="multiple_tabs_logout",e.PaymentsStripeApplePay="payments_apple_pay_via_stripe",e.MiniProfitCalculatorEtsy="se_4144_mini_profit_calculator_etsy",e.Rebrand="rebrand",e.BrandSwitcher="brand_switcher",e.BrandSwitcherRemoval="brand_switcher_removal",e.OPTOnDemandInDe="siuk_opt_on_demand_in_de",e.ManualOrderAddressParser="xp_4231_manual_order_address_parsing",e.ConsumerPromotionsFreeShipping="consumer_promotions_free_shipping",e.AmazonSalesChannel="sales_channel_amazon_displayed",e.PrintifyChoiceInternal="cata_printify_choice_internal",e.CommunityWidget="so_community_widget",e.AllowPrintifyChoiceProvider="se_7297_replace_provider_with_printify_choice",e.GrowthTools="se_8878_growth_tools",e.PrintifyChoiceUpgrade="printify_choice_upgrade_ui",e.PrintifyChoiceUpgradeOptOutByDefault="printify_choice_upgrade_opt_out_by_default",e.SearchService="xp-3424-search-service-search",e.ProductTagsForEtsy="se_8865_product_tags_for_etsy",e.NewPlacementOfProfitCalculatorButton="se_9276_placement_of_profit_calculator",e.PrintProviderReplacement="se_8613_pp_replacement",e.LaunchSuccessProductRecommendationsBlogPost="so_launch_success_product_recommendations_blog_post",e.SessionManagement="platform_api_sessions",e.QuickProductCreation="se_9754_quick_product_creation",e.DecorationMethod="pc_show_selected_decoration_method",e.AiGeneratedDescriptionFeatureClue="se_9744_ai_feature_clue",e.ConsumerNewDomain="consumer_new_domain",e.SalesChannelSelector="cata_sales_channel_selector",e.MockupsTitleImageSelection="se_9713_mockups_title_image_selection",e.CatalogTargetMarketLabelRename="cata_target_market_label_rename",e.EtsyShippingUpdateBanner="se_10351_etsy_shipping_update_banner",e.EtsyTooltipCopyExperiment="_integrations__etsy_tooltip_copy_a_b_test",e.AutogenerateTitleAndDescription="se_10118_autogenerate_title_and_description",e.UploadMockupsExperiment="se_10654_upload_new_button",e.ProductSalesData="product_sales_data",e.WebpMockups="iss-958-webp-mockups",e.ConsumerOnboardingV2="consumer_onboarding_v2",e.Personalization_stage_2_1="personalization_stage_2_1",e.MockupRedirects="iss_991_mockups_via_redirect_to_cdn",e.CatalogUSExperience="cata_us_experience",e.LaunchSuccessProductRecommendation1="so_launch_success_product_recommendations_1",e.LaunchSuccessProductRecommendation2="so_launch_success_product_recommendations_2",e.LaunchSuccessProductRecommendation3="so_launch_success_product_recommendations_3",e.SizeReductionOfImageFedIntoAI="se_10787_size_reduction_of_image_fed_into_ai",e.ConsumerPromotionsCoupons="consumer_coupons",e.PersonalizedHomePageForSalesChannel="cata_personalized_home_page_for_sales_channel",e.AdjustSampleOrderEntrypoints="so_gsc_3865_sample_order_adjust_entrypoints",e.CatalogEndBuyerReviews="cata_end_buyer_reviews",e.CategorySegmentations="cata_category_segmentations",e.ConsumerMorExtendedMigration="consumer_mor_extended_deadline",e.GpsrRequirements="se_11027_gpsr_requirements",e.GpsrBulkActions="se_11124_gpsr_bulk_actions",e.EditListingUnsavedChangesPopup="se_10955_unsaved_changes",e.ListingOptimizationOptOut="se_10949_listing_optimization_opt_out",e.ConsumerThemesV2="consumer_themes_v2",e.MyProductsConnectStoreButton="se_11083_my_products_connect_store_button",e.TikTokToggleDefaultStateExperiment="cata_tiktok_toggle_default_state_experiment",e.PrintifyChoiceGeoExpansion="pc_geo_expansion",e.ForceRefreshOnOutdatedAppVersion="cata_force_refresh_on_outdated_app_version",e.SalesGuidOptOut="se_11102_sales_guid_opt_out",e.StoreFrontGpsr2Phase="storefront_gpsr_2_phase",e.MockupLibraryEmbroideryBanner="se_11374_mockup_library_embroidery_banner",e.AmazonSingleItemVariationListings="se-11010_amazon_single-item_variation_listings",e.ConsumerMorGeoExpansion="mor_geo_expansion",e.ConsumerMorGeoExpansionExistingMErchant="mor_geo_expansion_existing_merchants",e.ConsumerMinimumProfitMargin="consumer_minimum_profit_margin",e.OtherOrdersPageExperimentsV2="xp_4937_other_orders_page_experiments",e.CashbackToolUiImprovements="cashback_tool_ui_improvements",e.EnhancedOrderDiscountCalculation="price-589_enhanced_order_discount_calculation",e.ConnectStoreSCCatalogUrl="se-11507_replace_connect_a_store_link_to_sc_catalog_url",e.EnablePublishAndPromptSCConnect="se-11509_enable_publish_and_prompt_sc_connect",e.EducationWidgetStableOrder="so_gsc_4114_education_widget_stable_order",e.SellersClubDashBoardRedirectUrls="martech_688_sellers_club_dashboard_redirect_urls",e.TextEditorChange="text_editor_change",e.CatalogEmbroideryDiscoverability="cata_embroidery_discoverability_and_awareness_improvements",e.ProductPublishingGuidedFlow="se_11232_guided_publishing_flow",e.EtsySetupImprovementsPhase1="se-11606_etsy_setup_improvements_phase_1",e.EtsySetupImprovementsPhase2="se_11532_etsy_setup_improvements_phase_2",e.EtsySetupImprovementsPhase3="se_11654_etsy_setup_improvements_phase_3",e.CatalogDashboardRecommendations="cata_dashboard_recommendations",e.CouponsForAnyCurrency="price-732_coupons_for_any_currency",e.SkipQuestionnaire="so_gsc_4221_skip_questionnaire",e.TrendsRecommendations="trends_recommendations",e.FreemiumDiscount="disc_freemium_discount",e.SalesChannelAbandonmentFlow="so_gsc_4237_sales_channel_abandonment_flow",e.ConsumerProductPersonalization="consumer_product_personalization",e.ConsumerProductPersonalizationPromoModal="consumer_product_personalization_promo_modal",e.ConsumerProductPersonalizationNewsWidget="consumer_product_personalization_news_widget",e.ConsumerResetMorVerification="consumer_reset_mor_verification",e.DiscPrintfulWhitelistedBlueprints="disc_restrict_pp_decoration_methods",e.OtherOrdersEndToEndFlow="xp_4939_other_orders_end_to_end_flow",e.SaveOrderWithCoupon="price_868_save_order_with_a_coupon",e.SellersClubPriceBanner="sellers-2-news-banners-price",e.EtsySetupImprovementsPhase3MobileVideo="se-11751_etsy_guided_flow_phase_3_mobile_video",e.TikTokPersonalization="xp-5315-tiktok-personalization",e.EnhancedProductCopyingForEtsyMigration="so_gsc_4381_enhanced_product_copying_for_etsy_migration",e.SampleOrderEntrypointsInProductCollections="so_gsc_4394_sample_order_entrypoints_in_product_collections",e.AlreadyConnectedEmailError="salesch-21_show_etsy_account_email_on_connected_store_error",e.ShopifyStoreSetupGuidedFlow="salesch_dedicated_shopify_guided_connection_flow",e.SeeOtherSCLeadsToMostPopularSC="so_gsc_4401_see_other_sc_leads_to_most_popular_sc",e.RemovingOnboardingWizardSplashScreen="so_gsc_4387_removing_onboarding_wizard_splash_screen",e.QuickUploadingMockup="saleshub-111_quick_uploading",e.ShowingAppcuesBasedOnSCConnectionAbandonment="so_gsc_4399_showing_appcues_based_on_sc_connection_abandonment",e.EtsyGuidedFlowCreateStoreStep="salesch-143_add_new_etsy_create_store_step",e.EnhancedConnectionSuccessMobileScreen="gsc_4383_enhanced_connection_success_mobile_screen",e.EngagementFirstSalesChannelRecommendations="gsc_4371_engagement_first_sales_channel_recommendations",e.EtsyDefaultFreeShippingExperiment="se_etsy_default_free_experiment",e.EtsyGuidedConnectionFlowIteration2="so_gsc_4436_etsy_guided_connection_flow_iteration_2",e.EmbroideryLargeAreas="large_embroidery_print_areas",e.ConsumerSaleChannelSelectionCard="consumer_sales_channel_selection_card",e.PricingRecommendations="saleshub_350_pricing_recommendations",e.ProductCreatorAgent="disc_product_creator_agent",e}(jt$2||{});var Tt$3={};function pe$7(e){return Tt$3[e]??=ro$3(e),Tt$3[e]}function ro$3(e){let o;try{o=window[e];let t="__storage_test__";return o.setItem(t,t),o.removeItem(t),!0}catch(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!!o&&o.length!==0}}var we$5=(()=>{class e{constructor(t){this.sessionDetailService=t,this.state=new yn$7(null),this.accessToken=null,this.state$=this.state.pipe(Ye$b(r=>!!r),Dr$5(au$4)),this.isAuthorized$=this.state$.pipe(ie$b(r=>r.authorized),Dr$5()),this.isEmbedded$=this.state$.pipe(ie$b(r=>r.embedded),Dr$5()),this.sessionDetailService.sessionUpdated$.pipe(Ac$3(()=>this.sessionDetailService.details$.pipe(mt$8(1))),X$7()).subscribe(({isAuthenticated:r,accessToken:i,embedded:s,loginType:a})=>{this.state.next({authorized:r,accessToken:i??"",embedded:s,loginType:a});}),this.sessionDetailService.details$.pipe(X$7()).subscribe(({accessToken:r})=>this.accessToken=r);}getAuthorized(){return !!this.state.value?.authorized}getToken(){return this.state.value?.accessToken||this.accessToken||""}getSignInType(){return this.state.value?.loginType||""}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Z$8))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var H$7=class H extends M$a{},Dt$2={provide:H$7,useFactory:e=>e.events$,deps:[X$6]};var oo$2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({providers:[Dt$2]});}}return e})();var Mt$2=class Mt{};var Vt$5=class Vt{constructor(o){this.isSuccess=o;}};var Bt$5=class Bt{};var Gt$4=class Gt{};var zt$3=class zt{constructor(o){this.referrer=o;}};var Ct$4=class Ct{constructor(o){this.payload=o;}};var Wt$3=class Wt{};var qt$3=class qt{constructor(o){this.payload=o;}};var Yt$3=class Yt{constructor(o){this.payload=o;}};var Ft$3=class Ft{};var Kt$3=class Kt{constructor(o){this.product=o;}};var Qt$4=class Qt{constructor(o){this.product=o;}};var Zt$4=class Zt{constructor(o){this.product=o;}};var Jt$5=class Jt{constructor(o){this.product=o;}};var Xt$4=class Xt{};var Ht$3=class Ht{constructor(o){this.payload=o;}};var er$4=class er{constructor(o){this.isVisible=o;}};var tr$4=class tr{constructor(o){this.isVisible=o;}};var rr$4=class rr{};var ir$4=class ir{constructor(o){this.payload=o;}};var or$3=class or{constructor(o){this.isVisible=o;}};var sr$3=class sr{constructor(o){this.payload=o;}};var nr$4=class nr{constructor(o){this.payload=o;}};var ar$3=class ar{constructor(o){this.product=o;}};var cr$3=class cr{constructor(o){this.elapsedTimeInSeconds=o;}};var pr$3=class pr{constructor(o){this.payload=o;}};var lr$4=class lr{constructor(o){this.payload=o;}};var hr$3=class hr{};var mr$3=class mr{constructor(o){this.payload=o;}};var dr$3=class dr{constructor(o){this.payload=o;}};var ur$3=class ur{constructor(o){this.payload=o;}};var fr$3=class fr{constructor(o){this.payload=o;}};var _r$4=class _r{constructor(o){this.payload=o;}};var vr$3=class vr{constructor(o){this.payload=o;}};var gr$3=class gr{constructor(o){this.product=o;}};var Sr$3=class Sr{};var Ae$5=class Ae{constructor(o){this.payload=o;}};var ee$8=class ee{constructor(o,t,r){this.userId=o,this.storeId=t,this.productId=r;}};var xr$3=class xr{constructor(o){this.payload=o;}};var br$3=class br{constructor(o){this.payload=o;}};var Er$3=class Er{constructor(o){this.payload=o;}},so$4=function(e){return e.EditListing="edit_listing",e.MyStore="my_store",e.Designer="designer",e}(so$4||{});var Re$4=class Re{constructor(o,t,r,i){this.fromStoreId=o,this.toStoreIds=t,this.productsCount=r,this.productIds=i;}};var yr$3=class yr{constructor(o,t,r){this.fromStoreId=o,this.toStoreIds=t,this.productIds=r;}};var Ir$3=class Ir{constructor(o){this.url=o;}};var wr$3=class wr{};var Ar$3=class Ar{};var Rr$1=class Rr{};var Pr$3=class Pr{constructor(o){this.numberOfSuggestions=o;}};var Ur$1=class Ur{constructor(o){this.payload=o;}};var kr$4=class kr{};var Nr$2=class Nr{};var $r$2=class $r{};var Or$3=class Or{};var Lr$2=class Lr{constructor(o,t=null){this.printProviderName=o,this.shopId=t;}};var Pe$6=class Pe{};var jr$2=class jr{};var Tr$4=class Tr{constructor(o){this.payload=o;}};var Dr$3=class Dr{constructor(o){this.payload=o;}};var Mr$3=class Mr{};var Vr$3=class Vr{constructor(o){this.status=o;}};var Br$3=class Br{};var Gr$3=class Gr{};var zr$2=class zr{};var Cr$3=class Cr{constructor(o){this.stepName=o;}};var Wr$2=class Wr{};var qr$2=class qr{constructor(o){this.status=o;}};var Yr$3=class Yr{};var Fr$2=class Fr{};var Kr$1=class Kr{};var Qr$2=class Qr{};var Zr$2=class Zr{};var Jr$2=class Jr{};var Xr$1=class Xr{};var Hr$2=class Hr{constructor(o,t,r){this.id=o,this.name=t,this.version=r;}};var ei$4=class ei{constructor(o,t){this.merchantId=o,this.stepName=t;}};var no$2=function(e){return e.tokenExpiredCallback="token-expired-callback",e.widgetTimeoutCallback="widget-timeout-callback",e.errorCallback="error-callback",e}(no$2||{}),ti$3=class ti{constructor(o,t){this.turnstileErrorTitle=o,this.turnstileError=t;}};var ri$4=class ri{};var Ue$5=class Ue{};var ii$3=class ii{};var ke$6=class ke{constructor(o){this.payload=o;}};var G$6=e=>o=>o.pipe(Ye$b(t=>t instanceof e));var oi$3="ab-test-token",te$5=(()=>{class e{constructor(t,r,i,s,a,l){this.httpClient=t,this.authStorage=r,this.events=i,this.environment=s,this.uniqueId=a,this.window=l,this.enabledFeatures=new yn$7(null),this.enabledFeatures$=this.enabledFeatures.asObservable(),this.featuresReady$=$p$1(this.enabledFeatures$.pipe(ie$b(d=>!!d)),this.events.pipe(G$6(Ue$5)).pipe(ie$b(()=>false)),this.events.pipe(G$6(ke$6)).pipe(ie$b(()=>false))).pipe(_c$3(1),Ye$b(Boolean)),this.featureToggleURL=this.environment.apiURL+"v1/features/";}initialize(){this.setEnabledFeatures(),this.authStorage.state$.pipe(Nc$2(1),Ye$b(({authorized:t})=>t)).subscribe(()=>this.setEnabledFeatures());}setEnabledFeatures(){this.httpClient.get(this.featureToggleURL+this.getAbTestToken()).subscribe({next:t=>{this.updateEnabledFeatures(t);},error:()=>{this.updateEnabledFeatures({});}});}updateEnabledFeatures(t){this.enabledFeatures.next(t);}isFeatureEnabled(t){return !!this.getEnabledFeature(this.enabledFeatures.getValue(),t)}isFeatureEnabled$(t){return this.enabledFeatures$.pipe(ie$b(r=>!!this.getEnabledFeature(r,t)),Dr$5())}getFeatureVariable(t,r){let i=this.getEnabledFeature(this.enabledFeatures.getValue(),t);return si$3(i,r)}getFeatureVariable$(t,r){return this.enabledFeatures.pipe(ie$b(i=>{let s=this.getEnabledFeature(i,t);return si$3(s,r)}))}getEnabledFeature(t,r){return t?.[r]}getAbTestToken(){if(!pe$7("localStorage"))return null;let t=this.window.localStorage.getItem(oi$3);return t||(this.storeAbTestToken(this.uniqueId),this.uniqueId)}storeAbTestToken(t){pe$7("localStorage")&&this.window.localStorage.setItem(oi$3,t);}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(we$5),pe$9(H$7),pe$9(f$c),pe$9(bt$5),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),co$3={provide:Vf$2,useFactory(e){return ()=>(e.initialize(),Op$2(e.featuresReady$.pipe(mt$8(1))))},deps:[te$5],multi:true};function si$3(e,o){if(e&&po$3(e,o))return e?.[o]}function po$3(e,o){return o in e}var b$9=function(e){return e[e.Shopify=1]="Shopify",e[e.Printify=2]="Printify",e[e.WooCommerce=3]="WooCommerce",e[e.Etsy=4]="Etsy",e[e.API=6]="API",e[e.Ebay=7]="Ebay",e[e.PrestaShop=8]="PrestaShop",e[e.Wix=9]="Wix",e[e.SwapClub=10]="SwapClub",e[e.BigCommerce=11]="BigCommerce",e[e.Squarespace=12]="Squarespace",e[e.Walmart=13]="Walmart",e[e.Storefront=15]="Storefront",e[e.TikTok=16]="TikTok",e[e.Amazon=17]="Amazon",e}(b$9||{}),ze$4={[b$9.Shopify]:"Shopify",[b$9.Printify]:"Printify",[b$9.WooCommerce]:"WooCommerce",[b$9.Etsy]:"Etsy",[b$9.API]:"API",[b$9.Ebay]:"Ebay",[b$9.PrestaShop]:"PrestaShop",[b$9.Wix]:"Wix",[b$9.SwapClub]:"SwapClub",[b$9.BigCommerce]:"BigCommerce",[b$9.Squarespace]:"Squarespace",[b$9.Walmart]:"Walmart",[b$9.Storefront]:"Storefront",[b$9.TikTok]:"TikTok",[b$9.Amazon]:"Amazon"},lo$3=function(e){return e.All="All",e.Ecommerce="Ecommerce platforms",e.Marketplace="Marketplace",e}(lo$3||{}),re$6=function(e){return e.Manual="3",e.AutomaticIn1h="1",e.AutomaticIn24h="2",e.AutomaticAtCertainTime="4",e}(re$6||{}),ho$2=function(e){return e.AsSoonAsPossible="1",e.CertainTime="2",e.NoTracking="3",e}(ho$2||{}),mo$3=function(e){return e.SYNC="sync",e.ASYNC="async",e}(mo$3||{});var vi$4=D$a(Kc$2());var ni$3="banners",uo$4=(()=>{class e{constructor(t){this.storage=t,this.banners$=new yn$7(this.storage.get(ni$3,{},I$8.Local));}wasDismissed(t){return this.banners$.pipe(ie$b(r=>!!r?.[t]?.seen))}dismiss(t){let r=w$9({},this.banners$.value);r[t]=r[t]||{},r[t].seen=true,this.storage.set(ni$3,r,{storageType:I$8.Local,clearOnAuth:false}),this.banners$.next(r);}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Y$4))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var m$9=function(e){return e.AmericanSamoa="AS",e.Australia="AU",e.Austria="AT",e.Belarus="BY",e.Belgium="BE",e.Bulgaria="BG",e.Canada="CA",e.Croatia="HR",e.Cuba="CU",e.Cyprus="CY",e.CzechRepublic="CZ",e.Denmark="DK",e.Estonia="EE",e.Finland="FI",e.France="FR",e.Germany="DE",e.Greece="GR",e.Guam="GU",e.HongKong="HK",e.Hungary="HU",e.India="IN",e.Indonesia="ID",e.Iran="IR",e.Ireland="IE",e.Israel="IL",e.Italy="IT",e.Latvia="LV",e.Lithuania="LT",e.Luxembourg="LU",e.Malaysia="MY",e.Malta="MT",e.Mexico="MX",e.Morocco="MA",e.Netherlands="NL",e.NewZealand="NZ",e.NorthernMarianaIslands="MP",e.Norway="NO",e.Philippines="PH",e.Poland="PL",e.Portugal="PT",e.PuertoRico="PR",e.Romania="RO",e.Russia="RU",e.Singapore="SG",e.Slovakia="SK",e.Slovenia="SI",e.SouthAfrica="ZA",e.Spain="ES",e.Sweden="SE",e.Switzerland="CH",e.Syria="SY",e.Turkiye="TR",e.UnitedKingdom="GB",e.USA="US",e.UnitedStatesMinorOutlyingIslands="UM",e.USVirginIslands="VI",e.Vietnam="VN",e}(m$9||{});var Ce$7=class e{static{this.blocklistedCountries=[m$9.Belarus,m$9.Cuba,m$9.Iran,m$9.Russia,m$9.Syria];}constructor(o,t,r){this.http=o,this.storage=t,this.environment=r;}loadCountries(){if(this.countries$)return this.countries$;let o=this.storage.get("countries",null,I$8.Session);return o?(this.countries$=hi$7(o),this.countries$):(this.countries$=this.http.get(`${this.environment.apiURL}v1/countries?states=true`).pipe(yi$5(()=>hi$7([])),kc$2(t=>{t?.length&&this.storage.set("countries",t,{storageType:I$8.Session,clearOnAuth:true});}),_c$3(1)),this.countries$)}findCountryByCode(o){return this.loadCountries().pipe(ie$b(t=>t.find(r=>r.code===o)||null))}static isBlocklistedCountry(o){return this.blocklistedCountries.includes(o)}static isEU(o){return [m$9.Austria,m$9.Belgium,m$9.Bulgaria,m$9.Croatia,m$9.CzechRepublic,m$9.Denmark,m$9.Estonia,m$9.Finland,m$9.France,m$9.Germany,m$9.UnitedKingdom,m$9.Greece,m$9.Hungary,m$9.Italy,m$9.Latvia,m$9.Lithuania,m$9.Luxembourg,m$9.Malta,m$9.Netherlands,m$9.Poland,m$9.Portugal,m$9.Cyprus,m$9.Ireland,m$9.Romania,m$9.Slovakia,m$9.Slovenia,m$9.Spain,m$9.Sweden,m$9.Norway].includes(o)}static isUS(o){return o===m$9.USA}static{this.\u0275fac=function(t){return new(t||e)(pe$9(_u$3),pe$9(Y$4),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}};var _o$2=(()=>{class e{constructor(t){this.location=t,this.storage=new Map,this.initializeState(),this.initializeStorage();}initializeState(){this.location.getState()||this.location.replaceState(this.location.path(true),"",{});}initializeStorage(){let t=this.location.getState()||{};t.dataStorage||(t.dataStorage=new Map),this.storage=t.dataStorage;}get(t,r=null){return this.storage.get(t)||r}set(t,r){this.storage.set(t,r);}cacheObservable(t){let r=this.getValueForParamKeys(t);return r?hi$7(r):t.observable().pipe(kc$2(i=>{this.setValueForParamKeys(t,i);}))}cachePromise(t){let r=this.getValueForParamKeys(t);if(r)return Promise.resolve(r);let i=t.promise();return i.then(s=>{this.setValueForParamKeys(t,s);}),i}getInnerObjectValue(t,r){return this.get(t,{})[r]}setInnerObjectValue(t,r,i){let s=this.get(t,{});s[r]=i,this.set(t,s);}invalidateStorageByKey(t){this.storage.delete(t);}getValueForParamKeys({storageKey:t,innerKey:r}){return r?this.getInnerObjectValue(t,r):this.get(t)}setValueForParamKeys({storageKey:t,innerKey:r},i){r?this.setInnerObjectValue(t,r,i):this.set(t,i);}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Xe$4))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var vo$2=(()=>{class e{constructor(t,r){this.scriptLoaderService=t,this.environment=r,this.destroy$=new Z$a,this.apiUrl="https://www.dropbox.com/static/api/2/dropins.js",this.dropApi$=gi$4(()=>this.loadScript()).pipe(Oc$2(this.destroy$),_c$3(1)),this.isLoaded$=this.dropApi$.pipe(Ac$3(i=>hi$7(!!i)),Sc$2(null));}loadScript(){return E$e(this,null,function*(){try{return yield this.scriptLoaderService.loadLib(this.apiUrl,()=>window.Dropbox,{customAttr:[{name:"id",value:"dropbox"},{name:"data-app-key",value:this.environment.dropbox_api_key}]})}catch{return Promise.resolve(false)}})}openChooser(t){window.Dropbox?.choose(t);}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}static{this.\u0275fac=function(r){return new(r||e)(pe$9(le$8),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var go$2=(()=>{class e{constructor(t){this.environment=t;}toPrintify(t=""){return `${this.environment.homepageURL}${t}`}toHelpCenter(t=""){return `${this.environment.zendeskHelpCenterUrl}/hc/en-us/${t}`}static{this.\u0275fac=function(r){return new(r||e)(pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var So$2=(()=>{class e{constructor(t,r){this.http=t,this.environment=r;}uploadImages(t){return t.length?ih$1(t.map(r=>this.upload(r))):hi$7([])}upload(t,r){let i=new FormData;i.append("file",t),i.append("isListed",r?"true":"false");let s=`${this.environment.imageStorageURL}storage`;return this.http.post(s,i)}uploadWithProgress(t,r){let i=new FormData;i.append("file",t),i.append("isListed",r?"true":"false");let s=`${this.environment.imageStorageURL}storage`;return this.http.post(s,i,{reportProgress:true,observe:"events"}).pipe(ie$b(We$7))}uploadDropbox(t,r){let i=`${this.environment.imageStorageURL}storage/dropbox`;return this.http.post(i,{uri:t,isListed:r},{reportProgress:true,observe:"events"}).pipe(ie$b(We$7))}uploadGDrive(t,r,i){let s=`${this.environment.imageStorageURL}storage/googledrive`;return this.http.post(s,{uri:t,token:r,isListed:i},{reportProgress:true,observe:"events"}).pipe(ie$b(We$7))}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function We$7(e){switch(e.type){case Je$5.Sent:return {status:"in_progress",progress:0};case Je$5.DownloadProgress:case Je$5.UploadProgress:return {status:"in_progress",progress:Math.round(100*e.loaded/e.total)};case Je$5.Response:return e.body===null?{progress:100,status:"error"}:"uri"in e.body?e.body:{progress:100,status:"error"}}return {progress:0,status:"pending"}}var xo$2=function(e){return e.Routing="order-routing-banner",e.ReplaceInfo="replace-info-banner",e.Issues="issues",e.MarketingCampaign="marketing-campaign",e.Subscription="subscription",e.InvoiceFrequency="invoice-frequency",e.ShopifyUpdatePermissions="shopify_update_permissions",e.ProductDescriptionSeoOptimisation="product_description_seo_optimisation",e.AmazonShippingOptionsOnboarding="amazon_shipping_options_onboarding",e.AmazonPublishingDelayNotification="amazon_publishing_delay_notification",e.RequiresActionProductsNotification="requires_action_products_notification",e}(xo$2||{});var Xl$1=new k$5("EVENT_SOURCE_FACTORY",{factory:()=>e=>new EventSource(e,{withCredentials:true})}),Hl$1=864e5,eh={HANDSHAKE_DATA:"handshake_data",NEW_NOTIFICATIONS_COUNTER:"new_notifications_counter"};var ie$9=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ie$9||{});var ai$4=class ai{constructor({id:o,url:t,image:r,hoverImage:i,name:s,brandName:a,model:l,price:d,premiumPrice:_,printProviderName:O,printProviders:j,colors:S,sizes:D,badge:oe,isNew:gi,isBestseller:Si,isUsAndCaOnly:xi,isSale:bi,isEcoFriendly:Ei,isPresell:yi,isDraft:Ii,isPrintifyExpress:wi,analytics:Ai,isFeatured:Ri,isPrintifyChoiceEligible:Pi,targetMarkets:Ui,eligibleSalesChannels:ki,endBuyerReviews:Ni,isPromoted:$i}){this.id=o,this.url=t,this.image=r,this.hoverImage=i,this.name=s,this.brandName=a,this.model=l,this.badge=oe,this.price=d,this.premiumPrice=_,this.printProviderName=O,this.printProviders=j,this.colors=S,this.sizes=D,this.isNew=gi,this.isBestseller=Si,this.isUsAndCaOnly=xi,this.isSale=bi,this.isEcoFriendly=Ei,this.isPresell=yi,this.isDraft=Ii,this.isPrintifyExpress=wi,this.analytics=Ai,this.isFeatured=Ri,this.isPrintifyChoiceEligible=Pi,this.targetMarkets=Ui,this.eligibleSalesChannels=ki,this.endBuyerReviews=Ni,this.isPromoted=$i;}};var bo$2=(()=>{class e{constructor(){this.browserStorage=N$8(Y$4),this.toastService=N$8(rO),this.scriptLoader=N$8(le$8),this.ngZone=N$8(te$6),this.environment=N$8(f$c),this.apiUrl="https://apis.google.com/js/api.js",this.destroy$=new Z$a,this.gapi$=gi$4(()=>this.loadScript()).pipe(Oc$2(this.destroy$),_c$3(1)),this.isLoaded$=this.gapi$.pipe(ie$b(t=>!!t),Sc$2(false)),this.isFilePickerLoaded$=this.gapi$.pipe(Ac$3(t=>t?pi$3(t):hi$7(false)),Sc$2(null));}loadScript(){return E$e(this,null,function*(){try{let t=yield this.scriptLoader.loadLib(this.apiUrl,()=>window.gapi,{skipAnonymous:!0});return yield qe$7(t,"auth"),t}catch{return Promise.resolve(null)}})}showFilesPicker(t){return this.gapi$.pipe(Ye$b(r=>!!r),mt$8(1),Oc$2(this.destroy$),Ac$3(r=>E$e(this,null,function*(){yield pi$3(r);let i=yield this.authorizeDrive(r);return this.buildFilesPicker(r,i,t)})))}buildFilesPicker(t,r,i){let s="image/jpeg,image/png,image/svg+xml",a=new google.picker.DocsView(google.picker.ViewId.DOCS);a.setMimeTypes(s),new google.picker.PickerBuilder().addView(a).setSelectableMimeTypes(s).setOAuthToken(r).setDeveloperKey(this.environment.drive_api_key).setCallback(l=>{l.action===google.picker.Action.PICKED&&t.client.drive.files.get({fileId:l.docs[0].id}).execute(_=>{this.ngZone.run(()=>{if(_?.error?.code===ie$9.NotFound)return this.toastService.error({content:"We\u2019re unable to upload this file due to permission rights. Please check your access rights and try again."});if(_?.error)return this.toastService.error({content:"We\u2019re unable to upload this file. Please try again or select another file."});let O=_;i(O.fileSize,O.selfLink+"?alt=media",r);});});}).build().setVisible(true);}authorizeDrive(t){return this.gDriveToken||(this.gDriveToken=this.browserStorage.get("gDriveToken",undefined,I$8.Session)),new Promise((r,i)=>{if(this.gDriveToken){r(this.gDriveToken);return}t.auth.authorize({client_id:this.environment.drive_client_id,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:true},s=>{if(s&&!s.error){this.gDriveToken=s.access_token,this.browserStorage.setString("gDriveToken",this.gDriveToken,{storageType:I$8.Session,clearOnAuth:true}),r(s.access_token);return}i(new Error("Failed to authorize Google Drive: "+s.error));});})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),ci$3={};function qe$7(e,o){return ci$3[o]??=new Promise((t,r)=>e.load(o,{callback:t,onerror:r})),ci$3[o]}function pi$3(e){return E$e(this,null,function*(){try{return yield Promise.all([qe$7(e,"picker"),qe$7(e,"client").then(()=>e.client.drive?void 0:e.client.load("drive","v2"))]),!0}catch{return console.error("Failed to load google file picker modules"),false}})}var Eo$2=(()=>{class e{constructor(t){this.env=t;}getMockupUrl(t){return e.getMockupUrl(this.env,t)}static getMockupUrl(t,{product:r,variant:i}){return i?.camera?`${t.imagesURL}mockup/${r._id}/${i.id}/${i.camera}/`:r.mockup}static{this.\u0275fac=function(r){return new(r||e)(pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var yo$2={enabled:false,statusCodes:[ie$9.NotFound,ie$9.InternalServerError],redirectTo:"error/discontinued-blueprint"},li$3=new Ys$2(()=>yo$2);var Io$2=(()=>{class e{static{this.itemsPerPage=24;}static{this.itemsPerSlide=4;}get paginationApiModel(){return this.paginationApiModel$.getValue()}set paginationApiModel(t){this.paginationApiModel$.next(t);}constructor(t,r,i,s=e.itemsPerPage){if(this.http=t,this.router=r,this.dataStorage=i,this.limit=s,this.pending=new yn$7(false),this.skipNavigation=false,this.paginationApiModel$=new yn$7({}),this.pageInfo$=this.paginationApiModel$.pipe(ie$b(({current_page:a,per_page:l,last_page:d,from:_,to:O,total:j})=>({currentPage:a,limit:l,lastPage:d,from:_,to:O,total:j}))),this.pending$=this.pending.asObservable(),this.queryParam="page",this.apiPath="",!t)throw new Error("PaginationBaseService constructor must be overloaded")}completeStreams(){this.pending.complete(),this.paginationApiModel$.complete();}pageInfo(){let{current_page:t,per_page:r,last_page:i,from:s,to:a,total:l}=this.paginationApiModel;return {currentPage:t,limit:r,lastPage:i,from:s,to:a,total:l}}isPending(){return this.pending.value}setApiPath(t){this.apiPath=t;}requestURL(){return this.apiPath}customQueryParams(){return {}}unsafeLoad(t=1,r){return this.loadResponse(t,r).pipe(ie$b(i=>i.body.data))}loadResponse(t=1,r){let i=this.getRequestParams(t);return this.updateCurrentPage(i),this.pending.next(true),this.http.get(this.requestURL(),x$d(w$9({},r),{params:i,observe:"response",context:new Fr$4().set(li$3,{enabled:true})})).pipe(kc$2(s=>{this.paginationApiModel$.next(s.body);}),xc$2(()=>this.pending.next(false)))}load(t=1,r){return this.unsafeLoad(t,r).pipe(yi$5(()=>hi$7([])))}loadThroughStorage(t=1,r=this.requestURL(),i){if(!this.dataStorage)throw new Error("DataStorageService not injected into class extension to use loadThroughStorage");if(!r||typeof r!="string")throw new Error("No valid storageKey defined");let s=this.getRequestParams(t),a=new URLSearchParams(s).toString(),l=this.dataStorage.getInnerObjectValue(r,a);return l?(this.paginationApiModel=l.paginationApiModel,this.pending.next(false),this.updateCurrentPage(s),hi$7(l.paginationApiModel.data)):this.loadResponse(t,i).pipe(kc$2(d=>{let _=d.body.data,j={paginationApiModel:x$d(w$9({},this.paginationApiModel$.value),{data:_})};(!i?.cacheIf||i.cacheIf(d))&&this.dataStorage?.setInnerObjectValue(r,a,j);}),ie$b(d=>d.body.data),yi$5(()=>hi$7([])))}getPage(t){if(t)return t;let r=this.getPageFromQueryParams();return r?parseInt(r,10):1}getPageFromQueryParams(){return new URLSearchParams(window.location.search).get(this.queryParam)}resetPagination(){this.paginationApiModel={};}getRequestParams(t){return w$9({page:t.toString(),limit:this.limit.toString()},this.customQueryParams())}updateCurrentPage(t){let r=parseInt(t.page,10),i=x$d(w$9({},this.router.getCurrentNavigation()?.extras?.queryParams),{page:r>1?r:null}),s=this.getPageFromQueryParams();if(this.skipNavigation){this.skipNavigation=false;return}(r>1||s)&&this.router.navigate([],{queryParams:i,queryParamsHandling:"merge"});}static getPageNumberFromUrl(){let i=new URLSearchParams(window.location.search).get("page");return i&&parseInt(i,10)||1}}return e})();var Ye$9=new k$5("HttpClient to fetch external scripts"),Lh$1={provide:Ye$9,deps:[fn$4],useFactory:e=>{let o=new _u$3(e);return {get(t){return Op$2(o.get(t,{responseType:"text"}).pipe(mt$8(1)))}}}};var le$8=(()=>{class e{constructor(t,r,i){this.zone=t,this.document=r,this.requestScriptService=i,this.loadedScripts={};}load(t,r){return this.zone.runOutsideAngular(()=>{let i=this.document.head.querySelector(`[data-src="${t}"]`);return r?.reload&&(i&&this.document.head.removeChild(i),this.loadedScripts[t]=null,i=null),this.loadedScripts[t]??=Promise.resolve().then(()=>{if(i)return hi$4(i,r?.customAttr);let s=wo$2(this.document,r),a=r?.location?r.location.nativeElement:this.document.head;return this.loadScriptContent(t,s,a,r)}),this.loadedScripts[t]})}loadLib(t,r,i){let a=1,l=()=>{let d=r();if(d)return d;if(a===10)throw new Error(`Failed to load library from "${t}" after 10 attempts "${r}" still returns undefined`);return a++,this.zone.runOutsideAngular(()=>new Promise(_=>setTimeout(_,200))).then(l)};return this.load(t,i).then(l)}loadScriptContent(t,r,i,s){return r.setAttribute("data-src",t),s?.inline?this.requestScriptService.get(t).then(a=>{r.textContent=a,i.append(r);}):(r.src=t,new Promise((a,l)=>{r.onload=()=>a(),r.onerror=()=>l(),i.append(r);}))}static{this.\u0275fac=function(r){return new(r||e)(pe$9(te$6),pe$9(L$8),pe$9(Ye$9))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function wo$2(e,o){let t=e.createElement("script");return t.setAttribute("type","text/javascript"),t.setAttribute("async",(o?.async??true).toString()),!o?.skipAnonymous&&!o?.inline&&t.setAttribute("crossOrigin","anonymous"),o?.defer&&t.setAttribute("defer","defer"),hi$4(t,o?.customAttr),t}function hi$4(e,o){o?.length&&o.forEach(t=>e.setAttribute(t.name,t.value));}var Ao$2=(()=>{class e{constructor(){this.hasTouchInput$=_i$7(window,"touchstart",{once:true,passive:true}).pipe(Ei$9(true),Sc$2(false),_c$3(1));}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Em$1=(()=>{class e{constructor(t,r,i,s,a,l,d){this.http=t,this.userService=r,this.environment=i,this.window=s,this.currencyService=a,this.eventDispatcherService=l,this.featureToggleService=d;}getBaseUrl({userId:t,shopId:r}){return `${this.environment.apiURL}v1/users/${t}/shops/${r}/products`}getProductUrl({userId:t,shopId:r,productId:i}){return `${this.getBaseUrl({userId:t,shopId:r})}/${i}`}getProductDetailsUrl(t){return `${this.getProductUrl(t)}/details`}getPublishUrl(t){return `${this.getBaseUrl(t)}/publish`}getPublishWithDetailsUrl(t){return `${this.getBaseUrl(t)}/publish-with-details`}createProduct(t,r){return this.http.post(this.getBaseUrl(t),r)}getProduct(t,r){return this.http.get(this.getProductUrl(t),x$d(w$9({},r&&{params:r}),{headers:{"X-Pfy-Currency":this.currencyService.defaultCurrency.code}}))}getProductDetails(t){let r={};t.salesChannel&&(r.salesChannel=t.salesChannel.toLowerCase());let i=this.getProductDetailsUrl(t);return this.http.get(i,{params:new Ie$6({fromObject:r}),headers:{"X-Pfy-Currency":this.currencyService.defaultCurrency.code}})}updateProduct(t,r,i){let s=r.decorators.map(_=>{let O=_.variants.map(j=>(delete j.oos,j));return x$d(w$9({},_),{variants:O})}),a=x$d(w$9({},r),{decorators:s}),l=t.source,d=w$9(w$9({},i&&w$9({},i)),l&&{source:l});return this.http.put(this.getProductUrl(t),a,{params:Object.keys(d).length>0?d:undefined})}deleteProduct(t){return this.http.delete(this.getProductUrl(t)).pipe(kc$2(()=>{this.eventDispatcherService.dispatch(new ee$8(t.userId,t.shopId,t.productId));}))}publishProducts(t){let r=t.products.map(({_id:i})=>i);return this.http.post(this.getPublishUrl(t),{products:r})}publishProductsWithDetails(t){let r=t.products.map(({_id:i})=>i);return this.http.post(this.getPublishWithDetailsUrl(t),w$9({products:r},t.details||{}))}patchProduct(t,r){return this.http.patch(this.getProductUrl(t),r)}replaceProduct(t,r){let i=x$d(w$9({},r),{automatically_publish:false,publish_details:r.publish_details||{mockup:true,inventory:true,name:true,description:true,tags:true,keyFeatures:true,shipping_template:true}});return this.http.post(`${this.getProductUrl(t)}/replace`,i)}storeUnsavedProduct(){if(!pe$7("sessionStorage"))return;let t=this.window.sessionStorage.getItem(be$7);if(t){let r={userId:this.userService.getId(),product:JSON.parse(t)};this.window.sessionStorage.setItem(ae$7,JSON.stringify(r));}}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(J$5),pe$9(f$c),pe$9(Q$9),pe$9(Eo$3),pe$9(X$6),pe$9(te$5))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var mi$3=new Ys$2(()=>false);var di$3=(()=>{class e{constructor(t){this.env=t;}intercept(t,r){return t.context.get(mi$3)||!this.shouldIntercept(t)?r.handle(t):this.interceptInternal(t,r)}shouldIntercept(t){if(t.url.startsWith("/"))return  true;try{return new URL(t.url).hostname.includes(this.env.domain)}catch(r){return console.error(r),false}}static{this.\u0275fac=function(r){return new(r||e)(pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac});}}return e})();var Fe$5=new Ys$2(()=>true),ui$2="X-AB-Test-Token",Tm$1=(()=>{class e extends di$3{constructor(t,r){super(r),this.featureTogglesService=t;}interceptInternal(t,r){let i=this.featureTogglesService.getAbTestToken(),s=t.context.get(Fe$5);return r.handle(s&&i?t.clone({headers:t.headers.set(ui$2,i)}):t).pipe(kc$2(a=>{if(a instanceof pn$7&&!a.url?.includes(this.featureTogglesService.featureToggleURL)){let l=a.headers.get(ui$2);l&&this.featureTogglesService.storeAbTestToken(l);}}))}static{this.\u0275fac=function(r){return new(r||e)(pe$9(te$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac});}}return e})();var qm$1=(()=>{class e{constructor(t,r,i,s){this.http=t,this.env=r,this.URL=i,this.errorHandler=s,this.urls=[];}ngOnDestroy(){this.urls.forEach(t=>{this.URL.revokeObjectURL(t);}),this.urls=[];}fetchPreviewForProduct(t,r={}){return this.fetchPreview(w$9({productId:t._id,blueprintId:t.blueprint_id,decorator:t.decorators.find(i=>i.id===t.decorator_id),renderSettings:t.render_settings},r))}fetchPreview(t){let r=this.getActiveOrDefaultPreviewCamera(t),i=this.getVariant(t.decorator),s=this.getPrint(t.decorator),a=this.getPlaceholders(s),l={print:x$d(w$9({},s),{placeholders:a}),blueprint_id:t.blueprintId,variant_id:i.id,decorator_id:t.decorator?.id,camera_id:r?.id,size:t.size||400};return this.http.post(`${this.env.imagesURL}preview`,l,{context:new Fr$4().set(Fe$5,false),observe:"response",responseType:"blob"}).pipe(ie$b(d=>{if(d.body){let _=this.URL.createObjectURL(d.body);if(_)return this.urls.push(_),_}return this.errorHandler.handleError("Product preview image is not available!"),null}),yi$5(d=>(this.errorHandler.handleError(d),hi$7(null))))}getVariant(t){let r=t?.variants||[],i=(t?.options||[]).reduce((a,l)=>(l.items.forEach(d=>{d.default&&a.push(d.id);}),a),[]);return r.find(a=>new Set([...a.options,...i]).size===i.length)||r[0]}getActiveOrDefaultPreviewCamera(t){let r=this.getPreviewCameras(t),i=r.find(s=>s.active);return i||r.find(s=>s.is_default)}getPreviewCameras(t,r=this.getVariant(t.decorator)){let i=this.getCameras(t.renderSettings),s=i.filter(l=>!!l.is_default),a=this.camerasWithVariant(i,r);if(a.length){let l=[x$d(w$9({},a[0]),{active:true})],d=a.map(_=>w$9({active:!!_.active||!!_.is_default},_)).filter(_=>!!_.active);s=d.length?d:l;}return s.map(l=>x$d(w$9({},l),{src:this.getVariantImageUrlForCamera(t.productId,r,l,t)}))}getCamerasForProduct(t,r={}){return this.getCamerasWithPreview(w$9({productId:t._id,blueprintId:t.blueprint_id,decorator:t.decorators.find(i=>i.id===t.decorator_id),renderSettings:t.render_settings},r))}getCamerasWithPreview(t,r=this.getVariant(t.decorator)){let i=this.getCameras(t.renderSettings),s=this.camerasWithVariant(i,r);return (s.length?s:this.nonVariantSpecificCameras(i)).map(l=>x$d(w$9({},l),{src:this.getVariantImageUrlForCamera(t.productId,r,l,t)}))}camerasWithVariant(t,r){return t.filter(i=>r.options.includes(i.option_id)||r.id===i.variant_id)}nonVariantSpecificCameras(t){return t.filter(r=>!r.option_id&&!r.variant_id)}getCameras(t){let r=t.cameras||[],i=t.settings.default_camera;return i?r.map(s=>x$d(w$9({},s),{is_default:s.id===i?1:0})):r}getVariantImageUrlForCamera(t,r,i,s){let a=`${this.env.imagesURL}mockup/${t}/${r.id}/${i.id}/?s=${s.size||400}`;return s.ignoreHttpCache&&(a+=`&t=${Date.now()}`),a}getPlaceholders(t){return t?t.placeholders.filter(r=>!!r.images.length).map(r=>x$d(w$9({},r),{images:r.images.map((i,s)=>x$d(w$9({},i),{guid:ye$6(),active:s===0}))})):[]}getPrint(t){let r=this.getVariant(t);return (t?.prints||[]).find(s=>s.variant_ids.indexOf(r.id)>-1)}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(f$c),pe$9(Et$2),pe$9(it$a))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Po$5=function(e){return e.Header="header",e.Variants="variants",e.Shipping="shipping",e.Description="description",e}(Po$5||{});function Uo$3(e){return new Date(`1970-01-01T${e}Z`).toLocaleTimeString("en-US",{timeZone:"UTC",hour12:true,hour:"2-digit",minute:"2-digit"})}function fi$3(e,o){let t=`${e.h?.padStart(2,"0")}:${e.m?.padStart(2,"0")}`;return o==K$7.Imperial&&(t=Uo$3(`${t}:00`)),t}var _i$5=new k$5("Billing currency code provider");var ko$3=["/store/products","/store/settings/name","/account/details"],No$3=10,$o$2=5,Ro$2=(()=>{class e{constructor(t,r,i,s,a,l,d,_,O,j){this.httpClient=t,this.location=r,this.router=i,this.userService=s,this.userSubscriptionService=a,this.env=l,this.errorHandler=d,this.eventDispatcherService=_,this.sessionDetailsProviderService=O,this.billingCurrencyCodeProvider=j,this.storesState$=new yn$7([]),this.stores$=this.storesState$.asObservable(),this.selectedStoreUpdates$=Hp$2([this.sessionDetailsProviderService.storeId$,this.stores$]).pipe(ie$b(([S,D])=>S&&(D.find(oe=>oe.id===S)||D[0])||null),_c$3(1)),this.selectedStore$=this.selectedStoreUpdates$.pipe(Ye$b(Boolean)),this.id$=this.selectedStore$.pipe(ie$b(S=>S.id),Ye$b(S=>!!S),Dr$5()),this.salesChannelId$=this.selectedStore$.pipe(ie$b(S=>S.salesChannelId),Ye$b(S=>!!S),Dr$5()),this.salesChannelLabel$=this.selectedStore$.pipe(ie$b(S=>S.salesChannelLabel),Dr$5()),this.disconnectedStores$=this.stores$.pipe(ie$b(S=>S.filter(D=>!D.connected&&D.salesChannelId===b$9.Printify))),this.addStoreDisabled$=this.stores$.pipe(Ac$3(S=>this.isStoresLimitReached(S))),this.productsTotalCount$=this.stores$.pipe(ie$b(S=>S.reduce((D,oe)=>D+oe.products.total,0))),this.currentlySelectedStore=null,this.selectedStore$.pipe(X$7()).subscribe(S=>{this.currentlySelectedStore=S;}),this.keepProductsCountSynced(),this.keepSelectedStoreSyncedWithHistory();}keepProductsCountSynced(){$p$1(this.eventDispatcherService.events$.pipe(G$6(Ae$5),kc$2(()=>this.store&&this.incrementStoreProducts(this.store.id))),this.eventDispatcherService.events$.pipe(G$6(Re$4),kc$2(t=>t.toStoreIds.forEach(r=>this.incrementStoreProducts(r,t.productsCount)))),this.eventDispatcherService.events$.pipe(G$6(ee$8),kc$2(t=>this.decrementStoreProducts(t.storeId)))).pipe(X$7()).subscribe();}keepSelectedStoreSyncedWithHistory(){let t=this.selectedStore$.pipe(kc$2(i=>{let s=this.location.path();if(!ko$3.find(d=>s.startsWith(d)))return;let l=this.location.getState();l&&l.store!==i.id&&this.location.replaceState(s,"",x$d(w$9({},l),{store:i.id}));})),r=Hp$2([this.router.events,this.sessionDetailsProviderService.userId$]).pipe(Ye$b(([i,s])=>i instanceof ie$a&&!!s),kc$2(()=>{let i=this.location.getState();i&&"store"in i&&this.switchStore(i.store);}));$p$1(t,r).pipe(X$7()).subscribe();}get store(){return this.currentlySelectedStore}get stores(){return this.storesState$.value}getSalesChannelID(){return this.store?.salesChannelId}getId(){return this.store?.id}getSalesChannelLabel(){return this.store?.salesChannelLabel}getSalesChannelIdForStore(t){return this.stores?.find(r=>r.id===t)?.salesChannelId}getOrderApprovalLabel(t){let r=t.production;return this.userService.authenticatedUser$.pipe(ie$b(i=>{if(!t.connected)return "Unconnected store";switch(r.setting.toString()){case re$6.AutomaticAtCertainTime:return `Automatic, at ${fi$3(r.time,i.details.units)}`;case re$6.Manual:return "Manual";case re$6.AutomaticIn1h:return "Automatic (1h)";case re$6.AutomaticIn24h:return "Automatic (24h)";default:return "Unknown"}}),Rc$2(this.userSubscriptionService.isSubscribed$),ie$b(([i,s])=>t.end_customer_portal.enabled&&s?`${i}, Printify Connect`:i))}switchStore(t){if(!this.stores.length){this.errorHandler.handleError(new Error(`Trying to switch store to ${t} but there are none.Waiting for stores to be loaded (max 10sec) and retry`)),this.stores$.pipe(Ye$b(i=>!!i.length),mt$8(1),Oc$2(de$7(1e4))).subscribe(()=>this.switchStore(t));return}if(!this.stores.some(i=>i.id===t)){let i=this.stores.map(s=>s.id);this.errorHandler.handleError(new Error(`Trying to switch to unknown store ${t} (known ids: ${i}).Switching to the first existing store`)),this.switchStore(i[0]);return}this.sessionDetailsProviderService.switchStore(t);}switchToNewest(){this.stores$.pipe(mt$8(1)).subscribe(t=>{let r=t[t.length-1];(0, vi$4.assert)(!!r,"Stores are required to switch to the newest one"),this.switchStore(r.id);});}markStoreAsConnected(){this.patchSelectedStore({connected:true});}patchStore(t,r){let i=this.stores.findIndex(s=>t===s.id);i!==-1&&(this.stores[i]=Cc$4({},this.stores[i],r),this.storesState$.next(this.stores));}patchSelectedStore(t){this.sessionDetailsProviderService.storeId$.pipe(mt$8(1)).subscribe(r=>{r&&this.patchStore(r,t);});}reloadStores(){return this.sessionDetailsProviderService.userId$.pipe(Ac$3(t=>t?this.billingCurrencyCodeProvider.currencyCode$.pipe(Ac$3(r=>this.getMerchantStores(t,r))):hi$7([])),kc$2(t=>this.storesState$.next(t)),mt$8(1))}createNewStore(t){return this.httpClient.post(`${this.env.apiURL}v1/users/${this.userService.getId()}/shops`,{brand:t}).pipe(Ac$3(r=>this.reloadStores().pipe(ie$b(()=>r))),ie$b(r=>(this.switchStore(r.id),this.eventDispatcherService.dispatch(new Pe$6),r)))}findStoreById(t){return this.stores?.find(({id:r})=>r===t)}getOrderRoutingPriceThresholds(t){return this.httpClient.get(`${this.env.apiURL}v1/order-routing/price-increase-thresholds`,{headers:{"X-Pfy-Currency":t}})}deleteStore(t){if(!this.stores||this.stores.length<=1)return hi$7(undefined);let r=`${this.env.apiURL}v1/users/${this.userService.getId()}/shops/${t}`;return this.httpClient.delete(r).pipe(Ac$3(()=>this.reloadStores()),ie$b(i=>{if(t!==this.store?.id)return;let s=i[0];s&&this.switchStore(s.id);}))}disconnectStore(t){let r=`${this.env.apiURL}v1/users/${this.userService.getId()}/shops/${t}/disconnect`;return this.httpClient.post(r,null).pipe(ie$b(i=>{this.patchStore(t,i);}))}hideSalesGuideForAllListings(t){let r=`${this.env.apiURL}v1/users/${this.userService.getId()}/shops/${t}/sales-guide/hide-for-all-listings`;return this.httpClient.patch(r,null).pipe(ie$b(()=>{this.patchStore(t,{sales_guide:{hide_for_all_listings:true}});}))}enableCarrier(t,r){return this.httpClient.post(`${this.env.apiURL}v1/users/${this.userService.getId()}/shops/${t}/enable-disable-carrier`,{enabled:r}).pipe(ie$b(i=>!i.errors),yi$5(i=>(this.errorHandler.handleError(i),hi$7(false))),Ac$3(i=>E$e(this,null,function*(){return i&&this.patchStore(t,{carrier:r}),i})))}isStoresLimitReached(t){if(this.userService.isToggleOn("unlimited_stores"))return hi$7(false);let r=i=>t.length>=i;return this.userSubscriptionService.isSubscribed$.pipe(ie$b(i=>i?r(No$3)&&"You may have up to 10 stores under the Premium plan.":r($o$2)&&"You may have up to 5 stores under the Free plan."))}getMerchantStores(t,r){return this.httpClient.get(`${this.env.apiURL}v1/users/${t}/shops`,{headers:{[ES]:r}})}incrementStoreProducts(t,r=1){let i=this.stores.find(s=>t===s.id);i&&this.patchStore(i.id,{products:{total:i.products.total+r,count:i.products.count+r}});}decrementStoreProducts(t,r=1){let i=this.stores.find(s=>t===s.id);i&&this.patchStore(i.id,{products:{count:i.products.count-r}});}static isSalesChannelSupported(t){return Object.values(b$9).includes(t)}static parseSalesChannelLabel(t){switch(true){case t===ze$4[b$9.Storefront]:return "Printify Pop-Up";case t===ze$4[b$9.Printify]:return;default:return t}}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(Xe$4),pe$9(ve$8),pe$9(J$5),pe$9(yt$5),pe$9(f$c),pe$9(it$a),pe$9(X$6),pe$9(Z$8),pe$9(_i$5))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();
var U$c=(()=>{class e{constructor(){this.httpClient=N$8(_u$3),this.environment=N$8(f$c),this.userService=N$8(J$5),this.errorHandler=N$8(it$a);}getMetadata(t,i={}){return this.httpClient.get(this.buildRequestUrl(t)).pipe(ie$b(r=>r.data),yi$5(r=>(r.status!==ie$9.NotFound&&this.errorHandler.handleError(r),hi$7(i))))}saveMetadata(t,i){return this.httpClient.post(this.buildRequestUrl(t),i).pipe(yi$5(r=>(this.errorHandler.handleError(r),hi$7(undefined))))}buildRequestUrl(t){return `${this.environment.dashboardApiURL}/${this.userService.getId()}/fe-widgets/${t}`}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var t$c=function(r){return r.Generated="GENERATED",r.Custom="CUSTOM",r.Uploaded="UPLOADED",r}(t$c||{});var l$6=e=>{let t=Object.keys(e),s=t.find(r=>r.toLowerCase().includes("context")),o=t.find(r=>r.toLowerCase().includes("person")),c=t.find(r=>r.toLowerCase().includes("lifestyle")),a=t[0];return e[s||o||c||a].src},i$5=(e,t)=>{let s=new URL(e);return s.searchParams.set("s",t.toString()),s.toString()};function d$6(e,t){if(!(e.type===t$c.Generated?e.custom_background:false)||!t)return e.src;let o=new URL(e.src);return o.pathname=o.pathname.replace(/\.[^.]+$/,".png"),o.searchParams.set("transparent_background","true"),o.searchParams.set("use_cache","false"),o.toString()}var t$b={external:"Back",internal:"Back to Catalog",blueprint:"Back to Catalog",productDetails:"Back to Listing",myProducts:"Back to My Products",orderOther:"Back to Order",printsyBlueprint:"Back to Product details",brandingSettings:"Back to Store Settings",manualOrderReplaceWithPrintifyChoice:"Back to order creation"},e$6={internal:"Save product",selectProduct:"Save & review order",orderDetailsReviewPersonalization:"Approve personalization",manualOrderEditPersonalizedProductCopy:"Approve personalization",otherOrderDetailsProductSuggestion:"Save"},r$9="product_create",o$a="branding_create",a$5="gift_message_create";var M$8="dashboard";var b$8=D$a(Kc$2());var i$4=class i{constructor(r,e,s,o){this.widgetAnalyticsName=r,this.interactionType=e,this.currentStoreId=s,this.metadata=o;}};var c$b=function(t){return t.Loading="loading",t.Loaded="loaded",t.Error="error",t}(c$b||{}),w$7=2e3,O$9=t=>({provide:k$4,useExisting:t}),k$4=(()=>{class t{constructor(){this.eventDispatcherService=N$8(X$6),this.storesService=N$8(Ro$2),this.load=new In$7(1),this.loadResult$=this.prepareLoadResultStream(),this.state$=this.loadResult$.pipe(ie$b(({state:e})=>e)),this.data$=this.loadResult$.pipe(ie$b(({data:e})=>e)),this.error$=this.loadResult$.pipe(ie$b(({error:e})=>e));}ngOnInit(){this.load.next(false);}reload(){this.load.next(true);}trackInteraction(e,s){let o=this.storesService.getId();(0, b$8.assert)(!!o,"Store id is required to track widget interaction"),this.eventDispatcherService.dispatch(new i$4(this.getWidgetAnalyticsName(),e,o,s));}prepareLoadResultStream(){return this.load.pipe(Ac$3(e=>(e?de$7(w$7).pipe(Ac$3(()=>this.loadData())):this.loadData()).pipe(ie$b(o=>({state:c$b.Loaded,data:o,error:null})),yi$5(o=>hi$7({state:c$b.Error,data:null,error:o})),Sc$2({state:c$b.Loading,data:null,error:null}))),_c$3({refCount:true,bufferSize:1}))}static{this.\u0275fac=function(s){return new(s||t)};}static{this.\u0275dir=VR({type:t});}}return t})();var y$6=function(t){return t.Collapse="Collapse",t.Expand="Expand",t.CtaClick="CTA Click",t.ContentClick="Content Click",t.SeeMoreClick="See More Click",t}(y$6||{});var l$5=class l{constructor(r){this.pageName=r;}},d$5=class d{constructor(r){this.pageName=r;}},h$7=class h{constructor(r){this.pageName=r;}},u$6=class u{constructor(r){this.pageName=r;}};var m$8=class m{constructor(r){this.payload=r;}},x$a=class x{constructor(r){this.payload=r;}},f$b=class f{constructor(r){this.payload=r;}},C$d=class C{constructor(r){this.payload=r;}};var o$9="wizard",r$8=t=>t.startsWith(`/${o$9}`);var r$7="sales-channels",f$a="connection-success",Y$3="connection-failure",x$9="etsy-recommendation",y$5="etsy-setup-store-guide",w$6="etsy-setup",D$7="etsy-store-setup",g$a="create-shop",F$a="placeholder-listing",$$6="payment-details",b$7="billing-details",M$7="intro",W$6="create-store",Z$7="guide",j$7="setup-required",B$7="sales-channel-recommendations";var s$a="shopify-store-setup-guide",I$7="intro",V$6=`/${o$9}/${r$7}/${s$a}/${I$7}`,Q$8=[o$9,r$7,s$a,I$7],m$7="create-store",z$9=`/${o$9}/${r$7}/${s$a}/${m$7}`,H$6="connect-store",J$4=`/${o$9}/${r$7}/${s$a}/${H$6}`,K$6=[o$9,r$7,s$a,H$6],l$4="success",ee$7=[o$9,r$7,s$a,l$4];var a$4=class a{constructor({videoId:U,title:t,state:o,shopId:S}){this.videoId=U,this.title=t,this.state=o,this.shopId=S;}};var _$8=function(e){return e[e.Started=-1]="Started",e[e.Finished=0]="Finished",e}(_$8||{});var O$8=(()=>{class e{constructor(){this.eventDispatcherService=N$8(X$6),this.scriptLoaderService=N$8(le$8),this.storesService=N$8(Ro$2),this.window=N$8(Q$9),this.apiLoaded=new Promise(t=>{this.window.onYouTubeIframeAPIReady=t;});}initPlayer(t){return this.window?.YT?.Player?Promise.resolve(this.createYoutubePlayer(t)):(this.loadYouTubeAPI(),this.apiLoaded.then(()=>this.createYoutubePlayer(t)))}loadYouTubeAPI(){this.scriptLoaderService.load("https://www.youtube.com/iframe_api",{skipAnonymous:true});}createYoutubePlayer({videoContainerId:t,videoId:o,width:S,events:n}){if(!this.window?.YT?.Player)return null;let c;return new this.window.YT.Player(t,{videoId:o,width:S,events:n||{onStateChange:R=>{c=this.onPlayerStateChange.call(this,R,c);}}})}onPlayerStateChange(t,o){let S=t.target.getVideoData(),n=S.video_id,c=S.title;return t.data===_$8.Started?(this.eventDispatcherService.dispatch(new a$4({videoId:n,title:c,state:"started",shopId:this.storesService.getId()||null})),_$8.Started):t.data===_$8.Finished&&o!==_$8.Finished?(this.eventDispatcherService.dispatch(new a$4({videoId:n,title:c,state:"finished",shopId:this.storesService.getId()||null})),_$8.Finished):o}ngOnDestroy(){this.window.onYouTubeIframeAPIReady=undefined;}static{this.\u0275fac=function(o){return new(o||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Te$7=(()=>{class e{constructor(){this.videoId=cR.required(),this.width=cR.required(),this.youtubeIframeApiService=N$8(O$8),this.videoContainerId=HP(()=>`youtube-player-${this.videoId()}`);}ngAfterViewInit(){this.youtubeIframeApiService.initPlayer({videoContainerId:this.videoContainerId(),videoId:this.videoId(),width:this.width()});}static{this.\u0275fac=function(o){return new(o||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-youtube-video"]],inputs:{videoId:[1,"videoId"],width:[1,"width"]},decls:1,vars:1,consts:[[2,"max-width","100%","aspect-ratio","16/9","height","auto",3,"id"]],template:function(o,S){o&1&&ME(0,"div",0),o&2&&lE("id",S.videoContainerId());},encapsulation:2,changeDetection:0});}}return e})();
var i$3=function(e){return e[e.ExternalID=1]="ExternalID",e[e.Label=2]="Label",e[e.ShippingMethod=3]="ShippingMethod",e[e.FirstName=4]="FirstName",e[e.LastName=5]="LastName",e[e.Email=6]="Email",e[e.Phone=7]="Phone",e[e.Country=8]="Country",e[e.Region=9]="Region",e[e.AddressLine1=10]="AddressLine1",e[e.AddressLine2=11]="AddressLine2",e[e.City=12]="City",e[e.Zip=13]="Zip",e[e.Quantity=14]="Quantity",e[e.PrintProviderID=15]="PrintProviderID",e[e.PrintProviderName=24]="PrintProviderName",e[e.BlueprintID=16]="BlueprintID",e[e.BlueprintName=25]="BlueprintName",e[e.VariantID=17]="VariantID",e[e.VariantName=26]="VariantName",e[e.PrintAreaBack=18]="PrintAreaBack",e[e.PrintAreaFront=19]="PrintAreaFront",e[e.PrintAreaNeck=20]="PrintAreaNeck",e[e.PrintAreaLeftSleeve=21]="PrintAreaLeftSleeve",e[e.PrintAreaRightSleeve=22]="PrintAreaRightSleeve",e[e.PrintAreaNeckOuter=23]="PrintAreaNeckOuter",e}(i$3||{}),T$9={wrongExtension:()=>({type:"Extension"}),wrongType:()=>({type:"Type"}),wrongFileSize:()=>({type:"FileSize"}),uploadFailed:()=>({type:"UploadFailed"}),columnsMissing:e=>({type:"ColumnsMissing",titles:e}),validationError:()=>({type:"ValidationError"}),unprocessableOrders:()=>({type:"UnprocessableOrders"}),importValidationError:()=>({type:"ImportValidationError"}),noOrders:()=>({type:"NoOrders"})};var n$5=function(e){return e.NotImported="not-imported",e.ReadyForImport="ready-for-import",e.ArtworkNeeded="artwork-needed",e.HasIssues="has-issues",e}(n$5||{}),o$8=function(e){return e[e.HasIssues=1]="HasIssues",e[e.NotImported=2]="NotImported",e}(o$8||{});function M$6(e){return !!e.shipping_address.first_name&&!!e.shipping_address.last_name}function B$6(e){return !!e.shipping_address.address1&&!!e.shipping_address.city&&!!e.shipping_address.country&&!!e.shipping_address.zip}var d$4=function(e){return e.RECENTLY_CREATED="RECENTLY_CREATED",e.PREVIOUS_SELECTIONS="PREVIOUS_SELECTIONS",e}(d$4||{});var t$a=function(e){return e.ORDINARY="ordinary",e.PRIORITISED="prioritised",e}(t$a||{}),a$3=function(e){return e.Manual="m",e}(a$3||{}),p$a=function(e){return e.ShipmentUnknown="shipment_unknown",e.ShipmentPreTransit="shipment_pre_transit",e.ShipmentInTransit="shipment_in_transit",e.ShipmentOutForDelivery="shipment_out_for_delivery",e.ShipmentDelivered="shipment_delivered",e.ShipmentAvailableForPickup="shipment_available_for_pickup",e.ShipmentReturnToSender="shipment_return_to_sender",e.ShipmentFailure="shipment_failure",e.ShipmentDeliveryAttempt="shipment_delivery_attempt",e.ShipmentCancelled="shipment_cancelled",e.ShipmentError="shipment_error",e.DesignRejected="design_rejected",e.Canceled="canceled",e.InProduction="in-production",e.OnHold="on-hold",e.Fulfilled="fulfilled",e.PartiallyFulfilled="partially-fulfilled",e.HasIssues="has-issues",e.CheckingQuality="checking-quality",e.QualityApproved="quality-approved",e.QualityDeclined="quality-declined",e.ReadyForProduction="ready-for-production",e.SendingToProduction="sending-to-production",e.BulkInProduction="bulk-in-production",e.QueuedForProduction="queued-for-production",e.QueuedForSendToProduction="queued-for-send-to-production",e.Multiple="multiple",e.ExceedsProductionTimeFrame="exceeded-production-time-frame",e.SendingToProductionDelegate="sending_to_production_delegate",e}(p$a||{}),c$a=function(e){return e.Picked="picked",e.Printed="printed",e.Packaged="packaged",e.OutOfStock="out_of_stock",e.Discontinued="discontinued",e.ImageHasIssues="image_issue",e.ShipmentDelayed="shipment_delayed",e.ShipmentUndeliverable="shipment_undeliverable",e.ReviewNeeded="review_needed",e.CanceledByPrintProvider="canceled_by_print_provider",e.CanceledByIpDetection="item_is_canceled_by_ip_detection",e.CancelledDueMissingExternalShippingLabel="item_is_canceled_due_missing_external_shipping_label",e.IssueAddressChange="issue_address_change",e.IssueDeliveryRefused="issue_delivery_refused",e.IssueDeliveryDelayedCustoms="issue_delivery_delayed_customs",e.IssueDeliveryDelayed="issue_delivery_delayed",e.IssueIncorrectAddress="issue_incorrect_address",e.IssueRejected="issue_rejected",e.IssueDamaged="issue_damaged",e.IssueLost="issue_lost",e.ShipmentUndeliverableRestricted="shipment_undeliverable_restricted",e.ReadinessAnticipation="readiness_anticipation",e.DigitizationFailed="digitization_failed",e}(c$a||{}),_$7=function(e){return e.Full="FC",e.Partial="PC",e.Unavailable="UC",e}(_$7||{});var l$3=function(e){return e.Active="active",e.OnHold="on-hold",e.Error="error",e}(l$3||{});var u$5=function(e){return e.DIGITIZATION_FAILED="DIGITIZATION_FAILED",e.ORDER_LINE_ITEM_REVIEWED="ORDER_LINE_ITEM_REVIEWED",e.ORDER_LINE_ITEM_CANCELED="ORDER_LINE_ITEM_CANCELED",e}(u$5||{}),f$9=function(e){return e.Pending="pending",e.OnHold="on-hold",e.SendingToProduction="sending-to-production",e.SendingToProductionDelegate="sending_to_production_delegate",e.InProduction="in-production",e.Canceled="canceled",e.Fulfilled="fulfilled",e.PartiallyFulfilled="partially-fulfilled",e.PaymentNotReceived="payment-not-received",e.HasIssues="has-issues",e.CostCalculation="cost-calculation",e.Unfulfillable="unfulfillable",e.SourceCheckFailed="source-check-failed",e}(f$9||{}),s$9=function(e){return e.BulkSubmission="bulk-submission",e.BulkRetryPayment="retry-payment",e}(s$9||{}),h$6=function(e){return e.AddressValidationFailed="address_validation_failed",e.CustomerValidationFailed="customer_validation_failed",e.ImageQualityValidationFailed="image_quality_validation_failed",e.AutomatedRoutingFailed="automated_routing_failed",e.ShippingRestrictions="shipping_restrictions",e.ShippingRestrictionsLifted="shipping_restrictions_lifted",e.PendingRefund="verify_possible_refund",e.RoutingNoSubstitue="automated_routing_failed_no_substitute",e.RoutingCost="automated_routing_failed_cost",e.TaxCalculationQuoationError="tax_calculation_quotation_error",e.TotalShippingCostCanNotBeZero="total_shipping_cost_can_not_be_zero",e.ReadinessAnticipation="readiness_anticipation",e.DigitizationFailed="digitization_failed",e.ShippingLabelNotUploaded="shipping_label_not_uploaded",e}(h$6||{}),x$8=function(e){return e.Sample="sample",e.Manual="manual",e.External="external",e.Api="api",e.Csv="csv-import-tool",e}(x$8||{}),g$9=function(e){return e.CreatedAt="-created_at",e.UpdatedAt="-updated_at",e.SentToProductionAt="sent_to_production_at",e}(g$9||{}),P$9=function(e){return e.SendToProduction="send_to_production",e.RetryPayment="retry_payment",e}(P$9||{}),E$b=function(e){return e.Ordinary="ordinary",e.Prioritised="prioritised",e}(E$b||{}),V$5="aiqc",y$4=function(e){return e.DigitizationRejected="DIGITIZATION_REJECTED",e}(y$4||{}),A$d=function(e){return e.NotPredictable="not-predictable",e}(A$d||{});var N$6=function(e){return e.Banners="ordersBanners",e.OtherOrdersBanners="otherOrdersBanners",e.OtherOrderBanners="otherOrderBanners",e}(N$6||{});var R$d=function(e){return e.AllProducts="all-products",e.ExpressDelivery="express_eligible",e.EconomyShipping="economy_eligible",e}(R$d||{});var r$6=function(e){return e.ContinueToProduction="do_nothing_and_continue_production",e.ShipToAddress="ship_to_an_alternative_address",e.ForceCancellationAndRefund="force_cancellation_and_refund",e}(r$6||{}),F$9=function(e){return e.Unavailable="automatic_cancellation_unavailable",e.Failed="automatic_cancellation_failed",e}(F$9||{}),m$6=[{name:"Continue production",value:r$6.ContinueToProduction},{name:"Ship to an alternative address",value:r$6.ShipToAddress}],z$8=m$6[0],b$6=function(e){return e.SimpleFlow="pre-production",e.ApiFlow="in-production",e}(b$6||{});var I$6=function(e){return e.FailedInPP="failed_to_cancel_in_pphub",e.CancelledInPP="cancelled_in_pphub",e.CancelledInPrintify="cancelled_in_printify_only",e}(I$6||{});var j$6="PII_DELETED";var $$5={firstName:{required:"First name is required",maxlength:"Max length exceeded (40 symbols)"},lastName:{required:"Last name is required",maxlength:"Max length exceeded (40 symbols)"},phone:{required:"Phone is required",pattern:"Phone is invalid",maxlength:"Max length exceeded (15 symbols)"},email:{required:"Email is required",pattern:"Please enter valid email address",maxlength:"Max length exceeded (65 symbols)"}};var v$6=function(e){return e.PrintQuality="PRINT_QUALITY",e.ProductQuality="PRODUCT_QUALITY",e.Fulfillment="FULFILLMENT",e}(v$6||{});var ur$2=Object.prototype.toString;function le$7(e){switch(ur$2.call(e)){case "[object Error]":case "[object Exception]":case "[object DOMException]":return  true;default:return O$7(e,Error)}}function Q$7(e,t){return ur$2.call(e)===`[object ${t}]`}function pe$6(e){return Q$7(e,"ErrorEvent")}function De$9(e){return Q$7(e,"DOMError")}function it$8(e){return Q$7(e,"DOMException")}function R$c(e){return Q$7(e,"String")}function Fe$4(e){return e===null||typeof e!="object"&&typeof e!="function"}function j$5(e){return Q$7(e,"Object")}function Z$6(e){return typeof Event<"u"&&O$7(e,Event)}function ot$9(e){return typeof Element<"u"&&O$7(e,Element)}function st$6(e){return Q$7(e,"RegExp")}function de$6(e){return !!(e&&e.then&&typeof e.then=="function")}function at$5(e){return j$5(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ct$6(e){return typeof e=="number"&&e!==e}function O$7(e,t){try{return e instanceof t}catch{return  false}}function Le$6(e){return e&&e.Math==Math?e:undefined}var b$5=typeof globalThis=="object"&&Le$6(globalThis)||typeof window=="object"&&Le$6(window)||typeof self=="object"&&Le$6(self)||typeof global=="object"&&Le$6(global)||function(){return this}()||{};function F$8(){return b$5}function q$4(e,t,r){let n=r||b$5,i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}var tn$3=F$8(),rn$3=80;function ee$6(e,t={}){try{let r=e,n=5,i=[],o=0,s=0,c=" > ",u=c.length,f,h=Array.isArray(t)?t:t.keyAttrs,y=!Array.isArray(t)&&t.maxStringLength||rn$3;for(;r&&o++<n&&(f=nn$4(r,h),!(f==="html"||o>1&&s+i.length*u+f.length>=y));)i.push(f),s+=f.length,r=r.parentNode;return i.reverse().join(c)}catch{return "<unknown>"}}function nn$4(e,t){let r=e,n=[],i,o,s,c,u;if(!r||!r.tagName)return "";n.push(r.tagName.toLowerCase());let f=t&&t.length?t.filter(y=>r.getAttribute(y)).map(y=>[y,r.getAttribute(y)]):null;if(f&&f.length)f.forEach(y=>{n.push(`[${y[0]}="${y[1]}"]`);});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&R$c(i))for(o=i.split(/\s+/),u=0;u<o.length;u++)n.push(`.${o[u]}`);let h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)s=h[u],c=r.getAttribute(s),c&&n.push(`[${s}="${c}"]`);return n.join("")}function ut$3(){try{return tn$3.document.location.href}catch{return ""}}var on$3="Sentry Logger ",te$4=["debug","info","warn","error","log","assert","trace"];function Be$6(e){if(!("console"in b$5))return e();let t=b$5.console,r={};te$4.forEach(n=>{let i=t[n]&&t[n].__sentry_original__;n in t&&i&&(r[n]=t[n],t[n]=i);});try{return e()}finally{Object.keys(r).forEach(n=>{t[n]=r[n];});}}function fr$2(){let e=false,t={enable:()=>{e=true;},disable:()=>{e=false;}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?te$4.forEach(r=>{t[r]=(...n)=>{e&&Be$6(()=>{b$5.console[r](`${on$3}[${r}]:`,...n);});};}):te$4.forEach(r=>{t[r]=()=>{};}),t}var p$9;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?p$9=q$4("logger",fr$2):p$9=fr$2();function Me$5(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function je$4(e,t){if(!Array.isArray(e))return "";let r=[];for(let n=0;n<e.length;n++){let i=e[n];try{r.push(String(i));}catch{r.push("[value cannot be serialized]");}}return r.join(t)}function lr$3(e,t,r=false){return R$c(e)?st$6(t)?t.test(e):R$c(t)?r?e===t:e.includes(t):false:false}function me$5(e,t=[],r=false){return t.some(n=>lr$3(e,n,r))}function E$a(e,t,r){if(!(t in e))return;let n=e[t],i=r(n);if(typeof i=="function")try{Ge$7(i,n);}catch{}e[t]=i;}function $e$8(e,t,r){Object.defineProperty(e,t,{value:r,writable:true,configurable:true});}function Ge$7(e,t){let r=t.prototype||{};e.prototype=t.prototype=r,$e$8(e,"__sentry_original__",t);}function W$5(e){return e.__sentry_original__}function He$7(e){if(le$7(e))return w$9({message:e.message,name:e.name,stack:e.stack},dr$2(e));if(Z$6(e)){let t=w$9({type:e.type,target:pr$2(e.target),currentTarget:pr$2(e.currentTarget)},dr$2(e));return typeof CustomEvent<"u"&&O$7(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function pr$2(e){try{return ot$9(e)?ee$6(e):Object.prototype.toString.call(e)}catch{return "<unknown>"}}function dr$2(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return {}}function lt$6(e,t=40){let r=Object.keys(He$7(e));if(r.sort(),!r.length)return "[object has no keys]";if(r[0].length>=t)return Me$5(r[0],t);for(let n=r.length;n>0;n--){let i=r.slice(0,n).join(", ");if(!(i.length>t))return n===r.length?i:Me$5(i,t)}return ""}function pt$5(e){return ft$5(e,new Map)}function ft$5(e,t){if(j$5(e)){let r=t.get(e);if(r!==undefined)return r;let n={};t.set(e,n);for(let i of Object.keys(e))typeof e[i]<"u"&&(n[i]=ft$5(e[i],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==undefined)return r;let n=[];return t.set(e,n),e.forEach(i=>{n.push(ft$5(i,t));}),n}return e}var dt$5="<anonymous>";function T$8(e){try{return !e||typeof e!="function"?dt$5:e.name||dt$5}catch{return dt$5}}var Y$2=F$8();function sn$3(){if(!("fetch"in Y$2))return  false;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return  false}}function mr$2(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function hr$2(){if(!sn$3())return  false;if(mr$2(Y$2.fetch))return  true;let e=false,t=Y$2.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=mr$2(r.contentWindow.fetch)),t.head.removeChild(r);}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r);}return e}function _r$3(){let e=Y$2.chrome,t=e&&e.app&&e.app.runtime,r="history"in Y$2&&!!Y$2.history.pushState&&!!Y$2.history.replaceState;return !t&&r}var d$3=F$8(),he$5={},gr$2={};function an$3(e){if(!gr$2[e])switch(gr$2[e]=true,e){case "console":cn$3();break;case "dom":gn$2();break;case "xhr":pn$5();break;case "fetch":un$3();break;case "history":dn$4();break;case "error":En$4();break;case "unhandledrejection":yn$4();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn("unknown instrumentation type:",e);return}}function A$c(e,t){he$5[e]=he$5[e]||[],he$5[e].push(t),an$3(e);}function N$5(e,t){if(!(!e||!he$5[e]))for(let r of he$5[e]||[])try{r(t);}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${T$8(r)}
Error:`,n);}}function cn$3(){"console"in d$3&&te$4.forEach(function(e){e in d$3.console&&E$a(d$3.console,e,function(t){return function(...r){N$5("console",{args:r,level:e}),t&&t.apply(d$3.console,r);}});});}function un$3(){hr$2()&&E$a(d$3,"fetch",function(e){return function(...t){let r={args:t,fetchData:{method:fn$3(t),url:ln$3(t)},startTimestamp:Date.now()};return N$5("fetch",w$9({},r)),e.apply(d$3,t).then(n=>(N$5("fetch",x$d(w$9({},r),{endTimestamp:Date.now(),response:n})),n),n=>{throw N$5("fetch",x$d(w$9({},r),{endTimestamp:Date.now(),error:n})),n})}});}function fn$3(e=[]){return "Request"in d$3&&O$7(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function ln$3(e=[]){return typeof e[0]=="string"?e[0]:"Request"in d$3&&O$7(e[0],Request)?e[0].url:String(e[0])}function pn$5(){if(!("XMLHttpRequest"in d$3))return;let e=XMLHttpRequest.prototype;E$a(e,"open",function(t){return function(...r){let n=this,i=r[1],o=n.__sentry_xhr__={method:R$c(r[0])?r[0].toUpperCase():r[0],url:r[1]};R$c(i)&&o.method==="POST"&&i.match(/sentry_key/)&&(n.__sentry_own_request__=true);let s=function(){if(n.readyState===4){try{o.status_code=n.status;}catch{}N$5("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n});}};return "onreadystatechange"in n&&typeof n.onreadystatechange=="function"?E$a(n,"onreadystatechange",function(c){return function(...u){return s(),c.apply(n,u)}}):n.addEventListener("readystatechange",s),t.apply(n,r)}}),E$a(e,"send",function(t){return function(...r){return this.__sentry_xhr__&&r[0]!==undefined&&(this.__sentry_xhr__.body=r[0]),N$5("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),t.apply(this,r)}});}var Ce$6;function dn$4(){if(!_r$3())return;let e=d$3.onpopstate;d$3.onpopstate=function(...r){let n=d$3.location.href,i=Ce$6;if(Ce$6=n,N$5("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(...n){let i=n.length>2?n[2]:undefined;if(i){let o=Ce$6,s=String(i);Ce$6=s,N$5("history",{from:o,to:s});}return r.apply(this,n)}}E$a(d$3.history,"pushState",t),E$a(d$3.history,"replaceState",t);}var mn$4=1e3,qe$6,We$6;function hn$3(e,t){if(!e||e.type!==t.type)return  true;try{if(e.target!==t.target)return !0}catch{}return  false}function _n$4(e){if(e.type!=="keypress")return  false;try{let t=e.target;if(!t||!t.tagName)return !0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return !1}catch{}return  true}function Er$2(e,t=false){return r=>{if(!r||We$6===r||_n$4(r))return;let n=r.type==="keypress"?"input":r.type;qe$6===undefined?(e({event:r,name:n,global:t}),We$6=r):hn$3(We$6,r)&&(e({event:r,name:n,global:t}),We$6=r),clearTimeout(qe$6),qe$6=d$3.setTimeout(()=>{qe$6=undefined;},mn$4);}}function gn$2(){if(!("document"in d$3))return;let e=N$5.bind(null,"dom"),t=Er$2(e,true);d$3.document.addEventListener("click",t,false),d$3.document.addEventListener("keypress",t,false),["EventTarget","Node"].forEach(r=>{let n=d$3[r]&&d$3[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(E$a(n,"addEventListener",function(i){return function(o,s,c){if(o==="click"||o=="keypress")try{let u=this,f=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},h=f[o]=f[o]||{refCount:0};if(!h.handler){let y=Er$2(e);h.handler=y,i.call(this,o,y,c);}h.refCount++;}catch{}return i.call(this,o,s,c)}}),E$a(n,"removeEventListener",function(i){return function(o,s,c){if(o==="click"||o=="keypress")try{let u=this,f=u.__sentry_instrumentation_handlers__||{},h=f[o];h&&(h.refCount--,h.refCount<=0&&(i.call(this,o,h.handler,c),h.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete u.__sentry_instrumentation_handlers__);}catch{}return i.call(this,o,s,c)}}));});}var mt$5=null;function En$4(){mt$5=d$3.onerror,d$3.onerror=function(e,t,r,n,i){return N$5("error",{column:n,error:i,line:r,msg:e,url:t}),mt$5?mt$5.apply(this,arguments):false};}var ht$4=null;function yn$4(){ht$4=d$3.onunhandledrejection,d$3.onunhandledrejection=function(e){return N$5("unhandledrejection",e),ht$4?ht$4.apply(this,arguments):true};}function yr$2(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(i){if(e)return t.has(i)?true:(t.add(i),false);for(let o=0;o<t.length;o++)if(t[o]===i)return  true;return t.push(i),false}function n(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return [r,n]}function $$4(){let e=b$5,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");let r=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return ("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Sr$2(e){return e.exception&&e.exception.values?e.exception.values[0]:undefined}function P$8(e){let{message:t,event_id:r}=e;if(t)return t;let n=Sr$2(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function re$5(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error");}function G$5(e,t){let r=Sr$2(e);if(!r)return;let n={type:"generic",handled:true},i=r.mechanism;if(r.mechanism=w$9(w$9(w$9({},n),i),t),t&&"data"in t){let o=w$9(w$9({},i&&i.data),t.data);r.mechanism.data=o;}}function _t$2(e){return Array.isArray(e)?e:[e]}function br$2(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function _e$7(){return !br$2()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function gt$6(e,t){return e.require(t)}function xr$2(e,t=1/0,r=1/0){try{return Ye$8("",e,t,r)}catch(n){return {ERROR:`**non-serializable** (${n})`}}}function Ke$6(e,t=3,r=100*1024){let n=xr$2(e,t);return vn$3(n)>r?Ke$6(e,t-1,r):n}function Ye$8(e,t,r=1/0,n=1/0,i=yr$2()){let[o,s]=i;if(t===null||["number","boolean","string"].includes(typeof t)&&!ct$6(t))return t;let c=Sn$4(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;if(r===0)return c.replace("object ","");if(o(t))return "[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let B=u.toJSON();return Ye$8("",B,r-1,n,i)}catch{}let f=Array.isArray(t)?[]:{},h=0,y=He$7(t);for(let B in y){if(!Object.prototype.hasOwnProperty.call(y,B))continue;if(h>=n){f[B]="[MaxProperties ~]";break}let en=y[B];f[B]=Ye$8(B,en,r-1,n,i),h++;}return s(t),f}function Sn$4(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":at$5(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${T$8(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${bn$5(t)}]`}catch(r){return `**non-serializable** (${r})`}}function bn$5(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function xn$4(e){return ~-encodeURI(e).split(/%..|./).length}function vn$3(e){return xn$4(JSON.stringify(e))}var L$7;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED";})(L$7||(L$7={}));var ge$8=class e{__init(){this._state=L$7.PENDING;}__init2(){this._handlers=[];}constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this);try{t(this._resolve,this._reject);}catch(r){this._reject(r);}}then(t,r){return new e((n,i)=>{this._handlers.push([false,o=>{if(!t)n(o);else try{n(t(o));}catch(s){i(s);}},o=>{if(!r)i(o);else try{n(r(o));}catch(s){i(s);}}]),this._executeHandlers();})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let i,o;return this.then(s=>{o=false,i=s,t&&t();},s=>{o=true,i=s,t&&t();}).then(()=>{if(o){n(i);return}r(i);})})}__init3(){this._resolve=t=>{this._setResult(L$7.RESOLVED,t);};}__init4(){this._reject=t=>{this._setResult(L$7.REJECTED,t);};}__init5(){this._setResult=(t,r)=>{if(this._state===L$7.PENDING){if(de$6(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers();}};}__init6(){this._executeHandlers=()=>{if(this._state===L$7.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===L$7.RESOLVED&&r[1](this._value),this._state===L$7.REJECTED&&r[2](this._value),r[0]=true);});};}};function Ee$7(e){if(!e)return {};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return {};let r=t[6]||"",n=t[8]||"";return {host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}var vr$2=["fatal","error","warning","log","info","debug"];function Et$1(e){return e==="warn"?"warning":vr$2.includes(e)?e:"log"}var Or$2=F$8(),St$3={nowSeconds:()=>Date.now()/1e3};function Rn$4(){let{performance:e}=Or$2;if(!e||!e.now)return;let t=Date.now()-e.now();return {now:()=>e.now(),timeOrigin:t}}function On$3(){try{return gt$6(module,"perf_hooks").performance}catch{return}}var yt$4=_e$7()?On$3():Rn$4(),Rr=yt$4===undefined?St$3:{nowSeconds:()=>(yt$4.timeOrigin+yt$4.now())/1e3},Se$5=St$3.nowSeconds.bind(St$3),ze$3=Rr.nowSeconds.bind(Rr);(()=>{let{performance:e}=Or$2;if(!e||!e.now){return}let t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,o=i<t,s=e.timing&&e.timing.navigationStart,u=typeof s=="number"?Math.abs(s+r-n):t,f=u<t;return o||f?i<=u?(e.timeOrigin):(s):(n)})();function Tr$3(e){let t=ze$3(),r={sid:$$4(),init:true,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:false,toJSON:()=>wn$4(r)};return e&&ne$5(r,e),r}function ne$5(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ze$3(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:$$4()),t.init!==undefined&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=undefined;else if(typeof t.duration=="number")e.duration=t.duration;else {let r=e.timestamp-e.started;e.duration=r>=0?r:0;}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status);}function Nr$1(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),ne$5(e,r);}function wn$4(e){return pt$5({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:undefined,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}var In$4=100,H$5=class e{constructor(){this._notifyingListeners=false,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={};}static clone(t){let r=new e;return t&&(r._breadcrumbs=[...t._breadcrumbs],r._tags=w$9({},t._tags),r._extra=w$9({},t._extra),r._contexts=w$9({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=[...t._eventProcessors],r._requestSession=t._requestSession,r._attachments=[...t._attachments],r._sdkProcessingMetadata=w$9({},t._sdkProcessingMetadata)),r}addScopeListener(t){this._scopeListeners.push(t);}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&ne$5(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=w$9(w$9({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,r){return this._tags=x$d(w$9({},this._tags),{[t]:r}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=w$9(w$9({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,r){return this._extra=x$d(w$9({},this._extra),{[t]:r}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){let r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=w$9(w$9({},this._tags),t._tags),this._extra=w$9(w$9({},this._extra),t._extra),this._contexts=w$9(w$9({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):j$5(t)&&(t=t,this._tags=w$9(w$9({},this._tags),t.tags),this._extra=w$9(w$9({},this._extra),t.extra),this._contexts=w$9(w$9({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=undefined,this._transactionName=undefined,this._fingerprint=undefined,this._requestSession=undefined,this._span=undefined,this._session=undefined,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,r){let n=typeof r=="number"?r:In$4;if(n<=0)return this;let i=w$9({timestamp:Se$5()},t);return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,r={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra=w$9(w$9({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=w$9(w$9({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=w$9(w$9({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=w$9(w$9({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=w$9({trace:this._span.getTraceContext()},t.contexts);let n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=w$9({transaction:n},t.tags));}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:undefined,t.sdkProcessingMetadata=w$9(w$9({},t.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...wr$2(),...this._eventProcessors],t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=w$9(w$9({},this._sdkProcessingMetadata),t),this}_notifyEventProcessors(t,r,n,i=0){return new ge$8((o,s)=>{let c=t[i];if(r===null||typeof c!="function")o(r);else {let u=c(w$9({},r),n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&c.id&&u===null&&p$9.log(`Event processor "${c.id}" dropped event`),de$6(u)?u.then(f=>this._notifyEventProcessors(t,f,n,i+1).then(o)).then(null,s):this._notifyEventProcessors(t,u,n,i+1).then(o).then(null,s);}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=true,this._scopeListeners.forEach(t=>{t(this);}),this._notifyingListeners=false);}_applyFingerprint(t){t.fingerprint=t.fingerprint?_t$2(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint;}};function wr$2(){return q$4("globalEventProcessors",()=>[])}function ie$8(e){wr$2().push(e);}var bt$4=4,An$5=100,K$5=class e{__init(){this._stack=[{}];}constructor(t,r=new H$5,n=bt$4){this._version=n,e.prototype.__init.call(this),this.getStackTop().scope=r,t&&this.bindClient(t);}isOlderThan(t){return this._version<t}bindClient(t){let r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations();}pushScope(){let t=H$5.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?false:!!this.getStack().pop()}withScope(t){let r=this.pushScope();try{t(r);}finally{this.popScope();}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){let n=this._lastEventId=r&&r.event_id?r.event_id:$$4(),i=new Error("Sentry syntheticException");return this._withClient((o,s)=>{o.captureException(t,x$d(w$9({originalException:t,syntheticException:i},r),{event_id:n}),s);}),n}captureMessage(t,r,n){let i=this._lastEventId=n&&n.event_id?n.event_id:$$4(),o=new Error(t);return this._withClient((s,c)=>{s.captureMessage(t,r,x$d(w$9({originalException:t,syntheticException:o},n),{event_id:i}),c);}),i}captureEvent(t,r){let n=r&&r.event_id?r.event_id:$$4();return t.type||(this._lastEventId=n),this._withClient((i,o)=>{i.captureEvent(t,x$d(w$9({},r),{event_id:n}),o);}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){let{scope:n,client:i}=this.getStackTop();if(!n||!i)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:s=An$5}=i.getOptions&&i.getOptions()||{};if(s<=0)return;let c=Se$5(),u=w$9({timestamp:c},t),f=o?Be$6(()=>o(u,r)):u;f!==null&&n.addBreadcrumb(f,s);}setUser(t){let r=this.getScope();r&&r.setUser(t);}setTags(t){let r=this.getScope();r&&r.setTags(t);}setExtras(t){let r=this.getScope();r&&r.setExtras(t);}setTag(t,r){let n=this.getScope();n&&n.setTag(t,r);}setExtra(t,r){let n=this.getScope();n&&n.setExtra(t,r);}setContext(t,r){let n=this.getScope();n&&n.setContext(t,r);}configureScope(t){let{scope:r,client:n}=this.getStackTop();r&&n&&t(r);}run(t){let r=Je$4(this);try{t(this);}finally{Je$4(r);}}getIntegration(t){let r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return (typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){return this._callExtensionMethod("startTransaction",t,r)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=false){if(t)return this.endSession();this._sendSessionUpdate();}endSession(){let t=this.getStackTop(),r=t&&t.scope,n=r&&r.getSession();n&&Nr$1(n),this._sendSessionUpdate(),r&&r.setSession();}startSession(t){let{scope:r,client:n}=this.getStackTop(),{release:i,environment:o}=n&&n.getOptions()||{},{userAgent:s}=b$5.navigator||{},c=Tr$3(w$9(w$9(w$9({release:i,environment:o},r&&{user:r.getUser()}),s&&{userAgent:s}),t));if(r){let u=r.getSession&&r.getSession();u&&u.status==="ok"&&ne$5(u,{status:"exited"}),this.endSession(),r.setSession(c);}return c}shouldSendDefaultPii(){let t=this.getClient(),r=t&&t.getOptions();return !!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:t,client:r}=this.getStackTop();if(!t)return;let n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n);}_withClient(t){let{scope:r,client:n}=this.getStackTop();n&&t(n,r);}_callExtensionMethod(t,...r){let i=be$6().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Extension method ${t} couldn't be found, doing nothing.`);}};function be$6(){return b$5.__SENTRY__=b$5.__SENTRY__||{extensions:{},hub:undefined},b$5}function Je$4(e){let t=be$6(),r=U$b(t);return Xe$3(t,e),r}function m$5(){let e=be$6();return (!Ir$2(e)||U$b(e).isOlderThan(bt$4))&&Xe$3(e,new K$5),_e$7()?Pn$4(e):U$b(e)}function Pn$4(e){try{let t=be$6().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return U$b(e);if(!Ir$2(r)||U$b(r).isOlderThan(bt$4)){let n=U$b(e).getStackTop();Xe$3(r,new K$5(n.client,H$5.clone(n.scope)));}return U$b(r)}catch{return U$b(e)}}function Ir$2(e){return !!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function U$b(e){return q$4("hub",()=>new K$5,e)}function Xe$3(e,t){if(!e)return  false;let r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,true}function z$7(e,t){return m$5().captureException(e,{captureContext:t})}function Ve$3(e){m$5().setUser(e);}function Qe$3(e){m$5().withScope(e);}var et$6={};C$g(et$6,{FunctionToString:()=>oe$5,InboundFilters:()=>se$6});var Ar$2,oe$5=class e{constructor(){e.prototype.__init.call(this);}static __initStatic(){this.id="FunctionToString";}__init(){this.name=e.id;}setupOnce(){Ar$2=Function.prototype.toString,Function.prototype.toString=function(...t){let r=W$5(this)||this;return Ar$2.apply(r,t)};}};oe$5.__initStatic();var Un$3=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],se$6=class e{static __initStatic(){this.id="InboundFilters";}__init(){this.name=e.id;}constructor(t={}){this._options=t,e.prototype.__init.call(this);}setupOnce(t,r){let n=i=>{let o=r();if(o){let s=o.getIntegration(e);if(s){let c=o.getClient(),u=c?c.getOptions():{},f=kn$5(s._options,u);return Dn$4(i,f)?null:i}}return i};n.id=this.name,t(n);}};se$6.__initStatic();function kn$5(e={},t={}){return {allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Un$3],ignoreInternal:e.ignoreInternal!==undefined?e.ignoreInternal:true}}function Dn$4(e,t){return t.ignoreInternal&&jn$4(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Event dropped due to being internal Sentry Error.
Event: ${P$8(e)}`),true):Fn$4(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${P$8(e)}`),true):Ln$4(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${P$8(e)}.
Url: ${Ze$4(e)}`),true):Bn$4(e,t.allowUrls)?false:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${P$8(e)}.
Url: ${Ze$4(e)}`),true)}function Fn$4(e,t){return !t||!t.length?false:Mn$4(e).some(r=>me$5(r,t))}function Ln$4(e,t){if(!t||!t.length)return  false;let r=Ze$4(e);return r?me$5(r,t):false}function Bn$4(e,t){if(!t||!t.length)return  true;let r=Ze$4(e);return r?me$5(r,t):true}function Mn$4(e){if(e.message)return [e.message];if(e.exception)try{let{type:t="",value:r=""}=e.exception.values&&e.exception.values[0]||{};return [`${r}`,`${t}: ${r}`]}catch{return (typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.error(`Cannot extract message for event ${P$8(e)}`),[]}return []}function jn$4(e){try{return e.exception.values[0].type==="SentryError"}catch{}return  false}function $n$4(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Ze$4(e){try{let t;try{t=e.exception.values[0].stacktrace.frames;}catch{}return t?$n$4(t):null}catch{return (typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.error(`Cannot extract url for event ${P$8(e)}`),null}}var g$8=b$5,xt$3=0;function vt$3(){return xt$3>0}function Vn$3(){xt$3++,setTimeout(()=>{xt$3--;});}function J$3(e,t={},r){if(typeof e!="function")return e;try{let i=e.__sentry_wrapped__;if(i)return i;if(W$5(e))return e}catch{return e}let n=function(){let i=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let o=i.map(s=>J$3(s,t));return e.apply(this,o)}catch(o){throw Vn$3(),Qe$3(s=>{s.addEventProcessor(c=>(t.mechanism&&(re$5(c,undefined),G$5(c,t.mechanism)),c.extra=x$d(w$9({},c.extra),{arguments:i}),c)),z$7(o);}),o}};try{for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);}catch{}Ge$7(n,e),$e$8(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}});}catch{}return n}function Ot$2(e,t){let r=Tt$2(e,t),n={type:t&&t.name,value:ti$2(t)};return r.length&&(n.stacktrace={frames:r}),n.type===undefined&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Qn$3(e,t,r,n){let o=m$5().getClient(),s=o&&o.getOptions().normalizeDepth,c={exception:{values:[{type:Z$6(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${lt$6(t)}`}]},extra:{__serialized__:Ke$6(t,s)}};return c}function Rt$4(e,t){return {exception:{values:[Ot$2(e,t)]}}}function Tt$2(e,t){let r=t.stacktrace||t.stack||"",n=ei$3(t);try{return e(r,n)}catch{}return []}var Zn$2=/Minified React error #\d+;/i;function ei$3(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(Zn$2.test(e.message))return 1}return 0}function ti$2(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Nt(e,t,r,n,i){let o;if(pe$6(t)&&t.error)return Rt$4(e,t.error);if(De$9(t)||it$8(t)){let s=t;if("stack"in t)o=Rt$4(e,t);else {let c=s.name||(De$9(s)?"DOMError":"DOMException"),u=s.message?`${c}: ${s.message}`:c;o=Pr$2(e,u),re$5(o,u);}return "code"in s&&(o.tags=x$d(w$9({},o.tags),{"DOMException.code":`${s.code}`})),o}return le$7(t)?Rt$4(e,t):j$5(t)||Z$6(t)?(o=Qn$3(e,t,r,i),G$5(o,{synthetic:true}),o):(o=Pr$2(e,t),re$5(o,`${t}`),G$5(o,{synthetic:true}),o)}function Pr$2(e,t,r,n){let i={message:t};return i}var tt$6=1024,ri$3="Breadcrumbs",xe$7=class e{static __initStatic(){this.id=ri$3;}__init(){this.name=e.id;}constructor(t){e.prototype.__init.call(this),this.options=w$9({console:true,dom:true,fetch:true,history:true,sentry:true,xhr:true},t);}setupOnce(){this.options.console&&A$c("console",ii$2),this.options.dom&&A$c("dom",ni$2(this.options.dom)),this.options.xhr&&A$c("xhr",oi$2),this.options.fetch&&A$c("fetch",si$2),this.options.history&&A$c("history",ai$3);}addSentryBreadcrumb(t){this.options.sentry&&m$5().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:P$8(t)},{event:t});}};xe$7.__initStatic();function ni$2(e){function t(r){let n,i=typeof e=="object"?e.serializeAttribute:undefined,o=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:undefined;o&&o>tt$6&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn(`\`dom.maxStringLength\` cannot exceed ${tt$6}, but a value of ${o} was configured. Sentry will use ${tt$6} instead.`),o=tt$6),typeof i=="string"&&(i=[i]);try{n=r.event.target?ee$6(r.event.target,{keyAttrs:i,maxStringLength:o}):ee$6(r.event,{keyAttrs:i,maxStringLength:o});}catch{n="<unknown>";}n.length!==0&&m$5().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global});}return t}function ii$2(e){for(let r=0;r<e.args.length;r++)if(e.args[r]==="ref=Ref<"){e.args[r+1]="viewRef";break}let t={category:"console",data:{arguments:e.args,logger:"console"},level:Et$1(e.level),message:je$4(e.args," ")};if(e.level==="assert")if(e.args[0]===false)t.message=`Assertion failed: ${je$4(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;m$5().addBreadcrumb(t,{input:e.args,level:e.level});}function oi$2(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;let{method:t,url:r,status_code:n,body:i}=e.xhr.__sentry_xhr__||{};m$5().addBreadcrumb({category:"xhr",data:{method:t,url:r,status_code:n},type:"http"},{xhr:e.xhr,input:i});return}}function si$2(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?m$5().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):m$5().addBreadcrumb({category:"fetch",data:x$d(w$9({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})));}function ai$3(e){let t=e.from,r=e.to,n=Ee$7(g$8.location.href),i=Ee$7(t),o=Ee$7(r);i.path||(i=n),n.protocol===o.protocol&&n.host===o.host&&(r=o.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),m$5().addBreadcrumb({category:"navigation",data:{from:t,to:r}});}var X$5=class e{static __initStatic(){this.id="GlobalHandlers";}__init(){this.name=e.id;}__init2(){this._installFunc={onerror:ci$2,onunhandledrejection:ui$1};}constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),this._options=w$9({onerror:true,onunhandledrejection:true},t);}setupOnce(){Error.stackTraceLimit=50;let t=this._options;for(let r in t){let n=this._installFunc[r];n&&t[r]&&(pi$2(r),n(),this._installFunc[r]=undefined);}}};X$5.__initStatic();function ci$2(){A$c("error",e=>{let[t,r,n]=Dr$2();if(!t.getIntegration(X$5))return;let{msg:i,url:o,line:s,column:c,error:u}=e;if(vt$3()||u&&u.__sentry_own_request__)return;let f=u===undefined&&R$c(i)?li$2(i,o,s,c):Ur(Nt(r,u||i,undefined,n,false),o,s,c);f.level="error",kr$3(t,u,f,"onerror");});}function ui$1(){A$c("unhandledrejection",e=>{let[t,r,n]=Dr$2();if(!t.getIntegration(X$5))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason);}catch{}if(vt$3()||i&&i.__sentry_own_request__)return  true;let o=Fe$4(i)?fi$2(i):Nt(r,i,undefined,n,true);o.level="error",kr$3(t,i,o,"onunhandledrejection");});}function fi$2(e){return {exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function li$2(e,t,r,n){let i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=pe$6(e)?e.message:e,s="Error",c=o.match(i);return c&&(s=c[1],o=c[2]),Ur({exception:{values:[{type:s,value:o}]}},t,r,n)}function Ur(e,t,r,n){let i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},u=c.frames=c.frames||[],f=isNaN(parseInt(n,10))?undefined:n,h=isNaN(parseInt(r,10))?undefined:r,y=R$c(t)&&t.length>0?t:ut$3();return u.length===0&&u.push({colno:f,filename:y,function:"?",in_app:true,lineno:h}),e}function pi$2(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.log(`Global Handler attached: ${e}`);}function kr$3(e,t,r,n){G$5(r,{handled:false,type:n}),e.captureEvent(r,{originalException:t});}function Dr$2(){let e=m$5(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:false};return [e,r.stackParser,r.attachStacktrace]}var di$2=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ve$7=class e{static __initStatic(){this.id="TryCatch";}__init(){this.name=e.id;}constructor(t){e.prototype.__init.call(this),this._options=w$9({XMLHttpRequest:true,eventTarget:true,requestAnimationFrame:true,setInterval:true,setTimeout:true},t);}setupOnce(){this._options.setTimeout&&E$a(g$8,"setTimeout",Fr$1),this._options.setInterval&&E$a(g$8,"setInterval",Fr$1),this._options.requestAnimationFrame&&E$a(g$8,"requestAnimationFrame",mi$2),this._options.XMLHttpRequest&&"XMLHttpRequest"in g$8&&E$a(XMLHttpRequest.prototype,"send",hi$3);let t=this._options.eventTarget;t&&(Array.isArray(t)?t:di$2).forEach(_i$4);}};ve$7.__initStatic();function Fr$1(e){return function(...t){let r=t[0];return t[0]=J$3(r,{mechanism:{data:{function:T$8(e)},handled:true,type:"instrument"}}),e.apply(this,t)}}function mi$2(e){return function(t){return e.apply(this,[J$3(t,{mechanism:{data:{function:"requestAnimationFrame",handler:T$8(e)},handled:true,type:"instrument"}})])}}function hi$3(e){return function(...t){let r=this;return ["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&E$a(r,i,function(o){let s={mechanism:{data:{function:i,handler:T$8(o)},handled:true,type:"instrument"}},c=W$5(o);return c&&(s.mechanism.data.handler=T$8(c)),J$3(o,s)});}),e.apply(this,t)}}function _i$4(e){let t=g$8,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(E$a(r,"addEventListener",function(n){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=J$3(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:T$8(o),target:e},handled:!0,type:"instrument"}}));}catch{}return n.apply(this,[i,J$3(o,{mechanism:{data:{function:"addEventListener",handler:T$8(o),target:e},handled:true,type:"instrument"}}),s])}}),E$a(r,"removeEventListener",function(n){return function(i,o,s){let c=o;try{let u=c&&c.__sentry_wrapped__;u&&n.call(this,i,u,s);}catch{}return n.call(this,i,c,s)}}));}var gi$1="cause",Ei$7=5,Re$3=class e{static __initStatic(){this.id="LinkedErrors";}__init(){this.name=e.id;}constructor(t={}){e.prototype.__init.call(this),this._key=t.key||gi$1,this._limit=t.limit||Ei$7;}setupOnce(){let t=m$5().getClient();t&&ie$8((r,n)=>{let i=m$5().getIntegration(e);return i?yi$2(t.getOptions().stackParser,i._key,i._limit,r,n):r});}};Re$3.__initStatic();function yi$2(e,t,r,n,i){if(!n.exception||!n.exception.values||!i||!O$7(i.originalException,Error))return n;let o=Lr$1(e,r,i.originalException,t);return n.exception.values=[...o,...n.exception.values],n}function Lr$1(e,t,r,n,i=[]){if(!O$7(r[n],Error)||i.length+1>=t)return i;let o=Ot$2(e,r[n]);return Lr$1(e,t,r[n],n,[o,...i])}var Oe$7=class e{constructor(){e.prototype.__init.call(this);}static __initStatic(){this.id="HttpContext";}__init(){this.name=e.id;}setupOnce(){ie$8(t=>{if(m$5().getIntegration(e)){if(!g$8.navigator&&!g$8.location&&!g$8.document)return t;let r=t.request&&t.request.url||g$8.location&&g$8.location.href,{referrer:n}=g$8.document||{},{userAgent:i}=g$8.navigator||{},o=w$9(w$9(w$9({},t.request&&t.request.headers),n&&{Referer:n}),i&&{"User-Agent":i}),s=x$d(w$9(w$9({},t.request),r&&{url:r}),{headers:o});return x$d(w$9({},t),{request:s})}return t});}};Oe$7.__initStatic();var Te$6=class e{constructor(){e.prototype.__init.call(this);}static __initStatic(){this.id="Dedupe";}__init(){this.name=e.id;}setupOnce(t,r){let n=i=>{if(i.type)return i;let o=r().getIntegration(e);if(o){try{if(Si$2(i,o._previousEvent))return (typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&p$9.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=i}return o._previousEvent=i}return i};n.id=this.name,t(n);}};Te$6.__initStatic();function Si$2(e,t){return t?!!(bi$4(e,t)||xi$3(e,t)):false}function bi$4(e,t){let r=e.message,n=t.message;return !(!r&&!n||r&&!n||!r&&n||r!==n||!$r$1(e,t)||!jr$1(e,t))}function xi$3(e,t){let r=Br$2(t),n=Br$2(e);return !(!r||!n||r.type!==n.type||r.value!==n.value||!$r$1(e,t)||!jr$1(e,t))}function jr$1(e,t){let r=Mr$2(e),n=Mr$2(t);if(!r&&!n)return  true;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return  false;for(let i=0;i<n.length;i++){let o=n[i],s=r[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return  false}return  true}function $r$1(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return  true;if(r&&!n||!r&&n)return  false;r=r,n=n;try{return r.join("")===n.join("")}catch{return  false}}function Br$2(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Mr$2(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}var wt$3={};C$g(wt$3,{Breadcrumbs:()=>xe$7,Dedupe:()=>Te$6,GlobalHandlers:()=>X$5,HttpContext:()=>Oe$7,LinkedErrors:()=>Re$3,TryCatch:()=>ve$7});var Gr$2={};g$8.Sentry&&g$8.Sentry.Integrations&&(Gr$2=g$8.Sentry.Integrations);w$9(w$9(w$9({},Gr$2),et$6),wt$3);function Hr$1(e){Ve$3(e);}var Cr$2=(()=>{class e{constructor(r){this.env=r;}setUser(r){Hr$1(r);}handleError(r,n){if(r&&r instanceof gn$3){this.handleError(n?.message||r.message,x$d(w$9({},n),{tags:x$d(w$9({},n?.tags),{errorType:"http",apiUrl:r.url,responseStatus:r.status,requestId:r.headers.get("x-pfy-correlation-id")})}));return}try{console.error(r),n&&console.error(n);}catch{}if(!this.env.production)return;let i=w$9({},n?.context);It$2(r)&&r.cause&&(i.causeStack=qr$1(r.cause)),n?.message&&(i.message=n?.message),z$7(r,{tags:w$9({domain:n?.domain},n?.tags),extra:i});}wrapInResult(r,n){return r.pipe(ie$b(i=>({value:i,hasError:false})),yi$5(i=>{let c=n||{},{fallback:o}=c,s=A$f(c,["fallback"]);return this.handleError(i,s),hi$7({value:o,hasError:true})}))}static{this.\u0275fac=function(n){return new(n||e)(pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function qr$1(e){return "[cause]: "+vi$3(e)+`
`+(It$2(e)&&e.cause?qr$1(e.cause):"")}function vi$3(e){if(!It$2(e))return String(e);if(e instanceof Error)return e.stack?.includes(e.message)?e.stack:e.message;let t=new Set,r=JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(t.has(i))return "*Circular reference*";t.add(i);}return i},2);return t.clear(),r}function It$2(e){return !!e&&typeof e=="object"}function ae$6(e){if(!e)return "";let t=e.includes("/")?e.split("/"):null;return t?t.map(r=>Wr$1(r)).join("/"):Wr$1(e)}function Wr$1(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").toLowerCase().replace(/&/g,"-and-").replace(/[^a-z0-9\-]/g,"").replace(/-+/g,"-").replace(/^-*/,"").replace(/-*$/,"")}var ce$8={enUS:"en-US",enGB:"en-GB"},Ma$3=[ce$8.enUS,ce$8.enGB];var At$2="redirectedFrom",Ya$1=(()=>{class e{constructor(r,n,i){this.router=r,this.activatedRoute=n,this.location=i,this.history$=new yn$7([]),this.previousUrl=new yn$7(undefined),this.hasHistory$=this.history$.pipe(ie$b(o=>o.length>1),Dr$5()),this.activatedRoute$=this.router.events.pipe(Ye$b(o=>o instanceof si$4),ie$b(()=>this.getActivatedRoute()),_c$3(1)),this.url$=this.activatedRoute$.pipe(ie$b(o=>o.snapshot.pathFromRoot.flatMap(s=>s.url).join("/")),_c$3(1)),this.previousUrl$=this.previousUrl.asObservable(),this.params$=this.activatedRoute$.pipe(Ac$3(o=>o.params)),this.queryParams$=this.activatedRoute$.pipe(Ac$3(o=>o.queryParams)),this.data$=this.activatedRoute$.pipe(Ac$3(o=>o.data)),this.fragment$=this.activatedRoute$.pipe(Ac$3(o=>o.fragment)),this.createPreviousUrlSubscription(),this.createRouteHistorySubscription();}withRedirectedFromQueryParam(r,n={}){return x$d(w$9({},n),{[At$2]:r})}forwardRedirectedFromQueryParam(r={}){let n=this.getRedirectedFromQueryParam();return n?x$d(w$9({},r),{[At$2]:n}):r}isRedirectedFrom(r){return this.getRedirectedFromQueryParam()===r}getRedirectedFromQueryParam(){return this.router.parseUrl(this.router.url).queryParamMap.get(At$2)}createPreviousUrlSubscription(){this.url$.pipe(Dr$5(),Tc$2(),ie$b(([r])=>r)).subscribe(r=>this.previousUrl.next(r));}createRouteHistorySubscription(){this.router.events.subscribe(r=>{r instanceof ie$a&&this.updateHistory(r.urlAfterRedirects);});}getActivatedRoute(){let r=this.activatedRoute;for(;r.firstChild;)r=r.firstChild;return r}back(r="/"){this.updateHistory(),this.history$.getValue().length>0?this.location.back():this.router.navigateByUrl(r);}cleanFragmentWithoutReload(){this.router.navigate([],{fragment:undefined,queryParamsHandling:"preserve"});}cleanParamsWithoutReload(r){this.router.navigate([],{queryParams:w$9({},r),queryParamsHandling:"merge"});}updateHistory(r){let n=this.history$.getValue(),i=r?n.concat(r):n.slice(0,-1);this.history$.next(i);}static{this.\u0275fac=function(n){return new(n||e)(pe$9(ve$8),pe$9(Ge$9),pe$9(Xe$4))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Ja$2=["economy","standard","express"],Oi$2=function(e){return e.Inserts="inserts",e.NeckLabels="neck_labels",e.GiftMessages="gift_messages",e}(Oi$2||{}),S$9=function(e){return e.Featured="Featured",e.NewArrivals="New Arrivals",e.BestSellers="Bestsellers",e.Sale="Sale",e.PrintifyExpress="Printify Express",e.EcoFriendly="Eco-friendly",e.Presell="Presell",e.Draft="Draft",e.UsAndCaOnly="US & CA only",e.EarlyAccess="Early Access",e.Trending="Trending",e}(S$9||{}),Xa="Embroidery",Va$2="cpg",Yr$2={generic_score:0,quality:0,production_speed:0,stock_reliability:0,samples_and_shipping:undefined,courtesy:0};var Pt$3=function(e){return e.Local="locally_optimized",e.International="internationally_optimized",e}(Pt$3||{}),Ti$5=function(e){return e.Technology="technology",e.QualityControl="quality_control",e.Packaging="packaging",e}(Ti$5||{});var Ut$4=function(e){return e.USA="USA",e.Canada="Canada",e.UK="United Kingdom",e.Europe="Europe",e.AustraliaNZ="Australia/NZ",e.China="China",e.Other="Other",e.AllMarkets="All markets",e}(Ut$4||{}),Ni$4=function(e){return e.USA="US",e.Canada="CA",e["United Kingdom"]="UK",e.Europe="EU",e["Australia/NZ"]="AU/NZ",e.China="CN",e.Other="Other",e["All markets"]="All markets",e}(Ni$4||{});function Kr(e,t){return Object.fromEntries(t.map(r=>[r,e[r]]))}var kt=e=>wi$2()[e]||null,wi$2=()=>({[S$9.Featured]:{text:"Featured",color:ds$3.White},[S$9.NewArrivals]:{text:"New",color:ds$3.Blue},[S$9.BestSellers]:{text:"Bestseller",color:ds$3.Yellow},[S$9.Sale]:{text:"Sale",color:ds$3.Red},[S$9.EcoFriendly]:{text:"Eco-friendly",color:ds$3.Gray},[S$9.Presell]:{text:"Presell",color:ds$3.Red},[S$9.Draft]:{text:"Draft",color:ds$3.Gray},[S$9.PrintifyExpress]:{isPrintifyExpress:true,color:ds$3.Gray},[S$9.UsAndCaOnly]:{text:'Ships to US & CA only"',color:ds$3.White},[S$9.EarlyAccess]:{text:"Early Access",color:ds$3.Blue},[S$9.Trending]:{text:"Trending",color:ds$3.White,icon:"trending_up"}});var pc$1=e=>!!e.video,dc$1=(e,t)=>{let r=e.filter(n=>n.fulfillment===Pt$3.International);return Ii$2(r,t)},Ii$2=(e,t)=>e.map(r=>Ai$4(r,t)),Ai$4=(e,t)=>({id:e.id,available:e.available,options:e.options,status:e.status??It$4.Discontinued,availablePrintProviders:e.available_print_providers??[],costs:e.costs.map(r=>Pi$5(r,t))});function Pi$5(n,r){var i=n,{result_subscription:e}=i,t=A$f(i,["result_subscription"]);return x$d(w$9({},t),{result:r&&t?.result<r.minPrice?r.minPrice:t?.result,resultSubscription:r&&e<r.minPriceSubscription?r.minPriceSubscription:e,placeholders:[]})}function mc$2(e){return e.printProviders.forEach(r=>(r.scoring||(r.scoring=w$9({},Yr$2)),r)),e}var hc$2=(e,t,r=false,n)=>{let i=[...e,...t],o=Object.values(S$9);if(n!==Ut$4.USA&&(i=i.filter(s=>s!==S$9.PrintifyExpress)),r)return kt(S$9.Draft);for(let s of i)if(o.includes(s))return kt(s);return null},_c$1=(e,t)=>{let r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.has(n.id)?w$9(w$9({},r.get(n.id)),Kr(n,["price","premiumPrice"])):n)};function gc$1(e,t){return {[`${e}[]`]:t}}var Ec$1=e=>e?Object.entries(e).reduce((t,[r,n])=>x$d(w$9({},t),{[`filters[${r}][]`]:n}),{}):null,yc$1=({blueprintId:e,name:t,brandName:r})=>{let n=r?`/${ae$6(r)}`:"",i=t?`/${ae$6(t)}`:"";return `${e}${n}${i}`};var zr$1=e=>e.map(t=>({searchTerm:t.search_term,frequency:t.frequency}));var Dc$1=(()=>{class e{constructor(r,n,i,o,s){this.http=r,this.userService=n,this.route=i,this.eventDispatcherService=o,this.env=s,this.destroy$=new Z$a,this.searchKeyInput=new yn$7(this.route.snapshot.queryParams.searchKey||""),this.searchKeyInput$=this.searchKeyInput.pipe(Dr$5()),this.route.queryParams.pipe(Dr$5((c,u)=>c.searchKey===u.searchKey),Oc$2(this.destroy$)).subscribe(c=>{this.searchKeyInput.next(c.searchKey||"");});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}onSearchChange(r=""){this.searchKeyInput.next(r);}getSearchKey(){return this.searchKeyInput.getValue()}logSearchRelevanceData(r){let i={search_term:r.searchTerm,results_count:r.resultsCount,blueprint_id:r.blueprintId,blueprint_position:r.blueprintPosition??-1,merchant_id:null},o=this.userService.getId();o&&(i.merchant_id=o);let s=`${this.env.catalogServiceURL}search-relevance-records`;return this.http.post(s,i)}getSearchSuggestions(r){if(!r)return hi$7([]);let n=`${this.env.catalogServiceURL}search-suggestions`;return this.http.post(n,{search_term:r}).pipe(ie$b(i=>zr$1(i)),kc$2(i=>{i.length&&this.eventDispatcherService.dispatch(new Pr$3(i.length));}))}static{this.\u0275fac=function(n){return new(n||e)(pe$9(_u$3),pe$9(J$5),pe$9(Ge$9),pe$9(X$6),pe$9(f$c))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Dt$1=function(e){return e.WomensClothing="Women's Clothing",e.FoodHealthBeauty="Food - Health - Beauty",e.MensClothing="Men's Clothing",e.Accessories="Accessories",e.HomeLiving="Home & Living",e.KidsClothing="Kids' Clothing",e}(Dt$1||{}),nt$9=function(e){return e.Bestsellers="Bestsellers",e.EarlyAccess="Early Access",e.Embroidery="Embroidery",e.HolidayPicks="Holiday Picks",e.NewArrivals="New Arrivals",e.PremiumApparel="Premium Apparel",e.EcoFriendly="Eco-friendly",e.AOPClothing="AOP Clothing",e.AssembledInTheUSA="Assembled in the USA",e.NeckLabels="Neck Labels",e.PrintifyChoice="Printify Choice",e.PriceDrop="Price Drop",e.TikTokReady="TikTok Ready",e.USAAssembled="Assembled in the USA",e.AllOverPrint="AOP Clothing",e}(nt$9||{}),Ft$2=function(e){return e.TShirts="T-shirts",e.Hoodies="Hoodies",e.Sweatshirts="Sweatshirts",e.LongSleeves="Long Sleeves",e.TankTops="Tank Tops",e.Sportswear="Sportswear",e.Bottoms="Bottoms",e.Swimwear="Swimwear",e.Shoes="Shoes",e.SkirtsAndDresses="Skirts & Dresses",e.BabyClothing="Baby Clothing",e.Other="Other",e.Beauty="Beauty",e.Coffee="Coffee",e.Supplements="Supplements",e.PhoneCases="Phone Cases",e.Bags="Bags",e.Socks="Socks",e.Hats="Hats",e.Underwear="Underwear",e.FaceMasks="Face Masks",e.BabyAccessories="Baby Accessories",e.MousePads="Mouse Pads",e.Pets="Pets",e.Jewelry="Jewelry",e.KitchenAccessories="Kitchen Accessories",e.CarAccessories="Car Accessories",e.TechAccessories="Tech Accessories",e.TravelAccessories="Travel Accessories",e.StationeryAccessories="Stationery Accessories",e.Games="Games",e.SeasonalDecorations="Seasonal Decorations",e.Candles="Candles",e.Mugs="Mugs",e.Ornaments="Ornaments",e.Glassware="Glassware",e.BottlesAndTumblers="Bottles & Tumblers",e.Canvas="Canvas",e.Posters="Posters",e.Postcards="Postcards",e.JournalsAndNotebooks="Journals & Notebooks",e.MagnetsAndStickers="Magnets & Stickers",e.HomeDecor="Home Decor",e.Bathroom="Bathroom",e.Towels="Towels",e.Blankets="Blankets",e.PillowsAndCovers="Pillows & Covers",e.RugsAndMats="Rugs & Mats",e}(Ft$2||{});var Jr$1="/assets/img/myFavorites.png",Jc$2=(()=>{class e{isPromotionalCategory(r){return this.promotionalCategories$.pipe(ie$b(n=>n.some(i=>Vr$2(i.topLevel.tag)===Vr$2(r))))}constructor(){this.http=N$8(_u$3),this.featureTogglesService=N$8(te$5),this.environment=N$8(f$c),this.errorHandler=N$8(Cr$2),this.maxLimit=1e3,this.managedCategoriesURL=`${this.environment.catalogServiceURL}managed-categories`,this.selectedCategory=new yn$7(undefined),this.latestCategories=[],this.shouldReloadCategories$=this.featureTogglesService.featuresReady$,this.categories$=this.shouldReloadCategories$.pipe(Ac$3(()=>this.loadCategoriesFromApi()),kc$2(r=>{this.latestCategories=r;}),_c$3(1)),this.isLoading$=$p$1(this.shouldReloadCategories$.pipe(ie$b(()=>true)),this.categories$.pipe(ie$b(r=>!r.length))).pipe(Sc$2(true),_c$3(1)),this.catalogManagedCategories=new In$7(1),this.catalogManagedCategoryTree$=this.catalogManagedCategories.pipe(ie$b(Ui$4),_c$3(1)),this.standardCategories$=this.categories$.pipe(ie$b(r=>r.filter(n=>!n.promotional))),this.promotionalCategories$=this.categories$.pipe(ie$b(r=>r.filter(n=>n.promotional))),this.selectedCategory$=this.selectedCategory.asObservable(),this.categorySubcategories$=Hp$2([this.selectedCategory$,this.categories$]).pipe(ie$b(([r,n])=>this.getCategorySubcategories(r,n)),Dr$5(au$4)),this.isEarlyAccessCategoryEnabled$=this.categories$.pipe(ie$b(r=>r.some(n=>n.topLevel.tag===nt$9.EarlyAccess)),Dr$5()),this.loadManagedCategories();}setSelectedCategory(r){this.selectedCategory.next(r);}getSubCategoryImageByTag({topLevelTag:r,subLevelTag:n,size:i=152}){let o=this.latestCategories.find(c=>c.topLevel.tag===r);if(!n){let c=o?.topLevel.defaultImage;return this.buildSubCategoryDefaultImageUrl(c,i)}let s=o?.topLevel.subLevel.find(c=>c.tag===n)?.defaultImage;return this.buildSubCategoryDefaultImageUrl(s,i)}buildSubCategoryDefaultImageUrl(r,n=152){return r?`${this.environment.catalogImagesURL}${r}?s=${n}`:Jr$1}getSubcategoriesByTags(r){return r.length?this.categories$.pipe(ie$b(n=>{let i=new Map;for(let o of n){let s=o.topLevel.tag;r.find(c=>c===s)&&!i.has(s)&&i.set(s,Xr({topLevelTag:s},o.topLevel.defaultImage));for(let c of o.topLevel.subLevel){let u=c.tag;r.find(f=>f===u)&&!i.has(u)&&i.set(u,Xr({topLevelTag:s,subLevelTag:u},c.defaultImage));}}return r.map(o=>i.get(o)).filter(o=>!!o)})):hi$7([])}getCategorySubcategories(r,n){if(!r)return [];let i=n.find(o=>o.topLevel.tag===r);return i?i.topLevel.subLevel.map(o=>({tag:o.tag,image:o.defaultImage})):[]}loadCategoriesFromApi(r){let n=new Ie$6;return r&&Object.keys(r).forEach(i=>{r[i]!==undefined&&r[i]!==null&&(n=n.set(i,r[i]));}),this.http.get(`${this.environment.catalogServiceURL}categories`,{params:n}).pipe(yi$5(()=>hi$7([])))}loadManagedCategories(){this.featureTogglesService.isFeatureEnabled$(jt$2.Catalog3LayerCategories).pipe(Ac$3(r=>r?this.http.get(this.managedCategoriesURL,{params:{limit:this.maxLimit}}).pipe(ie$b(n=>n.data),yi$5(()=>hi$7([]))):hi$7([]))).subscribe(r=>this.catalogManagedCategories.next(r));}getSubcategoriesForSalesChannel(r){let n=this.getSortingParameterForSalesChannel(r);return this.loadCategoriesFromApi(n).pipe(ie$b(i=>i.map(o=>this.mapToSubcategory(o))))}getSortingParameterForSalesChannel(r){return {[`sort[publications_count.${ze$4[r].toLowerCase()}]`]:"desc"}}mapToSubcategory(r){let n=ae$6(r.topLevel.tag),i=r.topLevel.subLevel[0],o=i?ae$6(i.tag):undefined,s=i?.tag||r.topLevel.tag,c=r.topLevel.tag,u=i?.tag,f=i?.defaultImage??r.topLevel.defaultImage??Jr$1,h=o?[`${n}/${o}`]:[n];return {label:s,topLevelTag:c,subLevelTag:u,link:h,analyticsId:o||n,defaultImage:f}}static isCategorySupported(r){return Object.values(Dt$1).includes(r)||Object.values(nt$9).includes(r)||Object.values(Ft$2).includes(r)}static{this.\u0275fac=function(n){return new(n||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function Xr({topLevelTag:e,subLevelTag:t},r){return {label:t||e,topLevelTag:e,subLevelTag:t,link:[e],analyticsId:e,defaultImage:r}}function Vr$2(e){return e.toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g," ").trim()}function Ui$4(e){let t=e.filter(r=>r.enabled);return {defaultCategories:ki$4(t),promotionalCategories:Di$3(t)}}function ki$4(e){let t=e.filter(n=>n.type==="default");return t.filter(n=>!n.parent_id).map(n=>Qr$1(n,t)).map(n=>Lt$3(n,n.slugPath)).sort(Bt$4)}function Qr$1(e,t){let r=t.filter(n=>n.parent_id===e.id);return x$d(w$9({},e),{slugPath:"",children:r.map(n=>x$d(w$9({},n),{slugPath:"",children:Qr$1(n,t).children.sort(Bt$4)}))})}function Lt$3(e,t){let r=`${t}/${e.slug}`;return x$d(w$9({},e),{slugPath:r,children:e.children.map(n=>Lt$3(n,r))})}function Bt$4(e,t){return e.weight-t.weight}function Di$3(e){return e.filter(t=>t.type==="promotional").map(t=>x$d(w$9({},t),{children:[],slugPath:""})).map(t=>Lt$3(t,t.slugPath)).sort(Bt$4)}var Zr$1=e=>{let t=e.split("/").filter(r=>!!r);return Object.values(ce$8).find(r=>t.includes(r.toLowerCase()))};new k$5("LOCALISATION_SERVICE");var du$1=(()=>{class e{setUserCountry(r){this.userCountry.next(r);}setUserCurrency(r){this.storageService.setString("currency",r,{storageType:I$8.Local,clearOnAuth:true}),this.userCurrency.next(r);}constructor(r,n){this.window=r,this.storageService=n,this.siteLocale=new In$7,this.userCountry=new yn$7(this.storageService.get("target_market",undefined,I$8.Local)),this.userCurrency=new yn$7(this.storageService.get("currency",undefined,I$8.Local)),this.siteLocale$=this.siteLocale.asObservable().pipe(mt$8(1)),this.userCountry$=this.userCountry.asObservable().pipe(mt$8(1)),this.userCurrency$=this.userCurrency.asObservable().pipe(mt$8(2)),this.initialiseLocaleByRoute(this.window.location.href);}initialiseLocaleByRoute(r){this.siteLocale.next(Zr$1(r)??ce$8.enUS);}static{this.\u0275fac=function(n){return new(n||e)(pe$9(Q$9),pe$9(Y$4))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var h$5=D$a(Wc$1());var _$6=(()=>{class i{constructor(t,e,o,n,c){this.storesService=t,this.userService=e,this.http=o,this.environment=n,this.billingCurrencyCodeProvider=c,this.store$=this.storesService.selectedStore$;}get store(){return this.storesService.store}get salesChannelId(){return this.store?.salesChannelId||null}get name(){return this.store?.branding?.brand||""}get url(){return this.store?.domain||""}getUrl({userId:t,shopId:e}){return `${this.environment.apiURL}v1/users/${t}/shops/${e}`}update(t){(0, h$5.assert)(!!this.store,"Store must be set for store update");let e=this.store.id,o=this.userService.getId();(0, h$5.assert)(!!o,"User ID must be set for store update");let n=this.getUrl({userId:o,shopId:e});return this.billingCurrencyCodeProvider.currencyCode$.pipe(mt$8(1),Ac$3(c=>{let m=w$9(w$9({},this.store),t);return this.http.put(n,x$d(w$9({},m),{orders_routing:x$d(w$9({},m.orders_routing),{currency:c})}))}),kc$2(()=>{this.storesService.patchSelectedStore(t);}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Ro$2),pe$9(J$5),pe$9(_u$3),pe$9(f$c),pe$9(_i$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var k$3="products-item-per-page",C$c="updated_at";var S$8=function(e){return e.Unpublished="unpublished",e.UnpublishedChanges="unpublished_changes",e.Hidden="hidden",e.Published="published",e.Publishing="publishing",e.PublishingStepShipping="publishing_step_shipping",e.PublishingStepImageUpload="publishing_step_image_upload",e.PublishingFailed="publishing_failed",e.ImageExpired="image_expired",e.IpDetection="ip_detection",e.IpReported="ip_reported",e.IpUnderReview="ip_under_review",e.IpAppealDenied="ip_appeal_denied",e.SellingLimit="selling_limit",e}(S$8||{});var v$5=function(e){return e.Brands="brands",e.PrintProviders="print_providers",e.Status="status",e.DeliveryOptions="delivery_options",e}(v$5||{});var I$5=function(e){return e.Banners="productsBanners",e.BulkEditShippingProfileBanner="bulkEditShippingProfileBanner",e}(I$5||{});var u$4=function(e){return e.Publishing="publishing",e.Shipping="shipping",e.ImageUpload="image_upload",e.VariantCreation="variant_creation",e.SalesChannelDelay="sales_channel_delay",e}(u$4||{});var O$6=function(e){return e.Marketplace="marketplace",e.Platform="platform",e}(O$6||{}),c$9=function(e){return e.Easy="easy",e.Medium="medium",e.Advanced="advanced",e}(c$9||{}),f$8=function(e){return e.Easy="easy",e.RequiresEffort="requiresEffort",e}(f$8||{}),m$4=function(e){return e.Beginners="beginners",e.SmallBusinesses="smallBusinesses",e.LargeRetailers="largeRetailers",e}(m$4||{}),h$4=function(e){return e.Free="free",e.Low="low",e.Medium="medium",e.High="high",e}(h$4||{}),g$7=function(e){return e.Compliant="compliant",e.Contingent="contingent",e.Restricted="restricted",e}(g$7||{}),N$4=function(e){return e.All="all",e.MockupDesigns="mockupDesigns",e.Personalization="personalization",e}(N$4||{}),D$6=function(e){return e.CustomBackground="customBackground",e.FullWidth="fullWidth",e.FullWidthCustomBackground="fullWidthCustomBackground",e}(D$6||{});var r$5=function(e){return e.Standard="standard",e.Express="express",e.Economy="economy",e}(r$5||{}),A$b=()=>({[r$5.Express]:[],[r$5.Standard]:[],[r$5.Economy]:[]});var oe$4=e=>i=>i.pipe(yi$5(t=>{let n=t.error;return n?Xp$2(()=>new e(n.code,t)):Xp$2(()=>new e(0,t))})),ae$5=(e,i,t={})=>{let n={id:e,name:i,logoUrl:`/assets/svg/store/${i.toLowerCase()}.svg`,fullLogoUrl:`/assets/svg/store/${i.toLowerCase()}-full.svg`,guideUrl:"https://help.printify.com/hc/en-us/articles/4483644382865",affiliateUrl:"",aboutUrl:"",type:null,hasNewConnectionFlow:false,hasPrintifyExpress:false,hasExpressDelivery:false,hasEconomyDelivery:false,hasAutoCreationOption:true,hasExternalProducts:false,personalizationAvailable:false,personalizationDetailsAvailable:false,maxPersonalisationInstructionsLength:256,automaticOptionEconomy:false,areOffsiteAddsAvailable:false,isFreeShippingAvailable:false,automaticOptionExpress:false,economyShippingPermamentlyEnabled:false,isPromotionsAvailable:false,isBetaVersion:false,limitationsText:null,isPopular:false,isNew:false,setupComplexity:f$8.Easy,audience:m$4.Beginners,biggestMarkets:[],hasSubscriptionFee:false,pricing:{level:h$4.Free,tooltip:""},catalogName:i,description:"",complexity:c$9.Easy,keyHighlights:[],overviewDescription:{text:t.description??""},overviewConnectButtonText:"",token:{hasExpired:false,hasExpiryWarning:false,expiresAt:null},mockupsGuidelines:[],product:{hasTags:false,hasSalesData:false,hasKeyFeatures:false,hasProfitCalculator:false,hasShippingProfile:false,hasShippingProfileLoadCriteria:false,hasShippingProfilesSettings:false,supportHTMLInDescription:true,canBeHidden:true,isVariantAvailabilityShown:false,hasCustomShippingOptions:null,hasMockupLibraryFeature:false,hasTitleMockupSelectionFeature:false,allowsSelectionOfMockupsForPublishing:false,publishing:{steps:{[u$4.Publishing]:{label:"Publishing"}},disabled:false,tooltip:"",variantVisibility:{available:false,hasAvailableSoldOutOption:false}},validationRules:{mockupsSelectedForPublishingCount:{min:-1/0,max:1/0},variant:{retailPrice:{min:{value:0,message:""}}}},handpickedBlueprintsDescription:"We've carefully selected some of our top-selling products and combined them with Printify Choice to offer you the best price, quality, and delivery speed - hassle-free.",handpickedBlueprints:[{id:6,name:"Unisex Heavy Cotton Tee",media:"65df359a5d428f02700b9a82"},{id:49,name:"Unisex Heavy Blend\u2122 Crewneck Sweatshirt",media:"654de688e68ada3dc707f26d"},{id:77,name:"Unisex Heavy Blend\u2122 Hooded Sweatshirt",media:"654e2446c4fbc0eeb2052d24"},{id:1313,name:"Cotton Canvas Tote Bag",media:"663b2529dc26b48b5d077624"}],placeItAffiliateBannerVisible:true},fulfilmentStandards:null,sellingLimit:{supported:false,supportUrl:"",helpCenterUrl:""},analyticsId:ze$7(Hp$3(i)),storeId:0,extras:{},canSyncOrders:false,hasPromoMaterials:false,isUSShippingOnly:false,buyerResponseLimitAvailable:false};return Cc$4(n,t)};var le$6=e=>w$9({id:e._id,isExternal:!!e.external},B$5(e)?U$a(e):M$5(e)),M$5=e=>e.decorators[0].variants.filter(i=>i.on===1).reduce((i,t)=>({quantity:i.quantity+t.quantity,price:i.price+t.quantity*(t.retail||0)}),{quantity:0,price:0}),U$a=e=>e.variants.filter(i=>i.enabled).reduce((i,t)=>({quantity:i.quantity+t.quantity,price:i.price+t.quantity*t.cost}),{quantity:0,price:0}),T$7={name:"Automatically assign and update profile if needed",secondaryName:"We'll choose the best profile for you and update it with any changes in costs or estimates.",value:null},pe$5={name:"",value:undefined},de$5=(e={})=>w$9({selectedShippingProfile:T$7,hasAutoCreationOption:true},e),B$5=e=>"variants"in e,ue$3=([e,i,t])=>{let n=[r$5.Standard];e&&n.push(r$5.Express),i&&n.push(r$5.Economy);let a=n.map(R$b);return [n.reduce((o,l)=>[...o,...t[l]],[]).filter(o=>a.every(l=>o.shippingMethods?.includes(l))),n]},R$b=e=>({[r$5.Standard]:ji$3.Standard,[r$5.Express]:ji$3.ExpressDelivery,[r$5.Economy]:ji$3.Economy})[e],ce$7=e=>e.reduce((i,t)=>{if(t.shippingMethods)return t.shippingMethods.includes(ji$3.ExpressDelivery)&&i.express.push(t),t.shippingMethods.includes(ji$3.Economy)&&i.economy.push(t),t.shippingMethods.includes(ji$3.Standard)&&i.standard.push(t),i;switch(t.shippingMethod){case ji$3.ExpressDelivery:{i.express.push(t);break}default:i.standard.push(t);}return i},A$b()),fe$5=e=>({name:`${e.title}${e.processingDaysDisplayLabel?`: ${e.processingDaysDisplayLabel}`:""}`,value:e.id});function me$4(e){if("connected"in e)return {storeId:Number.parseInt(e.connected,10)};let[i]=e["connection-failed"]?.includes("-")?e["connection-failed"].split("-").reverse():[e["connection-failed"]];return {storeId:Number.parseInt(i,10),errorCode:Number.parseInt(e["connection-failed-code"],10)}}function he$4(e){return !!e.fulfillment_standard&&e.fulfillment_standard.sales_channels_compliance!==g$7.Compliant}function ge$7(e){let i=e.decorators.some(n=>n.prints.some(a=>a.placeholders.some(o=>o.decoration_method==="embroidery"))),t=e.embroidery?.status!==Gi$2.Digitized;return i&&t}function xe$6(e){return /^http(s?):\/\//.test(e)?e:`https://${e}`}
function ee$5(r){let e=r.cloneNode(true),t=e.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return i==="canvas"?Gt$3(r,e):(i==="input"||i==="select"||i==="textarea")&&Vt$4(r,e),zt$2("canvas",r,e,Gt$3),zt$2("input, textarea, select",r,e,Vt$4),e}function zt$2(r,e,t,i){let s=e.querySelectorAll(r);if(s.length){let n=t.querySelectorAll(r);for(let o=0;o<s.length;o++)i(s[o],n[o]);}}var pe$4=0;function Vt$4(r,e){e.type!=="file"&&(e.value=r.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${pe$4++}`);}function Gt$3(r,e){let t=e.getContext("2d");if(t)try{t.drawImage(r,0,0);}catch{}}function ot$8(r){let e=r.getBoundingClientRect();return {top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function et$5(r,e,t){let{top:i,bottom:s,left:n,right:o}=r;return t>=i&&t<=s&&e>=n&&e<=o}function C$b(r,e,t){r.top+=e,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width;}function Bt$3(r,e,t,i){let{top:s,right:n,bottom:o,left:a,width:l,height:c}=r,d=l*e,g=c*e;return i>s-g&&i<o+g&&t>a-d&&t<n+d}var H$4=class H{_document;positions=new Map;constructor(e){this._document=e;}clear(){this.positions.clear();}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ot$8(t)});});}handleScroll(e){let t=On$4(e),i=this.positions.get(t);if(!i)return null;let s=i.scrollPosition,n,o;if(t===this._document){let c=this.getViewportScrollPosition();n=c.top,o=c.left;}else n=t.scrollTop,o=t.scrollLeft;let a=s.top-n,l=s.left-o;return this.positions.forEach((c,d)=>{c.clientRect&&t!==d&&t.contains(d)&&C$b(c.clientRect,a,l);}),s.top=n,s.left=o,{top:a,left:l}}getViewportScrollPosition(){return {top:window.scrollY,left:window.scrollX}}};function ie$7(r,e){let t=r.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(s=>i.appendChild(s)),i}function at$4(r,e,t){for(let i in e)if(e.hasOwnProperty(i)){let s=e[i];s?r.setProperty(i,s,t?.has(i)?"important":""):r.removeProperty(i);}return r}function S$7(r,e){let t=e?"":"none";at$4(r.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t});}function Ut$3(r,e,t){at$4(r.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t);}function z$6(r,e){return e&&e!="none"?r+" "+e:r}function Wt$2(r,e){r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,r.style.transform=V$4(e.left,e.top);}function V$4(r,e){return `translate3d(${Math.round(r)}px, ${Math.round(e)}px, 0)`}function Zt$3(r){let e=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*e}function ge$6(r){let e=getComputedStyle(r),t=tt$5(e,"transition-property"),i=t.find(a=>a==="transform"||a==="all");if(!i)return 0;let s=t.indexOf(i),n=tt$5(e,"transition-duration"),o=tt$5(e,"transition-delay");return Zt$3(n[s])+Zt$3(o[s])}function tt$5(r,e){return r.getPropertyValue(e).split(",").map(i=>i.trim())}var ue$2=new Set(["position"]),it$7=class it{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,i,s,n,o,a,l,c,d){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=s,this._previewTemplate=n,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d;}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),jt$1(this._preview)&&this._preview.showPopover();}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null;}setTransform(e){this._preview.style.transform=e;}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e);}getTransitionDuration(){return ge$6(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,s;if(i&&e){let n=e.matchSize?this._initialDomRect:null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),s=ie$7(o,this._document),this._previewEmbeddedView=o,e.matchSize?Wt$2(s,n):s.style.transform=V$4(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y);}else s=ee$5(this._rootElement),Wt$2(s,this._initialDomRect),this._initialTransform&&(s.style.transform=this._initialTransform);return at$4(s.style,{"pointer-events":"none",margin:jt$1(s)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},ue$2),S$7(s,false),s.classList.add("cdk-drag-preview"),s.setAttribute("popover","manual"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(n=>s.classList.add(n)):s.classList.add(t)),s}};function jt$1(r){return "showPopover"in r}var qt$2=kd$1({passive:true}),F$7=kd$1({passive:false}),$t$1=kd$1({passive:false,capture:true}),fe$4=800,Kt$2=new Set(["position"]),st$5=class st{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=oI(false);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Z$a;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=V$7.EMPTY;_pointerUpSubscription=V$7.EMPTY;_scrollSubscription=V$7.EMPTY;_resizeSubscription=V$7.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=true;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>S$7(t,e)));}_disabled=false;beforeStarted=new Z$a;started=new Z$a;released=new Z$a;ended=new Z$a;entered=new Z$a;exited=new Z$a;dropped=new Z$a;moved=this._moveEvents;data;constrainPosition;constructor(e,t,i,s,n,o,a){this._config=t,this._document=i,this._ngZone=s,this._viewportRuler=n,this._dragDropRegistry=o,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new H$4(i),o.registerDragItem(this);}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Mr$4(i)),this._handles.forEach(i=>S$7(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i);}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=Mr$4(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,F$7),t.addEventListener("touchstart",this._pointerDown,qt$2),t.addEventListener("dragstart",this._nativeDragStart,F$7);}),this._initialTransform=undefined,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Mr$4(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=undefined,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null;}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0};}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),S$7(e,true));}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),S$7(e,this.disabled));}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e;}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return {x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e);}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Xt$3,$t$1);}_destroyPreview(){this._preview?.destroy(),this._preview=null;}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null;}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e);}else this.disabled||this._initializeDragSequence(this._rootElement,e);};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let s=Math.abs(t.x-this._pickupPositionOnPage.x),n=Math.abs(t.y-this._pickupPositionOnPage.y);if(s+n>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(true),this._ngZone.run(()=>this._startDragSequence(e)));}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(t);if(this._hasMoved=true,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,t);else {let s=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,n=this._activeTransform;n.x=i.x-s.x+this._passiveTransform.x,n.y=i.y-s.y+this._passiveTransform.y,this._applyRootElementTransform(n.x,n.y);}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta});});};_pointerUp=e=>{this._endDragSequence(e);};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this);});else {this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e});}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this);}}_startDragSequence(e){T$6(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",Xt$3,$t$1);}),i){let s=this._rootElement,n=s.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(a,s),this._initialTransform=s.style.transform||"",this._preview=new it$7(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(n,t)),Ut$3(s,false,Kt$2),this._document.body.appendChild(n.replaceChild(o,s)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this);}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=undefined;this._parentPositions.cache(i?i.getScrollableParents():[]);}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),s=T$6(t),n=!s&&t.button!==0,o=this._rootElement,a=On$4(t),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+fe$4>Date.now(),c=s?nm$2(t):tm$1(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),i||n||l||c)return;if(this._handles.length){let v=o.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent";}this._hasMoved=false,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=ot$8(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t);}_cleanupDragArtifacts(e){Ut$3(this._rootElement,true,Kt$2),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=undefined,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),s=this._getPointerPositionOnPage(e),n=this._getDragDistance(s),o=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:n,dropPoint:s,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:n,dropPoint:s,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,o,n,s,e),this._dropContainer=this._initialContainer;});}_updateActiveDropContainer({x:e,y:t},{x:i,y:s}){let n=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,e,t,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:undefined),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)});}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y));}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let s=a=>{(!a||this._preview&&On$4(a)===this._preview.element&&a.propertyName==="transform")&&(o(),i(),clearTimeout(n));},n=setTimeout(s,t*1.5),o=this._preview.addEventListener("transitionend",s);}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=ie$7(this._placeholderRef,this._document)):i=ee$5(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let s=t===this._rootElement?null:t,n=s?s.getBoundingClientRect():e,o=T$6(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),l=o.pageX-n.left-a.left,c=o.pageY-n.top-a.top;return {x:n.left-e.left+l,y:n.top-e.top+c}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=T$6(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,s=i.pageX-t.left,n=i.pageY-t.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=n,a.matrixTransform(o.inverse())}}return {x:s,y:n}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:s}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:n,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+o,g=a.bottom-(c-o),v=a.left+n,U=a.right-(l-n);i=Yt$2(i,v,U),s=Yt$2(s,d,g);}return {x:i,y:s}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,s=this._pointerDirectionDelta,n=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-n.x),a=Math.abs(i-n.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=t>n.x?1:-1,n.x=t),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>n.y?1:-1,n.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,S$7(this._rootElement,e));}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,F$7),e.removeEventListener("touchstart",this._pointerDown,qt$2),e.removeEventListener("dragstart",this._nativeDragStart,F$7);}_applyRootElementTransform(e,t){let i=1/this.scale,s=V$4(e*i,t*i),n=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=n.transform&&n.transform!="none"?n.transform:""),n.transform=z$6(s,this._initialTransform);}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?undefined:this._initialTransform,s=V$4(e,t);this._preview.setTransform(z$6(s,i));}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=undefined,this._parentPositions.clear();}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(s.width===0&&s.height===0||i.width===0&&i.height===0)return;let n=s.left-i.left,o=i.right-s.right,a=s.top-i.top,l=i.bottom-s.bottom;s.width>i.width?(n>0&&(e+=n),o>0&&(e-=o)):e=0,s.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e});}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:T$6(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=On$4(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&C$b(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y));}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===undefined&&(this._cachedShadowRoot=pg$1(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Mr$4(i)}_getPreviewRect(){return (!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault();}else this.disabled||e.preventDefault();};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function Yt$2(r,e,t){return Math.max(e,Math.min(t,r))}function T$6(r){return r.type[0]==="t"}function Xt$3(r){r.preventDefault();}function se$5(r,e,t){let i=Jt$4(e,r.length-1),s=Jt$4(t,r.length-1);if(i===s)return;let n=r[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)r[a]=r[a+o];r[s]=n;}function Jt$4(r,e){return Math.max(0,Math.min(e,r))}var G$4=class G{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e;}_previousSwap={drag:null,delta:0,overlaps:false};start(e){this.withItems(e);}sort(e,t,i,s){let n=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,i,s);if(o===-1&&n.length>0)return null;let a=this.orientation==="horizontal",l=n.findIndex(u=>u.drag===e),c=n[o],d=n[l].clientRect,g=c.clientRect,v=l>o?1:-1,U=this._getItemOffsetPx(d,g,v),he=this._getSiblingOffsetPx(l,n,v),de=n.slice();return se$5(n,l,o),n.forEach((u,_e)=>{if(de[_e]===u)return;let ht=u.drag===e,W=ht?U:he,dt=ht?e.getPlaceholderElement():u.drag.getRootElement();u.offset+=W;let _t=Math.round(u.offset*(1/u.drag.scale));a?(dt.style.transform=z$6(`translate3d(${_t}px, 0, 0)`,u.initialTransform),C$b(u.clientRect,0,W)):(dt.style.transform=z$6(`translate3d(0, ${_t}px, 0)`,u.initialTransform),C$b(u.clientRect,W,0));}),this._previousSwap.overlaps=et$5(g,t,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?s.x:s.y,{previousIndex:l,currentIndex:o}}enter(e,t,i,s){let n=s==null||s<0?this._getItemIndexFromPointerPosition(e,t,i):s,o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement(),c=o[n];if(c===e&&(c=o[n+1]),!c&&(n==null||n===-1||n<o.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),o.splice(n,0,e);}else this._element.appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions();}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions();}withSortPredicate(e){this._sortPredicate=e;}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(s=>s.drag===e)?.initialTransform;t.style.transform=i||"";}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=false;}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return (this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{C$b(i,e,t);}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition();});}withElementContainer(e){this._element=e;}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return {drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:ot$8(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top);}_getItemOffsetPx(e,t,i){let s=this.orientation==="horizontal",n=s?t.left-e.left:t.top-e.top;return i===-1&&(n+=s?t.width-e.width:t.height-e.height),n}_getSiblingOffsetPx(e,t,i){let s=this.orientation==="horizontal",n=t[e].clientRect,o=t[e+i*-1],a=n[s?"width":"height"]*i;if(o){let l=s?"left":"top",c=s?"right":"bottom";i===-1?a-=o.clientRect[l]-n[c]:a+=n[l]-o.clientRect[c];}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return  false;let i=this._itemPositions,s=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let o=i[i.length-1].clientRect;return s?e>=o.right:t>=o.bottom}else {let o=i[0].clientRect;return s?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,i,s){let n=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return  false;if(s){let c=n?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return  false}return n?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return o===-1||!this._sortPredicate(o,e)?-1:o}},nt$8=class nt{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:false};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t;}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let s=t[i];this._relatedNodes.push([s,s.nextSibling]);}this.withItems(e);}sort(e,t,i,s){let n=this._getItemIndexFromPointerPosition(e,t,i),o=this._previousSwap;if(n===-1||this._activeItems[n]===e)return null;let a=this._activeItems[n];if(o.drag===a&&o.overlaps&&o.deltaX===s.x&&o.deltaY===s.y)return null;let l=this.getItemIndex(e),c=e.getPlaceholderElement(),d=a.getRootElement();n>l?d.after(c):d.before(c),se$5(this._activeItems,l,n);let g=this._getRootNode().elementFromPoint(t,i);return o.deltaX=s.x,o.deltaY=s.y,o.drag=a,o.overlaps=d===g||d.contains(g),{previousIndex:l,currentIndex:n}}enter(e,t,i,s){let n=s==null||s<0?this._getItemIndexFromPointerPosition(e,t,i):s;n===-1&&(n=this._getClosestItemIndexToPointer(e,t,i));let o=this._activeItems[n],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(n,0,e),o.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()));}withItems(e){this._activeItems=e.slice();}withSortPredicate(e){this._sortPredicate=e;}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[s,n]=this._relatedNodes[i];s.parentNode===e&&s.nextSibling!==n&&(n===null?e.appendChild(s):n.parentNode===e&&e.insertBefore(s,n));}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=false;}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition();});}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=undefined);}_getItemIndexFromPointerPosition(e,t,i){let s=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),n=s?this._activeItems.findIndex(o=>{let a=o.getRootElement();return s===a||a.contains(s)}):-1;return n===-1||!this._sortPredicate(n,e)?-1:n}_getRootNode(){return this._rootNode||(this._rootNode=pg$1(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return  -1;if(this._activeItems.length===1)return 0;let s=1/0,n=-1;for(let o=0;o<this._activeItems.length;o++){let a=this._activeItems[o];if(a!==e){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(t-l,i-c);d<s&&(s=d,n=o);}}return n}},Qt$3=.05,ne$4=.05,f$7=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(f$7||{}),p$8=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(p$8||{}),rt$6=class rt{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=false;sortingDisabled=false;lockAxis;autoScrollDisabled=false;autoScrollStep=2;enterPredicate=()=>true;sortPredicate=()=>true;beforeStarted=new Z$a;entered=new Z$a;exited=new Z$a;dropped=new Z$a;sorted=new Z$a;receivingStarted=new Z$a;receivingStopped=new Z$a;data;_container;_isDragging=false;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=V$7.EMPTY;_verticalScrollDirection=f$7.NONE;_horizontalScrollDirection=p$8.NONE;_scrollNode;_stopScrollTimers=new Z$a;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,i,s,n){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=n;let o=this.element=Mr$4(e);this._document=i,this.withOrientation("vertical").withElementContainer(o),t.registerDropContainer(this),this._parentPositions=new H$4(i);}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this);}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings();}enter(e,t,i,s){this._draggingStarted(),s==null&&this.sortingDisabled&&(s=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)});}exit(e){this._reset(),this.exited.next({item:e,container:this});}drop(e,t,i,s,n,o,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:n,distance:o,dropPoint:a,event:l});}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>e.indexOf(s)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof G$4&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new nt$8(this._document,this._dragDropRegistry);else {let t=new G$4(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t;}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;Mr$4(this.element);let i=this._scrollableElements.indexOf(this._container),s=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),s>-1&&this._scrollableElements.splice(s,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,s){if(this.sortingDisabled||!this._domRect||!Bt$3(this._domRect,Qt$3,t,i))return;let n=this._sortStrategy.sort(e,t,i,s);n&&this.sorted.next({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:e});}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,s=f$7.NONE,n=p$8.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||Bt$3(o.clientRect,Qt$3,e,t)&&([s,n]=me$3(a,o.clientRect,this._direction,e,t),(s||n)&&(i=a));}),!s&&!n){let{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=re$4(l,t),n=oe$3(l,e),i=window;}i&&(s!==this._verticalScrollDirection||n!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=n,this._scrollNode=i,(s||n)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling());}_stopScrolling(){this._stopScrollTimers.next();}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=true,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents();}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect;}_reset(){this._isDragging=false;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear();}_startScrollInterval=()=>{this._stopScrolling(),fh$2(0,Kp$1).pipe(Oc$2(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===f$7.UP?e.scrollBy(0,-t):this._verticalScrollDirection===f$7.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===p$8.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===p$8.RIGHT&&e.scrollBy(t,0);});};_isOverContainer(e,t){return this._domRect!=null&&et$5(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(s=>s._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!et$5(this._domRect,t,i)||!this.enterPredicate(e,this))return  false;let s=this._getShadowRoot().elementFromPoint(t,i);return s?s===this._container||this._container.contains(s):false}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}));}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this});}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left);}else this.isReceiving()&&this._cacheParentPositions();});}_getShadowRoot(){if(!this._cachedShadowRoot){let e=pg$1(this._container);this._cachedShadowRoot=e||this._document;}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e));}};function re$4(r,e){let{top:t,bottom:i,height:s}=r,n=s*ne$4;return e>=t-n&&e<=t+n?f$7.UP:e>=i-n&&e<=i+n?f$7.DOWN:f$7.NONE}function oe$3(r,e){let{left:t,right:i,width:s}=r,n=s*ne$4;return e>=t-n&&e<=t+n?p$8.LEFT:e>=i-n&&e<=i+n?p$8.RIGHT:p$8.NONE}function me$3(r,e,t,i,s){let n=re$4(e,s),o=oe$3(e,i),a=f$7.NONE,l=p$8.NONE;if(n){let c=r.scrollTop;n===f$7.UP?c>0&&(a=f$7.UP):r.scrollHeight-c>r.clientHeight&&(a=f$7.DOWN);}if(o){let c=r.scrollLeft;t==="rtl"?o===p$8.RIGHT?c<0&&(l=p$8.RIGHT):r.scrollWidth+c>r.clientWidth&&(l=p$8.LEFT):o===p$8.LEFT?c>0&&(l=p$8.LEFT):r.scrollWidth-c>r.clientWidth&&(l=p$8.RIGHT);}return [a,l]}var A$a=kd$1({passive:false,capture:true}),ve$6=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=LR({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,s){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return r})(),lt$5=(()=>{class r{_ngZone=N$8(te$6);_document=N$8(L$8);_styleLoader=N$8(to$4);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=oI([]);_globalListeners=new Map;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new Z$a;pointerUp=new Z$a;scroll=new Z$a;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t);}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,A$a);});}removeDropContainer(t){this._dropInstances.delete(t);}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,A$a);}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(ve$6),this._activeDragInstances.update(s=>[...s,t]),this._activeDragInstances().length===1)){let s=i.type.startsWith("touch"),n={handler:o=>this.pointerUp.next(o),options:true};s?(this._globalListeners.set("touchend",n),this._globalListeners.set("touchcancel",n)):this._globalListeners.set("mouseup",n),this._globalListeners.set("scroll",{handler:o=>this.scroll.next(o),options:true}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:A$a}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:A$a}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options);});});}}stopDragging(t){this._activeDragInstances.update(i=>{let s=i.indexOf(t);return s>-1?(i.splice(s,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners();}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new M$a(s=>this._ngZone.runOutsideAngular(()=>{let o=a=>{this._activeDragInstances().length&&s.next(a);};return t.addEventListener("scroll",o,true),()=>{t.removeEventListener("scroll",o,true);}}))),$p$1(...i)}registerDirectiveNode(t,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,i);}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t);}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete();}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault();};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t));};_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options);}),this._globalListeners.clear();}static \u0275fac=function(i){return new(i||r)};static \u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),De$8={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ct$5=(()=>{class r{_document=N$8(L$8);_ngZone=N$8(te$6);_viewportRuler=N$8(Ca$4);_dragDropRegistry=N$8(lt$5);_renderer=N$8(ho$5).createRenderer(null,null);constructor(){}createDrag(t,i=De$8){return new st$5(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new rt$6(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),B$4=new k$5("CDK_DRAG_PARENT");var ae$4=new k$5("CdkDragHandle"),Ve$2=(()=>{class r{element=N$8(Uo$5);_parentDrag=N$8(B$4,{optional:true,skipSelf:true});_dragDropRegistry=N$8(lt$5);_stateChanges=new Z$a;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this);}_disabled=false;constructor(){this._parentDrag?._addHandle(this);}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let i=this._dragDropRegistry.getDragDirectiveForNode(t);if(i){this._parentDrag=i,i._addHandle(this);break}t=t.parentElement;}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete();}static \u0275fac=function(i){return new(i||r)};static \u0275dir=VR({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",VP]},features:[gP([{provide:ae$4,useExisting:r}]),BR]})}return r})(),le$5=new k$5("CDK_DRAG_CONFIG"),ce$6=new k$5("CdkDropList"),Ge$6=(()=>{class r{element=N$8(Uo$5);dropContainer=N$8(ce$6,{optional:true,skipSelf:true});_ngZone=N$8(te$6);_viewContainerRef=N$8(Ja$5);_dir=N$8(Zi$4,{optional:true});_changeDetectorRef=N$8(bw$1);_selfHandle=N$8(ae$4,{optional:true,self:true});_parentDrag=N$8(B$4,{optional:true,skipSelf:true});_dragDropRegistry=N$8(lt$5);_destroyed=new Z$a;_handles=new yn$7([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled;}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Xe$5;released=new Xe$5;ended=new Xe$5;entered=new Xe$5;exited=new Xe$5;dropped=new Xe$5;moved=new M$a(t=>{let i=this._dragRef.moved.pipe(ie$b(s=>({source:this,pointerPosition:s.pointerPosition,event:s.event,delta:s.delta,distance:s.distance}))).subscribe(t);return ()=>{i.unsubscribe();}});_injector=N$8(_e$8);constructor(){let t=this.dropContainer,i=N$8(le$5,{optional:true}),s=N$8(ct$5);this._dragRef=s.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(Oc$2(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale;})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef);}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset();}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t);}ngAfterViewInit(){Vg(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition);},{injector:this._injector});}ngOnChanges(t){let i=t.rootElementSelector,s=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition);}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose();});}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i);}_removeHandle(t){let i=this._handles.getValue(),s=i.indexOf(t);s>-1&&(i.splice(s,1),this._handles.next(i));}_setPreviewTemplate(t){this._previewTemplate=t;}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null);}_setPlaceholderTemplate(t){this._placeholderTemplate=t;}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null);}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==undefined?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t);}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):Mr$4(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,s=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof s=="object"&&s?s:ga$4(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value);}}),t.beforeStarted.pipe(mt$8(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let s=this._dragDropRegistry.getDragDirectiveForNode(i);if(s){t.withParent(s._dragRef);break}i=i.parentElement;}});}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck();}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event});}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck();}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex});}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this});}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event});});}_assignDefaults(t){let{lockAxis:i,dragStartDelay:s,constrainPosition:n,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=t;this.disabled=l??false,this.dragStartDelay=s||0,i&&(this.lockAxis=i),n&&(this.constrainPosition=n),o&&(this.previewClass=o),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d);}_setupHandlesListener(){this._handles.pipe(kc$2(t=>{let i=t.map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i);}),Ac$3(t=>$p$1(...t.map(i=>i._stateChanges.pipe(Sc$2(i))))),Oc$2(this._destroyed)).subscribe(t=>{let i=this._dragRef,s=t.element.nativeElement;t.disabled?i.disableHandle(s):i.enableHandle(s);});}static \u0275fac=function(i){return new(i||r)};static \u0275dir=VR({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,s){i&2&&dE("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging());},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",VP],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",jP]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[gP([{provide:B$4,useExisting:r}]),BR,tR]})}return r})(),te$3=new k$5("CdkDropListGroup");var Be$5=(()=>{class r{element=N$8(Uo$5);_changeDetectorRef=N$8(bw$1);_scrollDispatcher=N$8(ba$4);_dir=N$8(Zi$4,{optional:true});_group=N$8(te$3,{optional:true,skipSelf:true});_destroyed=new Z$a;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=N$8(oo$3).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t;}_disabled;sortingDisabled;enterPredicate=()=>true;sortPredicate=()=>true;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Xe$5;entered=new Xe$5;exited=new Xe$5;sorted=new Xe$5;_unsortedItems=new Set;constructor(){let t=N$8(ct$5),i=N$8(le$5,{optional:true});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(s,n)=>this.enterPredicate(s.data,n.data),this._dropListRef.sortPredicate=(s,n,o)=>this.sortPredicate(s,n.data,o.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this);}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef();}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef();}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete();}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Sc$2(this._dir.value),Oc$2(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{let i=gi$2(this.connectedTo).map(s=>{if(typeof s=="string"){let n=r._dropLists.find(o=>o.id===s);return n}return s});if(this._group&&this._group._items.forEach(s=>{i.indexOf(s)===-1&&i.push(s);}),!this._scrollableParentsResolved){let s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(n=>n.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=true;}if(this.elementContainerSelector){let s=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(s);}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=ga$4(this.autoScrollStep,2),t.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation);});}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck();}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex});}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck();}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data});}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck();}),$p$1(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck());}_assignDefaults(t){let{lockAxis:i,draggingDisabled:s,sortingDisabled:n,listAutoScrollDisabled:o,listOrientation:a}=t;this.disabled=s??false,this.sortingDisabled=n??false,this.autoScrollDisabled=o??false,this.orientation=a||"vertical",i&&(this.lockAxis=i);}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef));}static \u0275fac=function(i){return new(i||r)};static \u0275dir=VR({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,s){i&2&&(GI("id",s.id),dE("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()));},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",VP],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",VP],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",VP],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[gP([{provide:te$3,useValue:undefined},{provide:ce$6,useExisting:r}]),BR]})}return r})();var we$4=new k$5("CdkDragPlaceholder"),Ue$4=(()=>{class r{templateRef=N$8(fo$3);_drag=N$8(B$4,{optional:true});data;constructor(){this._drag?._setPlaceholderTemplate(this);}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this);}static \u0275fac=function(i){return new(i||r)};static \u0275dir=VR({type:r,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[gP([{provide:we$4,useExisting:r}])]})}return r})();var We$5=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=EI({type:r});static \u0275inj=qh$2({providers:[ct$5],imports:[Dd$1]})}return r})();function ta$3(e,i,t,r){let n=window&&!!window.document&&window.document.documentElement,o=n&&i?window:t;if(e&&(o=e&&n&&typeof e=="string"?ra$3(e,t.nativeElement,r):e,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function ra$3(e,i,t){return (t?window.document:i).querySelector(e)}function un$2(e){return e&&!e.firstChange}function na$2(){return typeof window<"u"}var ia$3={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},oa$2={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},dn$3=class dn{constructor(i=true){this.vertical=i,this.propsMap=i?ia$3:oa$2;}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function aa$3(e,i,t){return !!(e&&i||!t&&i)}function sa$3({windowElement:e,axis:i}){return ca$3({axis:i,isWindow:la$2(e)},e)}function ca$3(e,i){let t=e.isWindow||i&&!i.nativeElement?i:i.nativeElement;return x$d(w$9({},e),{container:t})}function la$2(e){return ["Window","global"].some(t=>Object.prototype.toString.call(e).includes(t))}function mn$3(e,i){return e?i.document.documentElement:null}function Qi$3(e,i){let t=ha$2(i);return i.isWindow?ua$3(t,e,i):da$2(t,e,i)}function ua$3(e,i,t){let{axis:r,container:n,isWindow:o}=t,{offsetHeightKey:a,clientHeightKey:s}=Ji$4(r),l=e+to$2(mn$3(o,n),r,o),u=eo$1(i.nativeElement,o,a,s),h=pa$2(i.nativeElement,r,o)+u;return {height:e,scrolled:l,totalToScroll:h,isWindow:o}}function da$2(e,i,t){let{axis:r,container:n}=t,o=n[r.scrollTopKey()],a=n[r.scrollHeightKey()];return {height:e,scrolled:o,totalToScroll:a,isWindow:false}}function Ji$4(e){return {offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function ha$2({container:e,isWindow:i,axis:t}){let{offsetHeightKey:r,clientHeightKey:n}=Ji$4(t);return eo$1(e,i,r,n)}function eo$1(e,i,t,r){if(isNaN(e[t])){let n=mn$3(i,e);return n?n[r]:0}else return e[t]}function pa$2(e,i,t){let r=i.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[r]+to$2(e,i,t)}function to$2(e,i,t){let r=i.pageYOffsetKey(),n=i.scrollTopKey(),o=i.offsetTopKey();return isNaN(window.pageYOffset)?mn$3(t,e)[n]:e.ownerDocument?e.ownerDocument.defaultView[r]:e[o]}function ma$3(e,i={down:0,up:0},t){let r,n;if(e.totalToScroll<=0)return  false;let o=e.isWindow?e.scrolled:e.height+e.scrolled;if(t)r=(e.totalToScroll-o)/e.totalToScroll,n=(i?.down?i.down:0)/10;else {let s=e.scrolled+(e.totalToScroll-o);r=e.scrolled/s,n=(i?.up?i.up:0)/10;}return r<=n}function fa$2(e,i){return e<i.scrolled}function ga$3(e,i,t){let r=fa$2(e,i);return {fire:ma$3(i,t,r),scrollDown:r}}var hn$2=class hn{constructor(i){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},Object.assign(this,i);}updateScrollPosition(i){return this.lastScrollPosition=i}updateTotalToScroll(i){this.lastTotalToScroll!==i&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=i);}updateScroll(i,t){this.updateScrollPosition(i),this.updateTotalToScroll(t);}updateTriggeredFlag(i,t){t?this.triggered.down=i:this.triggered.up=i;}isTriggeredScroll(i,t){return t?this.triggered.down===i:this.triggered.up===i}};function ya$3(e){let{scrollContainer:i,scrollWindow:t,element:r,fromRoot:n}=e,o=sa$3({axis:new dn$3(!e.horizontal),windowElement:ta$3(i,t,r,n)}),a=new hn$2({totalToScroll:Qi$3(r,o).totalToScroll}),s={container:o.container,throttle:e.throttle},l={up:e.upDistance,down:e.downDistance};return va$2(s).pipe(ve$9(()=>hi$7(Qi$3(r,o))),ie$b(u=>ba$3(a.lastScrollPosition,u,l)),kc$2(({stats:u})=>a.updateScroll(u.scrolled,u.totalToScroll)),Ye$b(({fire:u,scrollDown:h,stats:{totalToScroll:g}})=>aa$3(e.alwaysCallback,u,a.isTriggeredScroll(g,h))),kc$2(({scrollDown:u,stats:{totalToScroll:h}})=>{a.updateTriggeredFlag(h,u);}),ie$b(Ca$3))}function va$2(e){let i=_i$7(e.container,"scroll");return e.throttle&&(i=i.pipe(Jc$5(e.throttle,undefined,{leading:true,trailing:true}))),i}function ba$3(e,i,t){let{scrollDown:r,fire:n}=ga$3(e,i,t);return {scrollDown:r,fire:n,stats:i}}var pn$4={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Ca$3(e){let{scrollDown:i,stats:{scrolled:t}}=e;return {type:i?pn$4.DOWN:pn$4.UP,payload:{currentScrollPosition:t}}}var ro$2=(()=>{class e{constructor(t,r){this.element=t,this.zone=r,this.scrolled=new Xe$5,this.scrolledUp=new Xe$5,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=false,this.infiniteScrollContainer=null,this.scrollWindow=true,this.immediateCheck=false,this.horizontal=false,this.alwaysCallback=false,this.fromRoot=false;}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup();}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:r,infiniteScrollDistance:n}){let o=un$2(t),a=un$2(r),s=un$2(n),l=!a&&!this.infiniteScrollDisabled||a&&!r.currentValue||s;(o||a||s)&&(this.destroyScroller(),l&&this.setup());}ngOnDestroy(){this.destroyScroller();}setup(){na$2()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ya$3({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.handleOnScroll(t));});}handleOnScroll({type:t,payload:r}){let n=t===pn$4.DOWN?this.scrolled:this.scrolledUp;Sa$4(n)&&this.zone.run(()=>n.emit(r));}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe();}static{this.\u0275fac=function(r){return new(r||e)(Yo$4(Uo$5),Yo$4(te$6))};}static{this.\u0275dir=VR({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[tR]});}}return e})();function Sa$4(e){return e.observed??e.observers.length>0}var io$2=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=VR({type:e,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[gP([{provide:Tr$5,useClass:Tr$5}])]})}return e})(),vn$2=new k$5("cdk-menu"),et$4=function(e){return e[e.nextItem=0]="nextItem",e[e.previousItem=1]="previousItem",e[e.currentItem=2]="currentItem",e}(et$4||{}),tt$4=new k$5("cdk-menu-stack"),wa$3={provide:tt$4,deps:[[new yu$3,new vu$3,new eR(tt$4)]],useFactory:e=>e||new oo$1},xa$3=e=>({provide:tt$4,deps:[[new yu$3,new vu$3,new eR(tt$4)]],useFactory:i=>i||oo$1.inline(e)}),oo$1=(()=>{class e{id=N$8(oo$3).getId("cdk-menu-stack-");_elements=[];_close=new Z$a;_empty=new Z$a;_hasFocus=new Z$a;closed=this._close;hasFocus=this._hasFocus.pipe(Sc$2(false),Wc$3(0),Dr$5());emptied=this._empty;_inlineMenuOrientation=null;static inline(t){let r=new e;return r._inlineMenuOrientation=t,r}push(t){this._elements.push(t);}close(t,r){let{focusNextOnEmpty:n,focusParentTrigger:o}=w$9({},r);if(this._elements.indexOf(t)>=0){let a;do a=this._elements.pop(),this._close.next({item:a,focusParentTrigger:o});while(a!==t);this.isEmpty()&&this._empty.next(n);}}closeSubMenuOf(t){let r=false;if(this._elements.indexOf(t)>=0)for(r=this.peek()!==t;this.peek()!==t;)this._close.next({item:this._elements.pop()});return r}closeAll(t){let{focusNextOnEmpty:r,focusParentTrigger:n}=w$9({},t);if(!this.isEmpty()){for(;!this.isEmpty();){let o=this._elements.pop();o&&this._close.next({item:o,focusParentTrigger:n});}this._empty.next(r);}}isEmpty(){return !this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(t){this._hasFocus.next(t);}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H$9({token:e,factory:e.\u0275fac})}return e})(),bn$4=new k$5("cdk-menu-trigger"),Da$2=new k$5("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=N$8(Jt$6);return ()=>e.scrollStrategies.reposition()}}),Oa$3=(()=>{class e{injector=N$8(_e$8);viewContainerRef=N$8(Ja$5);menuStack=N$8(tt$4);menuScrollStrategy=N$8(Da$2);menuPosition;opened=new Xe$5;closed=new Xe$5;menuTemplateRef;menuData;overlayRef=null;destroyed=new Z$a;stopOutsideClicksListener=$p$1(this.closed,this.destroyed);childMenu;_menuPortal;_childMenuInjector;ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete();}isOpen(){return !!this.overlayRef?.hasAttached()}registerChildMenu(t){this.childMenu=t;}getMenuContentPortal(){let t=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||t)&&(this._menuPortal=new Nn$4(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(t){for(let r=t;r;r=r?.parentElement??null)if(r.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return  true;return  false}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null);}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||_e$8.create({providers:[{provide:bn$4,useValue:this},{provide:tt$4,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static \u0275fac=function(r){return new(r||e)};static \u0275dir=VR({type:e,hostVars:2,hostBindings:function(r,n){r&2&&GI("aria-controls",n.childMenu==null?null:n.childMenu.id)("data-cdk-menu-stack-id",n.menuStack.id);}})}return e})();var Cn$3=new k$5("cdk-menu-aim");function ao$2(e,i){if(!i.isTrusted)return  false;let t=e.nativeElement,r=i.keyCode;return t.nodeName==="BUTTON"&&!t.disabled?r===13||r===32:t.nodeName==="A"?r===13:false}var Sn$3=(()=>{class e extends Oa$3{_elementRef=N$8(Uo$5);_overlay=N$8(Jt$6);_ngZone=N$8(te$6);_changeDetectorRef=N$8(bw$1);_inputModalityDetector=N$8(AP);_directionality=N$8(Zi$4,{optional:true});_parentMenu=N$8(vn$2,{optional:true});_menuAim=N$8(Cn$3,{optional:true});constructor(){super(),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType();}toggle(){this.isOpen()?this.close():this.open();}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks());}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers();}getMenu(){return this.childMenu}_toggleOnKeydown(t){let r=this._parentMenu?.orientation==="vertical";switch(t.keyCode){case 32:case 13:!_i$6(t)&&!ao$2(this._elementRef,t)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:_i$6(t)||this._parentMenu&&r&&this._directionality?.value!=="rtl"&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:_i$6(t)||this._parentMenu&&r&&this._directionality?.value==="rtl"&&(t.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:_i$6(t)||r||(t.preventDefault(),this.open(),t.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse");}_setHasFocus(t){this._parentMenu||this.menuStack.setHasFocus(t);}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{_i$7(this._elementRef.nativeElement,"mouseenter").pipe(Ye$b(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()),Oc$2(this.destroyed)).subscribe(()=>{let t=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open();});this._menuAim?this._menuAim.toggle(t):t();});});}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll();}_getOverlayConfig(){return new Un$4({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||undefined})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withFlexibleDimensions(false).withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?nk:ik)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(Oc$2(this.destroyed)).subscribe(({item:t})=>{t===this.childMenu&&this.close();});}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(Oc$2(this.stopOutsideClicksListener)).subscribe(t=>{let r=On$4(t),n=this._elementRef.nativeElement;r!==n&&!n.contains(r)&&(this.isElementInsideMenuStack(r)?this._closeSiblingTriggers():this.menuStack.closeAll());});}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(Oc$2(this.destroyed)).subscribe(t=>{t||this.menuStack.closeAll();});}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:t})=>{t&&!this.menuStack.length()&&this._elementRef.nativeElement.focus();});}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button");}_setType(){let t=this._elementRef.nativeElement;t.nodeName==="BUTTON"&&!t.getAttribute("type")&&t.setAttribute("type","button");}static \u0275fac=function(r){return new(r||e)};static \u0275dir=VR({type:e,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(r,n){r&1&&VE("focusin",function(){return n._setHasFocus(true)})("focusout",function(){return n._setHasFocus(false)})("keydown",function(a){return n._toggleOnKeydown(a)})("click",function(){return n._handleClick()}),r&2&&GI("aria-haspopup",n.menuTemplateRef?"menu":null)("aria-expanded",n.menuTemplateRef==null?null:n.isOpen());},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[gP([{provide:bn$4,useExisting:e},wa$3]),bI]})}return e})(),_n$3=(()=>{class e{_dir=N$8(Zi$4,{optional:true});_elementRef=N$8(Uo$5);_ngZone=N$8(te$6);_inputModalityDetector=N$8(AP);_menuAim=N$8(Cn$3,{optional:true});_menuStack=N$8(tt$4);_parentMenu=N$8(vn$2,{optional:true});_menuTrigger=N$8(Sn$3,{optional:true,self:true});disabled=false;typeaheadLabel;triggered=new Xe$5;get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}_tabindex=-1;closeOnSpacebarTrigger=true;destroyed=new Z$a;constructor(){this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0);}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete();}focus(){this._elementRef.nativeElement.focus();}trigger(t){let{keepOpen:r}=w$9({},t);!this.disabled&&!this.hasMenu&&(this.triggered.next(),r||this._menuStack.closeAll({focusParentTrigger:true}));}isMenuOpen(){return !!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1);}_setTabIndex(t){this.disabled||(!t||!this._menuStack.isEmpty())&&(this._tabindex=0);}_onKeydown(t){switch(t.keyCode){case 32:case 13:if(!_i$6(t)&&!ao$2(this._elementRef,t)){let r=this._elementRef.nativeElement.nodeName;r!=="A"&&r!=="BUTTON"&&t.preventDefault(),this.trigger({keepOpen:t.keyCode===32&&!this.closeOnSpacebarTrigger});}break;case 39:_i$6(t)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(t):this._backArrowPressed(t));break;case 37:_i$6(t)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(t):this._forwardArrowPressed(t));break}}_isStandaloneItem(){return !this._parentMenu}_backArrowPressed(t){let r=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(t.preventDefault(),this._menuStack.close(r,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?et$4.previousItem:et$4.currentItem,focusParentTrigger:true}));}_forwardArrowPressed(t){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(t.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:et$4.nextItem,focusParentTrigger:true}));}_setupMouseEnter(){if(!this._isStandaloneItem()){let t=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>_i$7(this._elementRef.nativeElement,"mouseenter").pipe(Ye$b(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu),Oc$2(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(t):t();}));}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let t=this._elementRef.nativeElement;t.nodeName==="BUTTON"&&!t.getAttribute("type")&&t.setAttribute("type","button");}static \u0275fac=function(r){return new(r||e)};static \u0275dir=VR({type:e,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(r,n){r&1&&VE("blur",function(){return n._resetTabIndex()})("focus",function(){return n._setTabIndex()})("click",function(){return n.trigger()})("keydown",function(a){return n._onKeydown(a)}),r&2&&(NE("tabindex",n._tabindex),GI("aria-disabled",n.disabled||null));},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",VP],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],features:[BR]})}return e})(),fn$2=class fn{_items;entered=this._getItemPointerEntries();exited=this._getItemPointerExits();activeElement;previousElement;_destroyed=new Z$a;constructor(i){this._items=i,this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=undefined;});}destroy(){this._destroyed.next(),this._destroyed.complete();}_getItemPointerEntries(){return gi$4(()=>this._items.changes.pipe(Sc$2(this._items),ve$9(i=>i.map(t=>_i$7(t._elementRef.nativeElement,"mouseenter").pipe(Ei$9(t),Oc$2(this._items.changes)))),wn$7()))}_getItemPointerExits(){return gi$4(()=>this._items.changes.pipe(Sc$2(this._items),ve$9(i=>i.map(t=>_i$7(t._elementRef.nativeElement,"mouseout").pipe(Ei$9(t),Oc$2(this._items.changes)))),wn$7()))}},Ta$3=(()=>{class e extends io$2{nativeElement=N$8(Uo$5).nativeElement;ngZone=N$8(te$6);menuStack=N$8(tt$4);menuAim=N$8(Cn$3,{optional:true,self:true});dir=N$8(Zi$4,{optional:true});id=N$8(oo$3).getId("cdk-menu-");items;orientation="vertical";isInline=false;keyManager;destroyed=new Z$a;triggerItem;pointerTracker;_menuStackHasFocus=oI(false);_tabIndexSignal=HP(()=>{let t=this._menuStackHasFocus()?-1:0;return this.isInline?t:null});ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker();}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy();}focusFirstItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setFirstItemActive();}focusLastItem(t="program"){this.keyManager.setFocusOrigin(t),this.keyManager.setLastItemActive();}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(t,r){let{focusParentTrigger:n}=w$9({},r),o=this.keyManager,a=this.triggerItem;t===a?.getMenuTrigger()?.getMenu()&&(a?.getMenuTrigger()?.close(),n&&(a?o.setActiveItem(a):o.setFirstItemActive()));}_setKeyManager(){this.keyManager=new Fr$3(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation();}_subscribeToMenuOpen(){let t=$p$1(this.items.changes,this.destroyed);this.items.changes.pipe(Sc$2(this.items),ve$9(r=>r.filter(n=>n.hasMenu).map(n=>n.getMenuTrigger().opened.pipe(Ei$9(n),Oc$2(t)))),wn$7(),Ac$3(r=>(this.triggerItem=r,r.getMenuTrigger().closed)),Oc$2(this.destroyed)).subscribe(()=>this.triggerItem=undefined);}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(Oc$2(this.destroyed)).subscribe(({item:t,focusParentTrigger:r})=>this.closeOpenMenu(t,{focusParentTrigger:r}));}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(Oc$2(this.destroyed)).subscribe(t=>{this._menuStackHasFocus.set(t);});}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new fn$2(this.items);}),this.menuAim.initialize(this,this.pointerTracker));}static \u0275fac=(()=>{let t;return function(n){return (t||(t=sR(e)))(n||e)}})();static \u0275dir=VR({type:e,contentQueries:function(r,n,o){if(r&1&&oP(o,_n$3,5),r&2){let a;sP(a=aP())&&(n.items=a);}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(r,n){r&1&&VE("focus",function(){return n.focusFirstItem()})("focusin",function(){return n.menuStack.setHasFocus(true)})("focusout",function(){return n.menuStack.setHasFocus(false)}),r&2&&(NE("tabindex",n._getTabIndex())("id",n.id),GI("aria-orientation",n.orientation)("data-cdk-menu-stack-id",n.menuStack.id));},inputs:{id:"id"},features:[bI]})}return e})(),so$3=(()=>{class e extends Ta$3{_parentTrigger=N$8(bn$4,{optional:true});closed=new Xe$5;orientation="vertical";isInline=!this._parentTrigger;constructor(){super(),this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this);}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied();}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete();}_handleKeyEvent(t){let r=this.keyManager;switch(t.keyCode){case 37:case 39:_i$6(t)||(t.preventDefault(),r.setFocusOrigin("keyboard"),r.onKeydown(t));break;case 27:_i$6(t)||(t.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:et$4.currentItem,focusParentTrigger:true}));break;case 9:_i$6(t,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:true});break;default:r.onKeydown(t);}}_toggleMenuFocus(t){let r=this.keyManager;switch(t){case et$4.nextItem:r.setFocusOrigin("keyboard"),r.setNextItemActive();break;case et$4.previousItem:r.setFocusOrigin("keyboard"),r.setPreviousItemActive();break;case et$4.currentItem:r.activeItem&&(r.setFocusOrigin("keyboard"),r.setActiveItem(r.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(Oc$2(this.destroyed)).subscribe(t=>this._toggleMenuFocus(t));}static \u0275fac=function(r){return new(r||e)};static \u0275dir=VR({type:e,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(r,n){r&1&&VE("keydown",function(a){return n._handleKeyEvent(a)}),r&2&&dE("cdk-menu-inline",n.isInline);},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[gP([{provide:io$2,useExisting:e},{provide:vn$2,useExisting:e},xa$3("vertical")]),bI]})}return e})();var Bc$1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=EI({type:e});static \u0275inj=qh$2({imports:[np$1]})}return e})();var qe$5=D$a(Kc$2(),1);var pt$4="application/x-postmate-v1+json",Aa$3=5,Ea$2=0,Ba$3=function(){return ++Ea$2};var Fa$3=function(i){var t=document.createElement("a");t.href=i;var r=t.protocol.length>4?t.protocol:window.location.protocol,n=t.host.length?t.port==="80"||t.port==="443"?t.hostname:t.host:window.location.host;return t.origin||r+"//"+n},La$3={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},kn$4=function(i,t){return !(typeof t=="string"&&i.origin!==t||!i.data||typeof i.data=="object"&&!("postmate"in i.data)||i.data.type!==pt$4||!La$3[i.data.postmate])},Ra$3=function(i,t){var r=typeof i[t]=="function"?i[t]():i[t];return mt$4.Promise.resolve(r)},$a$2=function(){function e(t){var r=this;this.parent=t.parent,this.frame=t.frame,this.child=t.child,this.childOrigin=t.childOrigin,this.events={},this.listener=function(n){if(!kn$4(n,r.childOrigin))return  false;var o=((n||{}).data||{}).value||{},a=o.data,s=o.name;n.data.postmate==="emit"&&s in r.events&&r.events[s].call(r,a);},this.parent.addEventListener("message",this.listener,false);}var i=e.prototype;return i.get=function(r){var n=this;return new mt$4.Promise(function(o){var a=Ba$3(),s=function l(u){u.data.uid===a&&u.data.postmate==="reply"&&(n.parent.removeEventListener("message",l,false),o(u.data.value));};n.parent.addEventListener("message",s,false),n.child.postMessage({postmate:"request",type:pt$4,property:r,uid:a},n.childOrigin);})},i.call=function(r,n){this.child.postMessage({postmate:"call",type:pt$4,property:r,data:n},this.childOrigin);},i.on=function(r,n){this.events[r]=n;},i.destroy=function(){window.removeEventListener("message",this.listener,false),this.frame.parentNode.removeChild(this.frame);},e}(),Va$1=function(){function e(t){var r=this;this.model=t.model,this.parent=t.parent,this.parentOrigin=t.parentOrigin,this.child=t.child,this.child.addEventListener("message",function(n){if(kn$4(n,r.parentOrigin)){var o=n.data,a=o.property,s=o.uid,l=o.data;if(n.data.postmate==="call"){a in r.model&&typeof r.model[a]=="function"&&r.model[a](l);return}Ra$3(r.model,a).then(function(u){return n.source.postMessage({property:a,postmate:"reply",type:pt$4,uid:s,value:u},n.origin)});}});}var i=e.prototype;return i.emit=function(r,n){this.parent.postMessage({postmate:"emit",type:pt$4,value:{name:r,data:n}},this.parentOrigin);},e}(),mt$4=function(){function e(t){var r=t.container,n=r===undefined?typeof n<"u"?n:document.body:r,o=t.model,a=t.url,s=t.name,l=t.classListArray,u=l===undefined?[]:l;return this.parent=window,this.frame=document.createElement("iframe"),this.frame.name=s||"",this.frame.classList.add.apply(this.frame.classList,u),n.appendChild(this.frame),this.child=this.frame.contentWindow||this.frame.contentDocument.parentWindow,this.model=o||{},this.sendHandshake(a)}var i=e.prototype;return i.sendHandshake=function(r){var n=this,o=Fa$3(r),a=0,s;return new e.Promise(function(l,u){var h=function D(y){return kn$4(y,o)?y.data.postmate==="handshake-reply"?(clearInterval(s),n.parent.removeEventListener("message",D,false),n.childOrigin=y.origin,l(new $a$2(n))):u("Failed handshake"):false};n.parent.addEventListener("message",h,false);var g=function(){a++,n.child.postMessage({postmate:"handshake",type:pt$4,model:n.model},o),a===Aa$3&&clearInterval(s);},b=function(){g(),s=setInterval(g,500);};n.frame.attachEvent?n.frame.attachEvent("onload",b):n.frame.onload=b,n.frame.src=r;})},e}();mt$4.debug=false;mt$4.Promise=function(){try{return window?window.Promise:Promise}catch{return null}}();mt$4.Model=function(){function e(t){return this.child=window,this.model=t,this.parent=this.child.parent,this.sendHandshakeReply()}var i=e.prototype;return i.sendHandshakeReply=function(){var r=this;return new mt$4.Promise(function(n,o){var a=function s(l){if(l.data.postmate){if(l.data.postmate==="handshake"){r.child.removeEventListener("message",s,false),l.source.postMessage({postmate:"handshake-reply",type:pt$4},l.origin),r.parentOrigin=l.origin;var u=l.data.model;return u&&Object.keys(u).forEach(function(h){r.model[h]=u[h];}),n(new Va$1(r))}return o("Handshake Reply Failed")}};r.child.addEventListener("message",a,false);})},e}();var co$2=mt$4;function ce$5(e){return e<0?-1:e===0?0:1}function ft$4(e,i,t){return (1-t)*e+t*i}function lo$2(e,i,t){return t<e?e:t>i?i:t}function Bt$2(e,i,t){return t<e?e:t>i?i:t}function We$4(e){return e=e%360,e<0&&(e=e+360),e}function Kt$1(e,i){let t=e[0]*i[0][0]+e[1]*i[0][1]+e[2]*i[0][2],r=e[0]*i[1][0]+e[1]*i[1][1]+e[2]*i[1][2],n=e[0]*i[2][0]+e[1]*i[2][1]+e[2]*i[2][2];return [t,r,n]}var Ha$1=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],Ua$1=[[3.2413774792388685,-1.5376652402851851,-0.49885366846268053],[-0.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-0.20395524564742123,1.0571799111220335]],Na$2=[95.047,100,108.883];function xr$1(e,i,t){return (255<<24|(e&255)<<16|(i&255)<<8|t&255)>>>0}function Mn$3(e){let i=yt$3(e[0]),t=yt$3(e[1]),r=yt$3(e[2]);return xr$1(i,t,r)}function Dr$1(e){return e>>16&255}function Or$1(e){return e>>8&255}function Tr$2(e){return e&255}function uo$3(e,i,t){let r=Ua$1,n=r[0][0]*e+r[0][1]*i+r[0][2]*t,o=r[1][0]*e+r[1][1]*i+r[1][2]*t,a=r[2][0]*e+r[2][1]*i+r[2][2]*t,s=yt$3(n),l=yt$3(o),u=yt$3(a);return xr$1(s,l,u)}function za$1(e){let i=gt$5(Dr$1(e)),t=gt$5(Or$1(e)),r=gt$5(Tr$2(e));return Kt$1([i,t,r],Ha$1)}function ho$1(e){let i=Oe$6(e),t=yt$3(i);return xr$1(t,t,t)}function Ir$1(e){let i=za$1(e)[1];return 116*mo$2(i/100)-16}function Oe$6(e){return 100*ja$1((e+16)/116)}function Yt$1(e){return mo$2(e/100)*116-16}function gt$5(e){let i=e/255;return i<=.040449936?i/12.92*100:Math.pow((i+.055)/1.055,2.4)*100}function yt$3(e){let i=e/100,t=0;return i<=.0031308?t=i*12.92:t=1.055*Math.pow(i,1/2.4)-.055,lo$2(0,255,Math.round(t*255))}function po$2(){return Na$2}function mo$2(e){let i=.008856451679035631,t=24389/27;return e>i?Math.pow(e,1/3):(t*e+16)/116}function ja$1(e){let i=.008856451679035631,t=24389/27,r=e*e*e;return r>i?r:(116*e-16)/t}var Se$4=class e{static make(i=po$2(),t=200/Math.PI*Oe$6(50)/100,r=50,n=2,o=false){let a=i,s=a[0]*.401288+a[1]*.650173+a[2]*-0.051461,l=a[0]*-0.250268+a[1]*1.204414+a[2]*.045854,u=a[0]*-2079e-6+a[1]*.048952+a[2]*.953127,h=.8+n/10,g=h>=.9?ft$4(.59,.69,(h-.9)*10):ft$4(.525,.59,(h-.8)*10),b=o?1:h*(1-1/3.6*Math.exp((-t-42)/92));b=b>1?1:b<0?0:b;let D=h,y=[b*(100/s)+1-b,b*(100/l)+1-b,b*(100/u)+1-b],M=1/(5*t+1),R=M*M*M*M,$=1-R,V=R*t+.1*$*$*Math.cbrt(5*t),O=Oe$6(r)/i[1],Z=1.48+Math.sqrt(O),x=.725/Math.pow(O,.2),W=x,I=[Math.pow(V*y[0]*s/100,.42),Math.pow(V*y[1]*l/100,.42),Math.pow(V*y[2]*u/100,.42)],G=[400*I[0]/(I[0]+27.13),400*I[1]/(I[1]+27.13),400*I[2]/(I[2]+27.13)],J=(2*G[0]+G[1]+.05*G[2])*x;return new e(O,J,x,W,g,D,y,V,Math.pow(V,.25),Z)}constructor(i,t,r,n,o,a,s,l,u,h){this.n=i,this.aw=t,this.nbb=r,this.ncb=n,this.c=o,this.nc=a,this.rgbD=s,this.fl=l,this.fLRoot=u,this.z=h;}};Se$4.DEFAULT=Se$4.make();var $e$7=class e{constructor(i,t,r,n,o,a,s,l,u){this.hue=i,this.chroma=t,this.j=r,this.q=n,this.m=o,this.s=a,this.jstar=s,this.astar=l,this.bstar=u;}distance(i){let t=this.jstar-i.jstar,r=this.astar-i.astar,n=this.bstar-i.bstar,o=Math.sqrt(t*t+r*r+n*n);return 1.41*Math.pow(o,.63)}static fromInt(i){return e.fromIntInViewingConditions(i,Se$4.DEFAULT)}static fromIntInViewingConditions(i,t){let r=(i&16711680)>>16,n=(i&65280)>>8,o=i&255,a=gt$5(r),s=gt$5(n),l=gt$5(o),u=.41233895*a+.35762064*s+.18051042*l,h=.2126*a+.7152*s+.0722*l,g=.01932141*a+.11916382*s+.95034478*l,b=.401288*u+.650173*h-.051461*g,D=-0.250268*u+1.204414*h+.045854*g,y=-2079e-6*u+.048952*h+.953127*g,M=t.rgbD[0]*b,R=t.rgbD[1]*D,$=t.rgbD[2]*y,V=Math.pow(t.fl*Math.abs(M)/100,.42),O=Math.pow(t.fl*Math.abs(R)/100,.42),Z=Math.pow(t.fl*Math.abs($)/100,.42),x=ce$5(M)*400*V/(V+27.13),W=ce$5(R)*400*O/(O+27.13),I=ce$5($)*400*Z/(Z+27.13),G=(11*x+-12*W+I)/11,J=(x+W-2*I)/9,le=(20*x+20*W+21*I)/20,K=(40*x+20*W+I)/20,be=Math.atan2(J,G)*180/Math.PI,Be=be<0?be+360:be>=360?be-360:be,_e=Be*Math.PI/180,Ct=K*t.nbb,Ce=100*Math.pow(Ct/t.aw,t.c*t.z),St=4/t.c*Math.sqrt(Ce/100)*(t.aw+4)*t.fLRoot,_t=Be<20.14?Be+360:Be,kt=.25*(Math.cos(_t*Math.PI/180+2)+3.8),Nt=5e4/13*kt*t.nc*t.ncb*Math.sqrt(G*G+J*J)/(le+.305),Mt=Math.pow(Nt,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),ir=Mt*Math.sqrt(Ce/100),zt=ir*t.fLRoot,Fr=50*Math.sqrt(Mt*t.c/(t.aw+4)),Pt=(1+100*.007)*Ce/(1+.007*Ce),at=1/.0228*Math.log(1+.0228*zt),Lr=at*Math.cos(_e),Rr=at*Math.sin(_e);return new e(Be,ir,Ce,St,zt,Fr,Pt,Lr,Rr)}static fromJch(i,t,r){return e.fromJchInViewingConditions(i,t,r,Se$4.DEFAULT)}static fromJchInViewingConditions(i,t,r,n){let o=4/n.c*Math.sqrt(i/100)*(n.aw+4)*n.fLRoot,a=t*n.fLRoot,s=t/Math.sqrt(i/100),l=50*Math.sqrt(s*n.c/(n.aw+4)),u=r*Math.PI/180,h=(1+100*.007)*i/(1+.007*i),g=1/.0228*Math.log(1+.0228*a),b=g*Math.cos(u),D=g*Math.sin(u);return new e(r,t,i,o,a,l,h,b,D)}static fromUcs(i,t,r){return e.fromUcsInViewingConditions(i,t,r,Se$4.DEFAULT)}static fromUcsInViewingConditions(i,t,r,n){let o=t,a=r,s=Math.sqrt(o*o+a*a),u=(Math.exp(s*.0228)-1)/.0228/n.fLRoot,h=Math.atan2(a,o)*(180/Math.PI);h<0&&(h+=360);let g=i/(1-(i-100)*.007);return e.fromJchInViewingConditions(g,u,h,n)}toInt(){return this.viewed(Se$4.DEFAULT)}viewed(i){let t=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(t/Math.pow(1.64-Math.pow(.29,i.n),.73),1/.9),n=this.hue*Math.PI/180,o=.25*(Math.cos(n+2)+3.8),a=i.aw*Math.pow(this.j/100,1/i.c/i.z),s=o*(5e4/13)*i.nc*i.ncb,l=a/i.nbb,u=Math.sin(n),h=Math.cos(n),g=23*(l+.305)*r/(23*s+11*r*h+108*r*u),b=g*h,D=g*u,y=(460*l+451*b+288*D)/1403,M=(460*l-891*b-261*D)/1403,R=(460*l-220*b-6300*D)/1403,$=Math.max(0,27.13*Math.abs(y)/(400-Math.abs(y))),V=ce$5(y)*(100/i.fl)*Math.pow($,1/.42),O=Math.max(0,27.13*Math.abs(M)/(400-Math.abs(M))),Z=ce$5(M)*(100/i.fl)*Math.pow(O,1/.42),x=Math.max(0,27.13*Math.abs(R)/(400-Math.abs(R))),W=ce$5(R)*(100/i.fl)*Math.pow(x,1/.42),I=V/i.rgbD[0],G=Z/i.rgbD[1],J=W/i.rgbD[2],le=1.86206786*I-1.01125463*G+.14918677*J,K=.38752654*I+.62144744*G-.00897398*J,Ee=-0.0158415*I-.03412294*G+1.04996444*J;return uo$3(le,K,Ee)}static fromXyzInViewingConditions(i,t,r,n){let o=.401288*i+.650173*t-.051461*r,a=-0.250268*i+1.204414*t+.045854*r,s=-2079e-6*i+.048952*t+.953127*r,l=n.rgbD[0]*o,u=n.rgbD[1]*a,h=n.rgbD[2]*s,g=Math.pow(n.fl*Math.abs(l)/100,.42),b=Math.pow(n.fl*Math.abs(u)/100,.42),D=Math.pow(n.fl*Math.abs(h)/100,.42),y=ce$5(l)*400*g/(g+27.13),M=ce$5(u)*400*b/(b+27.13),R=ce$5(h)*400*D/(D+27.13),$=(11*y+-12*M+R)/11,V=(y+M-2*R)/9,O=(20*y+20*M+21*R)/20,Z=(40*y+20*M+R)/20,W=Math.atan2(V,$)*180/Math.PI,I=W<0?W+360:W>=360?W-360:W,G=I*Math.PI/180,J=Z*n.nbb,le=100*Math.pow(J/n.aw,n.c*n.z),K=4/n.c*Math.sqrt(le/100)*(n.aw+4)*n.fLRoot,Ee=I<20.14?I+360:I,be=1/4*(Math.cos(Ee*Math.PI/180+2)+3.8),_e=5e4/13*be*n.nc*n.ncb*Math.sqrt($*$+V*V)/(O+.305),Ct=Math.pow(_e,.9)*Math.pow(1.64-Math.pow(.29,n.n),.73),Ce=Ct*Math.sqrt(le/100),St=Ce*n.fLRoot,_t=50*Math.sqrt(Ct*n.c/(n.aw+4)),kt=(1+100*.007)*le/(1+.007*le),Ut=Math.log(1+.0228*St)/.0228,Nt=Ut*Math.cos(G),Mt=Ut*Math.sin(G);return new e(I,Ce,le,K,St,_t,kt,Nt,Mt)}xyzInViewingConditions(i){let t=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(t/Math.pow(1.64-Math.pow(.29,i.n),.73),1/.9),n=this.hue*Math.PI/180,o=.25*(Math.cos(n+2)+3.8),a=i.aw*Math.pow(this.j/100,1/i.c/i.z),s=o*(5e4/13)*i.nc*i.ncb,l=a/i.nbb,u=Math.sin(n),h=Math.cos(n),g=23*(l+.305)*r/(23*s+11*r*h+108*r*u),b=g*h,D=g*u,y=(460*l+451*b+288*D)/1403,M=(460*l-891*b-261*D)/1403,R=(460*l-220*b-6300*D)/1403,$=Math.max(0,27.13*Math.abs(y)/(400-Math.abs(y))),V=ce$5(y)*(100/i.fl)*Math.pow($,1/.42),O=Math.max(0,27.13*Math.abs(M)/(400-Math.abs(M))),Z=ce$5(M)*(100/i.fl)*Math.pow(O,1/.42),x=Math.max(0,27.13*Math.abs(R)/(400-Math.abs(R))),W=ce$5(R)*(100/i.fl)*Math.pow(x,1/.42),I=V/i.rgbD[0],G=Z/i.rgbD[1],J=W/i.rgbD[2],le=1.86206786*I-1.01125463*G+.14918677*J,K=.38752654*I+.62144744*G-.00897398*J,Ee=-0.0158415*I-.03412294*G+1.04996444*J;return [le,K,Ee]}};var Xt$2=(()=>{class e{static sanitizeRadians(t){return (t+Math.PI*8)%(Math.PI*2)}static trueDelinearized(t){let r=t/100,n=0;return r<=.0031308?n=r*12.92:n=1.055*Math.pow(r,1/2.4)-.055,n*255}static chromaticAdaptation(t){let r=Math.pow(Math.abs(t),.42);return ce$5(t)*400*r/(r+27.13)}static hueOf(t){let r=Kt$1(t,e.SCALED_DISCOUNT_FROM_LINRGB),n=e.chromaticAdaptation(r[0]),o=e.chromaticAdaptation(r[1]),a=e.chromaticAdaptation(r[2]),s=(11*n+-12*o+a)/11,l=(n+o-2*a)/9;return Math.atan2(l,s)}static areInCyclicOrder(t,r,n){let o=e.sanitizeRadians(r-t),a=e.sanitizeRadians(n-t);return o<a}static intercept(t,r,n){return (r-t)/(n-t)}static lerpPoint(t,r,n){return [t[0]+(n[0]-t[0])*r,t[1]+(n[1]-t[1])*r,t[2]+(n[2]-t[2])*r]}static setCoordinate(t,r,n,o){let a=e.intercept(t[o],r,n[o]);return e.lerpPoint(t,a,n)}static isBounded(t){return 0<=t&&t<=100}static nthVertex(t,r){let n=e.Y_FROM_LINRGB[0],o=e.Y_FROM_LINRGB[1],a=e.Y_FROM_LINRGB[2],s=r%4<=1?0:100,l=r%2===0?0:100;if(r<4){let u=s,h=l,g=(t-u*o-h*a)/n;return e.isBounded(g)?[g,u,h]:[-1,-1,-1]}else if(r<8){let u=s,h=l,g=(t-h*n-u*a)/o;return e.isBounded(g)?[h,g,u]:[-1,-1,-1]}else {let u=s,h=l,g=(t-u*n-h*o)/a;return e.isBounded(g)?[u,h,g]:[-1,-1,-1]}}static bisectToSegment(t,r){let n=[-1,-1,-1],o=n,a=0,s=0,l=false,u=true;for(let h=0;h<12;h++){let g=e.nthVertex(t,h);if(g[0]<0)continue;let b=e.hueOf(g);if(!l){n=g,o=g,a=b,s=b,l=true;continue}(u||e.areInCyclicOrder(a,b,s))&&(u=false,e.areInCyclicOrder(a,r,b)?(o=g,s=b):(n=g,a=b));}return [n,o]}static midpoint(t,r){return [(t[0]+r[0])/2,(t[1]+r[1])/2,(t[2]+r[2])/2]}static criticalPlaneBelow(t){return Math.floor(t-.5)}static criticalPlaneAbove(t){return Math.ceil(t-.5)}static bisectToLimit(t,r){let n=e.bisectToSegment(t,r),o=n[0],a=e.hueOf(o),s=n[1];for(let l=0;l<3;l++)if(o[l]!==s[l]){let u=-1,h=255;o[l]<s[l]?(u=e.criticalPlaneBelow(e.trueDelinearized(o[l])),h=e.criticalPlaneAbove(e.trueDelinearized(s[l]))):(u=e.criticalPlaneAbove(e.trueDelinearized(o[l])),h=e.criticalPlaneBelow(e.trueDelinearized(s[l])));for(let g=0;g<8&&!(Math.abs(h-u)<=1);g++){let b=Math.floor((u+h)/2),D=e.CRITICAL_PLANES[b],y=e.setCoordinate(o,D,s,l),M=e.hueOf(y);e.areInCyclicOrder(a,r,M)?(s=y,h=b):(o=y,a=M,u=b);}}return e.midpoint(o,s)}static inverseChromaticAdaptation(t){let r=Math.abs(t),n=Math.max(0,27.13*r/(400-r));return ce$5(t)*Math.pow(n,1/.42)}static findResultByJ(t,r,n){let o=Math.sqrt(n)*11,a=Se$4.DEFAULT,s=1/Math.pow(1.64-Math.pow(.29,a.n),.73),u=.25*(Math.cos(t+2)+3.8)*(5e4/13)*a.nc*a.ncb,h=Math.sin(t),g=Math.cos(t);for(let b=0;b<5;b++){let D=o/100,y=r===0||o===0?0:r/Math.sqrt(D),M=Math.pow(y*s,1/.9),$=a.aw*Math.pow(D,1/a.c/a.z)/a.nbb,V=23*($+.305)*M/(23*u+11*M*g+108*M*h),O=V*g,Z=V*h,x=(460*$+451*O+288*Z)/1403,W=(460*$-891*O-261*Z)/1403,I=(460*$-220*O-6300*Z)/1403,G=e.inverseChromaticAdaptation(x),J=e.inverseChromaticAdaptation(W),le=e.inverseChromaticAdaptation(I),K=Kt$1([G,J,le],e.LINRGB_FROM_SCALED_DISCOUNT);if(K[0]<0||K[1]<0||K[2]<0)return 0;let Ee=e.Y_FROM_LINRGB[0],be=e.Y_FROM_LINRGB[1],Be=e.Y_FROM_LINRGB[2],_e=Ee*K[0]+be*K[1]+Be*K[2];if(_e<=0)return 0;if(b===4||Math.abs(_e-n)<.002)return K[0]>100.01||K[1]>100.01||K[2]>100.01?0:Mn$3(K);o=o-(_e-n)*o/(2*_e);}return 0}static solveToInt(t,r,n){if(r<1e-4||n<1e-4||n>99.9999)return ho$1(n);t=We$4(t);let o=t/180*Math.PI,a=Oe$6(n),s=e.findResultByJ(o,r,a);if(s!==0)return s;let l=e.bisectToLimit(a,o);return Mn$3(l)}static solveToCam(t,r,n){return $e$7.fromInt(e.solveToInt(t,r,n))}}return e.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],e.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],e.Y_FROM_LINRGB=[.2126,.7152,.0722],e.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776],e})();var L$6=class e{static from(i,t,r){return new e(Xt$2.solveToInt(i,t,r))}static fromInt(i){return new e(i)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(i){this.setInternalState(Xt$2.solveToInt(i,this.internalChroma,this.internalTone));}get chroma(){return this.internalChroma}set chroma(i){this.setInternalState(Xt$2.solveToInt(this.internalHue,i,this.internalTone));}get tone(){return this.internalTone}set tone(i){this.setInternalState(Xt$2.solveToInt(this.internalHue,this.internalChroma,i));}constructor(i){this.argb=i;let t=$e$7.fromInt(i);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=Ir$1(i),this.argb=i;}setInternalState(i){let t=$e$7.fromInt(i);this.internalHue=t.hue,this.internalChroma=t.chroma,this.internalTone=Ir$1(i),this.argb=i;}inViewingConditions(i){let r=$e$7.fromInt(this.toInt()).xyzInViewingConditions(i),n=$e$7.fromXyzInViewingConditions(r[0],r[1],r[2],Se$4.make());return e.from(n.hue,n.chroma,Yt$1(r[1]))}};var ne$3=class e{static ratioOfTones(i,t){return i=Bt$2(0,100,i),t=Bt$2(0,100,t),e.ratioOfYs(Oe$6(i),Oe$6(t))}static ratioOfYs(i,t){let r=i>t?i:t,n=r===t?i:t;return (r+5)/(n+5)}static lighter(i,t){if(i<0||i>100)return  -1;let r=Oe$6(i),n=t*(r+5)-5,o=e.ratioOfYs(n,r),a=Math.abs(o-t);if(o<t&&a>.04)return  -1;let s=Yt$1(n)+.4;return s<0||s>100?-1:s}static darker(i,t){if(i<0||i>100)return  -1;let r=Oe$6(i),n=(r+5)/t-5,o=e.ratioOfYs(r,n),a=Math.abs(o-t);if(o<t&&a>.04)return  -1;let s=Yt$1(n)-.4;return s<0||s>100?-1:s}static lighterUnsafe(i,t){let r=e.lighter(i,t);return r<0?100:r}static darkerUnsafe(i,t){let r=e.darker(i,t);return r<0?0:r}};var Ft$1=class e{static isDisliked(i){let t=Math.round(i.hue)>=90&&Math.round(i.hue)<=111,r=Math.round(i.chroma)>16,n=Math.round(i.tone)<65;return t&&r&&n}static fixIfDisliked(i){return e.isDisliked(i)?L$6.from(i.hue,i.chroma,70):i}};var f$6=class e{static fromPalette(i){return new e(i.name??"",i.palette,i.tone,i.isBackground??false,i.background,i.secondBackground,i.contrastCurve,i.toneDeltaPair)}constructor(i,t,r,n,o,a,s,l){if(this.name=i,this.palette=t,this.tone=r,this.isBackground=n,this.background=o,this.secondBackground=a,this.contrastCurve=s,this.toneDeltaPair=l,this.hctCache=new Map,!o&&a)throw new Error(`Color ${i} has secondBackgrounddefined, but background is not defined.`);if(!o&&s)throw new Error(`Color ${i} has contrastCurvedefined, but background is not defined.`);if(o&&!s)throw new Error(`Color ${i} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(i){return this.getHct(i).toInt()}getHct(i){let t=this.hctCache.get(i);if(t!=null)return t;let r=this.getTone(i),n=this.palette(i).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(i,n),n}getTone(i){let t=i.contrastLevel<0;if(this.toneDeltaPair){let r=this.toneDeltaPair(i),n=r.roleA,o=r.roleB,a=r.delta,s=r.polarity,l=r.stayTogether,h=this.background(i).getTone(i),g=s==="nearer"||s==="lighter"&&!i.isDark||s==="darker"&&i.isDark,b=g?n:o,D=g?o:n,y=this.name===b.name,M=i.isDark?1:-1,R=b.contrastCurve.get(i.contrastLevel),$=D.contrastCurve.get(i.contrastLevel),V=b.tone(i),O=ne$3.ratioOfTones(h,V)>=R?V:e.foregroundTone(h,R),Z=D.tone(i),x=ne$3.ratioOfTones(h,Z)>=$?Z:e.foregroundTone(h,$);return t&&(O=e.foregroundTone(h,R),x=e.foregroundTone(h,$)),(x-O)*M>=a||(x=Bt$2(0,100,O+a*M),(x-O)*M>=a||(O=Bt$2(0,100,x-a*M))),50<=O&&O<60?M>0?(O=60,x=Math.max(x,O+a*M)):(O=49,x=Math.min(x,O+a*M)):50<=x&&x<60&&(l?M>0?(O=60,x=Math.max(x,O+a*M)):(O=49,x=Math.min(x,O+a*M)):M>0?x=60:x=49),y?O:x}else {let r=this.tone(i);if(this.background==null)return r;let n=this.background(i).getTone(i),o=this.contrastCurve.get(i.contrastLevel);if(ne$3.ratioOfTones(n,r)>=o||(r=e.foregroundTone(n,o)),t&&(r=e.foregroundTone(n,o)),this.isBackground&&50<=r&&r<60&&(ne$3.ratioOfTones(49,n)>=o?r=49:r=60),this.secondBackground){let[a,s]=[this.background,this.secondBackground],[l,u]=[a(i).getTone(i),s(i).getTone(i)],[h,g]=[Math.max(l,u),Math.min(l,u)];if(ne$3.ratioOfTones(h,r)>=o&&ne$3.ratioOfTones(g,r)>=o)return r;let b=ne$3.lighter(h,o),D=ne$3.darker(g,o),y=[];return b!==-1&&y.push(b),D!==-1&&y.push(D),e.tonePrefersLightForeground(l)||e.tonePrefersLightForeground(u)?b<0?100:b:y.length===1?y[0]:D<0?0:D}return r}}static foregroundTone(i,t){let r=ne$3.lighterUnsafe(i,t),n=ne$3.darkerUnsafe(i,t),o=ne$3.ratioOfTones(r,i),a=ne$3.ratioOfTones(n,i);if(e.tonePrefersLightForeground(i)){let l=Math.abs(o-a)<.1&&o<t&&a<t;return o>=t||o>=a||l?r:n}else return a>=t||a>=o?n:r}static tonePrefersLightForeground(i){return Math.round(i)<60}static toneAllowsLightForeground(i){return Math.round(i)<=49}static enableLightForeground(i){return e.tonePrefersLightForeground(i)&&!e.toneAllowsLightForeground(i)?49:i}};var X$4=class e{static fromInt(i){let t=L$6.fromInt(i);return e.fromHct(t)}static fromHct(i){return new e(i.hue,i.chroma,i)}static fromHueAndChroma(i,t){let r=new Pn$3(i,t).create();return new e(i,t,r)}constructor(i,t,r){this.hue=i,this.chroma=t,this.keyColor=r,this.cache=new Map;}tone(i){let t=this.cache.get(i);return t===undefined&&(t=L$6.from(this.hue,this.chroma,i).toInt(),this.cache.set(i,t)),t}getHct(i){return L$6.fromInt(this.tone(i))}},Pn$3=class Pn{constructor(i,t){this.hue=i,this.requestedChroma=t,this.chromaCache=new Map,this.maxChromaValue=200;}create(){let n=0,o=100;for(;n<o;){let a=Math.floor((n+o)/2),s=this.maxChroma(a)<this.maxChroma(a+1);if(this.maxChroma(a)>=this.requestedChroma-.01)if(Math.abs(n-50)<Math.abs(o-50))o=a;else {if(n===a)return L$6.from(this.hue,this.requestedChroma,n);n=a;}else s?n=a+1:o=a;}return L$6.from(this.hue,this.requestedChroma,n)}maxChroma(i){if(this.chromaCache.has(i))return this.chromaCache.get(i);let t=L$6.from(this.hue,this.maxChromaValue,i).chroma;return this.chromaCache.set(i,t),t}};var _$5=class _{constructor(i,t,r,n){this.low=i,this.normal=t,this.medium=r,this.high=n;}get(i){return i<=-1?this.low:i<0?ft$4(this.low,this.normal,(i- -1)/1):i<.5?ft$4(this.normal,this.medium,(i-0)/.5):i<1?ft$4(this.medium,this.high,(i-.5)/.5):this.high}};var oe$2=class oe{constructor(i,t,r,n,o){this.roleA=i,this.roleB=t,this.delta=r,this.polarity=n,this.stayTogether=o;}};var ye$5=function(e){return e[e.MONOCHROME=0]="MONOCHROME",e[e.NEUTRAL=1]="NEUTRAL",e[e.TONAL_SPOT=2]="TONAL_SPOT",e[e.VIBRANT=3]="VIBRANT",e[e.EXPRESSIVE=4]="EXPRESSIVE",e[e.FIDELITY=5]="FIDELITY",e[e.CONTENT=6]="CONTENT",e[e.RAINBOW=7]="RAINBOW",e[e.FRUIT_SALAD=8]="FRUIT_SALAD",e}(ye$5||{});function Lt$2(e){return e.variant===ye$5.FIDELITY||e.variant===ye$5.CONTENT}function j$4(e){return e.variant===ye$5.MONOCHROME}function Ga$1(e,i,t,r){let n=t,o=L$6.from(e,i,t);if(o.chroma<i){let a=o.chroma;for(;o.chroma<i;){n+=r?-1:1;let s=L$6.from(e,i,n);if(a>s.chroma||Math.abs(s.chroma-i)<.4)break;let l=Math.abs(s.chroma-i),u=Math.abs(o.chroma-i);l<u&&(o=s),a=Math.max(a,s.chroma);}}return n}var c$8=class e{static highestSurface(i){return i.isDark?e.surfaceBright:e.surfaceDim}};c$8.contentAccentToneDelta=15;c$8.primaryPaletteKeyColor=f$6.fromPalette({name:"primary_palette_key_color",palette:e=>e.primaryPalette,tone:e=>e.primaryPalette.keyColor.tone});c$8.secondaryPaletteKeyColor=f$6.fromPalette({name:"secondary_palette_key_color",palette:e=>e.secondaryPalette,tone:e=>e.secondaryPalette.keyColor.tone});c$8.tertiaryPaletteKeyColor=f$6.fromPalette({name:"tertiary_palette_key_color",palette:e=>e.tertiaryPalette,tone:e=>e.tertiaryPalette.keyColor.tone});c$8.neutralPaletteKeyColor=f$6.fromPalette({name:"neutral_palette_key_color",palette:e=>e.neutralPalette,tone:e=>e.neutralPalette.keyColor.tone});c$8.neutralVariantPaletteKeyColor=f$6.fromPalette({name:"neutral_variant_palette_key_color",palette:e=>e.neutralVariantPalette,tone:e=>e.neutralVariantPalette.keyColor.tone});c$8.background=f$6.fromPalette({name:"background",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:true});c$8.onBackground=f$6.fromPalette({name:"on_background",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>c$8.background,contrastCurve:new _$5(3,3,4.5,7)});c$8.surface=f$6.fromPalette({name:"surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:98,isBackground:true});c$8.surfaceDim=f$6.fromPalette({name:"surface_dim",palette:e=>e.neutralPalette,tone:e=>e.isDark?6:new _$5(87,87,80,75).get(e.contrastLevel),isBackground:true});c$8.surfaceBright=f$6.fromPalette({name:"surface_bright",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(24,24,29,34).get(e.contrastLevel):98,isBackground:true});c$8.surfaceContainerLowest=f$6.fromPalette({name:"surface_container_lowest",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(4,4,2,0).get(e.contrastLevel):100,isBackground:true});c$8.surfaceContainerLow=f$6.fromPalette({name:"surface_container_low",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(10,10,11,12).get(e.contrastLevel):new _$5(96,96,96,95).get(e.contrastLevel),isBackground:true});c$8.surfaceContainer=f$6.fromPalette({name:"surface_container",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(12,12,16,20).get(e.contrastLevel):new _$5(94,94,92,90).get(e.contrastLevel),isBackground:true});c$8.surfaceContainerHigh=f$6.fromPalette({name:"surface_container_high",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(17,17,21,25).get(e.contrastLevel):new _$5(92,92,88,85).get(e.contrastLevel),isBackground:true});c$8.surfaceContainerHighest=f$6.fromPalette({name:"surface_container_highest",palette:e=>e.neutralPalette,tone:e=>e.isDark?new _$5(22,22,26,30).get(e.contrastLevel):new _$5(90,90,84,80).get(e.contrastLevel),isBackground:true});c$8.onSurface=f$6.fromPalette({name:"on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:10,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(4.5,7,11,21)});c$8.surfaceVariant=f$6.fromPalette({name:"surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:90,isBackground:true});c$8.onSurfaceVariant=f$6.fromPalette({name:"on_surface_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?80:30,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(3,4.5,7,11)});c$8.inverseSurface=f$6.fromPalette({name:"inverse_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?90:20});c$8.inverseOnSurface=f$6.fromPalette({name:"inverse_on_surface",palette:e=>e.neutralPalette,tone:e=>e.isDark?20:95,background:e=>c$8.inverseSurface,contrastCurve:new _$5(4.5,7,11,21)});c$8.outline=f$6.fromPalette({name:"outline",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?60:50,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1.5,3,4.5,7)});c$8.outlineVariant=f$6.fromPalette({name:"outline_variant",palette:e=>e.neutralVariantPalette,tone:e=>e.isDark?30:80,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5)});c$8.shadow=f$6.fromPalette({name:"shadow",palette:e=>e.neutralPalette,tone:e=>0});c$8.scrim=f$6.fromPalette({name:"scrim",palette:e=>e.neutralPalette,tone:e=>0});c$8.surfaceTint=f$6.fromPalette({name:"surface_tint",palette:e=>e.primaryPalette,tone:e=>e.isDark?80:40,isBackground:true});c$8.primary=f$6.fromPalette({name:"primary",palette:e=>e.primaryPalette,tone:e=>j$4(e)?e.isDark?100:0:e.isDark?80:40,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(3,4.5,7,7),toneDeltaPair:e=>new oe$2(c$8.primaryContainer,c$8.primary,10,"nearer",false)});c$8.onPrimary=f$6.fromPalette({name:"on_primary",palette:e=>e.primaryPalette,tone:e=>j$4(e)?e.isDark?10:90:e.isDark?20:100,background:e=>c$8.primary,contrastCurve:new _$5(4.5,7,11,21)});c$8.primaryContainer=f$6.fromPalette({name:"primary_container",palette:e=>e.primaryPalette,tone:e=>Lt$2(e)?e.sourceColorHct.tone:j$4(e)?e.isDark?85:25:e.isDark?30:90,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.primaryContainer,c$8.primary,10,"nearer",false)});c$8.onPrimaryContainer=f$6.fromPalette({name:"on_primary_container",palette:e=>e.primaryPalette,tone:e=>Lt$2(e)?f$6.foregroundTone(c$8.primaryContainer.tone(e),4.5):j$4(e)?e.isDark?0:100:e.isDark?90:30,background:e=>c$8.primaryContainer,contrastCurve:new _$5(3,4.5,7,11)});c$8.inversePrimary=f$6.fromPalette({name:"inverse_primary",palette:e=>e.primaryPalette,tone:e=>e.isDark?40:80,background:e=>c$8.inverseSurface,contrastCurve:new _$5(3,4.5,7,7)});c$8.secondary=f$6.fromPalette({name:"secondary",palette:e=>e.secondaryPalette,tone:e=>e.isDark?80:40,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(3,4.5,7,7),toneDeltaPair:e=>new oe$2(c$8.secondaryContainer,c$8.secondary,10,"nearer",false)});c$8.onSecondary=f$6.fromPalette({name:"on_secondary",palette:e=>e.secondaryPalette,tone:e=>j$4(e)?e.isDark?10:100:e.isDark?20:100,background:e=>c$8.secondary,contrastCurve:new _$5(4.5,7,11,21)});c$8.secondaryContainer=f$6.fromPalette({name:"secondary_container",palette:e=>e.secondaryPalette,tone:e=>{let i=e.isDark?30:90;return j$4(e)?e.isDark?30:85:Lt$2(e)?Ga$1(e.secondaryPalette.hue,e.secondaryPalette.chroma,i,!e.isDark):i},isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.secondaryContainer,c$8.secondary,10,"nearer",false)});c$8.onSecondaryContainer=f$6.fromPalette({name:"on_secondary_container",palette:e=>e.secondaryPalette,tone:e=>j$4(e)?e.isDark?90:10:Lt$2(e)?f$6.foregroundTone(c$8.secondaryContainer.tone(e),4.5):e.isDark?90:30,background:e=>c$8.secondaryContainer,contrastCurve:new _$5(3,4.5,7,11)});c$8.tertiary=f$6.fromPalette({name:"tertiary",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?e.isDark?90:25:e.isDark?80:40,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(3,4.5,7,7),toneDeltaPair:e=>new oe$2(c$8.tertiaryContainer,c$8.tertiary,10,"nearer",false)});c$8.onTertiary=f$6.fromPalette({name:"on_tertiary",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?e.isDark?10:90:e.isDark?20:100,background:e=>c$8.tertiary,contrastCurve:new _$5(4.5,7,11,21)});c$8.tertiaryContainer=f$6.fromPalette({name:"tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>{if(j$4(e))return e.isDark?60:49;if(!Lt$2(e))return e.isDark?30:90;let i=e.tertiaryPalette.getHct(e.sourceColorHct.tone);return Ft$1.fixIfDisliked(i).tone},isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.tertiaryContainer,c$8.tertiary,10,"nearer",false)});c$8.onTertiaryContainer=f$6.fromPalette({name:"on_tertiary_container",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?e.isDark?0:100:Lt$2(e)?f$6.foregroundTone(c$8.tertiaryContainer.tone(e),4.5):e.isDark?90:30,background:e=>c$8.tertiaryContainer,contrastCurve:new _$5(3,4.5,7,11)});c$8.error=f$6.fromPalette({name:"error",palette:e=>e.errorPalette,tone:e=>e.isDark?80:40,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(3,4.5,7,7),toneDeltaPair:e=>new oe$2(c$8.errorContainer,c$8.error,10,"nearer",false)});c$8.onError=f$6.fromPalette({name:"on_error",palette:e=>e.errorPalette,tone:e=>e.isDark?20:100,background:e=>c$8.error,contrastCurve:new _$5(4.5,7,11,21)});c$8.errorContainer=f$6.fromPalette({name:"error_container",palette:e=>e.errorPalette,tone:e=>e.isDark?30:90,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.errorContainer,c$8.error,10,"nearer",false)});c$8.onErrorContainer=f$6.fromPalette({name:"on_error_container",palette:e=>e.errorPalette,tone:e=>j$4(e)?e.isDark?90:10:e.isDark?90:30,background:e=>c$8.errorContainer,contrastCurve:new _$5(3,4.5,7,11)});c$8.primaryFixed=f$6.fromPalette({name:"primary_fixed",palette:e=>e.primaryPalette,tone:e=>j$4(e)?40:90,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.primaryFixed,c$8.primaryFixedDim,10,"lighter",true)});c$8.primaryFixedDim=f$6.fromPalette({name:"primary_fixed_dim",palette:e=>e.primaryPalette,tone:e=>j$4(e)?30:80,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.primaryFixed,c$8.primaryFixedDim,10,"lighter",true)});c$8.onPrimaryFixed=f$6.fromPalette({name:"on_primary_fixed",palette:e=>e.primaryPalette,tone:e=>j$4(e)?100:10,background:e=>c$8.primaryFixedDim,secondBackground:e=>c$8.primaryFixed,contrastCurve:new _$5(4.5,7,11,21)});c$8.onPrimaryFixedVariant=f$6.fromPalette({name:"on_primary_fixed_variant",palette:e=>e.primaryPalette,tone:e=>j$4(e)?90:30,background:e=>c$8.primaryFixedDim,secondBackground:e=>c$8.primaryFixed,contrastCurve:new _$5(3,4.5,7,11)});c$8.secondaryFixed=f$6.fromPalette({name:"secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>j$4(e)?80:90,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.secondaryFixed,c$8.secondaryFixedDim,10,"lighter",true)});c$8.secondaryFixedDim=f$6.fromPalette({name:"secondary_fixed_dim",palette:e=>e.secondaryPalette,tone:e=>j$4(e)?70:80,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.secondaryFixed,c$8.secondaryFixedDim,10,"lighter",true)});c$8.onSecondaryFixed=f$6.fromPalette({name:"on_secondary_fixed",palette:e=>e.secondaryPalette,tone:e=>10,background:e=>c$8.secondaryFixedDim,secondBackground:e=>c$8.secondaryFixed,contrastCurve:new _$5(4.5,7,11,21)});c$8.onSecondaryFixedVariant=f$6.fromPalette({name:"on_secondary_fixed_variant",palette:e=>e.secondaryPalette,tone:e=>j$4(e)?25:30,background:e=>c$8.secondaryFixedDim,secondBackground:e=>c$8.secondaryFixed,contrastCurve:new _$5(3,4.5,7,11)});c$8.tertiaryFixed=f$6.fromPalette({name:"tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?40:90,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.tertiaryFixed,c$8.tertiaryFixedDim,10,"lighter",true)});c$8.tertiaryFixedDim=f$6.fromPalette({name:"tertiary_fixed_dim",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?30:80,isBackground:true,background:e=>c$8.highestSurface(e),contrastCurve:new _$5(1,1,3,4.5),toneDeltaPair:e=>new oe$2(c$8.tertiaryFixed,c$8.tertiaryFixedDim,10,"lighter",true)});c$8.onTertiaryFixed=f$6.fromPalette({name:"on_tertiary_fixed",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?100:10,background:e=>c$8.tertiaryFixedDim,secondBackground:e=>c$8.tertiaryFixed,contrastCurve:new _$5(4.5,7,11,21)});c$8.onTertiaryFixedVariant=f$6.fromPalette({name:"on_tertiary_fixed_variant",palette:e=>e.tertiaryPalette,tone:e=>j$4(e)?90:30,background:e=>c$8.tertiaryFixedDim,secondBackground:e=>c$8.tertiaryFixed,contrastCurve:new _$5(3,4.5,7,11)});function Ar$1(e){let i=Dr$1(e),t=Or$1(e),r=Tr$2(e),n=[i.toString(16),t.toString(16),r.toString(16)];for(let[o,a]of n.entries())a.length===1&&(n[o]="0"+a);return "#"+n.join("")}function Rt$3(e){e=e.replace("#","");let i=e.length===3,t=e.length===6,r=e.length===8;if(!i&&!t&&!r)throw new Error("unexpected hex "+e);let n=0,o=0,a=0;return i?(n=Ge$5(e.slice(0,1).repeat(2)),o=Ge$5(e.slice(1,2).repeat(2)),a=Ge$5(e.slice(2,3).repeat(2))):t?(n=Ge$5(e.slice(0,2)),o=Ge$5(e.slice(2,4)),a=Ge$5(e.slice(4,6))):r&&(n=Ge$5(e.slice(2,4)),o=Ge$5(e.slice(4,6)),a=Ge$5(e.slice(6,8))),(255<<24|(n&255)<<16|(o&255)<<8|a&255)>>>0}function Ge$5(e){return parseInt(e,16)}var Qa=["previewIframe"];function Za(e,i){e&1&&(Kf$2(0,"div",4),ME(1,"pfy-loader-circular",5),Xf$2()),e&2&&(xR(),lE("overlay",false));}function Ja$1(e,i){if(e&1&&(ME(0,"iframe",6,0),TP(2,"async")),e&2){let t=tP();lE("width",t.width)("height",t.height)("src",t.safeResourceUrl(),ay$2)("hidden",_P(2,4,t.loading$));}}var es=["*"];function ts$1(e,i){if(e&1&&(Kf$2(0,"div",0),ME(1,"pfy-icon",2),Kf$2(2,"span"),fP(3),Xf$2()()),e&2){let t=tP();xR(3),WE(t.getErrorMessage());}}function rs$1(e,i){if(e&1&&(Kf$2(0,"span",1),fP(1),TP(2,"async"),Xf$2()),e&2){let t=tP();xR(),zE("",_P(2,2,t.charactersCount$)," / ",t.maxLength,"");}}var ns$1=()=>["/"],is$1=["actionsButton"];function os$1(e,i){if(e&1){let t=XR();Kf$2(0,"pfy-menu-item",13),VE("click",function(){let n=nR(t).$implicit,o=tP(2);return rR(o.onActionSelected(n))}),fP(1),Xf$2();}if(e&2){let t=i.$implicit,r=tP(2);lE("pfyDropdownListItem",t)("disabled",r.disabled),GI("data-testid","productCardMenuItem-"+t.value),xR(),ip$2(" ",t.name," ");}}function as(e,i){if(e&1&&(Kf$2(0,"div",11),JR(1,os$1,2,4,"pfy-menu-item",12,YR),Xf$2()),e&2){let t=tP();xR(),KR(t.actions);}}function ss$2(e,i){if(e&1&&(fP(0),TP(1,"price")),e&2){let t=tP();ip$2(" ",_P(1,1,t.product.price)," ");}}function cs$1(e,i){e&1&&fP(0," No price yet ");}var ls$1=(e,i)=>i.id;function us$1(e,i){if(e&1&&ME(0,"ssb-empty-state",2),e&2){let t=tP();lE("props",t.emptyStateProps);}}function ds$2(e,i){if(e&1){let t=XR();Kf$2(0,"ssb-product-arrangement-editor-product-card",7),VE("action",function(n){let o=nR(t).$implicit,a=tP(2);return rR(a.performProductAction(n,o))}),Xf$2();}if(e&2){let t=i.$implicit,r=i.$index,n=tP(2);lE("product",t)("index",r)("disabled",n.shouldDisableActions());}}function hs$1(e,i){e&1&&(Kf$2(0,"div",6),ME(1,"pfy-loader-circular",8),Xf$2()),e&2&&(xR(),lE("overlay",false)("small",true));}function ps$1(e,i){if(e&1){let t=XR();Kf$2(0,"div",4),VE("cdkDropListDropped",function(n){nR(t);let o=tP();return rR(o.drop(n))})("scrolled",function(){nR(t);let n=tP();return rR(n.loadMoreProducts())}),JR(1,ds$2,1,3,"ssb-product-arrangement-editor-product-card",5,ls$1),kI(3,hs$1,2,2,"div",6),Xf$2();}if(e&2){let t=tP();lE("fromRoot",true)("scrollWindow",false),xR(),KR(t.productsList$()),xR(2),QR(t.isLoading()?3:-1);}}function ms$1(e,i){if(e&1&&(ME(0,"ssb-live-preview",0),TP(1,"async")),e&2){let t=tP();lE("viewMode",_P(1,3,t.settingsService.viewMode$))("url",i)("readOnly",false);}}function fs(e,i){if(e&1&&(ep$2(0),Kf$2(1,"a",13),fP(2),Xf$2(),tp$2()),e&2){let t=i.ngIf;xR(),lE("href",t,sy$2),xR(),WE(t);}}function gs(e,i){if(e&1){let t=XR();Kf$2(0,"pfy-button-group",14)(1,"pfy-button",15),VE("buttonClick",function(){nR(t);let n=tP();return rR(n.historyBackward())}),Kf$2(2,"i",2),fP(3,"undo"),Xf$2()(),Kf$2(4,"pfy-button",16),VE("buttonClick",function(){nR(t);let n=tP();return rR(n.historyForward())}),Kf$2(5,"i",2),fP(6,"redo"),Xf$2()()();}if(e&2){let t=tP();lE("size",t.ButtonSize.Medium)("highlightActive",false),xR(),lE("type",t.ButtonType.Secondary)("isIconOnly",true),xR(3),lE("type",t.ButtonType.Secondary)("isIconOnly",true);}}function ys$1(e,i){if(e&1){let t=XR();Kf$2(0,"pfy-button",17),VE("buttonClick",function(){nR(t);let n=tP();return rR(n.preview())}),fP(1," Preview "),Xf$2();}if(e&2){let t=tP();lE("type",t.ButtonType.Secondary);}}function vs$1(e,i){if(e&1){let t=XR();Kf$2(0,"pfy-dropdown",19),VE("valueChange",function(n){nR(t);let o=tP(2);return rR(o.changePreviewPage(n))}),Xf$2();}if(e&2){let t=tP(2);lE("fullWidth",false)("value",t.currentPreviewPage)("items",i);}}function bs$1(e,i){if(e&1&&(kI(0,vs$1,1,3,"pfy-dropdown",18),TP(1,"async")),e&2){let t,r=tP();QR((t=_P(1,1,r.previewPages$))?0:-1,t);}}function Cs$3(e,i){if(e&1&&(Kf$2(0,"li",12)(1,"div",13)(2,"i",14),fP(3),Xf$2(),Kf$2(4,"span",15),fP(5),Xf$2()()()),e&2){let t=i.$implicit;xR(),dE("selected",t.isSelected),lE("routerLink",t.path),xR(2),WE(t.icon),xR(2),WE(t.label);}}function Ss$1(e,i){e&1&&ME(0,"router-outlet");}function _s$1(e,i){e&1&&TE(0);}function ks$2(e,i){if(e&1&&(Kf$2(0,"div",4),ME(1,"ssb-top-bar")(2,"ssb-side-bar"),Kf$2(3,"div",5),kI(4,_s$1,1,0,"ng-container",6),TP(5,"async"),Xf$2()()),e&2){let t=tP(2);xR(4),lE("ngComponentOutlet",_P(5,1,t.frameSlot$));}}function Ms$1(e,i){if(e&1){let t=XR();Kf$2(0,"div",7)(1,"div",8)(2,"h1",9),fP(3,"Store Design Editor"),Xf$2(),Kf$2(4,"pfy-button",10),VE("buttonClick",function(){nR(t);let n=tP(2);return rR(n.goBack())}),Kf$2(5,"i",11),fP(6,"close"),Xf$2()()(),Kf$2(7,"pfy-banner",12)(8,"p",13),fP(9," Storefront store builder for mobile devices is not supported. Please switch to desktop version. "),Xf$2()()();}if(e&2){let t=tP(2);xR(4),lE("type",t.ButtonType.Secondary)("isIconOnly",true),xR(3),lE("status",t.BannerStatus.Info);}}function Ps$1(e,i){if(e&1&&(ep$2(0),kI(1,ks$2,6,3,"div",3),TP(2,"async"),kI(3,Ms$1,10,3,"ng-template",null,1,OP),tp$2()),e&2){let t=dP(4),r=tP();xR(),lE("ngIf",_P(2,2,r.isMobile$)===false)("ngIfElse",t);}}function ws$1(e,i){e&1&&ME(0,"pfy-loader-circular",14),e&2&&lE("overlay",false);}function xs$1(e,i){e&1&&ME(0,"ssb-error-page");}function Ds$2(e,i){e&1&&ME(0,"ssb-frame");}var Vt$3=new k$5("Event dispatcher service for storefront store builder"),wn$3=class wn{},xn$3=class xn{},Dn$3=class Dn{},On$2=class On{},Tn$3=class Tn{},go$1=class go{},yo$1=class yo{constructor(i){this.storeId=i;}},vo$1=class vo{constructor(i){this.storeId=i;}},In$3=class In{},An$4=class An{constructor(i){this.payload=i;}},En$3=class En{constructor(i){this.payload=i;}},Bn$3=class Bn{constructor(i){this.payload=i;}},Ae$4=function(e){return e.Desktop="desktop",e.Mobile="mobile",e}(Ae$4||{}),Fn$3=class Fn extends Error{},Ke$5=function(e){return e.setTheme="setTheme",e.setWidgetData="setWidgetData",e.setConfig="setConfig",e.updateAboutContent="updateAboutContent",e.discardWidget="discardWidget",e.navigate="navigate",e}(Ke$5||{}),Os$1=function(e){return e.CoverBanner="cover-banner",e}(Os$1||{}),bo$1={width:1366,height:1080},Co$2={width:360,height:800},tr$3=(()=>{class e{constructor(){this.destroy$=new Z$a,this.connection=new Z$a,this.connection$=this.connection.asObservable().pipe(yi$5(this.handleError),_c$3(1),Oc$2(this.destroy$));}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}set initConnection(t){ye$7(new co$2({container:t.container,url:t.url,name:t.name,classListArray:t.classListArray})).pipe(ve$9(r=>r?hi$7(r):Xp$2(()=>new Error("Child not ready"))),Gc$3({delay:500})).subscribe(r=>{this.connection.next(r);});}setTheme(t){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(r=>r.call(Ke$5.setTheme,t));}setWidgetData(t,r){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(n=>n.call(Ke$5.setWidgetData,x$d(w$9({},r),{widget_id:t})));}setConfig(t){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(r=>r.call(Ke$5.setConfig,t));}updateAboutContent(t){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(r=>r.call(Ke$5.updateAboutContent,t));}discardWidget(t){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(r=>r.call(Ke$5.discardWidget,{widgetId:t}));}navigate(t){(0, qe$5.assert)(!!this.connection$,"Postmate handshake request listener is not initialized"),this.connection$.pipe(yi$5(this.handleError)).subscribe(r=>r.call(Ke$5.navigate,t));}handleError(t){return Xp$2(()=>new Fn$3(t.message))}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),So$1=class So{constructor(i,t,r,n,o,a){this.apiURL=i,this.storefrontApiURL=t,this.backURL=r,this.imageStorageURL=n,this.defaultLogo=o,this.jwtToken=a;}},Er$1=new k$5("Configuration for storefront store builder"),Po$4=new k$5("Feature toggle service for storefront store builder"),Ts$1=new k$5("Merchant service for storefront store builder"),Vn$2=(()=>{class e{constructor(){this.router=N$8(ve$8),this.route=N$8(Ge$9);}getParam(t){let r=this.route;for(;r;){if(r.snapshot.params[t])return r.snapshot.params[t];r=r.firstChild;}return null}getParam$(t){return this.router.events.pipe(Ye$b(r=>r instanceof ie$a),Sc$2(null),ie$b(()=>this.getParam(t)))}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Br$1=(()=>{class e{constructor(t,r,n){this.httpClient=t,this.toastService=r,this.builderConfig=n;}updateStore(t,r){return this.httpClient.put(`${this.builderConfig.storefrontApiURL}/store/${t}`,this.cleanUpdatePayload(r)).pipe(yi$5(()=>new M$a(n=>{let o=this.toastService.error({content:"Changes not published.",action:"Try again"});o.confirmed$.subscribe(()=>{this.updateStore(t,r).subscribe({next:a=>n.next(a),error:a=>n.error(a),complete:()=>n.complete()});}),o.dismissed$.subscribe(()=>{n.error(new Error("Could not save changes")),n.complete();});})))}getStore(t){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/${t}`)}getStoreTheme(t){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/${t}/theme`)}getSystemThemes(t){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/${t}/theme/system/full`).pipe(_c$3(1))}updateTheme(t,r){let n=`${this.builderConfig.storefrontApiURL}/store/${t}/theme`;return this.httpClient.put(n,r).pipe(yi$5(()=>new M$a(o=>{let a=this.toastService.error({content:"Changes not published.",action:"Try again"});a.confirmed$.subscribe(()=>{this.updateTheme(t,r).subscribe({next:s=>o.next(s),error:s=>o.error(s),complete:()=>o.complete()});}),a.dismissed$.subscribe(()=>{o.error(new Error("Could not save changes")),o.complete();});})))}getPageBySlug(t,r){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/${t}/page/${r}`)}updatePageBySlug(t,r,n){return this.httpClient.put(`${this.builderConfig.storefrontApiURL}/store/${t}/page/${r}`,n).pipe(yi$5(()=>new M$a(o=>{let a=this.toastService.error({content:"Changes not published.",action:"Try again"});a.confirmed$.subscribe(()=>{this.updatePageBySlug(t,r,n).subscribe({next:s=>o.next(s),error:s=>o.error(s),complete:()=>o.complete()});}),a.dismissed$.subscribe(()=>{o.error(new Error("Could not save changes")),o.complete();});})))}getLayout(t,r){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/${t}/layout/${r}`)}upsertLayout(t,r,n){return this.httpClient.put(`${this.builderConfig.storefrontApiURL}/store/${t}/layout/${r}`,n)}getProductsOrder(t,r=1,n=20){return this.httpClient.get(`${this.builderConfig.storefrontApiURL}/store/product-order/${t}`,{params:{page:r,take:n}}).pipe(_c$3(1))}upsertProductsOrder(t,r){return this.httpClient.put(`${this.builderConfig.storefrontApiURL}/store/product-order/${t}`,{order:r})}cleanUpdatePayload(t){return x$d(w$9({},t),{logo:t.logo?.length?t.logo:undefined})}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(rO),pe$9(Er$1))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Ht$2=(()=>{class e{constructor(){this.merchantService=N$8(Ts$1),this.storefrontApiService=N$8(Br$1),this.store=new yn$7(null),this.store$=this.store.asObservable(),this.storeUrl$=Hp$2([this.merchantService.domain$,this.store$]).pipe(ie$b(([t,r])=>r?`https://${r.slug}.${t}`:""));}fetchStore(t){let r=this.storefrontApiService.getStore(t);return r.subscribe(n=>{this.store.next(n);}),r}updateStore(t){let r=this.getStore();return (0, qe$5.assert)(!!r,"Store is not set"),this.storefrontApiService.updateStore(r.externalId,t).pipe(ie$b(n=>n),kc$2(n=>{this.store.next(n);}))}getStore(){return this.store.getValue()}resetStore(){this.store.next(null);}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),rr$3=(()=>{class e{constructor(){this.builderConfig=N$8(Er$1),this.routeParamService=N$8(Vn$2),this.storefrontApiService=N$8(Br$1),this.storeService=N$8(Ht$2),this.viewMode=new yn$7(Ae$4.Desktop),this.viewMode$=this.viewMode.asObservable(),this.previewUrlPage=new yn$7("home"),this.previewUrlPage$=this.previewUrlPage.asObservable(),this.currentPreviewPage=Wn$4(this.previewUrlPage$),this.previewPath$=this.previewUrlPage$.pipe(Ac$3(t=>this.getUrlPath(t))),this.previewBaseUrl$=this.storeService.storeUrl$,this.storeUrl$=this.storeService.storeUrl$,this.storeId$=this.routeParamService.getParam$("storeId"),this.availablePreviewUrlPages$=this.loadProducts().pipe(ie$b(t=>["products-list",...t.total>0?["product-details"]:[]]),Sc$2(["products-list"]));}get backToAppUrl(){return this.builderConfig.backURL}get currentPage(){return this.previewUrlPage.value}setViewMode(t){this.viewMode.next(t);}setPreviewUrlPath(t){this.previewUrlPage.next(t);}getUrlPath(t){switch(t){case "about-me":return hi$7("/about");case "home":return hi$7("/home");case "products-list":return hi$7("/products");case "product-details":return this.loadProducts().pipe(ie$b(r=>r.total>0?`/product/${r.data.at(0).id}`:""));default:throw new Error("Invalid path")}}loadProducts(){return this.storeId$.pipe(Ye$b(Boolean),Ac$3(t=>this.storefrontApiService.getProductsOrder(t)),yi$5(()=>be$8))}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Is$1=(()=>{class e{set viewMode(t){let r=Object.keys(Ae$4)[Object.values(Ae$4).indexOf(t)];this._viewMode=Ae$4[r],this.loadIframe(true);}constructor(t,r,n,o,a,s){this.liveUpdateService=t,this.settingsService=r,this.viewportService=n,this.eventsDispatcher=o,this.sanitizer=a,this.renderer=s,this.url=cR(),this.safeResourceUrl=HP(()=>this.sanitizer.bypassSecurityTrustResourceUrl(this.url()??"")),this.disabled=true,this.readOnly=true,this._viewMode=Ae$4.Desktop,this.destroy$=new Z$a,this.loadingState=new yn$7(true),this.loading$=this.loadingState.asObservable().pipe(Dr$5(),Mc$2(0),Oc$2(this.destroy$)),this.loadingTimer$=this.loading$.pipe(Ye$b(l=>!l),mt$8(1),Oh$2(),Oc$2(this.destroy$)),this.loadingTimer$.subscribe(({interval:l})=>{this.eventsDispatcher.dispatch(new Bn$3({loadingTimeMs:l}));});}ngOnDestroy(){this.destroy$.next(undefined),this.destroy$.complete();}get isDesktop(){return this._viewMode===Ae$4.Desktop}get width(){return typeof this.iframeWidth>"u"?this.isDesktop?bo$1.width:Co$2.width:this.iframeWidth}get height(){return typeof this.iframeHeight>"u"?this.isDesktop?bo$1.height:Co$2.height:this.iframeHeight}getScale(){return this.isDesktop?this.viewportService.match(gt$7.XL).pipe(ie$b(t=>t?.75:.65),mt$8(1)):hi$7(1).pipe(mt$8(1))}ngOnInit(){this.settingsService.previewPath$.subscribe(t=>{this.readOnly?this.previewIframe?.nativeElement.setAttribute("src",`${this.url()}${t}`):this.liveUpdateService.connection$?.subscribe(r=>{r.call(Ke$5.navigate,{path:t});});});}ngAfterViewInit(){this.readOnly||(this.liveUpdateService.initConnection={container:document.getElementById("livePreview"),url:this.url()??"",name:"livePreviewFrame",classListArray:["preview-iframe"]}),this.loadIframe();}loadIframe(t=false){this.readOnly?this.setStyle(this.previewIframe?.nativeElement,t):this.liveUpdateService.connection$?.subscribe(r=>{this.setStyle(r.frame,t);});}navigateToUrl(t){this.readOnly?this.previewIframe?.nativeElement.setAttribute("src",t):this.liveUpdateService.connection$?.subscribe(r=>{r.call(Ke$5.navigate,t);});}setStyle(t,r=false){if(t){this.loadingState.next(true);let n=t.parentElement,o=this.width??t.clientWidth,a=this.height??t.clientHeight;this.getScale().subscribe(s=>{(typeof this.scale>"u"||r)&&(this.scale=s),this.renderer.setStyle(n,"width",`${o*this.scale}px`),this.renderer.setStyle(n,"height",`${a*this.scale}px`),this.renderer.setProperty(t,"width",this.width),this.renderer.setProperty(t,"height",this.height),this.renderer.setStyle(t,"transform",`scale(${this.scale})`),this.renderer.setStyle(t,"display","block"),this.loadingState.next(false);});}}static{this.\u0275fac=function(r){return new(r||e)(Yo$4(tr$3),Yo$4(rr$3),Yo$4(nn$6),Yo$4(Vt$3),Yo$4(mc$3),Yo$4(NR))};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-live-preview"]],viewQuery:function(r,n){if(r&1&&iP(Qa,5,Uo$5),r&2){let o;sP(o=aP())&&(n.previewIframe=o.first);}},inputs:{url:[1,"url"],iframeWidth:"iframeWidth",iframeHeight:"iframeHeight",scale:"scale",disabled:"disabled",readOnly:"readOnly",viewMode:"viewMode"},standalone:false,decls:4,vars:4,consts:[["previewIframe",""],["data-testid","livePreview","id","livePreview"],["class","loader-wrapper",4,"ngIf"],["data-testid","staticPreviewFrame","class","preview-iframe",3,"width","height","src","hidden",4,"ngIf"],[1,"loader-wrapper"],[3,"overlay"],["data-testid","staticPreviewFrame",1,"preview-iframe",3,"width","height","src","hidden"]],template:function(r,n){r&1&&(Kf$2(0,"section",1),kI(1,Za,2,1,"div",2),TP(2,"async"),kI(3,Ja$1,3,6,"iframe",3),Xf$2()),r&2&&(xR(),lE("ngIf",_P(2,2,n.loading$)),xR(2),lE("ngIf",n.readOnly));},dependencies:[xd$2,du$2,zd$1],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{min-width:1px;min-height:1px;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}  .preview-iframe{display:none;transform-origin:0 0}']});}}return e})(),As$2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({imports:[Gs$2,dT]});}}return e})(),Ln$3=function(e){return e.Header="header",e.Footer="footer",e}(Ln$3||{}),Jt$3=function(e){return e.Header="header",e.Footer="footer",e}(Jt$3||{});var p$7=function(e){return e.Version="version",e.Name="name",e.Mapping="mapping",e.Custom="custom",e.Mode="mode",e.FontSize="fontSize",e.FontFamilyDefault="fontFamilyDefault",e.FontFamilyVariant="fontFamilyVariant",e.BorderRadiusSize="borderRadiusSize",e.BorderWidthSize="borderWidthSize",e.SpaceSize="spaceSize",e.ShadowSize="shadowSize",e.LightPrimary="paletteLightPrimary",e.LightOnPrimary="paletteLightOnPrimary",e.LightPrimaryContainer="paletteLightPrimaryContainer",e.LightOnPrimaryContainer="paletteLightOnPrimaryContainer",e.LightSecondary="paletteLightSecondary",e.LightOnSecondary="paletteLightOnSecondary",e.LightSecondaryContainer="paletteLightSecondaryContainer",e.LightOnSecondaryContainer="paletteLightOnSecondaryContainer",e.LightTertiary="paletteLightTertiary",e.LightOnTertiary="paletteLightOnTertiary",e.LightTertiaryContainer="paletteLightTertiaryContainer",e.LightOnTertiaryContainer="paletteLightOnTertiaryContainer",e.LightError="paletteLightError",e.LightOnError="paletteLightOnError",e.LightErrorContainer="paletteLightErrorContainer",e.LightOnErrorContainer="paletteLightOnErrorContainer",e.LightBackground="paletteLightBackground",e.LightOnBackground="paletteLightOnBackground",e.LightSurface="paletteLightSurface",e.LightOnSurface="paletteLightOnSurface",e.LightSurfaceVariant="paletteLightSurfaceVariant",e.LightOnSurfaceVariant="paletteLightOnSurfaceVariant",e.LightOutline="paletteLightOutline",e.LightOutlineVariant="paletteLightOutlineVariant",e.LightShadow="paletteLightShadow",e.LightScrim="paletteLightScrim",e.LightInverseSurface="paletteLightInverseSurface",e.LightInverseOnSurface="paletteLightInverseOnSurface",e.LightInversePrimary="paletteLightInversePrimary",e.DarkPrimary="paletteDarkPrimary",e.DarkOnPrimary="paletteDarkOnPrimary",e.DarkPrimaryContainer="paletteDarkPrimaryContainer",e.DarkOnPrimaryContainer="paletteDarkOnPrimaryContainer",e.DarkSecondary="paletteDarkSecondary",e.DarkOnSecondary="paletteDarkOnSecondary",e.DarkSecondaryContainer="paletteDarkSecondaryContainer",e.DarkOnSecondaryContainer="paletteDarkOnSecondaryContainer",e.DarkTertiary="paletteDarkTertiary",e.DarkOnTertiary="paletteDarkOnTertiary",e.DarkTertiaryContainer="paletteDarkTertiaryContainer",e.DarkOnTertiaryContainer="paletteDarkOnTertiaryContainer",e.DarkError="paletteDarkError",e.DarkOnError="paletteDarkOnError",e.DarkErrorContainer="paletteDarkErrorContainer",e.DarkOnErrorContainer="paletteDarkOnErrorContainer",e.DarkBackground="paletteDarkBackground",e.DarkOnBackground="paletteDarkOnBackground",e.DarkSurface="paletteDarkSurface",e.DarkOnSurface="paletteDarkOnSurface",e.DarkSurfaceVariant="paletteDarkSurfaceVariant",e.DarkOnSurfaceVariant="paletteDarkOnSurfaceVariant",e.DarkOutline="paletteDarkOutline",e.DarkOutlineVariant="paletteDarkOutlineVariant",e.DarkShadow="paletteDarkShadow",e.DarkScrim="paletteDarkScrim",e.DarkInverseSurface="paletteDarkInverseSurface",e.DarkInverseOnSurface="paletteDarkInverseOnSurface",e.DarkInversePrimary="paletteDarkInversePrimary",e}(p$7||{}),Es$2=function(e){return e.Roboto="roboto",e.CerebriSans="cerebri-sans",e}(Es$2||{}),Rn$3=function(e){return e[e.V1=1]="V1",e[e.V2=2]="V2",e}(Rn$3||{}),Bs$1=function(e){return e.LegacyDefault="default",e.LegacyVariant="legacy",e.LegacyBold="bold",e.LegacyDuo="duo-legacy",e.Simple="simple",e}(Bs$1||{}),nt$7=function(e){return e.Light="light",e.Dark="dark",e.Dynamic="dynamic",e}(nt$7||{});var Ie$4=function(e){return e[e.Surface=1.1]="Surface",e[e.Outline=1.3]="Outline",e[e.OutlineVariant=1.5]="OutlineVariant",e[e.Container=4.5]="Container",e[e.Text=7]="Text",e[e.Inverse=15]="Inverse",e}(Ie$4||{}),m$3=function(e){return e.Primary="primary",e.OnPrimary="on-primary",e.PrimaryContainer="primary-container",e.OnPrimaryContainer="on-primary-container",e.Secondary="secondary",e.OnSecondary="on-secondary",e.SecondaryContainer="secondary-container",e.OnSecondaryContainer="on-secondary-container",e.Tertiary="tertiary",e.OnTertiary="on-tertiary",e.TertiaryContainer="tertiary-container",e.OnTertiaryContainer="on-tertiary-container",e.Error="error",e.OnError="on-error",e.ErrorContainer="error-container",e.OnErrorContainer="on-error-container",e.Background="background",e.OnBackground="on-background",e.Surface="surface",e.OnSurface="on-surface",e.SurfaceVariant="surface-variant",e.OnSurfaceVariant="on-surface-variant",e.Outline="outline",e.OutlineVariant="outline-variant",e.Shadow="shadow",e.Scrim="scrim",e.InverseSurface="inverse-surface",e.InverseOnSurface="inverse-on-surface",e.InversePrimary="inverse-primary",e}(m$3||{}),Zt$2=function(e){return e.Background="Background",e.Primary="Primary",e.Header="Secondary",e.Footer="Accent",e}(Zt$2||{}),w$5=function(e){return e.AboutPage="about-page",e.ContactPage="contact-page",e.CoverBanner="cover-banner",e.Logo="logo",e.Theme="theme",e.CustomTheme="custom-theme",e.SocialMedia="social-media",e.ProductArrangement="product-arrangement",e}(w$5||{}),it$6=(()=>{class e{constructor(){this.state=new yn$7({}),this.state$=this.state.asObservable(),this.initialState={};}setState(t,r){this.state.next(x$d(w$9({},this.state.getValue()),{[t]:r}));}setInitialState(t,r){this.initialState=x$d(w$9({},this.initialState),{[t]:r});}getState(t){return this.state.getValue()[t]}revertState(){throw new Error("Not implemented")}resetState(t,r){let n=w$9({},this.state.getValue());r?(n[t]=r,this.setInitialState(t,r)):delete n[t],this.state.next(n);}hasUnsavedChanges(t){if(!t)return  false;let r=this.getState(t);if(!r||this.isEmptyCoverBannerState(t,r))return  false;let n=Object.keys(r);return n.filter(s=>typeof r[s]<"u").length?n.some(s=>r?.[s]!==this.initialState[t]?.[s]):false}isEmptyCoverBannerState(t,r){if(t!==w$5.CoverBanner)return  false;let n=r,{widgetId:o,title:a,body:s,image:l}=n;return o===undefined&&!a&&!s&&!l?.uri}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),dh$1=(()=>{class e{constructor(){this.maxLength=0,this.charactersCount$=new yn$7(0),this.isVisibleCounter$=new yn$7(false),this.hasReachedMaxLimit$=this.charactersCount$.pipe(Rc$2(this.isVisibleCounter$),ie$b(([t,r])=>t>this.maxLength&&r)),this.shouldShowCharacterCount$=Hp$2([this.isVisibleCounter$,this.hasReachedMaxLimit$]).pipe(ie$b(([t,r])=>t||r)),this.destroy$=new Z$a,this.valueChanges$=new In$7(1),this.isValueDirectlyPassed=false;}set value(t){this.isValueDirectlyPassed=true,this.valueChanges$.next(t);}ngAfterContentInit(){this.inputComponent&&$p$1(this.inputComponent.onfocus.pipe(ie$b(()=>true)),this.inputComponent.onblur.pipe(ie$b(()=>false))).pipe(Oc$2(this.destroy$)).subscribe(r=>this.isVisibleCounter$.next(r)),this.textareaComponent&&$p$1(this.textareaComponent.onfocus.pipe(ie$b(()=>true)),this.textareaComponent.onblur.pipe(ie$b(()=>false))).pipe(Oc$2(this.destroy$)).subscribe(r=>this.isVisibleCounter$.next(r)),(this.isValueDirectlyPassed||!this.ngControl?this.valueChanges$:this.ngControl.control?.valueChanges.pipe(Sc$2(this.ngControl.control.value),Oc$2(this.destroy$)))?.pipe(Oc$2(this.destroy$)).subscribe(r=>{this.charactersCount$.next(r?.length||0);});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}getErrorMessage(){return `Max character limit is ${this.maxLength}`}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-character-counter"]],contentQueries:function(r,n,o){if(r&1&&(oP(o,In$5,5),oP(o,Xu$2,5),oP(o,zt$4,5)),r&2){let a;sP(a=aP())&&(n.inputComponent=a.first),sP(a=aP())&&(n.textareaComponent=a.first),sP(a=aP())&&(n.ngControl=a.first);}},inputs:{maxLength:"maxLength",value:"value"},standalone:false,ngContentSelectors:es,decls:5,vars:6,consts:[[1,"character-limit-error"],["data-testid","counter",1,"character-counter"],["name","error",1,"limit-error-icon","icon","outlined"]],template:function(r,n){r&1&&(nP(),rP(0),kI(1,ts$1,4,1,"div",0),TP(2,"async"),kI(3,rs$1,3,4,"span",1),TP(4,"async")),r&2&&(xR(),QR(_P(2,2,n.hasReachedMaxLimit$)?1:-1),xR(2),QR(_P(4,4,n.shouldShowCharacterCount$)?3:-1));},dependencies:[ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:relative}.character-counter[_ngcontent-%COMP%]{position:absolute;bottom:-1.25rem;right:.75rem;color:#2f2e0c;font-size:1.25rem}'],changeDetection:0});}}return e})(),Fs$2=(()=>{class e{constructor(){this.window=N$8(Window),this.ButtonType=Ze$5;}refreshPage(){this.window.location.reload();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-error-page"]],standalone:false,decls:13,vars:4,consts:[[1,"layout-container"],[1,"ink-grid","row"],[1,"ink-col-xl-8","ink-col-l-8","ink-col-m-8","ink-col-8","content-container"],[1,"title"],[1,"description"],[1,"refresh-button",3,"click","type"],["data-testid","back-to-dashboard-button",3,"type","routerLink"],[1,"ink-col-xl-4","ink-col-l-8","ink-col-m-8","ink-col-4","image-container"],["src","/assets/store-builder/svg/error.svg","alt","Error"]],template:function(r,n){r&1&&(Kf$2(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),fP(4,"We've encountered an error"),Xf$2(),Kf$2(5,"p",4),fP(6," We hope this doesn't happen again, but in the meantime we suggest you refresh the page. If the problem persists, you can return to the dashboard and try again later. "),Xf$2(),Kf$2(7,"pfy-button",5),VE("click",function(){return n.refreshPage()}),fP(8," Refresh page "),Xf$2(),Kf$2(9,"pfy-button",6),fP(10," Back to dashboard "),Xf$2()(),Kf$2(11,"div",7),ME(12,"img",8),Xf$2()()()),r&2&&(xR(7),lE("type",n.ButtonType.Secondary),xR(2),lE("type",n.ButtonType.Ghost)("routerLink",vP(3,ns$1)));},dependencies:[We$8,Io$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;padding:1.5rem}.row[_ngcontent-%COMP%]{align-items:center}.title[_ngcontent-%COMP%]{font-family:Ambit,sans-serif;margin-bottom:1rem}.description[_ngcontent-%COMP%]{margin-bottom:1rem}.refresh-button[_ngcontent-%COMP%]{margin-right:.5rem}.image-container[_ngcontent-%COMP%]{margin-bottom:1.25rem;text-align:center}@media (max-width: 959px){.image-container[_ngcontent-%COMP%]{order:1}.content-container[_ngcontent-%COMP%]{order:2}}']});}}return e})(),ve$5=function(e){return e.Ready="ready",e.Saving="saving",e}(ve$5||{}),ot$7=(()=>{class e{constructor(){this.settingsService=N$8(rr$3),this.toastService=N$8(rO),this.status=new yn$7(null),this.publishSubject=new Z$a,this.validSubject=new yn$7(true),this.publish$=this.publishSubject.asObservable(),this.status$=this.status.asObservable(),this.isSaving$=this.status$.pipe(ie$b(t=>t===ve$5.Saving)),this.valid$=this.validSubject.asObservable();}publish(){this.publishSubject.next();}setStatus(t){this.status.next(t);}setValid(t){this.validSubject.next(t);}showPublishSuccessDialog(){this.toastService.success({content:"Changes published to your store.",action:"Open store",timeoutWithAction:true,closingTimeout:5e3}).confirmed$.pipe(ve$9(()=>this.settingsService.storeUrl$),mt$8(1)).subscribe(t=>{t&&window.open(t,"_blank");});}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),wo$1=(()=>{class e{constructor(){this.eventDispatcherService=N$8(Vt$3),this.storeBuilderService=N$8(ot$7),this.storefrontApiService=N$8(Br$1),this.stateService=N$8(it$6),this.routeParamService=N$8(Vn$2),this.published$=new Z$a,this.destroy$=new Z$a,this.overrideOrder$=new In$7,this.forceRefetch$=new yn$7(undefined),this.pageNumber=new yn$7(1),this.pageNumber$=this.pageNumber.asObservable(),this.isLoading=oI(false),this.storeId$=this.routeParamService.getParam$("storeId"),this.currentProducts=new yn$7(null),this.productsWithMeta$=Hp$2([this.routeParamService.getParam$("storeId"),this.forceRefetch$,this.pageNumber$]).pipe(ie$b(([t])=>t),Ac$3(t=>t?this.loadProducts(t):hi$7(null)),kc$2(t=>this.overrideOrder$.next(t?.default_order||null)),kc$2(()=>this.storeBuilderService.setStatus(ve$5.Ready)),kc$2(t=>this.stateService.resetState(w$5.ProductArrangement,{order:t?.default_order||null})),_c$3(1)),this.productsOrder$=Hp$2([this.productsWithMeta$.pipe(ie$b(t=>t?.default_order||null)),this.overrideOrder$]).pipe(ie$b(([t,r])=>r||t)),this.productsList$=this.productsWithMeta$.pipe(ie$b(t=>t?.data||null)),this.orderedProductsList$=Hp$2([this.productsList$,this.productsOrder$]).pipe(ie$b(([t,r])=>t?this.getSortedProducts(this.removeDuplicates(t),r):null));}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.published$.complete(),this.pageNumber.complete(),this.currentProducts.complete();}publishChanges(){this.storeBuilderService.setStatus(ve$5.Saving),this.storeId$.pipe(Ac$3(t=>this.storefrontApiService.upsertProductsOrder(t,this.stateService.getState(w$5.ProductArrangement).order||[])),kc$2(()=>this.eventDispatcherService.dispatch(new Tn$3)),yi$5(()=>(this.eventDispatcherService.dispatch(new xn$3),be$8))).subscribe(()=>{this.published$.next(true),this.storeBuilderService.showPublishSuccessDialog(),this.forceRefetch$.next();});}reset(){this.forceRefetch$.next();}setNewOrder(t){this.overrideOrder$.next(t),this.stateService.setState(w$5.ProductArrangement,{order:t});}sendProductToStart(t){this.overrideOrder$.pipe(mt$8(1),kc$2(r=>{if(!r)return;let n=r.indexOf(t);n!==-1&&(r.splice(n,1),r.unshift(t),this.setNewOrder([...r]));})).subscribe();}sendProductToEnd(t){this.overrideOrder$.pipe(mt$8(1),kc$2(r=>{if(!r)return;let n=r.indexOf(t);n!==-1&&(r.splice(n,1),r.push(t),this.setNewOrder([...r]));})).subscribe();}loadMoreProducts(){this.currentProducts.value&&this.currentProducts.value.current_page<this.currentProducts.value.last_page&&this.pageNumber.next(this.pageNumber.value+1);}getSortedProducts(t,r){if(!r)return t;let n=r.reduce((o,a,s)=>x$d(w$9({},o),{[a]:s}),{});return t.sort((o,a)=>n[o.id]-n[a.id])}loadProducts(t){return this.isLoading.set(true),this.storefrontApiService.getProductsOrder(t,this.pageNumber.value).pipe(kc$2(r=>{this.currentProducts.next(x$d(w$9({},r),{data:[...this.currentProducts.value?.data??[],...r.data]}));}),ie$b(r=>x$d(w$9({},r),{data:this.currentProducts.value?.data??r.data})),xc$2(()=>this.isLoading.set(false)))}removeDuplicates(t){return t.reduce((r,n)=>(r.some(o=>o.id===n.id)||r.push(n),r),[])}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),er$3=function(e){return e.SendToStart="sendToStart",e.SendToEnd="sendToEnd",e}(er$3||{}),Ls$2=(()=>{class e{constructor(){this.props=cR.required();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-empty-state"]],inputs:{props:[1,"props"]},decls:7,vars:3,consts:[[1,"empty-state-container"],[1,"image-container"],["data-testid","image","alt","Empty State Image",1,"image",3,"src"],[1,"title"],[1,"description"]],template:function(r,n){r&1&&(Kf$2(0,"div",0)(1,"div",1),ME(2,"img",2),Xf$2(),Kf$2(3,"h6",3),fP(4),Xf$2(),Kf$2(5,"p",4),fP(6),Xf$2()()),r&2&&(xR(2),lE("src",n.props().imageUrl,sy$2),xR(2),WE(n.props().title),xR(2),ip$2(" ",n.props().description," "));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.empty-state-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;margin:5rem 0 2rem}.image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:250px;height:250px}.title[_ngcontent-%COMP%]{padding:0 1rem}.description[_ngcontent-%COMP%]{margin-top:1rem;max-width:65%}'],changeDetection:0});}}return e})(),Rs$1=(()=>{class e{constructor(){this.posistionBuilder=N$8(gm$1),this.currencyCode$=hi$7("USD"),this.disabled=false,this.action=new Xe$5,this.menuPosition=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],this.ButtonType=Ze$5,this.ButtonSize=lt$7,this.actions=[{name:"Send to the top",value:er$3.SendToStart},{name:"Send to the bottom",value:er$3.SendToEnd}],this.actionsDropdownVisible=false;}onActionSelected(t){t&&this.action.emit(t.value),this.actionsDropdownVisible=false;}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-product-arrangement-editor-product-card"]],viewQuery:function(r,n){if(r&1&&iP(is$1,5,Uo$5),r&2){let o;sP(o=aP())&&(n.actionsButton=o.first);}},inputs:{index:"index",product:"product",disabled:"disabled"},outputs:{action:"action"},standalone:false,features:[gP([{provide:Vo$3,useExisting:e}])],decls:18,vars:11,consts:[["positioningContainer",""],["menu",""],[1,"product-card"],[1,"product-card-header"],["data-testid","actionsButton",1,"actions-button",3,"type","isIconOnly","size","cdkMenuTriggerFor","cdkMenuPosition"],["name","more_vert",1,"icon"],[1,"product-card-image"],[3,"src","alt"],[1,"product-card-content"],[1,"product-title"],["data-testid","productCardPrice",1,"product-price"],["cdkMenu","","data-testid","productCardMenu",1,"menu"],["cdkMenuItem","",1,"actions-dropdown-item",3,"pfyDropdownListItem","disabled"],["cdkMenuItem","",1,"actions-dropdown-item",3,"click","pfyDropdownListItem","disabled"]],template:function(r,n){if(r&1&&(Kf$2(0,"article",2,0)(2,"section",3)(3,"h6"),fP(4),Xf$2(),Kf$2(5,"div")(6,"pfy-button",4),ME(7,"pfy-icon",5),Xf$2(),kI(8,as,3,0,"ng-template",null,1,OP),Xf$2()(),Kf$2(10,"section",6),ME(11,"img",7),Xf$2(),Kf$2(12,"section",8)(13,"h6",9),fP(14),Xf$2(),Kf$2(15,"small",10),kI(16,ss$2,2,3)(17,cs$1,1,0),Xf$2()()()),r&2){let o=dP(9);GI("data-testid","productCardContent"+n.index),xR(4),WE(n.index+1),xR(2),lE("type",n.ButtonType.Secondary)("isIconOnly",true)("size",n.ButtonSize.Small)("cdkMenuTriggerFor",o)("cdkMenuPosition",n.menuPosition),xR(5),lE("src",n.product.image,sy$2)("alt",n.product.name),xR(3),WE(n.product.name),xR(2),QR(n.product.price?16:17);}},dependencies:[We$8,ps$2,Ro$3,ge$9,so$3,_n$3,Sn$3,Eu$2],styles:[`@charset "UTF-8";ssb-product-arrangement-editor-product-card .product-card{width:232px;padding:1rem;background-color:#fff;border-radius:8px}ssb-product-arrangement-editor-product-card .product-card:hover{box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}ssb-product-arrangement-editor-product-card .product-card-header{margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;position:relative}ssb-product-arrangement-editor-product-card .product-card-header h6{flex-grow:1;font-weight:400}ssb-product-arrangement-editor-product-card .product-card-header .actions-dropdown-item{white-space:nowrap}ssb-product-arrangement-editor-product-card .product-card-header .icon{font-weight:700}ssb-product-arrangement-editor-product-card .product-card-image{height:200px;width:200px;overflow:hidden;border-radius:4px}ssb-product-arrangement-editor-product-card .product-card-image img{width:100%}ssb-product-arrangement-editor-product-card .product-card-content{padding-top:.5rem}ssb-product-arrangement-editor-product-card .product-card-content .product-title{margin-bottom:.125rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}ssb-product-arrangement-editor-product-card .product-card-footer{display:flex;justify-content:space-between}ssb-product-arrangement-editor-product-card.cdk-drag-preview .product-card{background-color:#e0e0d7}.menu{padding:.5rem;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426;border-radius:4px;background-color:#fff;margin-top:.25rem}
`],encapsulation:2,changeDetection:0});}}return e})(),$s$2=(()=>{class e{constructor(){this.destroy$=new Z$a,this.productArrangementService=N$8(wo$1),this.eventDispatcherService=N$8(Vt$3),this.productsList$=Wn$4(this.productArrangementService.orderedProductsList$),this.isEmptyList=HP(()=>!this.productsList$()||this.productsList$()?.length===0),this.shouldDisableActions=HP(()=>this.productsList$()?.length===1),this.emptyStateProps={imageUrl:"/assets/store-builder/svg/empty-list.svg",title:"Looks like your shelves are empty...",description:"You don\u2019t have any products published in your store yet. Why not start adding products now to kick off your sales and start earning?"},this.isLoading=this.productArrangementService.isLoading;}ngOnDestroy(){this.destroy$.next(undefined),this.destroy$.complete();}drop(t){let r=this.productsList$().slice();se$5(r,t.previousIndex,t.currentIndex),this.productArrangementService.setNewOrder(r.map(n=>n.id)),this.eventDispatcherService.dispatch(new wn$3);}performProductAction(t,r){switch(t){case er$3.SendToStart:{this.productArrangementService.sendProductToStart(r.id),this.eventDispatcherService.dispatch(new On$2);break}case er$3.SendToEnd:{this.productArrangementService.sendProductToEnd(r.id),this.eventDispatcherService.dispatch(new Dn$3);break}}}loadMoreProducts(){this.productArrangementService.loadMoreProducts();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-product-arrangement-editor"]],standalone:false,decls:5,vars:1,consts:[["data-testid","productArrangementEditorGrid"],[1,"title"],["data-testid","productArrangementEmptyList",3,"props"],["infiniteScroll","","cdkDropList","","cdkDropListOrientation","mixed",1,"arrangement-list",3,"fromRoot","scrollWindow"],["infiniteScroll","","cdkDropList","","cdkDropListOrientation","mixed",1,"arrangement-list",3,"cdkDropListDropped","scrolled","fromRoot","scrollWindow"],["data-testid","productArrangementBrick","cdkDrag","",1,"arrangement-item",3,"product","index","disabled"],[1,"arrangement-item"],["data-testid","productArrangementBrick","cdkDrag","",1,"arrangement-item",3,"action","product","index","disabled"],[1,"loader",3,"overlay","small"]],template:function(r,n){r&1&&(Kf$2(0,"div",0)(1,"h6",1),fP(2,"My published products"),Xf$2(),kI(3,us$1,1,1,"ssb-empty-state",2)(4,ps$1,4,3,"div",3),Xf$2()),r&2&&(xR(3),QR(n.isEmptyList()?3:4));},dependencies:[du$2,Be$5,Ge$6,ro$2,Ls$2,Rs$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{height:calc(100vh - 70px);padding:1.5rem 0;display:flex;justify-content:center}.title[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;margin-bottom:1.25rem}.arrangement-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;flex-wrap:wrap;justify-self:center;width:976px;height:80vh;padding-bottom:3rem;overflow-y:scroll}.arrangement-list[_ngcontent-%COMP%]   .arrangement-item[_ngcontent-%COMP%]{margin:.375rem;box-sizing:border-box;cursor:move}@media (max-width: 1472px){.arrangement-list[_ngcontent-%COMP%]{width:732px}}@media (max-width: 1200px){.arrangement-list[_ngcontent-%COMP%]{width:488px}}@media (max-width: 960px){.arrangement-list[_ngcontent-%COMP%]{width:244px}}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}'],changeDetection:0});}}return e})(),Vs$1=(()=>{class e{constructor(){this.settingsService=N$8(rr$3);}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-frame-preview"]],standalone:false,decls:2,vars:3,consts:[[3,"viewMode","url","readOnly"]],template:function(r,n){if(r&1&&(kI(0,ms$1,2,5,"ssb-live-preview",0),TP(1,"async")),r&2){let o;QR((o=_P(1,1,n.settingsService.previewBaseUrl$))?0:-1,o);}},dependencies:[Is$1,zd$1],encapsulation:2});}}return e})(),Hs$1=e=>{switch(e){case w$5.ProductArrangement:return $s$2;default:return Vs$1}},nr$3=e=>{let i=e;for(;!i.snapshot.data.menuItemPath&&i.firstChild;)i=i.firstChild;return i.snapshot.data.menuItemPath??null},Us$2=(()=>{class e{constructor(){this.ModuleId=w$5,this.settingsService=N$8(rr$3),this.route=N$8(Ge$9),this.router=N$8(ve$8),this.location=N$8(Xe$4),this.stateService=N$8(it$6),this.storefrontStoreBuilderService=N$8(ot$7),this.dialogService=N$8(zu$1),this.liveUpdateService=N$8(tr$3),this.ButtonType=Ze$5,this.ButtonSize=lt$7,this.historyEnabled=false,this.previewEnabled=false,this.previewPages$=this.settingsService.availablePreviewUrlPages$.pipe(ie$b(t=>t.map(r=>({name:r,value:r})))),this.destroy$=new Z$a,this.isDesktopViewMode$=this.settingsService.viewMode$.pipe(ie$b(t=>t===Ae$4.Desktop)),this.isPhoneViewMode$=this.settingsService.viewMode$.pipe(ie$b(t=>t===Ae$4.Mobile)),this.currentlySelectedMenu$=this.router.events.pipe(Ye$b(t=>t instanceof ie$a),Sc$2(null),ie$b(()=>nr$3(this.route)),_c$3(1)),this.publishDisabled$=Hp$2([this.currentlySelectedMenu$,this.storefrontStoreBuilderService.isSaving$,this.stateService.state$]).pipe(ie$b(([t,r])=>r||!t||!this.stateService.hasUnsavedChanges(t)));}get currentPreviewPage(){let t=this.settingsService.currentPreviewPage();return {name:t,value:t}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}changePreviewPage(t){this.liveUpdateService.connection$.pipe(Oc$2(this.destroy$)).subscribe(()=>{this.settingsService.setPreviewUrlPath(t.value);});}switchToDesktop(){this.settingsService.setViewMode(Ae$4.Desktop);}switchToPhone(){this.settingsService.setViewMode(Ae$4.Mobile);}historyBackward(){throw new Error("Method not implemented.")}historyForward(){throw new Error("Method not implemented.")}preview(){throw new Error("Method not implemented.")}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-top-bar"]],standalone:false,decls:23,vars:21,consts:[["data-testid","topBar",1,"top-bar"],["data-testid","frameBackButton",1,"back-button",3,"routerLink"],[1,"material-icons-outlined"],[1,"top-bar-actions"],[4,"ngIf"],[1,"view-switcher"],["data-testid","switchToDesktop",3,"buttonClick","type","isIconOnly"],[1,"view-switcher-icon","material-icons-outlined"],["data-testid","switchToPhone",3,"buttonClick","type","isIconOnly"],[1,"filler"],[3,"size","highlightActive",4,"ngIf"],[1,"actions"],["data-testid","previewButton",3,"type","buttonClick",4,"ngIf"],["data-testid","storefrontUrl","target","_blank",1,"storefront-url",3,"href"],[3,"size","highlightActive"],["data-testid","historyBackward","pfyButtonGroupItem","backward",3,"buttonClick","type","isIconOnly"],["data-testid","historyForward","pfyButtonGroupItem","forward",3,"buttonClick","type","isIconOnly"],["data-testid","previewButton",3,"buttonClick","type"],[3,"fullWidth","value","items"],[3,"valueChange","fullWidth","value","items"]],template:function(r,n){r&1&&(Kf$2(0,"header",0)(1,"a",1)(2,"i",2),fP(3,"arrow_back"),Xf$2()(),Kf$2(4,"section",3),kI(5,fs,3,2,"ng-container",4),TP(6,"async"),Kf$2(7,"div",5)(8,"pfy-button",6),VE("buttonClick",function(){return n.switchToDesktop()}),Kf$2(9,"i",7),TP(10,"async"),fP(11," desktop_windows "),Xf$2()(),Kf$2(12,"pfy-button",8),VE("buttonClick",function(){return n.switchToPhone()}),Kf$2(13,"i",7),TP(14,"async"),fP(15," smartphone "),Xf$2()()(),ME(16,"div",9),kI(17,gs,7,6,"pfy-button-group",10),ME(18,"div",9),Kf$2(19,"div",11),kI(20,ys$1,2,1,"pfy-button",12),Xf$2(),kI(21,bs$1,2,3),TP(22,"async"),Xf$2()()),r&2&&(xR(),lE("routerLink",n.settingsService.backToAppUrl),xR(4),lE("ngIf",_P(6,13,n.settingsService.storeUrl$)),xR(3),lE("type",n.ButtonType.Ghost)("isIconOnly",true),xR(),dE("selected",_P(10,15,n.isDesktopViewMode$)),xR(3),lE("type",n.ButtonType.Ghost)("isIconOnly",true),xR(),dE("selected",_P(14,17,n.isPhoneViewMode$)),xR(4),lE("ngIf",n.historyEnabled),xR(3),lE("ngIf",n.previewEnabled),xR(),QR(_P(22,19,n.currentlySelectedMenu$)===n.ModuleId.CustomTheme?21:-1));},dependencies:[xd$2,We$8,OS,$w,xo$3,Tn$4,Io$4,zd$1],styles:['@charset "UTF-8";.top-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;border-bottom:1px solid #e0e0d7}.top-bar[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:70px;cursor:pointer;text-decoration:none;border-right:1px solid #e0e0d7}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;flex:1;padding:.5rem 1rem}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .storefront-url[_ngcontent-%COMP%]{font-size:1rem;color:#2f2e0c;text-decoration:none}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.25rem;margin-left:.75rem}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   .view-switcher-icon[_ngcontent-%COMP%]{color:#a8a794}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .view-switcher[_ngcontent-%COMP%]   .view-switcher-icon.selected[_ngcontent-%COMP%]{color:#2f2e0c}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex:1}.top-bar[_ngcontent-%COMP%]   .top-bar-actions[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:.5rem}']});}}return e})(),Ns$2=(()=>{class e{constructor(){this.route=N$8(Ge$9),this.router=N$8(ve$8),this.builderService=N$8(ot$7),this.stateService=N$8(it$6),this.featureToggleService=N$8(Po$4),this.ButtonType=Ze$5,this.ButtonSize=lt$7,this.aboutPageModuleEnabled$=this.featureToggleService.isFeatureEnabled$("storefront_branding_builder_about_page"),this.currentlySelectedMenu$=this.router.events.pipe(Ye$b(t=>t instanceof ie$a),Sc$2(null),ie$b(()=>nr$3(this.route)),_c$3(1)),this.publishDisabled$=Hp$2([this.currentlySelectedMenu$,this.builderService.isSaving$,this.builderService.valid$,this.stateService.state$]).pipe(ie$b(([t,r,n])=>r||!t||!this.stateService.hasUnsavedChanges(t)||!n)),this.currentlySelectedModuleName$=this.currentlySelectedMenu$.pipe(ie$b(t=>t===w$5.SocialMedia?"Social media":t===w$5.AboutPage?"About Page":t===w$5.CoverBanner?"Cover Banner":t===w$5.ProductArrangement?"Product Arrangement":t===w$5.CustomTheme?"Custom Theme":t===w$5.Theme?"Themes":t)),this.activeMenuItems$=Hp$2([this.aboutPageModuleEnabled$]).pipe(ie$b(([t])=>{let r=["theme","logo","social-media","product-arrangement","cover-banner"];return t&&r.push("about-page"),r})),this.menuItems$=Hp$2([this.activeMenuItems$,this.currentlySelectedMenu$.pipe(Sc$2(null))]).pipe(ie$b(([t,r])=>this.menuItems.filter(n=>t.includes(n.path)).map(n=>x$d(w$9({},n),{isSelected:n.path===r}))),_c$3(1)),this.menuItems=[{icon:"home_app_logo",label:"Logo",path:"logo",isSelected:false},{icon:"palette",label:"Themes",path:"theme",isSelected:false},{icon:"image",label:"Cover banner",path:"cover-banner",isSelected:false},{icon:"description",label:"About page",path:"about-page",isSelected:false},{icon:"contact_page",label:"Contact page",path:"contact-page",isSelected:false},{icon:"dashboard",label:"Product arrangement",path:"product-arrangement",isSelected:false},{icon:"link",label:"Social media",path:"social-media",isSelected:false}],this.isAnyMenuItemSelected$=this.currentlySelectedMenu$.pipe(ie$b(Boolean));}selectItem(){}getHelp(){}closeSidebar(){this.router.navigate(["."],{relativeTo:this.route});}publish(){this.builderService.publish();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-side-bar"]],standalone:false,decls:21,vars:20,consts:[["data-testid","sideBar",1,"side-bar"],[1,"menu-items"],[1,"menu-list"],["class","menu-item","data-testid","sideBarMenuItem",4,"ngFor","ngForOf"],[1,"customization-panel"],[1,"customization-panel-header"],[3,"click","type","isIconOnly","size"],[1,"material-icons"],[1,"customization-panel-content"],[4,"ngIf"],[1,"customization-panel-footer"],["data-testid","publishChangesButton",3,"buttonClick","disabled","type"],["data-testid","sideBarMenuItem",1,"menu-item"],[1,"menu-button-content",3,"routerLink"],[1,"material-icons-outlined"],[1,"menu-button-text"]],template:function(r,n){if(r&1&&(Kf$2(0,"aside",0)(1,"div",1)(2,"ul",2),kI(3,Cs$3,6,5,"li",3),TP(4,"async"),Xf$2()(),Kf$2(5,"div",4),TP(6,"async"),Kf$2(7,"div",5)(8,"h2"),fP(9),TP(10,"async"),Xf$2(),Kf$2(11,"pfy-button",6),VE("click",function(){return n.closeSidebar()}),Kf$2(12,"i",7),fP(13,"close"),Xf$2()()(),Kf$2(14,"div",8),kI(15,Ss$1,1,0,"router-outlet",9),TP(16,"async"),Xf$2(),Kf$2(17,"div",10)(18,"pfy-button",11),TP(19,"async"),VE("buttonClick",function(){return n.publish()}),fP(20," Publish changes "),Xf$2()()()()),r&2){let o;xR(3),lE("ngForOf",_P(4,10,n.menuItems$)),xR(2),dE("expanded",_P(6,12,n.isAnyMenuItemSelected$)),xR(4),WE(_P(10,14,n.currentlySelectedModuleName$)),xR(2),lE("type",n.ButtonType.Secondary)("isIconOnly",true)("size",n.ButtonSize.Small),xR(4),lE("ngIf",_P(16,16,n.isAnyMenuItemSelected$)),xR(3),lE("disabled",(o=_P(19,18,n.publishDisabled$))!==null&&o!==undefined?o:false)("type",n.ButtonType.Primary);}},dependencies:[kd$2,xd$2,Yc$2,We$8,Tn$4,Io$4,zd$1],styles:['@charset "UTF-8";.side-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;width:70px;height:100%;border-right:1px solid #e0e0d7}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-list[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{width:100%}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-button-content[_ngcontent-%COMP%]{padding:12px 0;display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center;align-items:center;cursor:pointer}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-button-content.selected[_ngcontent-%COMP%]{background-color:#2f2e0c;color:#fff!important}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-button-content.selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-button-content[_ngcontent-%COMP%]   .menu-button-text[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:12px;letter-spacing:0px;text-align:center}.side-bar[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .help-container[_ngcontent-%COMP%]{border-top:1px solid #e0e0d7;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:.5rem;padding-bottom:.75rem}.side-bar[_ngcontent-%COMP%]   .customization-panel[_ngcontent-%COMP%]{width:0px;border-right:1px solid #e0e0d7;overflow:hidden;display:flex;flex-direction:column}.side-bar[_ngcontent-%COMP%]   .customization-panel.expanded[_ngcontent-%COMP%]{width:380px}.side-bar[_ngcontent-%COMP%]   .customization-panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid #e0e0d7}.side-bar[_ngcontent-%COMP%]   .customization-panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Ambit,sans-serif;font-size:1.25rem;font-weight:900;line-height:1.75rem;letter-spacing:-.014em;text-transform:capitalize;color:#2f2e0c}.side-bar[_ngcontent-%COMP%]   .customization-panel-content[_ngcontent-%COMP%]{overflow:auto;padding:1rem;flex:1}.side-bar[_ngcontent-%COMP%]   .customization-panel-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}']});}}return e})(),zs$1=(()=>{class e{constructor(){this.route=N$8(Ge$9),this.router=N$8(ve$8),this.settingsService=N$8(rr$3),this.storeService=N$8(Ht$2),this.BannerStatus=ot$a,this.ButtonType=Ze$5,this.isMobile$=N$8(nn$6).matchBelow(gt$7.M),this.store$=this.storeService.store$,this.currentlySelectedMenu$=this.router.events.pipe(Ye$b(t=>t instanceof ie$a),Sc$2(null),ie$b(()=>nr$3(this.route)),_c$3(1)),this.frameSlot$=this.currentlySelectedMenu$.pipe(ie$b(t=>Hs$1(t)));}goBack(){this.router.navigateByUrl(this.settingsService.backToAppUrl);}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-frame"]],standalone:false,decls:4,vars:4,consts:[["loading",""],["mobileNotSupported",""],[4,"ngIf","ngIfElse"],["class","builder-frame","data-testid","frame",4,"ngIf","ngIfElse"],["data-testid","frame",1,"builder-frame"],[1,"builder-frame-content"],[4,"ngComponentOutlet"],[1,"not-supported-container"],[1,"not-supported-top-bar"],[1,"store-design-editor"],[3,"buttonClick","type","isIconOnly"],[1,"material-icons"],[3,"status"],["data-testid","mobileNotSupported"],[3,"overlay"]],template:function(r,n){if(r&1&&(kI(0,Ps$1,5,4,"ng-container",2),TP(1,"async"),kI(2,ws$1,1,1,"ng-template",null,0,OP)),r&2){let o=dP(3);lE("ngIf",_P(1,2,n.store$))("ngIfElse",o);}},dependencies:[Nd$2,xd$2,vS,We$8,du$2,Tn$4,Us$2,Ns$2,zd$1],styles:['@charset "UTF-8";.builder-frame[_ngcontent-%COMP%]{display:grid;grid-template-columns:min-content 1fr;grid-template-rows:min-content calc(100vh - 56px);grid-template-areas:"top-bar top-bar" "side-bar preview";height:100vh}.builder-frame[_ngcontent-%COMP%]   ssb-top-bar[_ngcontent-%COMP%]{grid-area:top-bar}.builder-frame[_ngcontent-%COMP%]   ssb-side-bar[_ngcontent-%COMP%]{grid-area:side-bar}.builder-frame[_ngcontent-%COMP%]   .builder-frame-content[_ngcontent-%COMP%]{grid-area:preview;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f5f5f0;overflow-y:auto}.builder-frame[_ngcontent-%COMP%]   .builder-frame-content[_ngcontent-%COMP%]   ssb-live-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.not-supported-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.not-supported-container[_ngcontent-%COMP%]   .not-supported-top-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border-bottom:1px solid #e0e0d7;padding:.5rem}.not-supported-container[_ngcontent-%COMP%]   .not-supported-top-bar[_ngcontent-%COMP%]   .store-design-editor[_ngcontent-%COMP%]{font-size:1.25rem}.not-supported-container[_ngcontent-%COMP%]   pfy-banner[_ngcontent-%COMP%]{margin:0 .5rem}']});}}return e})(),js$2="",hh$1=(()=>{class e{constructor(t){this.valueAccessorProxy=t,this.appearance=mt$6.Normal,this.readOnly=false,this.disabled=false,this.invalid=false,this.iconFocusable=true,this.iconOnTheLeft=false,this.required=false,this.autocomplete="off",this.autofocus=false,this.onblur=new Xe$5,this.onfocus=new Xe$5,this.valueAccessorProxy.setValueTransformation(this);}removeProtocolFromLink(t){return t?["https://","http://"].reduce((n,o)=>n.replace(o,""),t):js$2}transformFromAccessorValue(t){return this.removeProtocolFromLink(t)}transformToAccessorValue(t){return this.removeProtocolFromLink(t)}static{this.\u0275fac=function(r){return new(r||e)(Yo$4(rs$2))};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-input-url"]],inputs:{label:"label",placeholder:"placeholder",helperText:"helperText",name:"name",appearance:"appearance",readOnly:"readOnly",disabled:"disabled",invalid:"invalid",iconFocusable:"iconFocusable",iconKey:"iconKey",iconOnTheLeft:"iconOnTheLeft",required:"required",autocomplete:"autocomplete",autofocus:"autofocus"},outputs:{onblur:"onblur",onfocus:"onfocus"},standalone:false,features:[gP([rs$2,{provide:In$5,useExisting:e}])],decls:4,vars:14,consts:[[3,"label","helperText","invalid","required"],["pfyControlValueAccessorProxy","",1,"no-border",3,"onfocus","onblur","name","disabled","appearance","readOnly","iconFocusable","iconKey","iconOnTheLeft","autocomplete","autofocus","placeholder"]],template:function(r,n){r&1&&(Kf$2(0,"pfy-decorated-input",0)(1,"pfy-input-prefix"),fP(2,"https://"),Xf$2(),Kf$2(3,"pfy-input",1),VE("onfocus",function(a){return n.onfocus.emit(a)})("onblur",function(a){return n.onblur.emit(a)}),Xf$2()()),r&2&&(lE("label",n.label)("helperText",n.helperText)("invalid",n.invalid)("required",n.required),xR(3),lE("name",n.name)("disabled",n.disabled)("appearance",n.appearance)("readOnly",n.readOnly)("iconFocusable",n.iconFocusable)("iconKey",n.iconKey)("iconOnTheLeft",n.iconOnTheLeft)("autocomplete",n.autocomplete)("autofocus",n.autofocus)("placeholder",n.placeholder));},dependencies:[vl$1,In$5,Su$1,L1],styles:[".no-border[_ngcontent-%COMP%]     .border{display:none}"],changeDetection:0});}}return e})();var $t=function(e){return e[e.Saved=0]="Saved",e[e.Discard=1]="Discard",e}($t||{}),Ws$1=(()=>{class e{constructor(){this.builderService=N$8(ot$7),this.dialogInstance=N$8(Zn$3),this.ButtonType=Ze$5,this.isSaving$=new In$7(1);}saveChanges(){this.isSaving$.next(true),this.builderService.publish(),hi$7(null).pipe(Mc$2(200),Ac$3(()=>this.builderService.status$.pipe(Ye$b(t=>t===ve$5.Ready))),Cc$3()).subscribe(()=>{this.isSaving$.next(false),this.dialogInstance.close($t.Saved);});}discardChanges(){this.dialogInstance.close($t.Discard);}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-unsaved-changes-dialog"]],standalone:false,decls:8,vars:5,consts:[[1,"footer-full-width"],[1,"unsaved-changes-footer"],["data-testid","footerSecondaryAction",3,"click","type"],["data-testid","footerPrimaryAction",3,"click","type","loading"]],template:function(r,n){if(r&1&&(Kf$2(0,"pfy-modal-dialog")(1,"pfy-modal-dialog-footer",0)(2,"div",1)(3,"pfy-button",2),VE("click",function(){return n.discardChanges()}),fP(4," Discard changes "),Xf$2(),Kf$2(5,"pfy-button",3),TP(6,"async"),VE("click",function(){return n.saveChanges()}),fP(7," Save & publish changes "),Xf$2()()()()),r&2){let o;xR(3),lE("type",n.ButtonType.Secondary),xR(2),lE("type",n.ButtonType.Primary)("loading",(o=_P(6,3,n.isSaving$))!==null&&o!==undefined?o:false);}},dependencies:[We$8,Fo$1,Cs$4,zd$1],styles:['@charset "UTF-8";.unsaved-changes-footer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:end;gap:1rem}.footer-full-width[_ngcontent-%COMP%]{width:100%}']});}}return e})(),Gs$1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({imports:[Gs$2,dT,As$2]});}}return e})(),qs$1=(()=>{class e{constructor(){this.route=N$8(Ge$9),this.router=N$8(ve$8),this.routeParamService=N$8(Vn$2),this.stateService=N$8(it$6),this.storeService=N$8(Ht$2),this.destroy$=new Z$a,this.currentlySelectedMenu=new yn$7(null),this.error=new yn$7(null),this.error$=this.error.asObservable(),this.currentlySelectedMenu$=this.router.events.pipe(Ye$b(t=>t instanceof ie$a),Sc$2(null),ie$b(()=>nr$3(this.route)),_c$3(1));}ngOnInit(){this.currentlySelectedMenu$.pipe(Oc$2(this.destroy$)).subscribe(t=>{this.currentlySelectedMenu.next(t);}),this.routeParamService.getParam$("storeId").pipe(Oc$2(this.destroy$),_c$3(1),ve$9(t=>t?this.storeService.fetchStore(t):(this.storeService.resetStore(),be$8)),yi$5(t=>(this.error.next(t),be$8))).subscribe(()=>{this.error.next(null);});}ngOnDestroy(){this.destroy$.complete();}onWindowUnload(t){this.stateService.hasUnsavedChanges(this.currentlySelectedMenu.value)&&t.preventDefault();}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["ssb-storefront-store-builder"]],hostBindings:function(r,n){r&1&&VE("beforeunload",function(a){return n.onWindowUnload(a)},false,bR);},decls:4,vars:4,consts:[["frame",""],[4,"ngIf","ngIfElse"]],template:function(r,n){if(r&1&&(kI(0,xs$1,1,0,"ssb-error-page",1),TP(1,"async"),kI(2,Ds$2,1,0,"ng-template",null,0,OP)),r&2){let o=dP(3);lE("ngIf",_P(1,2,n.error$))("ngIfElse",o);}},dependencies:[Gs$1,zs$1,Fs$2,dT,Gs$2,xd$2,zd$1],encapsulation:2});}}return e})(),Ks$1=Object.freeze({__proto__:null,StorefrontStoreBuilderComponent:qs$1}),$n$3=function(e){return e.Error="error",e}($n$3||{}),Ys$1=class bt{constructor(t,r){this.http=t,this.builderConfig=r;}uploadImages(t){return t.length?ih$1(t.map(r=>this.upload(r))):hi$7([])}upload(t,r){let n=new FormData;n.append("file",t),n.append("isListed",r?"true":"false");let o=`${this.builderConfig.imageStorageURL}storage`;return this.http.post(o,n)}uploadWithProgress(t,r){let n=new FormData;n.append("file",t),n.append("isListed",r?"true":"false");let o=`${this.builderConfig.imageStorageURL}storage`;return this.http.post(o,n,{reportProgress:true,observe:"events"}).pipe(ie$b(bt.transformUploadResult))}uploadDropbox(t,r){let n=`${this.builderConfig.imageStorageURL}storage/dropbox`;return this.http.post(n,{uri:t,isListed:r},{reportProgress:true,observe:"events"}).pipe(ie$b(bt.transformUploadResult))}uploadGDrive(t,r,n){let o=`${this.builderConfig.imageStorageURL}storage/googledrive`;return this.http.post(o,{uri:t,token:r,isListed:n},{reportProgress:true,observe:"events"}).pipe(ie$b(bt.transformUploadResult))}static transformUploadResult(t){switch(t.type){case Je$5.Sent:return {status:"in_progress",progress:0};case Je$5.DownloadProgress:case Je$5.UploadProgress:return {status:"in_progress",progress:Math.round(100*t.loaded/t.total)};case Je$5.Response:return t.body===null?{progress:100,status:$n$3.Error}:"uri"in t.body?t.body:{progress:100,status:$n$3.Error}}return {progress:0,status:"pending"}}static{this.\u0275fac=function(r){return new(r||bt)(pe$9(_u$3),pe$9(Er$1))};}static{this.\u0275prov=H$9({token:bt,factory:bt.\u0275fac,providedIn:"root"});}},Xs$1=(()=>{class e{constructor(t,r,n,o,a,s,l,u){this.http=t,this.storeBuilderService=r,this.uploadService=n,this.liveUpdateService=o,this.storeService=a,this.stateService=s,this.builderConfig=l,this.eventsDispatcher=u,this.progress=new yn$7(0),this.uploading=new yn$7(false),this.error=new yn$7(false),this.progress$=this.progress.asObservable(),this.uploading$=this.uploading.asObservable(),this.error$=this.error.asObservable(),this.isSaving$=this.storeBuilderService.isSaving$,this.destroy$=new Z$a,this.storeService.store$.pipe(Oc$2(this.destroy$)).subscribe(h=>{this.stateService.setInitialState(w$5.Logo,{logo:h?.logo||null,headerLogoVisible:h?.headerLogoVisible,footerLogoVisible:h?.footerLogoVisible,headerTitleVisible:h?.headerTitleVisible,footerTitleVisible:h?.footerTitleVisible});});}ngOnDestroy(){this.destroy$.complete(),this.progress.complete(),this.uploading.complete(),this.error.complete();}getConfig(){return this.storeService.store$.pipe(mt$8(1),ie$b(t=>({logo:t?.logo,headerLogoVisible:t?.headerLogoVisible,footerLogoVisible:t?.footerLogoVisible,headerTitleVisible:t?.headerTitleVisible,footerTitleVisible:t?.footerTitleVisible})))}upload(t){return t?(this.progress.next(0),this.uploading.next(true),this.uploadService.uploadWithProgress(t).pipe(Ac$3(r=>"id"in r?this.retrieveImage(r):(this.progress.next(r.progress),hi$7())),yi$5(()=>(this.handleError(),be$8)),kc$2(r=>{let n=r?.uri??null;this.setConfig(n);}),xc$2(()=>{this.uploading.next(false);}))):be$8}clearLogo(){this.progress.next(0),this.uploading.next(false),this.error.next(false),this.setConfig(null);}reset(){this.progress.next(0),this.uploading.next(false),this.error.next(false),this.storeService.store$.pipe(mt$8(1)).subscribe(t=>{this.setConfig(t?.logo,t?{headerLogoVisible:t.headerLogoVisible,footerLogoVisible:t.footerLogoVisible,headerTitleVisible:t.headerTitleVisible,footerTitleVisible:t.footerTitleVisible}:undefined);});}handleError(){this.progress.next(0),this.uploading.next(false),this.error.next(true);}retrieveImage(t){let r=`${this.builderConfig.imageStorageURL}storage/${t.id}?scale=400`;return this.http.get(r)}setVisibility(t){this.setConfig(undefined,t);}setConfig(t,r){let n=this.stateService.getState(w$5.Logo),o=typeof t<"u"?t:n?.logo,a=x$d(w$9({},n),{logo:o||null}),s={logo:o||this.builderConfig.defaultLogo};n&&(s.logoConfig={visibleInHeader:n.headerLogoVisible,visibleInFooter:n.footerLogoVisible},s.titleConfig={visibleInHeader:n.headerTitleVisible,visibleInFooter:n.footerTitleVisible}),r&&(s.logoConfig={visibleInHeader:r.headerLogoVisible,visibleInFooter:r.footerLogoVisible},s.titleConfig={visibleInHeader:r.headerTitleVisible,visibleInFooter:r.footerTitleVisible},a.headerLogoVisible=r.headerLogoVisible,a.footerLogoVisible=r.footerLogoVisible,a.headerTitleVisible=r.headerTitleVisible,a.footerTitleVisible=r.footerTitleVisible),this.liveUpdateService.setConfig(s),this.stateService.setState(w$5.Logo,a);}publish(){let t=this.stateService.getState(w$5.Logo);if(t)return this.storeBuilderService.setStatus(ve$5.Saving),this.storeService.store$.pipe(mt$8(1),ve$9(r=>{let n=w$9(w$9({},r),t);return this.storeService.updateStore(n)}),kc$2(r=>{this.eventsDispatcher.dispatch(new In$3),this.storeBuilderService.setStatus(ve$5.Ready),this.storeBuilderService.showPublishSuccessDialog(),this.stateService.resetState(w$5.Logo,{logo:r.logo||null,headerLogoVisible:r.headerLogoVisible,footerLogoVisible:r.footerLogoVisible,headerTitleVisible:r.headerTitleVisible,footerTitleVisible:r.footerTitleVisible});}),yi$5(()=>(this.storeBuilderService.setStatus(ve$5.Ready),be$8))).subscribe()}static{this.\u0275fac=function(r){return new(r||e)(pe$9(_u$3),pe$9(ot$7),pe$9(Ys$1),pe$9(tr$3),pe$9(Ht$2),pe$9(it$6),pe$9(Er$1),pe$9(Vt$3))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Qs$2=(()=>{class e{constructor(t,r,n,o,a){this.storeBuilderService=t,this.liveUpdateService=r,this.storeService=n,this.stateService=o,this.eventsDispatcher=a,this.isSaving$=this.storeBuilderService.isSaving$;}resetSocialMedia(){this.storeService.store$.pipe(mt$8(1)).subscribe(t=>{if(!t)return;let{facebook:r,instagram:n,youtube:o,snapchat:a,tiktok:s,pinterest:l}=t,u={facebook:r,instagram:n,youtube:o,snapchat:a,tiktok:s,pinterest:l};this.liveUpdateService.setConfig(u);});}setState(t){t&&(this.liveUpdateService.setConfig(t),this.storeState(t));}storeState(t){let r=this.storeService.getStore();(0, qe$5.assert)(!!r,"Store is not set");let n=this.mergeState(t,r);Object.keys(n).length?this.stateService.setState(w$5.SocialMedia,n):this.stateService.resetState(w$5.SocialMedia);}mergeState(t,r){let n=w$9({},t);return Object.keys(t).forEach(o=>{r[o]!==undefined&&n[o]===null&&(n[o]=null),(r[o]===undefined&&n[o]===null||this.getStrippedDomain(r[o])===t[o])&&(n[o]=undefined);}),n}publish(){let t=this.stateService.getState(w$5.SocialMedia);t&&(this.storeBuilderService.setStatus(ve$5.Saving),this.storeService.store$.pipe(mt$8(1),ve$9(r=>{let n=this.preparePublishPayload(r,t);return this.storeService.updateStore(n)})).subscribe({next:()=>{this.storeBuilderService.setStatus(ve$5.Ready),this.storeBuilderService.showPublishSuccessDialog(),this.stateService.resetState(w$5.SocialMedia),this.storeBuilderService.setValid(true);let r=Object.keys(t).find(n=>t[n]!==undefined);r&&this.eventsDispatcher.dispatch(new An$4({platform:r}));},error:()=>{this.storeBuilderService.setStatus(ve$5.Ready);}}));}preparePublishPayload(t,r){let n=w$9({},t);return Object.keys(r).forEach(o=>{r[o]===null?delete n[o]:n[o]=this.prepareLink(r[o]||t[o]);}),n}prepareLink(t){if(t)return t.indexOf("https://")===-1?`https://${t.toLowerCase()}`:t}getStrippedDomain(t){return t?t.replace("https://",""):undefined}static{this.\u0275fac=function(r){return new(r||e)(pe$9(ot$7),pe$9(tr$3),pe$9(Ht$2),pe$9(it$6),pe$9(Vt$3))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),Zs$2={[m$3.Primary]:p$7.LightPrimary,[m$3.OnPrimary]:p$7.LightOnPrimary,[m$3.PrimaryContainer]:p$7.LightPrimaryContainer,[m$3.OnPrimaryContainer]:p$7.LightOnPrimaryContainer,[m$3.Secondary]:p$7.LightSecondary,[m$3.OnSecondary]:p$7.LightOnSecondary,[m$3.SecondaryContainer]:p$7.LightSecondaryContainer,[m$3.OnSecondaryContainer]:p$7.LightOnSecondaryContainer,[m$3.Tertiary]:p$7.LightTertiary,[m$3.OnTertiary]:p$7.LightOnTertiary,[m$3.TertiaryContainer]:p$7.LightTertiaryContainer,[m$3.OnTertiaryContainer]:p$7.LightOnTertiaryContainer,[m$3.Error]:p$7.LightError,[m$3.OnError]:p$7.LightOnError,[m$3.ErrorContainer]:p$7.LightErrorContainer,[m$3.OnErrorContainer]:p$7.LightOnErrorContainer,[m$3.Background]:p$7.LightBackground,[m$3.OnBackground]:p$7.LightOnBackground,[m$3.Surface]:p$7.LightSurface,[m$3.OnSurface]:p$7.LightOnSurface,[m$3.SurfaceVariant]:p$7.LightSurfaceVariant,[m$3.OnSurfaceVariant]:p$7.LightOnSurfaceVariant,[m$3.Outline]:p$7.LightOutline,[m$3.OutlineVariant]:p$7.LightOutlineVariant,[m$3.Shadow]:p$7.LightShadow,[m$3.Scrim]:p$7.LightScrim,[m$3.InverseSurface]:p$7.LightInverseSurface,[m$3.InverseOnSurface]:p$7.LightInverseOnSurface,[m$3.InversePrimary]:p$7.LightInversePrimary},Js$2={[m$3.Primary]:p$7.DarkPrimary,[m$3.OnPrimary]:p$7.DarkOnPrimary,[m$3.PrimaryContainer]:p$7.DarkPrimaryContainer,[m$3.OnPrimaryContainer]:p$7.DarkOnPrimaryContainer,[m$3.Secondary]:p$7.DarkSecondary,[m$3.OnSecondary]:p$7.DarkOnSecondary,[m$3.SecondaryContainer]:p$7.DarkSecondaryContainer,[m$3.OnSecondaryContainer]:p$7.DarkOnSecondaryContainer,[m$3.Tertiary]:p$7.DarkTertiary,[m$3.OnTertiary]:p$7.DarkOnTertiary,[m$3.TertiaryContainer]:p$7.DarkTertiaryContainer,[m$3.OnTertiaryContainer]:p$7.DarkOnTertiaryContainer,[m$3.Error]:p$7.DarkError,[m$3.OnError]:p$7.DarkOnError,[m$3.ErrorContainer]:p$7.DarkErrorContainer,[m$3.OnErrorContainer]:p$7.DarkOnErrorContainer,[m$3.Background]:p$7.DarkBackground,[m$3.OnBackground]:p$7.DarkOnBackground,[m$3.Surface]:p$7.DarkSurface,[m$3.OnSurface]:p$7.DarkOnSurface,[m$3.SurfaceVariant]:p$7.DarkSurfaceVariant,[m$3.OnSurfaceVariant]:p$7.DarkOnSurfaceVariant,[m$3.Outline]:p$7.DarkOutline,[m$3.OutlineVariant]:p$7.DarkOutlineVariant,[m$3.Shadow]:p$7.DarkShadow,[m$3.Scrim]:p$7.DarkScrim,[m$3.InverseSurface]:p$7.DarkInverseSurface,[m$3.InverseOnSurface]:p$7.DarkInverseOnSurface,[m$3.InversePrimary]:p$7.DarkInversePrimary};function _o$1(e,i){return (e+i+360)%360}var A$9=(e,i=40)=>Ar$1(e.tone(i)),xo$1=e=>X$4.fromInt(Rt$3(e)),ec$1=(e,i,t,r)=>xo$1(Ar$1(L$6.from(tc$2(e,i,.1),t,r).toInt())),ph$1=e=>{let i=e[Zt$2.Primary],t=e[Zt$2.Background],r=L$6.fromInt(Rt$3(i)),n=r.hue,o=r.chroma,a=r.tone,s=X$4.fromHct(L$6.from(n,o,a)),l=X$4.fromHueAndChroma(25,84),u=X$4.fromInt(Rt$3(t)),h=ec$1(t,i,u.keyColor.internalChroma,u.keyColor.internalTone),g=u.keyColor.internalTone,b=Q$6({tone:g,contrastLevel:Ie$4.Text}),D=A$9(u,b),y=g<65?nt$7.Dark:nt$7.Light,M=Q$6({tone:a,contrastLevel:Ie$4.Container,mode:y}),R=M,$=M,V=Q$6({tone:M,mode:y}),O=Q$6({tone:M,contrastLevel:Ie$4.Inverse,mode:y}),Z=_o$1(n,-30),x=_o$1(n,30),W=a,I=a,G=Q$6({tone:a,mode:y}),J=Q$6({tone:W,mode:y}),le=Q$6({tone:R,mode:y}),K=Q$6({tone:I,mode:y}),Ee=Q$6({tone:$,mode:y}),be=a,Be=Q$6({tone:be,mode:y}),_e=M,Ct=Q$6({tone:_e,mode:y}),Ce=Q$6({tone:g,contrastLevel:Ie$4.Surface,mode:y}),St=y===nt$7.Dark?b:Q$6({tone:Ce,mode:y}),_t=Math.max(Ce-5,0),kt=Q$6({tone:Ce,contrastLevel:Ie$4.Inverse,mode:y}),Ut=Q$6({tone:kt,mode:y}),Nt=y===nt$7.Dark?b:Q$6({tone:_t,mode:y}),Mt=Q$6({tone:g,contrastLevel:Ie$4.Outline,mode:y}),ir=Q$6({tone:g,contrastLevel:Ie$4.OutlineVariant,mode:y}),zt=Q$6({tone:g,contrastLevel:Ie$4.Inverse,mode:y}),Fr=zt,Pt=X$4.fromHct(L$6.from(Z,o,W)),at=X$4.fromHct(L$6.from(x,o,I)),Lr=A$9(s,G),Rr=A$9(s,M),Do=A$9(s,V),Oo=A$9(s,O),To=A$9(Pt,W),Io=A$9(Pt,J),Ao=A$9(Pt,R),Eo=A$9(Pt,le),Bo=A$9(at,I),Fo=A$9(at,K),Lo=A$9(at,$),Ro=A$9(at,Ee),$o=A$9(l,be),Vo=A$9(l,Be),Ho=A$9(l,_e),Uo=A$9(l,Ct),No=A$9(u,Ce),zo=A$9(u,St),jo=A$9(u,kt),Wo=A$9(u,Ut),Go=A$9(h,_t),qo=A$9(h,Nt),Ko=A$9(h,ir),Yo=A$9(u,Mt),Xo=A$9(u,zt),Qo=A$9(u,Fr),$r=e[Zt$2.Header],Vr=e[Zt$2.Footer],Zo={[Jt$3.Header]:$r?{background:$r,foreground:ko$2({hex:$r})}:undefined,[Jt$3.Footer]:Vr?{background:Vr,foreground:ko$2({hex:Vr})}:undefined};return {mode:y,primary:i,onPrimary:Lr,primaryContainer:Rr,onPrimaryContainer:Do,inversePrimary:Oo,secondary:To,onSecondary:Io,secondaryContainer:Ao,onSecondaryContainer:Eo,tertiary:Bo,onTertiary:Fo,tertiaryContainer:Lo,onTertiaryContainer:Ro,error:$o,onError:Vo,errorContainer:Ho,onErrorContainer:Uo,background:t,onBackground:D,surface:No,onSurface:zo,outline:Yo,shadow:Xo,scrim:Qo,inverseSurface:jo,inverseOnSurface:Wo,surfaceVariant:Go,onSurfaceVariant:qo,outlineVariant:Ko,customStyles:Zo}};function ko$2(e){let i=xo$1(e.hex),t=i.keyColor.internalTone,r=Q$6({tone:t,contrastLevel:e.contrastLevel,mode:e.mode});return A$9(i,r)}function Q$6(e){let i=ne$3.darker(e.tone,e.contrastLevel||Ie$4.Text),t=ne$3.lighter(e.tone,e.contrastLevel||Ie$4.Text);return i===-1&&t===-1?e.tone<50?97:3:e.mode===nt$7.Light?i!==-1?i:t:t!==-1?t:i}function tc$2(e,i,t){let r=L$6.fromInt(Rt$3(e)),n=L$6.fromInt(Rt$3(i)),o=r.hue,s=n.hue-o;return Math.abs(s)>180&&(s=s>0?s-360:s+360),(o+s*t+360)%360}var Qt$2=(e,i)=>i[rc$2(i)[e]],rc$2=e=>e.mode===nt$7.Light?Zs$2:Js$2,mh=(e,i)=>{if(i.sectionOverrides?.[e])switch(e){case Jt$3.Header:return i.customStyles?.[Ln$3.Header];case Jt$3.Footer:return i.customStyles?.[Ln$3.Footer];default:return}},nc$1={"-10":"Green (legacy)","-20":"Mono Light (default)","-30":"Mono Color","-40":"Mono Dark","-50":"Duo Light","-60":"Duo Color","-70":"Duo Dark","-90":"Trio Light","-100":"Trio Color","-110":"Trio Dark"},Mo$3=-10,ic$1=(()=>{class e{constructor(){this.liveUpdateSrv=N$8(tr$3),this.storeService=N$8(Ht$2),this.storefrontApiService=N$8(Br$1),this.storeBuilderService=N$8(ot$7),this.stateService=N$8(it$6),this.eventsDispatcher=N$8(Vt$3),this.toggleService=N$8(Po$4),this.selectedTheme$=new yn$7(null),this.currentTheme$=new yn$7(null),this.storeId$=this.storeService.store$.pipe(mt$8(1),ie$b(t=>t?t.externalId:null)),this.themeList$=this.storeId$.pipe(ve$9(t=>t?Hp$2([this.storefrontApiService.getSystemThemes(t).pipe(ie$b(({data:r})=>r)),this.storefrontApiService.getStoreTheme(t).pipe(kc$2(r=>this.currentTheme$.next(this.addMetaToTheme(r))))]).pipe(ie$b(([r,n])=>r.map(o=>this.addMetaToTheme(o)).filter(o=>{let a=o.palette&&o.palette?.length>1,s=o.id===Mo$3,l=n.id===Mo$3;return a&&!s||s&&l})),kc$2(()=>this.published$.next(false))):hi$7([])),Nh$2({delay:()=>this.published$.pipe(mt$8(1),Ye$b(t=>!!t))})),this.published$=new Z$a,this.destroy$=new Z$a,this.stateService.state$.pipe(Oc$2(this.destroy$),Ye$b(t=>!!t[w$5.Theme]),ie$b(t=>t[w$5.Theme])).subscribe(t=>this.selectedTheme$.next(t.theme));}get themeVersion(){return this.toggleService.isFeatureEnabled("consumer_themes_v2")?Rn$3.V2:Rn$3.V1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.published$.complete();}addMetaToTheme(t){return x$d(w$9({},t),{palette:this.getPaletteColors(t),swatches:{background:Qt$2(m$3.Background,t),onBackground:Qt$2(m$3.OnBackground,t),primary:Qt$2(m$3.Primary,t),secondary:Qt$2(m$3.Secondary,t),tertiary:Qt$2(m$3.Tertiary,t)}})}resetTheme(){this.selectedTheme$.next(null),this.liveUpdateSrv.setTheme(null);}publishChanges(){let t=this.stateService.getState(w$5.Theme);this.storeBuilderService.setStatus(ve$5.Saving),this.storeService.store$.pipe(mt$8(1),ve$9(r=>{let n=t.theme.id;return r?this.storeService.updateStore(x$d(w$9({},r),{themeId:n})).pipe(kc$2(()=>{this.stateService.resetState(w$5.Theme),this.storeBuilderService.setStatus(ve$5.Ready),this.storeBuilderService.showPublishSuccessDialog(),this.eventsDispatcher.dispatch(new En$3({themeId:n,themeName:t.theme.name||nc$1[`${n}`],version:this.themeVersion})),this.published$.next(true);}),yi$5(()=>(this.storeBuilderService.setStatus(ve$5.Ready),be$8))):be$8})).subscribe();}getPaletteColors(t){return t.mode===nt$7.Light?[t[p$7.LightBackground],t[p$7.LightPrimary],t[p$7.LightSecondary],t[p$7.LightTertiary]]:[t[p$7.DarkBackground],t[p$7.DarkPrimary],t[p$7.DarkSecondary],t[p$7.DarkTertiary]]}static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),vt$2=(e,i)=>{let t=N$8(it$6),r=N$8(zu$1),n=N$8(Xs$1),o=N$8(ic$1),a=N$8(wo$1),s=N$8(Qs$2),l=nr$3({snapshot:i,firstChild:null}),u=N$8(ot$7);return t.hasUnsavedChanges(l)?oc$1(r).pipe(kc$2(h=>{h&&h===$t.Discard&&l&&(t.resetState(l),u.setValid(true),l===w$5.SocialMedia&&s.resetSocialMedia(),l===w$5.Theme&&o.resetTheme(),l===w$5.Logo&&n.reset(),l===w$5.ProductArrangement&&a.reset());}),ie$b(h=>h===$t.Saved||h===$t.Discard)):hi$7(true)},oc$1=e=>e.open(Ws$1,{modalSize:Sl$1.M,title:"Unsaved changes",message:"You have unsaved changes in this tab. Before moving to a different tab - do you want to save/publish the changes in this tab?",hideCloseButton:false,primaryActionButtonType:Ze$5.Primary,primaryAction:"Save & publish changes",secondaryAction:"Discard changes"}).afterClosed().pipe(ie$b(t=>t)),ac$1=()=>[{path:":storeId",loadComponent:()=>Promise.resolve().then(function(){return Ks$1}).then(e=>e.StorefrontStoreBuilderComponent),children:[{path:w$5.AboutPage,data:{menuItemPath:w$5.AboutPage},loadChildren:()=>import('./chunk-B8ydXp-H.js').then(e=>e.AboutPageModule),canDeactivate:[vt$2]},{path:w$5.ContactPage,data:{menuItemPath:w$5.ContactPage},loadChildren:()=>import('./chunk-fAj1lvl0.js').then(e=>e.ContactPageModule),canDeactivate:[vt$2]},{path:w$5.CoverBanner,data:{menuItemPath:w$5.CoverBanner},loadChildren:()=>import('./chunk-NtZ-aZvj.js').then(e=>e.bannerRoutes),canDeactivate:[vt$2]},{path:w$5.Logo,data:{menuItemPath:w$5.Logo},loadChildren:()=>import('./chunk-Dct4zRRg.js').then(e=>e.logoRoutes),canDeactivate:[vt$2]},{path:w$5.Theme,data:{menuItemPath:w$5.Theme},loadChildren:()=>import('./chunk-DHLBRzFI.js').then(e=>e.ThemeModule),canDeactivate:[vt$2]},{path:w$5.SocialMedia,data:{menuItemPath:w$5.SocialMedia},loadChildren:()=>import('./chunk-CTPgtWtb.js').then(e=>e.SocialMediaModule),canDeactivate:[vt$2]},{path:w$5.ProductArrangement,data:{menuItemPath:w$5.ProductArrangement},loadChildren:()=>import('./chunk-C8UpvvqW.js').then(e=>e.ProductArrangementModule),canDeactivate:[vt$2]}]}],fh$1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({providers:[z1,{provide:xl$1,useValue:{get(){return hi$7([])}}},Eo$3,{provide:Window,useFactory:()=>window},{provide:kn$7,useFactory:()=>ac$1(),multi:true}],imports:[tf$2.forChild([]),qp.forRoot()]});}}return e})();
var Lt$1={name:Symbol("name"),category:Symbol("category"),subCategory:Symbol("subCategory"),label:Symbol("label")},Io$1=t=>Object.fromEntries(Object.entries(t).map(([n,e])=>[Lt$1[n],e]));Io$1.from=t=>{let n=t[Lt$1.name],e=t[Lt$1.category],i=t[Lt$1.subCategory],r=t[Lt$1.label];return {name:n,category:e,subCategory:i,label:r}};var Mo$2=(()=>{class t{constructor(){this.trackedElements=[],this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(i=>{i.isIntersecting&&this.triggerElementEventHandler(i.target);});},{threshold:.5});}triggerElementEventHandler(e){this.trackedElements.find(r=>r.element===e)?.handler(e);}addElement(e,i){this.intersectionObserver.observe(e),this.trackedElements.push({element:e,handler:i});}removeElement(e){this.intersectionObserver.unobserve(e),this.trackedElements=this.trackedElements.filter(i=>i.element!==e);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Pi$4=class Pi{constructor(n){this.payload=n;}};var ts=(()=>{class t{static{this.attribute="data-impression-id";}constructor(e,i,r){this.el=e,this.impressionsService=i,this.eventDispatcherService=r,this.dataImpressionId="";}ngOnInit(){this.dataImpressionId&&this.impressionsService.addElement(this.el.nativeElement,e=>{this.dispatchImpressionEvent(e),this.impressionsService.removeElement(this.el.nativeElement);});}ngOnDestroy(){this.impressionsService.removeElement(this.el.nativeElement);}dispatchImpressionEvent(e){let i=e.getAttribute(t.attribute);i&&this.eventDispatcherService.dispatch(new Pi$4({impressionId:i}));}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Uo$5),Yo$4(Mo$2),Yo$4(X$6))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaImpressionId",""]],hostVars:1,hostBindings:function(i,r){i&2&&GI("data-impression-id",r.dataImpressionId);},inputs:{dataImpressionId:[0,"pfaImpressionId","dataImpressionId"]}});}}return t})();var $o$1=D$a(Kc$2());var is=function(t){return t.CreateStore="create-store",t.SelectTheme="select-theme",t.DesignAndPublish="design-and-publish",t.PayoutsOnboarding="payouts-onboarding",t}(is||{}),rs=function(t){return t.Active="active",t.Expired="expired",t.Scheduled="scheduled",t}(rs||{}),ns=function(t){return t.WholeStorePercentage="whole_store_percentage",t.Shipping="shipping",t.CouponWhole="coupon_code_whole",t.CouponShipping="coupon_code_shipping",t.CouponProducts="coupon_code_products",t}(ns||{});var q$3=function(t){return t.RESTRICTED="restricted",t.RESTRICTED_SOON="restricted_soon",t.ENABLED="enabled",t.COMPLETE="complete",t.REJECTED="rejected",t.PENDING="pending",t.MISSING_INFO="missing_info",t.MISSING_INFO_ONE_PRODUCT="missing_info_one_product",t.MISSING_INFO_TWO_PRODUCTS="missing_info_two_products",t.DETAILS_NOT_SUBMITTED="details_not_submitted",t.BEFORE_DEADLINE="before_deadline",t.AFTER_DEADLINE="after_deadline",t}(q$3||{}),Jd=["AE","AT","AU","BE","CA","CH","CY","CZ","DE","DK","EE","ES","FR","FI","GB","GI","GR","HK","HU","IE","IT","JP","LT","LU","LV","MT","MX","NL","NO","NZ","PL","PT","RO","SE","SG","SI","SK","US"],em$1="storefront_taxation_country",er$2=new Date(Date.UTC(2025,2,31,0,0,0)),Oo$2=new Date(Date.UTC(2025,3,7,0,0,0)),Do=new Date(Date.UTC(2025,3,30,0,0,0)),Po$3=er$2.toLocaleDateString("en-US",{month:"long",day:"numeric",timeZone:"UTC"}),Eo$1="April 7",ko$1="April 30";var Z$5=function(t){return t.MOR="mor",t.MOR_MIGRATION="mor_migration",t}(Z$5||{}),rm$1={[q$3.RESTRICTED]:[{title:()=>"Account restricted",message:()=>"Your store account was restricted due to missing verification. Please provide your additional information to continue selling with Pop-Up store.",buttonText:"Update my information",variation:Z$5.MOR},{title:({deadline:t,prefix:n})=>`${n||""}Action needed: Additional information required${t?` by ${t}`:""}.`,message:({deadline:t})=>`Please update your information${t?` by ${t}`:""} to continue selling and avoid store suspension.`,buttonText:"Update my information",hasSecondaryLink:true,variation:Z$5.MOR_MIGRATION}],[q$3.RESTRICTED_SOON]:[{title:()=>"Your account may be suspended soon",message:()=>"Your store transactions and payouts will be suspended soon unless you provide additional information to verify your account.",buttonText:"Update my information",variation:Z$5.MOR},{title:({deadline:t,prefix:n})=>`${n||""}Action needed: Additional information required${t?` by ${t}`:""}..`,message:({deadline:t})=>`Please update your information to continue making sales with your store${t?` after ${t}`:""}.`,buttonText:"Update my information",hasSecondaryLink:true,variation:Z$5.MOR_MIGRATION}],[q$3.ENABLED]:[{title:()=>"All set! Your account is verified and ready to go",message:()=>"You\u2019re all set to start making transactions and receiving payouts with your Pop-up store.",variation:Z$5.MOR},{title:()=>"All set! Your Pop-Up store is verified",message:({deadline:t})=>`Your Pop-Up store is all set to continue selling${t?` after ${t}`:""}.`,variation:Z$5.MOR_MIGRATION}],[q$3.COMPLETE]:[{title:()=>"All set! Your account is verified and ready to go",message:()=>"You\u2019re all set to start making transactions and receiving payouts with your Pop-up store.",variation:Z$5.MOR},{title:()=>"All set! Your Pop-Up store is verified",message:({deadline:t})=>`Your Pop-Up store is all set to continue selling${t?` after ${t}`:""}.`,variation:Z$5.MOR_MIGRATION}],[q$3.REJECTED]:[{title:()=>"Account restricted",message:()=>"Your store account was restricted due to missing verification. Please provide your additional information to continue selling with Pop-Up store.",buttonText:"Update my information",variation:Z$5.MOR},{title:()=>"Your Pop-Up store could not be verified",message:()=>"Stripe was unable to verify your Pop-Up store. Please try another sales channel.",buttonText:"Change sales channel",hasSecondaryLink:true,variation:Z$5.MOR_MIGRATION}],[q$3.PENDING]:[{title:()=>"Account pending verification",message:()=>"We\u2019ll let you know as soon as it\u2019s ready (this can take a few minutes).",variation:Z$5.MOR},{title:()=>"Account pending verification",message:()=>"We\u2019ll let you know as soon as it\u2019s ready (this can take a few minutes).",variation:Z$5.MOR_MIGRATION}],[q$3.MISSING_INFO]:[{title:()=>"Verify your store now to start selling and earning",message:()=>"Until verified, your store wont be able to make sales or earn profits. Let your customers start buying by verifying your account now. ",buttonText:"Verify my account",variation:Z$5.MOR}],[q$3.MISSING_INFO_ONE_PRODUCT]:[{title:()=>"To start selling \u2014 verify your account",message:()=>"Verify now so customers can start buying and you can start earning.",buttonText:"Verify and start earning",variation:Z$5.MOR}],[q$3.MISSING_INFO_TWO_PRODUCTS]:[{title:()=>"Verify your account to start selling",message:()=>"Customers can\u2019t buy from until you complete a quick verification.",buttonText:"Verify and start selling",variation:Z$5.MOR}],[q$3.DETAILS_NOT_SUBMITTED]:[{title:({prefix:t})=>`${t||""}You're almost there! Complete your Pop-Up store verification now`,message:({deadline:t})=>`Be sure to finish verifying your store${t?` by ${t} to continue selling without interruption`:""}.`,buttonText:"Continue verification",variation:Z$5.MOR_MIGRATION,hasSecondaryLink:true}],[q$3.BEFORE_DEADLINE]:[{title:({deadline:t,prefix:n})=>`${n||""}Action needed: Verify your Pop-Up store by ${t}`,message:()=>"Verify your Pop-Up store before the deadline to continue selling & earning.",buttonText:"Verify my store",variation:Z$5.MOR_MIGRATION,hasSecondaryLink:true}],[q$3.AFTER_DEADLINE]:[{title:()=>"Action needed: Your Pop-Store is temporarily disabled",message:()=>"Please verify your Pop-Up store to start selling & earning again.",buttonText:"Verify my store",variation:Z$5.MOR_MIGRATION,hasSecondaryLink:true}]},nm$1="show_dashboard_payouts_onboarding_banner",qe$4=function(t){return t.Default="default",t.OneWeek="1_week",t.OneMonth="1_month",t}(qe$4||{});var tr$2=(t,n)=>{let e=new Date(n);return e.setHours(23),e.setMinutes(59),t<e},Fo=(t,n)=>{let e=new Date(n);return e.setDate(n.getDate()-t),e};var Ro$1=(t={})=>{let n={text:"",placement:Po$5.Header},e={banner:t.banner?Cc$4(n,t.banner):undefined,publishing:{disabled:false},statusBadge:{text:"Publishing error"}};return Cc$4(e,t)},Re$2=function(t){return t[t.UnknownPublishingIssue=2e3]="UnknownPublishingIssue",t[t.PrintifyExpressNotAvailable=2001]="PrintifyExpressNotAvailable",t[t.ProductNotSupportedBySalesChannel=2003]="ProductNotSupportedBySalesChannel",t[t.MissingMockupImagesForListingPublishing=2010]="MissingMockupImagesForListingPublishing",t[t.InstallationFailed=31e3]="InstallationFailed",t[t.StoreAlreadyConnected=31003]="StoreAlreadyConnected",t[t.IpKeywordsDetected=92e3]="IpKeywordsDetected",t[t.ConnectionUrlRequestFailed=1e5]="ConnectionUrlRequestFailed",t[t.ConsentUrlRequestFailed=11e4]="ConsentUrlRequestFailed",t[t.InvalidConsentUrlOptions=110001]="InvalidConsentUrlOptions",t}(Re$2||{}),Ei$6=class Ei extends Error{constructor(n,e,i,r){super(),this.code=n,this.cause=e,this.details=i,this.options=r,this.name=this.getName(),this.message=this.getMessage(this.code);}getName(){return "SalesChannelError"}getMessage(n){switch(n){case Re$2.ConnectionUrlRequestFailed:{let e="Something went wrong, please try again.";return this.cause instanceof gn$3?(this.cause.status===ie$9.Conflict?"This link has already been connected to Printify.":this.cause.error?.responseJSON?.errors?.reason)??e:e}case Re$2.InstallationFailed:return "Authentication failed. Please allow all Printify permissions to connect your store.";case Re$2.UnknownPublishingIssue:return "Sorry, we couldn\u2019t publish this product. Please try again later or get in touch with support if the issue reoccurs.";case Re$2.PrintifyExpressNotAvailable:return "At the moment, Printify Express products are not available for publishing on this sales channel.";case Re$2.StoreAlreadyConnected:return "The store has been already connected.";case Re$2.InvalidConsentUrlOptions:return "Consent parameters do not contain required values";case Re$2.ProductNotSupportedBySalesChannel:return "Sorry, this product isn\u2019t supported by your sales channel, so you can\u2019t publish it here. However, you can copy it and publish elsewhere.";case Re$2.MissingMockupImagesForListingPublishing:return "Please deselect any mockups linked to disabled product variants and try publishing again.";default:return "Unexpected error occurred. Please contact support for help."}}getProductPublishingErrorDetails(){switch(this.code){case Re$2.IpKeywordsDetected:{let n={blockedByIp:true};return Ro$1({statusBadge:{text:"IP reported"},productErrors:[{key:"title",errors:n},{key:"description",errors:n}]})}default:return Ro$1({banner:{text:this.message}})}}getConnectionErrorDetails(){}terminatesLegacyConnectionFlow(){return  false}};var Ao$1=function(t){return t[t.StoreCreationFailed=13e3]="StoreCreationFailed",t}(Ao$1||{}),Vt$2=class Vt extends Ei$6{getName(){return "StorefrontError"}getMessage(n){switch(n){case Ao$1.StoreCreationFailed:return "Error creating storefront";default:return super.getMessage(n)}}};var Uo$2=(()=>{class t{constructor(e,i,r){this.httpClient=e,this.userService=i,this.environment=r,this.apiUrl=this.environment.apiURL,this.storefrontApiUrl=this.environment.storefrontApiUrl,this.storefrontAppId=this.environment.storefrontAppId;}getOAuthCode(e,i){let r={app_id:this.storefrontAppId};return e&&(r.shop_id=e.toString()),i&&(r.shop_name=i),this.httpClient.post(`${this.apiUrl}/v1/app/oauth/accept`,{},{params:r})}setAppAsInstalled(e){return this.httpClient.post(`${this.apiUrl}/v1/app/installed`,{app_id:this.storefrontAppId,shop_id:parseInt(e.externalStoreId)}).pipe(oe$4(Vt$2),ie$b(()=>e))}connectToStorefront(e,i,r=false,o){return this.httpClient.post(`${this.storefrontApiUrl}/connect/accept`,w$9({code:i,shop_id:e.toString(),terms_accepted:true,limitations_accepted:true,mor_enabled:true,merchant_has_themes_v2:r},o&&{residence_country:o})).pipe(oe$4(Vt$2),ie$b(a=>a.response))}getUserTaxation(){let e=this.userService.getId();return this.httpClient.get(`${this.storefrontApiUrl}/merchant/${e}/taxation`)}updateUserTaxation(e){let i=this.userService.getId();return this.httpClient.put(`${this.storefrontApiUrl}/merchant/${i}/taxation`,e)}updateStore(e,i){return this.httpClient.put(`${this.storefrontApiUrl}/store/${e}`,i)}getStore(e){return this.httpClient.get(`${this.storefrontApiUrl}/store/${e}`)}validateStoreSlug(e){return this.httpClient.put(`${this.storefrontApiUrl}/store/slug/${e}`,{})}getStoreTheme(e){return this.httpClient.get(`${this.storefrontApiUrl}/store/${e}/theme`)}getStoreSystemThemes(e){return this.httpClient.get(`${this.storefrontApiUrl}/store/${e}/theme/system`)}getUserW9(){let e=this.userService.getId();return this.httpClient.get(`${this.storefrontApiUrl}/merchant/${e}/taxation/w9`)}updateUserW9(e){let i=this.userService.getId();return this.httpClient.put(`${this.storefrontApiUrl}/merchant/${i}/taxation/w9`,e)}getDiscounts(e){return this.httpClient.get(`${this.storefrontApiUrl}/store/${e}/discount`)}postDiscount(e,i){return this.httpClient.post(`${this.storefrontApiUrl}/store/${e}/discount`,i)}deleteDiscount(e,i){return this.httpClient.delete(`${this.storefrontApiUrl}/store/${e}/discount/${i}`)}patchDiscount(e,i,r){return this.httpClient.put(`${this.storefrontApiUrl}/store/${e}/discount/${i}`,r)}getDiscountProducts(e,i){return this.httpClient.get(`${this.storefrontApiUrl}/store/${e}/product/filter-margin`,{params:{profit_margin:i}}).pipe(ie$b(r=>r.data),yi$5(r=>{if(r.error.message==="Products not found")return hi$7([]);throw r}))}getMerchant(e){let i=`${this.storefrontApiUrl}/merchant/${e}`;return this.httpClient.get(i)}acceptTerms(e,i){let r=`${this.storefrontApiUrl}/merchant/${e}/accept-terms`;return this.httpClient.post(r,{residence_country:i})}createConnectedAccount(e){let i=`${this.storefrontApiUrl}/merchant/${e}/payment-processor/account`;return this.httpClient.put(i,{})}generateStripeSession(e){let i=`${this.storefrontApiUrl}/merchant/${e}/payment-processor/session`;return this.httpClient.put(i,{})}saveKycAudit(e,i){let r=`${this.storefrontApiUrl}/merchant/${e}/kyc-audit`;return this.httpClient.put(r,i)}resetAccount(e){let i=`${this.storefrontApiUrl}/merchant/${e}/payment-processor/account`;return this.httpClient.delete(i)}static{this.\u0275fac=function(i){return new(i||t)(pe$9(_u$3),pe$9(J$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var No$2=(()=>{class t{constructor(){this.storefrontApiService=N$8(Uo$2),this.featureFlagService=N$8(te$5),this.storeSettingsService=N$8(_$6),this.userService=N$8(J$5),this.environemnt=N$8(f$c),this.storage=N$8(Y$4),this.sessionService=N$8(Z$8),this.featureTogglesService=N$8(te$5),this.merchantDetailsSubject=new yn$7(undefined),this.storeDetailsSubject=new yn$7(undefined),this.morExtendedMigrationCohort$=this.featureTogglesService.isFeatureEnabled$(jt$2.ConsumerMorExtendedMigration).pipe(Ac$3(e=>e?this.featureTogglesService.getFeatureVariable$(jt$2.ConsumerMorExtendedMigration,"cohort"):hi$7(undefined))),this.now=new Date,this.merchantAccountVerificationModalOpen=false,this.personalizationPromoModalOpen=false,this.merchantDetailsFecthing=false,this.storeDetailsFecthing=false,this.verificationThresholdProductCount=3,this.personalizationPromoModalThresholdCount=3,this.verificationThresholdDismissedCount=2,this.merchantAccountVerificationModalSeenCountStorageKey="merchantAccountVerificationModalSeenCount",this.merchantAccountVerificationModalDisabledStorageKey="merchantAccountVerificationModalDisabled",this.merchantAccountVerificationModalLastShownStorageKey="merchantAccountVerificationModalLastShown",this.personalizationPromoModalLastShownStorageKey="personalizationPromoModalLastShown",this.personalizationPromoModalShownCountStorageKey="personalizationPromoModalShownCount",this.personalizationPromoModalDisabledStorageKey="personalizationPromoModalDisabled",this.storeNeedsRefetch=false,this.anonymousSessionBegin=Wn$4(this.sessionService.details$.pipe(Ye$b(e=>!e?.isAuthenticated))),this.clearCacheEffect=Pw$1(()=>{this.anonymousSessionBegin()&&(this.storeDetailsSubject.next(undefined),this.merchantDetailsSubject.next(undefined));}),this.verificationDeadline$=this.morExtendedMigrationCohort$.pipe(ie$b(e=>{switch(e){case qe$4.OneWeek:return Oo$2;case qe$4.OneMonth:return Do;default:return er$2}})),this.verificationDeadlineFormatted$=this.morExtendedMigrationCohort$.pipe(ie$b(e=>{switch(e){case qe$4.OneWeek:return Eo$1;case qe$4.OneMonth:return ko$1;default:return Po$3}})),this.nowIsBeforeVerificationDeadline$=this.verificationDeadline$.pipe(ie$b(e=>tr$2(this.now,e))),this.domain$=this.storeDetails.pipe(Ye$b(e=>!!e),ie$b(e=>this.extractBaseDomain(e.url)),ie$b(e=>e??this.getDefaultStoreDomain()));}ngOnDestroy(){this.clearCacheEffect.destroy(),this.storeDetailsSubject.complete(),this.merchantDetailsSubject.complete();}shouldShowPersonalizationPromoModal$(){return this.personalizationPromoModalOpen||this.personalizationPromoModalDisabled?hi$7(false):this.featureTogglesService.isFeatureEnabled(jt$2.ConsumerProductPersonalizationPromoModal)?this.fetchLatestMerchantDetails().pipe(Ac$3(({account_status:e,created_at:i})=>!this.merchantAccountVerificationModalDisabled&&(!this.merchantAccountVerificationModalSeenCount||this.merchantHasSeenTheVerificationModalWithinLastFourHours)?hi$7(false):this.personalizationPromoModalShownCount>=this.personalizationPromoModalThresholdCount?hi$7(false):this.hasEnoughTimePassedSinceLastPersonalizationModalShow?this.hasUserSignedUpMoreThanThreeDaysAgo(i)&&(e===q$3.COMPLETE||e===q$3.ENABLED||e===q$3.RESTRICTED_SOON)?hi$7(true):hi$7(false):hi$7(false))):hi$7(false)}shouldShowMerchantAccountVerificationModal$(){return this.merchantAccountVerificationModalOpen||this.merchantAccountVerificationModalDisabled?hi$7(false):this.fetchLatestMerchantDetails().pipe(Ac$3(({num_of_products:e,mor_enabled:i,charges_enabled:r,account_status:o})=>{if(i){if(r)return this.setMerchantAccountVerificationModalAsDisabled(),hi$7(false);if(e&&e>=this.verificationThresholdProductCount)return hi$7(this.merchantAccountVerificationModalSeenCount<this.verificationThresholdDismissedCount)}else return o===q$3.COMPLETE||o===q$3.ENABLED||o===q$3.RESTRICTED_SOON?(this.setMerchantAccountVerificationModalAsDisabled(),hi$7(false)):this.nowIsBeforeVerificationDeadline$.pipe(Ac$3(a=>a?this.morExtendedMigrationCohort$.pipe(Rc$2(this.verificationDeadline$),ie$b(([s,c])=>{switch(s){case qe$4.OneMonth:case qe$4.OneWeek:return !tr$2(this.now,Fo(4,c));default:return  true}})):hi$7(true)),ie$b(a=>a&&!this.merchantHasSeenTheVerficationModalToday));return hi$7(false)}))}postponeVerificationModalByOneDay(){this.storage.set(this.merchantAccountVerificationModalLastShownStorageKey,this.now.toISOString(),{storageType:I$8.Local,clearOnAuth:true});}get merchantHasSeenTheVerficationModalToday(){let e=this.storage.getString(this.merchantAccountVerificationModalLastShownStorageKey,"",I$8.Local);return e?.length?new Date(e).getDate()===this.now.getDate():false}get personalizationPromoModalShownCount(){return this.storage.get(this.personalizationPromoModalShownCountStorageKey,{},I$8.Local)?.[this.getUserId()]||0}get hasEnoughTimePassedSinceLastPersonalizationModalShow(){let e=this.storage.get(this.personalizationPromoModalLastShownStorageKey,{},I$8.Local);if(!e?.[this.getUserId()])return  true;let i=new Date(e?.[this.getUserId()]),r=this.now,o=this.personalizationPromoModalShownCount,a;if(o===1)a=3*24*60*60*1e3;else if(o===2)a=14*24*60*60*1e3;else return !(o>=3);return r.getTime()-i.getTime()>a}get merchantHasSeenTheVerificationModalWithinLastFourHours(){let e=this.storage.getString(this.merchantAccountVerificationModalLastShownStorageKey,"",I$8.Local);if(!e?.length)return  false;let i=new Date(e),r=this.now,o=4*60*60*1e3;return r.getTime()-i.getTime()<o}hasUserSignedUpMoreThanThreeDaysAgo(e){if(!e?.length)return  false;let i=new Date(e),r=this.now,o=3*24*60*60*1e3;return r.getTime()-i.getTime()>o}get merchantAccountVerificationModalSeenCount(){return this.storage.get(this.merchantAccountVerificationModalSeenCountStorageKey,{},I$8.Local)?.[this.getUserId()]||0}get merchantAccountVerificationModalDisabled(){return this.storage.get(this.merchantAccountVerificationModalDisabledStorageKey,false,I$8.Local)}setMerchantAccountVerificationModalAsDisabled(){this.storage.set(this.merchantAccountVerificationModalDisabledStorageKey,true,{storageType:I$8.Local,clearOnAuth:true});}verificationModalOpened(){this.merchantAccountVerificationModalOpen=true,this.postponeVerificationModalByOneDay();let e=this.storage.get(this.merchantAccountVerificationModalSeenCountStorageKey,{},I$8.Local);this.storage.set(this.merchantAccountVerificationModalSeenCountStorageKey,x$d(w$9({},e),{[this.getUserId()]:this.merchantAccountVerificationModalSeenCount+1}),{storageType:I$8.Local,clearOnAuth:true});}verificationModalClosed(){this.merchantAccountVerificationModalOpen=false;}personalizationPromoModalOpened(){this.storage.set(this.personalizationPromoModalLastShownStorageKey,{[this.getUserId()]:this.now.toISOString()},{storageType:I$8.Local,clearOnAuth:false});let e=this.personalizationPromoModalShownCount;this.storage.set(this.personalizationPromoModalShownCountStorageKey,{[this.getUserId()]:e+1},{storageType:I$8.Local,clearOnAuth:false}),this.personalizationPromoModalOpen=true;}personalizationPromoModalClosed(){this.personalizationPromoModalOpen=false;}get personalizationPromoModalDisabled(){return this.storage.get(this.personalizationPromoModalDisabledStorageKey,false,I$8.Local)}get merchantDetails(){return this.merchantDetailsSubject.pipe(kc$2(()=>{!this.merchantDetailsSubject.value&&!this.merchantDetailsFecthing&&this.fetchMerchantDetails();}),Ye$b(Boolean))}get storeDetails(){return this.storeDetailsSubject.pipe(kc$2(()=>{(this.storeNeedsRefetch||!this.storeDetailsSubject.value&&!this.storeDetailsFecthing)&&this.fetchStoreDetails();}),Ye$b(Boolean))}refetchMerchantDetails(){this.fetchMerchantDetails();}fetchLatestMerchantDetails(){return this.storefrontApiService.getMerchant(this.userService.getId())}getMerchantExternalId(){if(this.merchantDetailsSubject.value)return this.merchantDetailsSubject.value.external_id}getUserId(){let e=this.userService.getId();return (0, $o$1.assert)(!!e,"User id is required in storefront merchant service"),e}fetchMerchantDetails(){this.merchantDetailsFecthing=true,this.fetchLatestMerchantDetails().subscribe({next:e=>{this.merchantDetailsSubject.next(e);},complete:()=>{this.merchantDetailsFecthing=false;},error:()=>{this.merchantDetailsSubject.next({});}});}fetchStoreDetails(){this.storeDetailsFecthing=true;let e=this.storeSettingsService.store?.id;this.storefrontApiService.getStore(e).subscribe({next:i=>{this.storeNeedsRefetch=false,this.storeDetailsSubject.next(i);},error:()=>(this.storeNeedsRefetch=false,this.storeDetailsSubject.next({}),hi$7()),complete:()=>{this.storeDetailsFecthing=false;}});}extractBaseDomain(e){if(!e)return;let[i,r]=e.split(".").reverse();return `${r}.${i}`}getDefaultStoreDomain(){return this.featureFlagService.isFeatureEnabled(jt$2.ConsumerNewDomain)?this.environemnt.production?"brand-new-domain.com":"nonprod-brand-new-domain.com":this.environemnt.production?"printify.me":"nonprod-printify.me"}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function ss$1(t,n){if(t&1&&(Kf$2(0,"div",0),ME(1,"pfy-icon",1),fP(2),Xf$2()),t&2){let e=tP();xR(),lE("colorInherit",true),xR(),ip$2(" ",e.value," ");}}var ir$3=(()=>{class t{constructor(){this.value="";}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-error-message"]],inputs:{value:"value"},standalone:false,decls:1,vars:1,consts:[[1,"error-text"],["name","error",1,"icon",3,"colorInherit"]],template:function(i,r){i&1&&kI(0,ss$1,3,2,"div",0),i&2&&QR(r.value?0:-1);},dependencies:[ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline}.error-text[_ngcontent-%COMP%]{padding-top:.25rem;display:flex;width:100%;font-size:.875rem;line-height:1.25rem;color:#d12c2c}@media (min-width: 600px){.error-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}.icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:inherit;margin-right:.25rem}']});}}return t})();var cs=(()=>{class t{transform(e){return e[0].toUpperCase()+e.substring(1)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"CapitalizePipe",type:t,pure:true,standalone:false});}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var rr$2=(()=>{class t{transform(e){return new Date(e).toString()==="Invalid Date"&&e&&typeof e=="string"?e.replace(/-/g,"/"):e}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"datetime",type:t,pure:true,standalone:false});}}return t})();function Ye$7(t){"@babel/helpers - typeof";return Ye$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ye$7(t)}function U$9(t){if(t===null||t===true||t===false)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function p$6(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function C$a(t){p$6(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||Ye$7(t)==="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function jt(t,n){p$6(2,arguments);var e=C$a(t),i=U$9(n);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function nr$2(t,n){p$6(2,arguments);var e=C$a(t),i=U$9(n);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),o=new Date(e.getTime());o.setMonth(e.getMonth()+i+1,0);var a=o.getDate();return r>=a?o:(e.setFullYear(o.getFullYear(),o.getMonth(),r),e)}function rt$5(t,n){if(p$6(2,arguments),!n||Ye$7(n)!=="object")return new Date(NaN);var e=n.years?U$9(n.years):0,i=n.months?U$9(n.months):0,r=n.weeks?U$9(n.weeks):0,o=n.days?U$9(n.days):0,a=n.hours?U$9(n.hours):0,s=n.minutes?U$9(n.minutes):0,c=n.seconds?U$9(n.seconds):0,g=C$a(t),l=i||e?nr$2(g,i+e*12):g,v=o||r?jt(l,o+r*7):l,S=s+a*60,w=c+S*60,R=w*1e3,ee=new Date(v.getTime()+R);return ee}function or$2(t,n){p$6(2,arguments);var e=C$a(t).getTime(),i=U$9(n);return new Date(e+i)}var ds$1={};function be$5(){return ds$1}function Te$5(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}function nt$6(t){p$6(1,arguments);var n=C$a(t);return n.setHours(0,0,0,0),n}var ms=864e5;function ar$2(t,n){p$6(2,arguments);var e=nt$6(t),i=nt$6(n),r=e.getTime()-Te$5(e),o=i.getTime()-Te$5(i);return Math.round((r-o)/ms)}function de$4(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n),r=e.getTime()-i.getTime();return r<0?-1:r>0?1:r}var Bt$1=6e4,Wt$1=36e5;function Vo$2(t,n){p$6(2,arguments);var e=nt$6(t),i=nt$6(n);return e.getTime()===i.getTime()}function sr$2(t){return p$6(1,arguments),t instanceof Date||Ye$7(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lr$2(t){if(p$6(1,arguments),!sr$2(t)&&typeof t!="number")return  false;var n=C$a(t);return !isNaN(Number(n))}function cr$2(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n),r=e.getFullYear()-i.getFullYear(),o=e.getMonth()-i.getMonth();return r*12+o}function dr$1(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n);return e.getFullYear()-i.getFullYear()}function jo$1(t,n){var e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function Tt$1(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n),r=jo$1(e,i),o=Math.abs(ar$2(e,i));e.setDate(e.getDate()-r*o);var a=+(jo$1(e,i)===-r),s=r*(o-a);return s===0?0:s}function ot$6(t,n){return p$6(2,arguments),C$a(t).getTime()-C$a(n).getTime()}var Bo$1={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},vs="trunc";function Ge$4(t){return t?Bo$1[t]:Bo$1[vs]}function mr$1(t,n,e){p$6(2,arguments);var i=ot$6(t,n)/Wt$1;return Ge$4(e?.roundingMethod)(i)}function ki$3(t,n,e){p$6(2,arguments);var i=ot$6(t,n)/Bt$1;return Ge$4(e?.roundingMethod)(i)}function pr$1(t){p$6(1,arguments);var n=C$a(t);return n.setHours(23,59,59,999),n}function ur$1(t){p$6(1,arguments);var n=C$a(t),e=n.getMonth();return n.setFullYear(n.getFullYear(),e+1,0),n.setHours(23,59,59,999),n}function fr$1(t){p$6(1,arguments);var n=C$a(t);return pr$1(n).getTime()===ur$1(n).getTime()}function zt$1(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n),r=de$4(e,i),o=Math.abs(cr$2(e,i)),a;if(o<1)a=0;else {e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-r*o);var s=de$4(e,i)===-r;fr$1(C$a(t))&&o===1&&de$4(t,i)===1&&(s=false),a=r*(o-Number(s));}return a===0?0:a}function Ht$1(t,n,e){p$6(2,arguments);var i=ot$6(t,n)/1e3;return Ge$4(e?.roundingMethod)(i)}function Wo$2(t,n,e){p$6(2,arguments);var i=Tt$1(t,n)/7;return Ge$4(e?.roundingMethod)(i)}function hr$1(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n),r=de$4(e,i),o=Math.abs(dr$1(e,i));e.setFullYear(1584),i.setFullYear(1584);var a=de$4(e,i)===-r,s=r*(o-Number(a));return s===0?0:s}function gr$1(t,n){p$6(2,arguments);var e=U$9(n);return or$2(t,-e)}var Cs$2=864e5;function vr$1(t){p$6(1,arguments);var n=C$a(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime(),r=e-i;return Math.floor(r/Cs$2)+1}function Qe$2(t){p$6(1,arguments);var n=1,e=C$a(t),i=e.getUTCDay(),r=(i<n?7:0)+i-n;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function qt$1(t){p$6(1,arguments);var n=C$a(t),e=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var r=Qe$2(i),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var a=Qe$2(o);return n.getTime()>=r.getTime()?e+1:n.getTime()>=a.getTime()?e:e-1}function Cr$1(t){p$6(1,arguments);var n=qt$1(t),e=new Date(0);e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0);var i=Qe$2(e);return i}var ys=6048e5;function yr$1(t){p$6(1,arguments);var n=C$a(t),e=Qe$2(n).getTime()-Cr$1(n).getTime();return Math.round(e/ys)+1}function Ke$4(t,n){var e,i,r,o,a,s,c,g;p$6(1,arguments);var l=be$5(),v=U$9((e=(i=(r=(o=n?.weekStartsOn)!==null&&o!==undefined?o:n==null||(a=n.locale)===null||a===undefined||(s=a.options)===null||s===undefined?undefined:s.weekStartsOn)!==null&&r!==undefined?r:l.weekStartsOn)!==null&&i!==undefined?i:(c=l.locale)===null||c===undefined||(g=c.options)===null||g===undefined?undefined:g.weekStartsOn)!==null&&e!==undefined?e:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=C$a(t),w=S.getUTCDay(),R=(w<v?7:0)+w-v;return S.setUTCDate(S.getUTCDate()-R),S.setUTCHours(0,0,0,0),S}function Yt(t,n){var e,i,r,o,a,s,c,g;p$6(1,arguments);var l=C$a(t),v=l.getUTCFullYear(),S=be$5(),w=U$9((e=(i=(r=(o=n?.firstWeekContainsDate)!==null&&o!==undefined?o:n==null||(a=n.locale)===null||a===undefined||(s=a.options)===null||s===undefined?undefined:s.firstWeekContainsDate)!==null&&r!==undefined?r:S.firstWeekContainsDate)!==null&&i!==undefined?i:(c=S.locale)===null||c===undefined||(g=c.options)===null||g===undefined?undefined:g.firstWeekContainsDate)!==null&&e!==undefined?e:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(v+1,0,w),R.setUTCHours(0,0,0,0);var ee=Ke$4(R,n),we=new Date(0);we.setUTCFullYear(v,0,w),we.setUTCHours(0,0,0,0);var me=Ke$4(we,n);return l.getTime()>=ee.getTime()?v+1:l.getTime()>=me.getTime()?v:v-1}function xr(t,n){var e,i,r,o,a,s,c,g;p$6(1,arguments);var l=be$5(),v=U$9((e=(i=(r=(o=n?.firstWeekContainsDate)!==null&&o!==undefined?o:n==null||(a=n.locale)===null||a===undefined||(s=a.options)===null||s===undefined?undefined:s.firstWeekContainsDate)!==null&&r!==undefined?r:l.firstWeekContainsDate)!==null&&i!==undefined?i:(c=l.locale)===null||c===undefined||(g=c.options)===null||g===undefined?undefined:g.firstWeekContainsDate)!==null&&e!==undefined?e:1),S=Yt(t,n),w=new Date(0);w.setUTCFullYear(S,0,v),w.setUTCHours(0,0,0,0);var R=Ke$4(w,n);return R}var xs=6048e5;function _r$2(t,n){p$6(1,arguments);var e=C$a(t),i=Ke$4(e,n).getTime()-xr(e,n).getTime();return Math.round(i/xs)+1}function A$8(t,n){for(var e=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return e+i}var _s={y:function(n,e){var i=n.getUTCFullYear(),r=i>0?i:1-i;return A$8(e==="yy"?r%100:r,e.length)},M:function(n,e){var i=n.getUTCMonth();return e==="M"?String(i+1):A$8(i+1,2)},d:function(n,e){return A$8(n.getUTCDate(),e.length)},a:function(n,e){var i=n.getUTCHours()/12>=1?"pm":"am";switch(e){case "a":case "aa":return i.toUpperCase();case "aaa":return i;case "aaaaa":return i[0];case "aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(n,e){return A$8(n.getUTCHours()%12||12,e.length)},H:function(n,e){return A$8(n.getUTCHours(),e.length)},m:function(n,e){return A$8(n.getUTCMinutes(),e.length)},s:function(n,e){return A$8(n.getUTCSeconds(),e.length)},S:function(n,e){var i=e.length,r=n.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,i-3));return A$8(o,e.length)}},Ne$3=_s;var wt$2={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ss={G:function(n,e,i){var r=n.getUTCFullYear()>0?1:0;switch(e){case "G":case "GG":case "GGG":return i.era(r,{width:"abbreviated"});case "GGGGG":return i.era(r,{width:"narrow"});case "GGGG":default:return i.era(r,{width:"wide"})}},y:function(n,e,i){if(e==="yo"){var r=n.getUTCFullYear(),o=r>0?r:1-r;return i.ordinalNumber(o,{unit:"year"})}return Ne$3.y(n,e)},Y:function(n,e,i,r){var o=Yt(n,r),a=o>0?o:1-o;if(e==="YY"){var s=a%100;return A$8(s,2)}return e==="Yo"?i.ordinalNumber(a,{unit:"year"}):A$8(a,e.length)},R:function(n,e){var i=qt$1(n);return A$8(i,e.length)},u:function(n,e){var i=n.getUTCFullYear();return A$8(i,e.length)},Q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case "Q":return String(r);case "QQ":return A$8(r,2);case "Qo":return i.ordinalNumber(r,{unit:"quarter"});case "QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case "QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case "QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,i){var r=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case "q":return String(r);case "qq":return A$8(r,2);case "qo":return i.ordinalNumber(r,{unit:"quarter"});case "qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case "qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case "qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,i){var r=n.getUTCMonth();switch(e){case "M":case "MM":return Ne$3.M(n,e);case "Mo":return i.ordinalNumber(r+1,{unit:"month"});case "MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case "MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case "MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,i){var r=n.getUTCMonth();switch(e){case "L":return String(r+1);case "LL":return A$8(r+1,2);case "Lo":return i.ordinalNumber(r+1,{unit:"month"});case "LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case "LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case "LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,i,r){var o=_r$2(n,r);return e==="wo"?i.ordinalNumber(o,{unit:"week"}):A$8(o,e.length)},I:function(n,e,i){var r=yr$1(n);return e==="Io"?i.ordinalNumber(r,{unit:"week"}):A$8(r,e.length)},d:function(n,e,i){return e==="do"?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):Ne$3.d(n,e)},D:function(n,e,i){var r=vr$1(n);return e==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):A$8(r,e.length)},E:function(n,e,i){var r=n.getUTCDay();switch(e){case "E":case "EE":case "EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case "EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case "EEEEEE":return i.day(r,{width:"short",context:"formatting"});case "EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,i,r){var o=n.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(e){case "e":return String(a);case "ee":return A$8(a,2);case "eo":return i.ordinalNumber(a,{unit:"day"});case "eee":return i.day(o,{width:"abbreviated",context:"formatting"});case "eeeee":return i.day(o,{width:"narrow",context:"formatting"});case "eeeeee":return i.day(o,{width:"short",context:"formatting"});case "eeee":default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,i,r){var o=n.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(e){case "c":return String(a);case "cc":return A$8(a,e.length);case "co":return i.ordinalNumber(a,{unit:"day"});case "ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case "ccccc":return i.day(o,{width:"narrow",context:"standalone"});case "cccccc":return i.day(o,{width:"short",context:"standalone"});case "cccc":default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,i){var r=n.getUTCDay(),o=r===0?7:r;switch(e){case "i":return String(o);case "ii":return A$8(o,e.length);case "io":return i.ordinalNumber(o,{unit:"day"});case "iii":return i.day(r,{width:"abbreviated",context:"formatting"});case "iiiii":return i.day(r,{width:"narrow",context:"formatting"});case "iiiiii":return i.day(r,{width:"short",context:"formatting"});case "iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,i){var r=n.getUTCHours(),o=r/12>=1?"pm":"am";switch(e){case "a":case "aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case "aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case "aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case "aaaa":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,i){var r=n.getUTCHours(),o;switch(r===12?o=wt$2.noon:r===0?o=wt$2.midnight:o=r/12>=1?"pm":"am",e){case "b":case "bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case "bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case "bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case "bbbb":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,i){var r=n.getUTCHours(),o;switch(r>=17?o=wt$2.evening:r>=12?o=wt$2.afternoon:r>=4?o=wt$2.morning:o=wt$2.night,e){case "B":case "BB":case "BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case "BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case "BBBB":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,i){if(e==="ho"){var r=n.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return Ne$3.h(n,e)},H:function(n,e,i){return e==="Ho"?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Ne$3.H(n,e)},K:function(n,e,i){var r=n.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(r,{unit:"hour"}):A$8(r,e.length)},k:function(n,e,i){var r=n.getUTCHours();return r===0&&(r=24),e==="ko"?i.ordinalNumber(r,{unit:"hour"}):A$8(r,e.length)},m:function(n,e,i){return e==="mo"?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Ne$3.m(n,e)},s:function(n,e,i){return e==="so"?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Ne$3.s(n,e)},S:function(n,e){return Ne$3.S(n,e)},X:function(n,e,i,r){var o=r._originalDate||n,a=o.getTimezoneOffset();if(a===0)return "Z";switch(e){case "X":return Ho$2(a);case "XXXX":case "XX":return at$3(a);case "XXXXX":case "XXX":default:return at$3(a,":")}},x:function(n,e,i,r){var o=r._originalDate||n,a=o.getTimezoneOffset();switch(e){case "x":return Ho$2(a);case "xxxx":case "xx":return at$3(a);case "xxxxx":case "xxx":default:return at$3(a,":")}},O:function(n,e,i,r){var o=r._originalDate||n,a=o.getTimezoneOffset();switch(e){case "O":case "OO":case "OOO":return "GMT"+zo$1(a,":");case "OOOO":default:return "GMT"+at$3(a,":")}},z:function(n,e,i,r){var o=r._originalDate||n,a=o.getTimezoneOffset();switch(e){case "z":case "zz":case "zzz":return "GMT"+zo$1(a,":");case "zzzz":default:return "GMT"+at$3(a,":")}},t:function(n,e,i,r){var o=r._originalDate||n,a=Math.floor(o.getTime()/1e3);return A$8(a,e.length)},T:function(n,e,i,r){var o=r._originalDate||n,a=o.getTime();return A$8(a,e.length)}};function zo$1(t,n){var e=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(o===0)return e+String(r);var a=n;return e+String(r)+a+A$8(o,2)}function Ho$2(t,n){if(t%60===0){var e=t>0?"-":"+";return e+A$8(Math.abs(t)/60,2)}return at$3(t,n)}function at$3(t,n){var e=n||"",i=t>0?"-":"+",r=Math.abs(t),o=A$8(Math.floor(r/60),2),a=A$8(r%60,2);return i+o+e+a}var qo$3=Ss;var Yo$2=function(n,e){switch(n){case "P":return e.date({width:"short"});case "PP":return e.date({width:"medium"});case "PPP":return e.date({width:"long"});case "PPPP":default:return e.date({width:"full"})}},Go$2=function(n,e){switch(n){case "p":return e.time({width:"short"});case "pp":return e.time({width:"medium"});case "ppp":return e.time({width:"long"});case "pppp":default:return e.time({width:"full"})}},bs=function(n,e){var i=n.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return Yo$2(n,e);var a;switch(r){case "P":a=e.dateTime({width:"short"});break;case "PP":a=e.dateTime({width:"medium"});break;case "PPP":a=e.dateTime({width:"long"});break;case "PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Yo$2(r,e)).replace("{{time}}",Go$2(o,e))},Ts={p:Go$2,P:bs},Qo$1=Ts;var ws=["D","DD"],Is=["YY","YYYY"];function Ko$2(t){return ws.indexOf(t)!==-1}function Xo$3(t){return Is.indexOf(t)!==-1}function Sr$1(t,n,e){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ms={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Os=function(n,e,i){var r,o=Ms[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r},Zo$2=Os;function Gt$2(t){return function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=n.width?String(n.width):t.defaultWidth,i=t.formats[e]||t.formats[t.defaultWidth];return i}}var Ds$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ps={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Es$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ks$1={date:Gt$2({formats:Ds$1,defaultWidth:"full"}),time:Gt$2({formats:Ps,defaultWidth:"full"}),dateTime:Gt$2({formats:Es$1,defaultWidth:"full"})},Jo$1=ks$1;var Fs$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rs=function(n,e,i,r){return Fs$1[n]},ea$1=Rs;function st$4(t){return function(n,e){var i=e!=null&&e.context?String(e.context):"standalone",r;if(i==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=e!=null&&e.width?String(e.width):o;r=t.formattingValues[a]||t.formattingValues[o];}else {var s=t.defaultWidth,c=e!=null&&e.width?String(e.width):t.defaultWidth;r=t.values[c]||t.values[s];}var g=t.argumentCallback?t.argumentCallback(n):n;return r[g]}}var As$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Us$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$s$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ns$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ls$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},js$1=function(n,e){var i=Number(n),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Bs={ordinalNumber:js$1,era:st$4({values:As$1,defaultWidth:"wide"}),quarter:st$4({values:Us$1,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:st$4({values:$s$1,defaultWidth:"wide"}),day:st$4({values:Ns$1,defaultWidth:"wide"}),dayPeriod:st$4({values:Ls$1,defaultWidth:"wide",formattingValues:Vs,defaultFormattingWidth:"wide"})},ta$2=Bs;function lt$4(t){return function(n){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=e.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],o=n.match(r);if(!o)return null;var a=o[0],s=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?zs(s,function(v){return v.test(a)}):Ws(s,function(v){return v.test(a)}),g;g=t.valueCallback?t.valueCallback(c):c,g=e.valueCallback?e.valueCallback(g):g;var l=n.slice(a.length);return {value:g,rest:l}}}function Ws(t,n){for(var e in t)if(t.hasOwnProperty(e)&&n(t[e]))return e}function zs(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e}function br$1(t){return function(n){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;var r=i[0],o=n.match(t.parsePattern);if(!o)return null;var a=t.valueCallback?t.valueCallback(o[0]):o[0];a=e.valueCallback?e.valueCallback(a):a;var s=n.slice(r.length);return {value:a,rest:s}}}var Hs=/^(\d+)(th|st|nd|rd)?/i,qs=/\d+/i,Ys={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gs={any:[/^b/i,/^(a|c)/i]},Qs$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ks={any:[/1/i,/2/i,/3/i,/4/i]},Xs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zs$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Js$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},el={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},il={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rl={ordinalNumber:br$1({matchPattern:Hs,parsePattern:qs,valueCallback:function(n){return parseInt(n,10)}}),era:lt$4({matchPatterns:Ys,defaultMatchWidth:"wide",parsePatterns:Gs,defaultParseWidth:"any"}),quarter:lt$4({matchPatterns:Qs$1,defaultMatchWidth:"wide",parsePatterns:Ks,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:lt$4({matchPatterns:Xs,defaultMatchWidth:"wide",parsePatterns:Zs$1,defaultParseWidth:"any"}),day:lt$4({matchPatterns:Js$1,defaultMatchWidth:"wide",parsePatterns:el,defaultParseWidth:"any"}),dayPeriod:lt$4({matchPatterns:tl,defaultMatchWidth:"any",parsePatterns:il,defaultParseWidth:"any"})},ia$2=rl;var nl={code:"en-US",formatDistance:Zo$2,formatLong:Jo$1,formatRelative:ea$1,localize:ta$2,match:ia$2,options:{weekStartsOn:0,firstWeekContainsDate:1}},ra$2=nl;var It$1=ra$2;var ol=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,al=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sl=/^'([^]*?)'?$/,ll=/''/g,cl=/[a-zA-Z]/;function na$1(t,n,e){var i,r,o,a,s,c,v,S,w,R,ee,we,H,Pt;p$6(2,arguments);var Li=String(n),Xe=be$5(),Ze=(i=(r=e?.locale)!==null&&r!==undefined?r:Xe.locale)!==null&&i!==undefined?i:It$1,pt=U$9((o=(a=(s=(c=e?.firstWeekContainsDate)!==null&&c!==undefined?c:undefined)!==null&&s!==undefined?s:Xe.firstWeekContainsDate)!==null&&a!==undefined?a:(v=Xe.locale)===null||v===undefined||(S=v.options)===null||S===undefined?undefined:S.firstWeekContainsDate)!==null&&o!==undefined?o:1);if(!(pt>=1&&pt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Et=U$9((w=(R=(ee=(we=e?.weekStartsOn)!==null&&we!==undefined?we:undefined)!==null&&ee!==undefined?ee:Xe.weekStartsOn)!==null&&R!==undefined?R:(H=Xe.locale)===null||H===undefined||(Pt=H.options)===null||Pt===undefined?undefined:Pt.weekStartsOn)!==null&&w!==undefined?w:0);if(!(Et>=0&&Et<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Ze.localize)throw new RangeError("locale must contain localize property");if(!Ze.formatLong)throw new RangeError("locale must contain formatLong property");var ii=C$a(t);if(!lr$2(ii))throw new RangeError("Invalid time value");var Qa=Te$5(ii),Ka=gr$1(ii,Qa),Xa={firstWeekContainsDate:pt,weekStartsOn:Et,locale:Ze,_originalDate:ii},Za=Li.match(al).map(function(pe){var Le=pe[0];if(Le==="p"||Le==="P"){var ri=Qo$1[Le];return ri(pe,Ze.formatLong)}return pe}).join("").match(ol).map(function(pe){if(pe==="''")return "'";var Le=pe[0];if(Le==="'")return dl(pe);var ri=qo$3[Le];if(ri)return Xo$3(pe)&&Sr$1(pe,n,String(t)),Ko$2(pe)&&Sr$1(pe,n,String(t)),ri(Ka,pe,Ze.localize,Xa);if(Le.match(cl))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Le+"`");return pe}).join("");return Za}function dl(t){var n=t.match(sl);return n?n[1].replace(ll,"'"):t}function ct$4(t,n){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}function Qt$1(t){return ct$4({},t)}var oa$1=1440,ml=2520,Tr$1=43200,pl=86400;function Mt$1(t,n,e){var i,r;p$6(2,arguments);var o=be$5(),a=(i=(r=e?.locale)!==null&&r!==undefined?r:o.locale)!==null&&i!==undefined?i:It$1;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=de$4(t,n);if(isNaN(s))throw new RangeError("Invalid time value");var c=ct$4(Qt$1(e),{addSuffix:!!e?.addSuffix,comparison:s}),g,l;s>0?(g=C$a(n),l=C$a(t)):(g=C$a(t),l=C$a(n));var v=Ht$1(l,g),S=(Te$5(l)-Te$5(g))/1e3,w=Math.round((v-S)/60),R;if(w<2)return e!=null&&e.includeSeconds?v<5?a.formatDistance("lessThanXSeconds",5,c):v<10?a.formatDistance("lessThanXSeconds",10,c):v<20?a.formatDistance("lessThanXSeconds",20,c):v<40?a.formatDistance("halfAMinute",0,c):v<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):w===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",w,c);if(w<45)return a.formatDistance("xMinutes",w,c);if(w<90)return a.formatDistance("aboutXHours",1,c);if(w<oa$1){var ee=Math.round(w/60);return a.formatDistance("aboutXHours",ee,c)}else {if(w<ml)return a.formatDistance("xDays",1,c);if(w<Tr$1){var we=Math.round(w/oa$1);return a.formatDistance("xDays",we,c)}else if(w<pl)return R=Math.round(w/Tr$1),a.formatDistance("aboutXMonths",R,c)}if(R=zt$1(l,g),R<12){var me=Math.round(w/Tr$1);return a.formatDistance("xMonths",me,c)}else {var De=R%12,H=Math.floor(R/12);return De<3?a.formatDistance("aboutXYears",H,c):De<9?a.formatDistance("overXYears",H,c):a.formatDistance("almostXYears",H+1,c)}}var aa$2=1e3*60,Fi$2=60*24,sa$2=Fi$2*30,la$1=Fi$2*365;function ca$2(t,n,e){var i,r,o;p$6(2,arguments);var a=be$5(),s=(i=(r=e?.locale)!==null&&r!==undefined?r:a.locale)!==null&&i!==undefined?i:It$1;if(!s.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var c=de$4(t,n);if(isNaN(c))throw new RangeError("Invalid time value");var g=ct$4(Qt$1(e),{addSuffix:!!e?.addSuffix,comparison:c}),l,v;c>0?(l=C$a(n),v=C$a(t)):(l=C$a(t),v=C$a(n));var S=String((o=e?.roundingMethod)!==null&&o!==undefined?o:"round"),w;if(S==="floor")w=Math.floor;else if(S==="ceil")w=Math.ceil;else if(S==="round")w=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var R=v.getTime()-l.getTime(),ee=R/aa$2,we=Te$5(v)-Te$5(l),me=(R-we)/aa$2,De=e?.unit,H;if(De?H=String(De):ee<1?H="second":ee<60?H="minute":ee<Fi$2?H="hour":me<sa$2?H="day":me<la$1?H="month":H="year",H==="second"){var Pt=w(R/1e3);return s.formatDistance("xSeconds",Pt,g)}else if(H==="minute"){var Li=w(ee);return s.formatDistance("xMinutes",Li,g)}else if(H==="hour"){var Xe=w(ee/60);return s.formatDistance("xHours",Xe,g)}else if(H==="day"){var Ze=w(me/Fi$2);return s.formatDistance("xDays",Ze,g)}else if(H==="month"){var pt=w(me/sa$2);return pt===12&&De!=="month"?s.formatDistance("xYears",1,g):s.formatDistance("xMonths",pt,g)}else if(H==="year"){var Et=w(me/la$1);return s.formatDistance("xYears",Et,g)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function da$1(t,n){return p$6(1,arguments),Mt$1(t,Date.now(),n)}function ma$2(t){p$6(1,arguments);var n=C$a(t.start),e=C$a(t.end);if(isNaN(n.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(e.getTime()))throw new RangeError("End Date is invalid");var i={};i.years=Math.abs(hr$1(e,n));var r=de$4(e,n),o=rt$5(n,{years:r*i.years});i.months=Math.abs(zt$1(e,o));var a=rt$5(o,{months:r*i.months});i.days=Math.abs(Tt$1(e,a));var s=rt$5(a,{days:r*i.days});i.hours=Math.abs(mr$1(e,s));var c=rt$5(s,{hours:r*i.hours});i.minutes=Math.abs(ki$3(e,c));var g=rt$5(c,{minutes:r*i.minutes});return i.seconds=Math.abs(Ht$1(e,g)),i}function pa$1(t,n){p$6(2,arguments);var e=C$a(t),i=C$a(n);return e.getTime()>i.getTime()}function ua$2(t){return p$6(1,arguments),C$a(t).getTime()<Date.now()}function fa$1(t,n){p$6(2,arguments);var e=C$a(t).getTime(),i=C$a(n.start).getTime(),r=C$a(n.end).getTime();if(!(i<=r))throw new RangeError("Invalid interval");return e>=i&&e<=r}function ha$1(t,n){p$6(2,arguments);var e=U$9(n);return jt(t,-e)}function ga$2(t,n){var e;p$6(1,arguments);var i=U$9((e=n?.additionalDigits)!==null&&e!==undefined?e:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var r=gl(t),o;if(r.date){var a=vl(r.date,i);o=Cl(a.restDateString,a.year);}if(!o||isNaN(o.getTime()))return new Date(NaN);var s=o.getTime(),c=0,g;if(r.time&&(c=yl(r.time),isNaN(c)))return new Date(NaN);if(r.timezone){if(g=xl(r.timezone),isNaN(g))return new Date(NaN)}else {var l=new Date(s+c),v=new Date(0);return v.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),v.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),v}return new Date(s+c+g)}var Ri$2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ul=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fl=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hl=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gl(t){var n={},e=t.split(Ri$2.dateTimeDelimiter),i;if(e.length>2)return n;if(/:/.test(e[0])?i=e[0]:(n.date=e[0],i=e[1],Ri$2.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Ri$2.timeZoneDelimiter)[0],i=t.substr(n.date.length,t.length))),i){var r=Ri$2.timezone.exec(i);r?(n.time=i.replace(r[1],""),n.timezone=r[1]):n.time=i;}return n}function vl(t,n){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=t.match(e);if(!i)return {year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return {year:o===null?r:o*100,restDateString:t.slice((i[1]||i[2]).length)}}function Cl(t,n){if(n===null)return new Date(NaN);var e=t.match(ul);if(!e)return new Date(NaN);var i=!!e[4],r=Kt(e[1]),o=Kt(e[2])-1,a=Kt(e[3]),s=Kt(e[4]),c=Kt(e[5])-1;if(i)return wl(n,s,c)?_l(n,s,c):new Date(NaN);var g=new Date(0);return !bl(n,o,a)||!Tl(n,r)?new Date(NaN):(g.setUTCFullYear(n,o,Math.max(r,a)),g)}function Kt(t){return t?parseInt(t):1}function yl(t){var n=t.match(fl);if(!n)return NaN;var e=wr$1(n[1]),i=wr$1(n[2]),r=wr$1(n[3]);return Il(e,i,r)?e*Wt$1+i*Bt$1+r*1e3:NaN}function wr$1(t){return t&&parseFloat(t.replace(",","."))||0}function xl(t){if(t==="Z")return 0;var n=t.match(hl);if(!n)return 0;var e=n[1]==="+"?-1:1,i=parseInt(n[2]),r=n[3]&&parseInt(n[3])||0;return Ml(i,r)?e*(i*Wt$1+r*Bt$1):NaN}function _l(t,n,e){var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,o=(n-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+o),i}var Sl=[31,null,31,30,31,30,31,31,30,31,30,31];function va$1(t){return t%400===0||t%4===0&&t%100!==0}function bl(t,n,e){return n>=0&&n<=11&&e>=1&&e<=(Sl[n]||(va$1(t)?29:28))}function Tl(t,n){return n>=1&&n<=(va$1(t)?366:365)}function wl(t,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function Il(t,n,e){return t===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&t>=0&&t<25}function Ml(t,n){return n>=0&&n<=59}var Ol=(()=>{class t{transform(e,i=Date.now()){return Mt$1(e,i)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"relativeTime",type:t,pure:true,standalone:false});}}return t})();var Ir=(()=>{class t{transform(e){return e==="true"}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"booleanFromString",type:t,pure:true,standalone:false});}}return t})();var Mr$1=(()=>{class t{transform(e){let i=e instanceof URL?e.href:e;return i?`url(${i})`:""}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"CssStyleUrl",type:t,pure:true,standalone:false});}}return t})();var Dl=1,Pl=4,Or=(()=>{class t{transform(e){return El(e)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"formattedProductionTime",type:t,pure:true,standalone:false});}}return t})();function El(t){if(t==null)return "4.0+ days";switch(true){case t===1:return "1.0 day";case t<Dl:return "<1.0 day";case t>Pl:return "4.0+ days";default:return `${Number.parseFloat(t.toString()).toFixed(1)} days`}}var dt$4=(()=>{class t{constructor(e){this.environment=e;}transform(e){let i=this.environment.appRoot;return e.startsWith(i)?e:(e.startsWith("/")&&(e=e.substring(1)),i+e)}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(f$c,16))};}static{this.\u0275pipe=jR({name:"FullUrlFormat",type:t,pure:true,standalone:false});}}return t})();var Xt$1=(()=>{class t{constructor(e){this.environment=e;}transform(e,i){let r=`${this.environment.appRoot}products/`;return i?`${r}${i}/${e}`:`${r}${e}`}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(f$c,16))};}static{this.\u0275pipe=jR({name:"generateCategoryUrl",type:t,pure:true,standalone:false});}}return t})();var mt$3=(()=>{class t{constructor(e){this.environment=e;}transform(e,i=""){if(!e)return "";if(e.includes(this.environment.imagesURL))return e;let r=e.startsWith("/")?e.substr(1):e;return this.environment.catalogImagesURL+r+i}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(f$c,16))};}static{this.\u0275pipe=jR({name:"ImageUrl",type:t,pure:true});}}return t})();var Fl=(()=>{class t{constructor(){this.mimeTypeToExtensionMap={"image/jpeg":"JPG","image/jpg":"JPG","image/png":"PNG","image/svg+xml":"SVG"};}transform(e){return e.map(r=>this.mimeTypeToExtensionMap[r]||r.toUpperCase()).filter((r,o,a)=>a.indexOf(r)===o).join(", ")}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"mimeToExtension",type:t,pure:true,standalone:false});}}return t})();function Ai$3(t="",n){let e=new URLSearchParams(n),i=t.includes("?")?"&":"?";return t+i+e}var Rl=(()=>{class t{constructor(e){this.featureTogglesService=e;}transform(e,i){if(!e)return "";let r={s:"320"};i&&(r.t=new Date(i).getTime().toString()),this.featureTogglesService.isFeatureEnabled(jt$2.MockupRedirects)&&(r.use_cdn_redirect="true");let o=this.featureTogglesService.isFeatureEnabled(jt$2.WebpMockups)?e.replace(".jpg",".webp"):e;return Ai$3(o,r)}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(te$5,16))};}static{this.\u0275pipe=jR({name:"optimizedImageUrl",type:t,pure:true});}}return t})();var Ul=(()=>{class t{constructor(e){this.sanitizer=e;}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(mc$3,16))};}static{this.\u0275pipe=jR({name:"safeResourceUrl",type:t,pure:true,standalone:false});}}return t})();var $l=(()=>{class t{transform(e){return Nl(e)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"sanitizeHtml",type:t,pure:true,standalone:false});}}return t})(),Nl=t=>{let n=document.createElement("div");n.style.display="none",n.innerHTML=t.replace(/[^a-zA-Z0-9 ]/g,"");let e=n.textContent||n.innerText;return n.remove(),e};var Zt$1=function(t){return t[t.KilogramToPound=2.2046226218]="KilogramToPound",t[t.MillimeterToInch=.0393700787]="MillimeterToInch",t[t.MillimeterToCentimeter=.1]="MillimeterToCentimeter",t}(Zt$1||{});var Dr=(()=>{class t{static transformLength(e,i){return i==="metric"?e*Zt$1.MillimeterToCentimeter:e*Zt$1.MillimeterToInch}static transformWeight(e,i){return i==="metric"?e:e*Zt$1.KilogramToPound}transform(e,i,r){if(!e?.length||i!=="metric"&&i!=="imperial"||r!=="length"&&r!=="weight")return r==="generic"?e:"";let o=parseFloat(e.replace(",",".").replace(" ",""));return r==="length"?o=t.transformLength(o,i):o=t.transformWeight(o,i),o.toFixed(2)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"systemUnitsCalc",type:t,pure:true,standalone:false});}}return t})();var Pr$1=(()=>{class t{transform(e,i,r){let o=e;return !e?.length||i!=="metric"&&i!=="imperial"||r!=="length"&&r!=="weight"||(r==="length"?o+=i==="metric"?", cm":", in":o+=i==="metric"?", kg":", lb"),o}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"systemUnitsName",type:t,pure:true,standalone:false});}}return t})();var Er=(()=>{class t{transform(e){let i=new Date(e*1e3),o=Math.round(Math.abs((new Date().getTime()-i.getTime())/1e3)),a=Math.round(o/60),s=Math.round(a/60),c=Math.round(s/24),g=Math.round(c/30.416),l=Math.round(c/365);return Number.isNaN(o)?"":o<=45?"a few seconds ago":o<=90?"1 minute ago":a<=45?a+" minutes ago":a<=90?"1 hour ago":s<=22?s+" hours ago":s<=36?"1 day ago":c<=25?c+" days ago":c<=45?"1 month ago":c<=345?g+" months ago":c<=545?"1 year ago":l+" years ago"}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"timeAgo",type:t,pure:true,standalone:false});}}return t})();var kr$2=(()=>{class t{constructor(e){this.environment=e;}transform(e){if(!e)return "";let i=e.includes("app/"),r=e.includes(this.environment.homepageURL),o=e.startsWith("/");return r&&!i||(i&&(e=e.replace("app/","")),r&&(e=e.replace(this.environment.homepageURL,"")),o||(e="/"+e)),e}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(f$c,16))};}static{this.\u0275pipe=jR({name:"toInternalUrl",type:t,pure:true,standalone:false});}}return t})();var Fr=(()=>{class t{transform(e){return ae$6(e)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"toSlug",type:t,pure:true,standalone:false});}}return t})();var Ll=(()=>{class t{transform(e){return e.replace(/([A-Z])/g," $1").toLowerCase()}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"toWords",type:t,pure:true,standalone:false});}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Ca$2=["/single-pages/onboarding","/single-pages/store","/single-pages/editor","/single-pages/account","/single-pages/orders","/single-pages/order","/single-pages/product-details","/single-pages/sales-channels"];var ya$2=t=>t.includes("/")?t.replace(/\//g,"_"):t,Ar=t=>Object.values(ce$8).reduce((n,e)=>n.replace(`/${e.toLowerCase()}`,""),t),xa$2=t=>t[0]==="/"?t.slice(1):t,Ui$3=(t,n)=>{switch(t){case "providerProducts":return n.printProviderId?parseInt(n.printProviderId,10):null;case "brandProducts":return n.brandId?parseInt(n.brandId,10):null;default:return n.productId?parseInt(n.productId,10):null}},$i$3=t=>{let n=t.split("_");return n.length>1&&n[0]==="products"?n.slice(1).join("/"):t},_a$1=t=>Ca$2.some(n=>t.includes(n));var Jt$2={TITLE:"Printify Drop Shipping Print on Demand for Ecommerce",IMAGE:"/wp-content/uploads/2019/05/fb.jpg"};var Ot$1=function(t){return t.Index="index",t.NoIndex="noindex",t.Follow="follow",t.NoFollow="nofollow",t.None="none",t.All="all",t.NoImageIndex="noimageindex",t.NoArchive="noarchive",t.NoCache="nocache",t.NoSiteLinksSearchbox="nositelinkssearchbox",t.NoPageReadAloud="nopagereadaloud",t.NoTranslate="notranslate",t.UnavailableAfter="unavailable_after",t}(Ot$1||{}),Dt={description:"description",ogTitle:"og:title",ogDescription:"og:description",ogImage:"og:image"};var Sa$3=["editor","account","onboarding","order","orders","store"];var $r=(()=>{class t{constructor(e,i,r,o,a,s){this.document=e,this.titleService=i,this.metaService=r,this.routingService=o,this.localisationService=a,this.environment=s,this.canonical="canonical",this.alternate="alternate",this.relLinkPath=new Z$a,this.destroy$=new Z$a;}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}initialize(){this.routingService.data$.pipe(Ye$b(({isCanonicalUrl:e})=>e),Rc$2(this.routingService.url$),Oc$2(this.destroy$)).subscribe(([,e])=>{this.removeOldMetaTags(),this.updateRelLinks(e);}),this.relLinkPath.pipe(Dr$5(),Rc$2(this.localisationService.siteLocale$),Oc$2(this.destroy$)).subscribe(([e,i])=>{this.updatePageLocale(i,e);}),this.routingService.queryParams$.pipe(Rc$2(this.routingService.url$,this.localisationService.siteLocale$),Oc$2(this.destroy$)).subscribe(([e,i,r])=>{this.toggleRobotsVisibility(i,e,r);});}applyPageSEO(e={}){this.removeOldMetaTags();let i=[{name:Dt.description,content:e.metaDescription},{name:Dt.ogTitle,content:e.ogTitle||e.metaTitle||Jt$2.TITLE},{name:Dt.ogDescription,content:e.ogDescription||e.metaDescription},{name:Dt.ogImage,content:e.image?.url??Jt$2.IMAGE}].filter(r=>!!r.content);this.setDocumentTitle(e.metaTitle??Jt$2.TITLE),this.metaService.addTags(i);}setDocumentTitle(e){this.titleService.setTitle(e??Jt$2.TITLE);}removeOldMetaTags(){Object.values(Dt).forEach(e=>{let i=e.replace(/:/g,"\\:");this.metaService.removeTag(`name=${i}`);});}addRobots(e){e&&(this.removeRobots(),this.metaService.addTag({name:"robots",content:e.join(", ")}));}removeRobots(){let e=this.document.head.querySelector("[name=robots]");e&&this.metaService.removeTagElement(e);}updateRelLinks(e){this.relLinkPath.next(e);}updatePageLocale(e,i){this.updatePageLanguage(e),this.removePageRelLinks([this.canonical,this.alternate]),this.addPageRelLinks({siteLocale:e,path:Vl(i),domainWithBaseHref:`https://${this.environment.domain}${this.environment.appRoot}`,supportedSiteLanguages:e===ce$8.enUS?[ce$8.enUS]:Ma$3});}updatePageLanguage(e){let i=this.document.querySelector("html");i&&(i.lang=Ta$2(e));}removePageRelLinks(e){let i=this.document.querySelector("head");if(!i)return;let r=e.map(o=>`link[rel="${o}"]`).join(", ");i.querySelectorAll(r).forEach(o=>{o.remove();});}addPageRelLinks({siteLocale:e,path:i,domainWithBaseHref:r,supportedSiteLanguages:o}){let a=this.document.querySelector("head");if(!a)return;let s=this.document.head.querySelector("meta[charset]");[this.createCanonicalLink(`${r}${this.createLocalePathSegment(e)}${ba$2(i)}`),...o.map(g=>this.createAlternateLink(`${r}${this.createLocalePathSegment(g)}${ba$2(i)}`,g))].sort(g=>g.rel===this.canonical?1:-1).forEach(g=>s?s.insertAdjacentElement("afterend",g):a.append(g));}createCanonicalLink(e){let i=this.document.createElement("link");return i.rel=this.canonical,i.href=e,i}createAlternateLink(e,i){let r=this.document.createElement("link");return r.rel=this.alternate,r.href=e,r.hreflang=Ta$2(i),r}createLocalePathSegment(e){return e===ce$8.enUS?"":`${e.toLowerCase()}/`}toggleRobotsVisibility(e,i,r){this.removeRobots();let o=Sa$3.find(g=>e.startsWith(g)),a=i?Object.keys(i).some(g=>g!=="page"):false,s=i?Object.keys(i).length>1:false,c=r!==ce$8.enUS;if(o||a||s||c){this.addRobots([Ot$1.NoIndex,Ot$1.NoFollow]);return}this.addRobots([Ot$1.Index,Ot$1.Follow]);}static{this.\u0275fac=function(i){return new(i||t)(pe$9(L$8),pe$9(yo$4),pe$9(Lh$3),pe$9(Ya$1),pe$9(du$1),pe$9(f$c))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function Vl(t){let n=jl(t);return n?t.substring(0,n?.index):t}function jl(t){let n=t.match(/\?.*=/);if(n)return {index:n.index,params:n[0]}}function ba$2(t){return Object.values(ce$8).reduce((n,e)=>n.replace(`${e.toLowerCase()}/`,""),t)}function Ta$2(t){return t.replace("-US","")}var ei$2=(()=>{class t{constructor(e,i,r,o){this.document=e,this.imageUrlPipe=i,this.currencyService=r,this.localisationService=o,this.breadcrumbList=new Z$a,this.carouselItemList=new Z$a,this.destroy$=new Z$a,this.documentLocation="https://printify.com",this.breadcrumbList.pipe(Rc$2(this.localisationService.siteLocale$),Oc$2(this.destroy$)).subscribe(([a,s])=>{this.updateBreadcrumbsSchema(a,s);}),this.carouselItemList.pipe(Rc$2(this.localisationService.siteLocale$),Oc$2(this.destroy$)).subscribe(([a,s])=>{this.updateCarouselSchema(a,s);});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}insertCarouselSchema(e){this.carouselItemList.next(e);}updateCarouselSchema(e,i){let r=e.map((a,s)=>({"@type":"ListItem",position:s+1,url:this.createLocalisedUrl(a.url,i)})),o={"@context":"http://schema.org","@type":"ItemList",url:this.document.URL,numberOfItems:e.length,itemListElement:r};this.appendSchema(JSON.stringify(o),"ItemList");}insertFaqSchema(e){let r={"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.map(o=>({"@type":"Question",name:o.question,acceptedAnswer:{"@type":"Answer",text:o.answer}}))};this.appendSchema(JSON.stringify(r),"FAQPage");}insertBreadcrumbsSchema(e){this.breadcrumbList.next(e);}updateBreadcrumbsSchema(e,i){let r=e.map((a,s)=>({"@type":"ListItem",position:s+1,name:a.title,item:this.createLocalisedUrl(a.url,i)})),o={"@context":"http://schema.org","@type":"BreadcrumbList",url:this.document.URL,numberOfItems:e.length,itemListElement:r};this.appendSchema(JSON.stringify(o),"BreadcrumbList");}createLocalisedUrl(e,i){return e?`${this.documentLocation}${Wl(e,i)}`:this.document.URL}insertProductSchema(e,i,r){if(!e.media||!i.length)return hi$7(undefined);let o=e.media.filter(l=>!pc$1(l)).map(l=>this.imageUrlPipe.transform(`${l.src}.png`)),a=ih$1(i.map(l=>ih$1([this.currencyService.amountToMajorUnits(l.minPrice,r),this.currencyService.amountToMajorUnits(l.minShipping,r)]).pipe(ie$b(([v,S])=>({"@type":["Offer","PriceSpecification"],price:v,priceCurrency:r,priceSpecification:{"@type":"DeliveryChargeSpecification",price:S},availability:"http://schema.org/InStock",url:this.document.URL,itemOffered:this.document.URL,offeredBy:l.name,priceValidUntil:t.generatePriceValidUntilDate()}))))),s=Math.min(...i.map(l=>l.minPrice)),c=Math.max(...i.map(l=>l.minPrice));return ih$1([this.currencyService.amountToMajorUnits(s,r),this.currencyService.amountToMajorUnits(c,r),a]).pipe(ie$b(([l,v,S])=>({"@context":"http://www.schema.org","@type":"Product",image:o,name:e.seo?.title||e.name,url:this.document.URL,description:e.seo?.description?e.seo.description:e.description,brand:{"@type":"Brand",name:e.brandName},category:e.tags?e.tags.join("/"):"",itemCondition:"https://schema.org/NewCondition",offers:{"@type":"AggregateOffer",highPrice:v,lowPrice:l,offerCount:i.length,priceCurrency:r,offers:S}}))).pipe(kc$2(l=>this.appendSchema(JSON.stringify(l),"Product")),ie$b(()=>{}))}appendSchema(e,i){this.removeSchema(i);let r=this.document.createElement("script");r.type="application/ld+json",r.text=e,this.document.head.appendChild(r);}removeSchema(e){let r=Array.from(this.document.head.querySelectorAll('[type="application/ld+json"]')).find(o=>o.innerHTML.indexOf(e)!==-1);r&&r.remove();}static generatePriceValidUntilDate(){let e=new Date;return e.setDate(e.getDate()+2),e.toISOString().split("T")[0]}static{this.\u0275fac=function(i){return new(i||t)(pe$9(L$8),pe$9(mt$3),pe$9(Eo$3),pe$9(du$1))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function Wl(t,n){return n===ce$8.enUS?t:t.replace("/app",`/app/${n.toLowerCase()}`)}var ti$1=(()=>{class t{constructor(e,i,r,o,a,s){this.routingService=e,this.http=i,this.structuredDataService=r,this.metaDataService=o,this.localisationService=a,this.env=s,this.catalogCmsApi=this.env.catalogCms+"/api",this.content$=this.routingService.data$.pipe(Rc$2(this.routingService.url$,this.routingService.params$),Ac$3(([c,g,l])=>this.fetchData(this.getRequestPath(c.page,g,l))),_c$3({bufferSize:1,refCount:true})),this.global$=this.fetchData("/global").pipe(_c$3({bufferSize:1,refCount:true})),this.faq$=this.content$.pipe(ie$b(c=>c),_h$1("faq"),kc$2(c=>c?.length&&this.structuredDataService.insertFaqSchema(c))),this.previewModeEnabled$=Hp$2([this.content$,this.routingService.queryParams$]).pipe(ie$b(([c,g])=>g.preview&&c.previewMode||!g.preview&&!c.previewMode||!c.previewMode));}applyMetaData(){return this.content$.pipe(mt$8(1)).subscribe(e=>{this.metaDataService.applyPageSEO(e);})}getRequestPath(e,i,r){let o=ya$2(xa$2(Ar(i)));switch(e){case "myFavorites":return `/blueprints/${Ui$3(e,r)}`;case "providerProducts":return `/print-providers/${Ui$3(e,r)}`;case "brandProducts":return `/brands/${Ui$3(e,r)}`;case "mainCategory":return `/categories/${$i$3(o)}`;case "subCategory":return `/sub-categories/${$i$3(o).replace(/\//g,"_")}`;case "landingPage":return `/search-results/${r.landingPage}`;default:return `/single-pages/${$i$3(o)}`}}fetchData(e,i=true){return _a$1(e)?hi$7({}):this.localisationService.siteLocale$.pipe(Ac$3(r=>this.http.get(`${this.catalogCmsApi}${Ar(e)}?locale=${r}${i?"&populate=deep":""}`,{context:new Fr$4().set(mi$3,true)}).pipe(yi$5(()=>hi$7({})))))}static{this.\u0275fac=function(i){return new(i||t)(pe$9(Ya$1),pe$9(_u$3),pe$9(ei$2),pe$9($r),pe$9(du$1),pe$9(f$c))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Hl=(t,n)=>n.question;function ql(t,n){if(t&1&&(Kf$2(0,"pfy-accordion-item",2),ME(1,"div",3),Xf$2()),t&2){let e=n.$implicit;lE("title",e.question),xR(),lE("innerHTML",e.answer,ER);}}function Yl(t,n){if(t&1&&(Kf$2(0,"section",0)(1,"header")(2,"h3",1),fP(3,"Frequently Asked Questions"),Xf$2()(),Kf$2(4,"pfy-accordion"),JR(5,ql,2,2,"pfy-accordion-item",2,Hl),Xf$2()()),t&2){let e=tP();xR(5),KR(e);}}function Gl(t,n){t&1&&kI(0,Yl,7,0,"section",0),t&2&&QR(n.length?0:-1);}var _v$1=(()=>{class t{constructor(e){this.catalogCmsService=e,this.faq$=this.catalogCmsService.faq$;}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(ti$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-faq"]],standalone:false,decls:2,vars:3,consts:[[1,"content-wrapper"],[1,"title"],["size","medium","data-testid","faq",3,"title"],[1,"markdown",3,"innerHTML"]],template:function(i,r){if(i&1&&(kI(0,Gl,1,1),TP(1,"async")),i&2){let o;QR((o=_P(1,1,r.faq$))?0:-1,o);}},dependencies:[cu$2,gl$1,zd$1],styles:['@charset "UTF-8";.title[_ngcontent-%COMP%]{margin-bottom:2rem}.markdown[_ngcontent-%COMP%]  p+p{margin-top:1rem}.markdown[_ngcontent-%COMP%]  a{cursor:pointer;color:#2f2e0c;text-decoration:underline}.markdown[_ngcontent-%COMP%]  a:hover{color:#572f99}.markdown[_ngcontent-%COMP%]  a:visited{color:#2f2e0c}.markdown[_ngcontent-%COMP%]  a:visited:hover{color:#572f99}.markdown[_ngcontent-%COMP%]  a:focus-visible{border-radius:4px;outline:2px solid #0096cc;outline-offset:0}.markdown[_ngcontent-%COMP%]  ul, .markdown[_ngcontent-%COMP%]  ol{margin:0 0 1rem;padding-left:1rem}.markdown[_ngcontent-%COMP%]  ul li, .markdown[_ngcontent-%COMP%]  ol li{list-style:disc;padding-left:0;padding-bottom:.5rem}'],changeDetection:0});}}return t})();var Ma$2=(()=>{class t{transform(e){if(e?.headingValue)return `<${e.headingType??"h1"} class="title">${e.headingValue}</${e.headingType??"h1"}>`}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"parseHeading",type:t,pure:true,standalone:false});}}return t})();var Oa$2=D$a(Kc$2());function Kl(t,n){if(t&1&&(ME(0,"header",4),TP(1,"parseHeading")),t&2){let e=tP(2).ngIf;lE("innerHTML",_P(1,1,e),ER);}}function Xl(t,n){if(t&1&&ME(0,"div",5),t&2){let e=n.ngIf;lE("innerHTML",e,ER);}}function Zl(t,n){if(t&1&&(Kf$2(0,"section"),kI(1,Kl,2,3,"header",2)(2,Xl,1,1,"div",3),Xf$2()),t&2){let e=tP().ngIf,i=tP();zR("seo-content-wrapper ",i.placement,""),xR(),lE("ngIf",e.headingValue),xR(),lE("ngIf",e.body);}}function Jl(t,n){if(t&1&&(ep$2(0),kI(1,Zl,3,5,"section",1),tp$2()),t&2){let e=n.ngIf;xR(),lE("ngIf",e.body||e.headingValue);}}var ec=(()=>{class t{constructor(e){this.catalogCmsService=e,this.content$=this.catalogCmsService.content$.pipe(ie$b(i=>i[this.placement]??null));}ngOnChanges(){(0, Oa$2.assert)(!!this.placement,'SeoContentComponent: Missing required "placement" input');}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(ti$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-seo-content"]],inputs:{placement:"placement"},standalone:false,features:[tR],decls:2,vars:3,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],["class","header","data-testid","heading",3,"innerHTML",4,"ngIf"],["class","body","data-testid","body",3,"innerHTML",4,"ngIf"],["data-testid","heading",1,"header",3,"innerHTML"],["data-testid","body",1,"body",3,"innerHTML"]],template:function(i,r){i&1&&(kI(0,Jl,2,1,"ng-container",0),TP(1,"async")),i&2&&lE("ngIf",_P(1,1,r.content$));},dependencies:[xd$2,zd$1,Ma$2],styles:[`@charset "UTF-8";.seo-content-wrapper{display:block}.seo-content-wrapper p+p{margin-top:1rem}.seo-content-wrapper a{cursor:pointer;color:#2f2e0c;text-decoration:underline}.seo-content-wrapper a:hover{color:#572f99}.seo-content-wrapper a:visited{color:#2f2e0c}.seo-content-wrapper a:visited:hover{color:#572f99}.seo-content-wrapper a:focus-visible{border-radius:4px;outline:2px solid #0096cc;outline-offset:0}.seo-content-wrapper ul,.seo-content-wrapper ol{margin:0 0 1rem;padding-left:1rem}.seo-content-wrapper ul li,.seo-content-wrapper ol li{list-style:disc;padding-left:0;padding-bottom:.5rem}.seo-content-wrapper .body{color:#64634a;font-size:1rem;line-height:1.5rem}.seo-content-wrapper .header+.body{margin-top:1.5rem}.seo-content-wrapper .header .title{font-weight:700;font-family:Ambit,sans-serif;font-size:1.5rem;letter-spacing:normal;line-height:1.75rem}@media (min-width: 600px){.seo-content-wrapper .header .title{font-size:1.875rem;line-height:2.125rem}}
`],encapsulation:2,changeDetection:0});}}return t})();var tc$1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({imports:[Gs$2,dT]});}}return t})();var Nv$1=(()=>{class t{constructor(){this.country=cR(""),this.international=cR(false),this.flagUrl=HP(()=>this.international()?"/assets/img/catalog/international-flag.svg":`https://kapowaz.github.io/square-flags/flags/${this.country()?.toLowerCase()}.svg`);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-country-flag"]],inputs:{country:[1,"country"],international:[1,"international"]},standalone:false,decls:1,vars:2,consts:[["width","20","height","20","data-testid","flag",3,"ngSrc","alt"]],template:function(i,r){i&1&&ME(0,"img",0),i&2&&lE("ngSrc",r.flagUrl())("alt",r.international()?"international":r.country()+" flag");},dependencies:[eh$2],styles:["[_nghost-%COMP%]{display:inline-flex;vertical-align:middle}"]});}}return t})();var jv$1=(()=>{class t{constructor(e,i,r,o){this.linkComponent=e,this.link=i,this.location=r,this.router=o,this.linkNgOnChanges=this.link.ngOnChanges,this.linkOnClick=this.link.onClick,this.link.ngOnChanges=this.ngOnChanges.bind(this),this.link.onClick=()=>true;}ngOnChanges(e){this.linkComponent.href=this.link.urlTree?this.location.prepareExternalUrl(this.router.serializeUrl(this.link.urlTree)):undefined,this.linkNgOnChanges.call(this.link,e);}onClick(e,i,r,o,a,s){e.routerLink=true,!(s||this.linkComponent.newTab)&&(e.preventDefault(),this.linkOnClick.call(this.link,i,r,o,a,s));}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Vu$2),Yo$4(Io$4),Yo$4(Xe$4),Yo$4(ve$8))};}static{this.\u0275dir=VR({type:t,selectors:[["pfy-link","routerLink",""]],hostBindings:function(i,r){i&1&&VE("click",function(a){return r.onClick(a,a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)});},standalone:false,features:[tR]});}}return t})();var Da$1=(()=>{class t{constructor(e,i){this.env=e,this.imageUrlPipe=i,this.defaultFormat="avif",this.defaultQuality="100";}getOptimizedImageSrc(e,i,r){return this.env.production?`${this.env.cloudflareImageService}/width=${i},quality=${r?.quality??this.defaultQuality},format=${r?.format??this.defaultFormat}/${this.imageUrlPipe.transform(e)}`:this.fallbackToOriginalImageSrc(e,i)}fallbackToOriginalImageSrc(e,i){let r=this.imageUrlPipe.transform(e);if(!r)return "";let o=new URL(r);return o.searchParams.set("s",i.toString()),o.toString()}static{this.\u0275fac=function(i){return new(i||t)(pe$9(f$c),pe$9(mt$3))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Gv$1=(()=>{class t{constructor(e){this.cloudflareImageService=e;}transform(e,i){return this.cloudflareImageService.getOptimizedImageSrc(e,i)}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Da$1,16))};}static{this.\u0275pipe=jR({name:"cloudflareImage",type:t,pure:true,standalone:false});}}return t})();var Pa$1=(()=>{class t{constructor(){this.httpClient=N$8(_u$3),this.scriptLoaderService=N$8(le$8),this.isReady=new In$7(1),this.isReady$=this.isReady.asObservable(),this.euCookieFirstScriptUrl="https://consent-eu.cookiefirst.com/sites/printify.com-f151c743-52ec-46af-acc5-9a6f57dd1e91/consent.js",this.usCookieFirstScriptUrl="https://consent.cookiefirst.com/sites/printify.com-caf8d96e-8e7b-4c65-a737-d57650a38c85/consent.js",this.countryCode$=this.httpClient.get("https://edge.cookiefirst.com/location").pipe(ie$b(e=>e.countryCode),yi$5(()=>hi$7(null))),this.cookieFirstScriptUrl$=this.countryCode$.pipe(ie$b(e=>e&&Ce$7.isUS(e)?this.usCookieFirstScriptUrl:this.euCookieFirstScriptUrl));}ngOnDestroy(){this.isReady.complete();}setup(){this.cookieFirstScriptUrl$.pipe(mt$8(1),Ac$3(e=>this.scriptLoaderService.load(e))).subscribe(()=>{this.isReady.next();});}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Ea$1={provide:Vf$2,useFactory(t){return ()=>t.setup()},deps:[Pa$1],multi:true};var rc$1=(()=>{class t{transform(e,i){return i.find(({code:o})=>o===e)?.name}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275pipe=jR({name:"country",type:t,pure:true});}}return t})();var ka$1=()=>[{provide:Er$1,useFactory:t=>new So$1(t.apiURL,t.storefrontApiUrl,t.storefrontStoreBuilderBackRoute,t.imageStorageURL,t.storefrontStoreBuilderDefaultLogo),deps:[f$c,Ro$2]},{provide:Po$4,useExisting:te$5},{provide:Vt$3,useExisting:X$6},{provide:Ts$1,useExisting:No$2}];var Fa$2=(()=>{class t{constructor(e,i){if(this.cd=e,this.isControlConfigured=false,!i)throw new Error(`${this.constructor.name} must have "formControl" or "formControlName" directive on it`);i.valueAccessor=this,this.ngControl=i,this.validate=this.validate.bind(this);}ngOnInit(){this.setupControlOnce(),this.ngControl.control?.updateValueAndValidity(),this.validationSubscription=this.form.statusChanges.subscribe(()=>{this.ngControl.control?.updateValueAndValidity();});}ngOnDestroy(){this.onChangeSubscription?.unsubscribe(),this.validationSubscription?.unsubscribe(),this.ngControl.control?.removeValidators(this.validate);}writeValue(e){let i=e?w$9(w$9({},this.defaultValues),e):this.defaultValues;this.form.setValue(i);}registerOnChange(e){this.onChangeSubscription?.unsubscribe(),this.onChangeSubscription=this.form.valueChanges.pipe(ie$b(()=>this.form.getRawValue()),Ye$b(i=>JSON.stringify(i)!==JSON.stringify(this.ngControl.control?.value))).subscribe(e);}registerOnTouched(){}setDisabledState(e){e?this.form.disable():this.form.enable();}validate(){return this.form.valid?null:{controls:Object.keys(this.form.controls).reduce((i,r)=>(i[r]=this.form.controls[r].errors,i),{})}}setupControlOnce(){let e=this.ngControl.control;if(this.isControlConfigured||!e)return;e.addValidators(this.validate);let i=e.markAsTouched;e.markAsTouched=()=>(this.form.markAllAsTouched(),this.cd.markForCheck(),i.call(e)),this.isControlConfigured=true;}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(bw$1),Yo$4(zt$4))};}static{this.\u0275dir=VR({type:t});}}return t})();var nc=[[["","countryRegionSelection",""]],[["","addressSelection",""]]],oc=["[countryRegionSelection]","[addressSelection]"];function ac(t,n){if(t&1&&ME(0,"pfa-validator-message",4),t&2){let e=tP(2);lE("messages",e.errorMessages.country);}}function sc$1(t,n){if(t&1&&ME(0,"pfa-validator-message",6),t&2){let e=tP(2);lE("messages",e.errorMessages.region);}}function lc(t,n){if(t&1&&ME(0,"pfa-validator-message",9),t&2){let e=tP(2);lE("messages",e.errorMessages.address1);}}function cc(t,n){t&1&&(Kf$2(0,"div",7),ME(1,"pfy-input",15),Xf$2());}function dc(t,n){if(t&1&&ME(0,"pfa-validator-message",12),t&2){let e=tP(2);lE("messages",e.errorMessages.city);}}function mc$1(t,n){if(t&1&&ME(0,"pfa-validator-message",14),t&2){let e=tP(2);lE("messages",e.errorMessages.zip);}}function pc(t,n){if(t&1){let e=XR();ep$2(0,0),Kf$2(1,"div",1),rP(2),Kf$2(3,"div",2)(4,"pfa-country-select",3),VE("countryChanged",function(){nR(e);let r=tP();return rR(r.resetRegion())}),Xf$2(),kI(5,ac,1,1,"pfa-validator-message",4),Xf$2(),Kf$2(6,"div",2),ME(7,"pfa-country-region-control",5),kI(8,sc$1,1,1,"pfa-validator-message",6),Xf$2()(),Kf$2(9,"div",7),ME(10,"pfy-input",8),kI(11,lc,1,1,"pfa-validator-message",9),Xf$2(),kI(12,cc,2,0,"div",7),Kf$2(13,"div",1),rP(14,1),Kf$2(15,"div",10),ME(16,"pfy-input",11),kI(17,dc,1,1,"pfa-validator-message",12),Xf$2(),Kf$2(18,"div",10),ME(19,"pfy-input",13),kI(20,mc$1,1,1,"pfa-validator-message",14),Xf$2()(),tp$2();}if(t&2){let e,i=tP();lE("formGroup",i.form),xR(4),lE("invalid",i.isInvalid("country"))("disabled",(e=i.form.get("country"))==null?null:e.disabled)("countryFilter",i.countryFilter)("required",true),xR(),QR(i.showValidationMessages?5:-1),xR(2),lE("country",n.selectedCountry)("invalid",i.isInvalid("region")),xR(),QR(i.showValidationMessages?8:-1),xR(2),op$1("label","Address",i.isMultipleAddressLines?" 1":"",""),op$1("placeholder","Address",i.isMultipleAddressLines?" 1":"",""),lE("invalid",i.isInvalid("address1"))("required",true),xR(),QR(i.showValidationMessages?11:-1),xR(),QR(i.isMultipleAddressLines?12:-1),xR(4),lE("required",true)("invalid",i.isInvalid("city")),xR(),QR(i.showValidationMessages?17:-1),xR(2),lE("invalid",i.isInvalid("zip"))("required",true),xR(),QR(i.showValidationMessages?20:-1);}}var uc={address1:{required:"Address is required"},city:{required:"City is required"},zip:{required:"ZIP code is required"},country:{required:"Please, choose country from the list"},region:{required:"Please, specify region"}},Lr=(()=>{class t extends Fa$2{set disableCountrySelection(e){this.toggleControl("country",e);}set disableRegionSelection(e){this.toggleControl("region",e);}set serverErrors(e){this.handleRegionServerError(e);}set isMultipleAddressLines(e){if(e)this.defaultValues.address2="",this.form.setControl("address2",new KO(this.defaultValues.address2));else if(this.form.controls.address2){let i=this.defaultValues,o=A$f(i,["address2"]);this.defaultValues=o,this.form.removeControl("address2");}}get isMultipleAddressLines(){return !!this.form.controls.address2}constructor(e,i,r,o){super(e,i),this.fb=r,this.showValidationMessages=true,this.errorMessages=uc,this.defaultValues={address1:"",address2:"",city:"",zip:"",country:"",region:""},this.form=this.createForm(),this.destroy$=new Z$a;let a=this.form.get("country"),s=a.valueChanges.pipe(Sc$2(a.value),Ac$3(c=>c?o.findCountryByCode(c):hi$7(null)),_c$3(1));s.pipe(Oc$2(this.destroy$)).subscribe(),this.form.get("region").addAsyncValidators(c=>s.pipe(mt$8(1),ie$b(g=>g?.states.length?cn$4.required(c):null))),this.state$=s.pipe(ie$b(c=>({selectedCountry:c})));}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}isInvalid(e){let i=this.form.get(e);return i.invalid&&i.touched}resetRegion(){this.form.get("region").reset("");}reset(){this.form.reset(this.defaultValues);}createForm(){return this.fb.group({address1:[this.defaultValues.address1,cn$4.required],address2:[this.defaultValues.address2],city:[this.defaultValues.city,cn$4.required],zip:[this.defaultValues.zip,cn$4.required],country:[this.defaultValues.country,cn$4.required],region:[this.defaultValues.region]})}toggleControl(e,i){let r=this.form.get(e);i?r?.disable():r?.enable();}handleRegionServerError(e){let i=this.form?.get("region");i&&e?.region?.length>0&&i.setErrors({required:true}),(i&&e?.region?.length===0||e===null)&&delete i.errors?.required;}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(bw$1),Yo$4(zt$4,10),Yo$4(JO),Yo$4(Ce$7))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-address-form"]],inputs:{disableCountrySelection:"disableCountrySelection",disableRegionSelection:"disableRegionSelection",serverErrors:"serverErrors",showValidationMessages:"showValidationMessages",countryFilter:"countryFilter",isMultipleAddressLines:[0,"useMultipleAddressLines","isMultipleAddressLines"]},standalone:false,features:[bI],ngContentSelectors:oc,decls:2,vars:3,consts:[[3,"formGroup"],[1,"ink-grid","address-grid","line"],[1,"ink-col-6","ink-col-m-4"],["formControlName","country","data-testid","countryInput",3,"countryChanged","invalid","disabled","countryFilter","required"],["formControlName","country","data-testid","address.errors.country",3,"messages"],["formControlName","region","data-testid","regionInput",3,"country","invalid"],["formControlName","region","data-testid","address.errors.region",3,"messages"],[1,"line"],["formControlName","address1","pfaRecordingBehavior","mask","data-testid","address1Input",3,"label","placeholder","invalid","required"],["formControlName","address1","data-testid","address.errors.address1",3,"messages"],[1,"ink-col-6","ink-col-m-4","input-group"],["label","City","placeholder","City","formControlName","city","data-testid","cityInput",3,"required","invalid"],["formControlName","city","data-testid","address.errors.city",3,"messages"],["label","ZIP code","placeholder","ZIP code","formControlName","zip","data-testid","zipInput",3,"invalid","required"],["formControlName","zip","data-testid","address.errors.zip",3,"messages"],["formControlName","address2","label","Address 2 (optional)","placeholder","Address 2 (optional)","pfaRecordingBehavior","mask","data-testid","address2Input"]],template:function(i,r){if(i&1&&(nP(nc),kI(0,pc,21,23,"ng-container",0),TP(1,"async")),i&2){let o;QR((o=_P(1,1,r.state$))?0:-1,o);}},styles:['@charset "UTF-8";.address-grid[_ngcontent-%COMP%]{--grid-gutter: .5rem;row-gap:1rem}@media (min-width: 600px){.address-grid[_ngcontent-%COMP%]{--grid-gutter: .75rem;row-gap:1.5rem}}.line[_ngcontent-%COMP%] + .line[_ngcontent-%COMP%]{margin-top:1rem}@media (min-width: 600px){.line[_ngcontent-%COMP%] + .line[_ngcontent-%COMP%]{margin-top:1.5rem}}'],changeDetection:0});}}return t})();var Vr$1=class Vr{_document;_textarea;constructor(n,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,i.readOnly=true,(this._document.fullscreenElement||this._document.body).appendChild(i);}copy(){let n=this._textarea,e=false;try{if(n){let i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),i&&i.focus();}}catch{}return e}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=undefined);}},Ra$2=(()=>{class t{_document=N$8(L$8);constructor(){}copy(e){let i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new Vr$1(e,this._document)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hc$1=(t,n)=>({link:t,copied:n}),gc=(()=>{class t{constructor(e,i){this.clipboard=e,this.cdRef=i,this.displayAsLink=true,this.iconSize="small",this.customTooltip=null,this.copied=false,this.tooltipTextBeforeCopy="Copy to clipboard",this.clearTimeout=3e3,this.iconType=cs$2;}ngOnInit(){this.tooltipTextBeforeCopy=this.customTooltip??this.tooltipTextBeforeCopy;}copy(){this.clipboard.copy(this.value),this.copied=true,this.cdRef.markForCheck(),setTimeout(()=>{this.copied=false,this.cdRef.markForCheck();},this.clearTimeout);}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Ra$2),Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-copy-to-clipboard-button"]],inputs:{value:"value",displayAsLink:"displayAsLink",iconSize:"iconSize",customTooltip:"customTooltip"},standalone:false,decls:1,vars:9,consts:[["data-testid","copyToClipBoardIcon",3,"click","pfyTooltip","name","type","ngClass"]],template:function(i,r){i&1&&(Kf$2(0,"pfy-icon",0),VE("click",function(){return r.copy()}),Xf$2()),i&2&&(WR(r.iconSize),lE("pfyTooltip",r.copied?"Copied!":r.tooltipTextBeforeCopy)("name",r.copied?"check_circle":"content_copy")("type",r.iconType.Outlined)("ngClass",EP(6,hc$1,r.displayAsLink,r.copied)));},dependencies:[Ld$1,ft$6,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inherit}.icon[_ngcontent-%COMP%]{font-size:20px;max-height:20px;margin-right:.25rem;cursor:pointer}.icon.link[_ngcontent-%COMP%]{color:#2f2e0c}.icon.link[_ngcontent-%COMP%]:hover{color:#572f99}.icon.large[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}'],changeDetection:0});}}return t})();var vc=()=>[];function Cc$1(t,n){if(t&1&&ME(0,"pfy-autocomplete-overlay",0),t&2){let e=tP(),i=tP();lE("label",e.label)("placeholder",e.placeholder)("listItems",e.regions||vP(5,vc))("invalid",i.invalid)("required",true);}}function yc(t,n){if(t&1&&ME(0,"pfy-input",1),t&2){let e=tP(),i=tP();lE("label",e.label)("placeholder",e.placeholder)("invalid",i.invalid)("required",i.required);}}function xc(t,n){t&1&&kI(0,Cc$1,1,6,"pfy-autocomplete-overlay",0)(1,yc,1,4,"pfy-input",1),t&2&&QR(n.regions.length?0:1);}var jr=(()=>{class t{set country(e){this.country$.next(e||null);}constructor(e){this.valueAccessorProxy=e,this.invalid=false,this.required=false,this.selectionPlaceholderPrefix="Choose",this.inputPlaceholderPrefix="",this.labelPrefix="",this.defaultLabel="State / Province",this.country$=new yn$7(null),this.regions$=this.country$.pipe(ie$b(i=>i?i.states.map(r=>_c(r,i.code==="US")):[]),_c$3(1)),this.state$=this.country$.pipe(Rc$2(this.regions$),ie$b(([i,r])=>{let o=i?.zone_label||this.defaultLabel,a=r.length?this.selectionPlaceholderPrefix:this.inputPlaceholderPrefix;return {country:i,regions:r,label:this.labelPrefix?`${this.labelPrefix} ${o.toLowerCase()}`:o,placeholder:a?`${a} ${o.toLowerCase()}`:o}})),this.valueAccessorProxy.setValueTransformation(this);}transformFromAccessorValue(e){return typeof e=="string"?e:e?.original.code||""}transformToAccessorValue(e){return this.regions$.pipe(mt$8(1),ie$b(i=>i.length?e&&i.find(r=>r.value===e)||null:e))}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(rs$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-country-region-control"]],inputs:{country:"country",helperText:"helperText",invalid:"invalid",required:"required",selectionPlaceholderPrefix:"selectionPlaceholderPrefix",inputPlaceholderPrefix:"inputPlaceholderPrefix",labelPrefix:"labelPrefix"},standalone:false,features:[gP([rs$2])],decls:2,vars:3,consts:[["data-testid","autocomplete","pfyControlValueAccessorProxy","",3,"label","placeholder","listItems","invalid","required"],["data-testid","regionInputComponent","pfyControlValueAccessorProxy","",3,"label","placeholder","invalid","required"]],template:function(i,r){if(i&1&&(kI(0,xc,2,1),TP(1,"async")),i&2){let o;QR((o=_P(1,1,r.state$))?0:-1,o);}},dependencies:[tx,In$5,L1,zd$1],encapsulation:2,changeDetection:0});}}return t})();function _c(t,n=false){return {name:n?`${t.code} - ${t.name}`:t.name,value:t.code,original:t}}var Aa$2=()=>[];function Sc(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-dropdown-select-overlay",2),TP(1,"async"),VE("selectedItemsChange",function(){nR(e);let r=tP();return rR(r.resetSearchQuery())}),Xf$2();}if(t&2){let e=tP();lE("label",e.label)("searchable",true)("appearance",e.appearance)("multiple",true)("placeholder",e.placeholder)("listItems",_P(1,10,e.countries$)||vP(12,Aa$2))("helperText",e.helperText)("invalid",e.invalid)("disabled",e.disabled)("required",e.required);}}function bc(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-autocomplete-overlay",3),TP(1,"async"),VE("selectedItemChange",function(r){nR(e);let o=tP();return rR(o.emitCountryChange(r))}),Xf$2();}if(t&2){let e=tP();lE("label",e.label)("appearance",e.appearance)("placeholder",e.placeholder)("listItems",_P(1,8,e.countries$)||vP(10,Aa$2))("helperText",e.helperText)("invalid",e.invalid)("disabled",e.disabled)("required",e.required);}}var Br=(()=>{class t{constructor(e,i){this.valueAccessorProxy=i,this.label="Country",this.placeholder="Choose Country",this.disabled=false,this.required=false,this.invalid=false,this.multiple=false,this.resetSearchQueryAfterSelection=false,this.appearance=mt$6.Normal,this.countryChanged=new Xe$5,this.value$=new yn$7(null),this.countries$=e.loadCountries().pipe(ie$b(r=>this.countryFilter?r.filter(this.countryFilter):r),ie$b(r=>r.map(Tc)),_c$3(1)),this.latestAccessorValue$=Hp$2([this.countries$,this.value$]).pipe(ie$b(([r,o])=>{if(!o)return this.multiple?new Set:null;if(Array.isArray(o))return (this.multiple?new Set(r.filter(g=>o.includes(g.original.code))):r.find(g=>g.value===o[0]))||null;let a=r.find(c=>c.value===o)||null;if(!this.multiple)return a;let s=new Set;return a&&s.add(a),s}),_c$3(1)),i.setValueTransformation(this);}ngAfterViewInit(){this.multiple&&this.valueAccessorProxy.writeLatestValue();}ngOnChanges(e){"multiple"in e&&!e.multiple.firstChange&&this.valueAccessorProxy.writeLatestAccessorValue();}transformFromAccessorValue(e){if(!e)return "";if(e instanceof Set){let i=Array.from(e,r=>r.original.code);return this.multiple?i:i[0]}return this.multiple?[e.original.code]:e.original.code}transformToAccessorValue(e){return this.value$.next(e),this.latestAccessorValue$.pipe(mt$8(1))}emitCountryChange(e){this.countryChanged.emit(e?.original||null);}resetSearchQuery(){this.resetSearchQueryAfterSelection&&this.resetSearchInputValue();}resetSearchInputValue(){this.dropdownSelectOverlayComponent?.searchInput?.nativeElement&&(this.dropdownSelectOverlayComponent.searchInput.nativeElement.value="");}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Ce$7),Yo$4(rs$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-country-select"]],viewQuery:function(i,r){if(i&1&&iP(ix,5),i&2){let o;sP(o=aP())&&(r.dropdownSelectOverlayComponent=o.first);}},inputs:{label:"label",placeholder:"placeholder",countryFilter:"countryFilter",helperText:"helperText",disabled:"disabled",required:"required",invalid:"invalid",multiple:"multiple",resetSearchQueryAfterSelection:"resetSearchQueryAfterSelection",appearance:"appearance"},outputs:{countryChanged:"countryChanged"},standalone:false,features:[gP([rs$2]),tR],decls:2,vars:1,consts:[["pfyControlValueAccessorProxy","",3,"label","searchable","appearance","multiple","placeholder","listItems","helperText","invalid","disabled","required"],["pfyControlValueAccessorProxy","",3,"label","appearance","placeholder","listItems","helperText","invalid","disabled","required"],["pfyControlValueAccessorProxy","",3,"selectedItemsChange","label","searchable","appearance","multiple","placeholder","listItems","helperText","invalid","disabled","required"],["pfyControlValueAccessorProxy","",3,"selectedItemChange","label","appearance","placeholder","listItems","helperText","invalid","disabled","required"]],template:function(i,r){i&1&&kI(0,Sc,2,13,"pfy-dropdown-select-overlay",0)(1,bc,2,11,"pfy-autocomplete-overlay",1),i&2&&QR(r.multiple?0:1);},dependencies:[tx,ix,L1,zd$1],encapsulation:2,changeDetection:0});}}return t})();function Tc(t){return {name:t.name,value:t.code,original:t}}var wc=["*"];function Ic(t,n){if(t&1&&(Kf$2(0,"p",2),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.description);}}var Mc=(()=>{class t{constructor(){this.image="/assets/svg/empty.svg";}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-empty-page"]],inputs:{image:"image",title:"title",description:"description"},standalone:false,ngContentSelectors:wc,decls:6,vars:3,consts:[[1,"content"],["alt","empty",1,"image",3,"src"],[1,"text"]],template:function(i,r){i&1&&(nP(),Kf$2(0,"div",0),ME(1,"img",1),Kf$2(2,"h5"),fP(3),Xf$2(),kI(4,Ic,2,1,"p",2),rP(5),Xf$2()),i&2&&(xR(),$E("src",r.image,sy$2),xR(2),WE(r.title),xR(),QR(r.description?4:-1));},styles:['@charset "UTF-8";.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:400px;margin:auto;text-align:center;padding:2.5rem 0}.text[_ngcontent-%COMP%]{margin-top:1rem}@media (min-width: 840px){.text[_ngcontent-%COMP%]{margin-top:1.5rem}}.image[_ngcontent-%COMP%]{display:block;width:auto;max-height:150px;max-width:100%;margin:auto auto 1rem}@media (min-width: 840px){.image[_ngcontent-%COMP%]{margin-bottom:1.5rem}}'],changeDetection:0});}}return t})();var Oc=["*"];function Dc(t,n){if(t&1){let e=XR();Kf$2(0,"div",3)(1,"i",4),VE("click",function(){nR(e);let r=tP(2);return rR(r.overlayClick.emit())}),fP(2,"close"),Xf$2()();}}function Pc(t,n){if(t&1){let e=XR();Kf$2(0,"div",0)(1,"div",1),VE("click",function(){nR(e);let r=tP();return rR(r.overlayClick.emit())}),Xf$2(),Kf$2(2,"div",2),kI(3,Dc,3,0,"div",3),rP(4),Xf$2()();}if(t&2){let e=tP();xR(3),QR(e.closeIcon?3:-1);}}var Ec=(()=>{class t{constructor(){this.showOverlayContent=false,this.closeIcon=true,this.overlayClick=new Xe$5;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-mobile-overlay-content"]],inputs:{showOverlayContent:"showOverlayContent",closeIcon:"closeIcon"},outputs:{overlayClick:"overlayClick"},standalone:false,ngContentSelectors:Oc,decls:1,vars:1,consts:[[1,"mobile-overlay-container"],[1,"overlay",3,"click"],[1,"content"],[1,"overlay-close"],[1,"material-icons",3,"click"]],template:function(i,r){i&1&&(nP(),kI(0,Pc,5,1,"div",0)),i&2&&QR(r.showOverlayContent?0:-1);},dependencies:[Tn$4],styles:['@charset "UTF-8";.mobile-overlay-container[_ngcontent-%COMP%]{display:none}@media (max-width: 839px){.mobile-overlay-container[_ngcontent-%COMP%]{position:fixed;display:block;inset:0;z-index:40}.overlay[_ngcontent-%COMP%]{position:fixed;display:block;inset:0;background:#00000080}.overlay-close[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.overlay-close[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{display:block;margin:0 1rem 1rem auto;color:#2f2e0c}.content[_ngcontent-%COMP%]{position:absolute;width:100%;border-radius:12px 12px 0 0;background:#fff;padding:1rem 0;bottom:0}}']});}}return t})();var Ni$3=D$a(Kc$2());var $a$1=D$a(Kc$2());function kc(t,n){return n.render_settings.cameras.filter(e=>t.options.includes(e.option_id)||e.variant_id===t.id)}function Fc(t){return t.render_settings.cameras.filter(n=>!n.option_id&&!n.variant_id)}function Ua(t,n){let e=kc(t,n);e.length||(e=Fc(n)),e=bd$3(e);let i=null,r=e.findIndex(({camera_id:o})=>o===n.render_settings.settings.default_camera);return r&&e[r]?(e=e.map(o=>(o.is_default=0,o)),e[r].is_default=1,i=e[r]):i=e.find(({is_default:o})=>o),!i&&e.length&&(e[0].is_default=1),e}var Rc=(t,n)=>({selectedCameraIndex:t,imageLoaded:n}),Ac$1=(t,n,e)=>({name:t,value:n,id:e}),Uc=()=>[];function $c(t,n){t&1&&ME(0,"pfy-skeleton",10);}function Nc(t,n){if(t&1){let e=XR();Kf$2(0,"img",9),VE("load",function(){let r=nR(e),o=tP(3);return rR(o.imageLoaded(r))}),Xf$2(),kI(1,$c,1,0,"pfy-skeleton",10);}if(t&2){let e=n,i=tP();lE("hidden",!(i!=null&&i.imageLoaded[e]))("src",e,sy$2),xR(),QR(i!=null&&i.imageLoaded[e]?-1:1);}}function Lc(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-button",11),VE("buttonClick",function(){nR(e);let r=tP(),o=tP(2);return rR(o.changeSelectedCameraIndex((r==null?null:r.selectedCameraIndex)+1))}),Kf$2(1,"i",12),fP(2,"chevron_right"),Xf$2()();}t&2&&lE("isIconOnly",true);}function Vc(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-button",13),VE("buttonClick",function(){nR(e);let r=tP(),o=tP(2);return rR(o.changeSelectedCameraIndex((r==null?null:r.selectedCameraIndex)-1))}),Kf$2(1,"i",12),fP(2,"chevron_left"),Xf$2()();}t&2&&lE("isIconOnly",true);}function jc(t,n){t&1&&ME(0,"pfy-skeleton",16);}function Bc(t,n){if(t&1){let e=XR();Kf$2(0,"div",14),VE("click",function(){let r=nR(e).$index,o=tP(3);return rR(o.changeSelectedCameraIndex(r))}),Kf$2(1,"img",15),VE("load",function(){let r=nR(e).$implicit,o=tP(3);return rR(o.imageLoaded(r.imageUrl))}),Xf$2(),kI(2,jc,1,0,"pfy-skeleton",16),Kf$2(3,"span",17),fP(4),Xf$2()();}if(t&2){let e=n.$implicit,i=n.$index,r=tP();xR(),dE("active",i===r.selectedCameraIndex),lE("hidden",!(r!=null&&r.imageLoaded[e.imageUrl]))("src",e.imageUrl,sy$2)("alt",e.title),xR(),QR(r!=null&&r.imageLoaded[e.imageUrl]?-1:2),xR(2),WE(e.title);}}function Wc(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-option-color",23),VE("click",function(){let r=nR(e).$implicit,o=tP(2).$implicit,a=tP(4);return rR(a.selectOption(o.type,r.id))}),Xf$2();}if(t&2){let e=n.$implicit,i=tP(2).$implicit,r=tP();dE("active",r[i.type]===e.id),lE("colors",e.colors)("tooltip",e.label);}}function zc$1(t,n){if(t&1&&(Kf$2(0,"div",19),JR(1,Wc,1,4,"pfy-option-color",22,YR),Xf$2()),t&2){let e=tP().$implicit;xR(),KR(e.items);}}function Hc(t,n){if(t&1){let e=XR();Kf$2(0,"div",25),VE("click",function(){let r=nR(e).$implicit,o=tP(2).$implicit,a=tP(4);return rR(a.selectOption(o.type,r.id))}),fP(1),Xf$2();}if(t&2){let e=n.$implicit,i=tP(2).$implicit,r=tP();dE("active",r[i.type]===e.id),xR(),ip$2(" ",e.label," ");}}function qc(t,n){if(t&1&&(Kf$2(0,"div",20),JR(1,Hc,2,3,"div",24,YR),Xf$2()),t&2){let e=tP().$implicit;xR(),KR(e.items);}}function Yc$1(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-radio",27),VE("stateChanged",function(){let r=nR(e).$implicit,o=tP(2).$implicit,a=tP(4);return rR(a.selectOption(o.type,r.id))}),Xf$2();}if(t&2){let e=n.$implicit,i=tP(2).$implicit,r=tP();lE("option",wP(3,Ac$1,i.type,e.id,e.id))("label",e.label)("checked",r[i.type]===e.id);}}function Gc$1(t,n){if(t&1&&(Kf$2(0,"div",21),JR(1,Yc$1,1,7,"pfy-radio",26,YR),Xf$2()),t&2){let e=tP().$implicit;xR(),KR(e.items);}}function Qc(t,n){if(t&1&&(Kf$2(0,"div",18)(1,"h6",6),fP(2),Xf$2(),kI(3,zc$1,3,0,"div",19)(4,qc,3,0,"div",20)(5,Gc$1,3,0,"div",21),Xf$2()),t&2){let e,i=n.$implicit;xR(2),WE(i.editor_label),xR(),QR((e=i.type)==="color"?3:e==="size"?4:5);}}function Kc$1(t,n){if(t&1&&(JR(0,Qc,6,2,"div",18,YR),TP(2,"async")),t&2){let e=tP(3);KR(_P(2,0,e.visibleOptions$));}}function Xc$1(t,n){if(t&1&&(Kf$2(0,"div",1),kI(1,Nc,2,3),TP(2,"async"),kI(3,Lc,3,1,"pfy-button",2),TP(4,"async"),kI(5,Vc,3,1,"pfy-button",3),TP(6,"async"),Xf$2(),Kf$2(7,"div",4)(8,"div",5)(9,"h6",6),fP(10,"View"),Xf$2(),Kf$2(11,"div",7),JR(12,Bc,5,7,"div",8,YR),TP(14,"async"),Xf$2()(),kI(15,Kc$1,3,2),TP(16,"async"),Xf$2()),t&2){let e,i,r=tP(2);xR(),QR((e=_P(2,4,r.selectedImageUrl$))?1:-1,e),xR(2),QR(_P(4,6,r.hasNextCamera$)?3:-1),xR(2),QR(_P(6,8,r.hasPrevCamera$)?5:-1),xR(7),KR(_P(14,10,r.views$)),xR(3),QR((i=_P(16,12,r.selectedOptions$))?15:-1,i);}}function Zc$1(t,n){if(t&1&&(kI(0,Xc$1,17,14),TP(1,"async"),TP(2,"async")),t&2){let e,i=tP();QR((e=EP(5,Rc,_P(1,1,i.selectedCameraIndex$),_P(2,3,i.imageLoaded$)))?0:-1,e);}}function Jc$1(t,n){t&1&&(Kf$2(0,"div",28),ME(1,"pfy-skeleton",16)(2,"pfy-skeleton",29),Xf$2());}function ed(t,n){if(t&1&&(Kf$2(0,"div",1),ME(1,"pfy-skeleton",10),Xf$2(),Kf$2(2,"div",4)(3,"div",5)(4,"h6",6),fP(5,"View"),Xf$2(),Kf$2(6,"div",7),JR(7,Jc$1,3,0,"div",28,YR),TP(9,"async"),Xf$2()()()),t&2){let e=tP();xR(7),KR(vP(2,Uc).constructor(_P(9,0,e.skeletonViewsCount$)));}}var Wr=(()=>{class t{constructor(e,i,r,o,a,s,c){this.userService=e,this.storesService=i,this.productService=r,this.viewportService=o,this.modalRef=a,this.featureToggleService=s,this.environment=c,this.destroy$=new Z$a,this.userId$=this.userService.id$,this.storeId$=this.storesService.selectedStore$.pipe(_h$1("id"),Ye$b(l=>!!l),Dr$5()),this.productId$=new In$7(1),this.preselectedVariantId$=new yn$7(null),this.optionSelect$=new Z$a,this.selectedCameraIndexChange$=new Z$a,this.loadedImage$=new Z$a,this.product$=this.productId$.pipe(Rc$2(this.userId$,this.storeId$),Ac$3(([l,v,S])=>this.productService.getProduct({productId:l,userId:v,shopId:S},{deleted:true})),Oc$2(this.destroy$),_c$3({refCount:true,bufferSize:1})),this.productLoaded$=$p$1(this.productId$.pipe(Ei$9(false)),this.product$.pipe(Ei$9(true))).pipe(Sc$2(true)),this.selectedPrintProvider$=this.product$.pipe(ie$b(l=>l.decorators[0])),this.variants$=this.selectedPrintProvider$.pipe(ie$b(l=>l.variants)),this.preselectedVariant$=Hp$2([this.variants$,this.preselectedVariantId$]).pipe(ie$b(([l,v])=>l.find(S=>S.id===v)),_c$3({refCount:true,bufferSize:1})),this.enabledVariants$=this.variants$.pipe(Rc$2(this.preselectedVariantId$),ie$b(([l,v])=>l.filter(S=>S.on===1||S.id===v))),this.visibleOptions$=this.selectedPrintProvider$.pipe(_h$1("options"),Rc$2(this.enabledVariants$),ie$b(([l,v])=>l?l.filter(S=>S.display_in_preview).map(S=>x$d(w$9({},S),{items:S.items.filter(w=>v.some(({options:R})=>R.includes(w.id)))})).filter(S=>S.items.length>0):[])),this.defaultOptions$=this.selectedPrintProvider$.pipe(Rc$2(this.preselectedVariant$),ie$b(([{options:l},v])=>Object.fromEntries(l.filter(S=>!!S.items.length).map(S=>{let w=v?S.items.find(R=>v.options.includes(R.id)):null;return [S.type,(w||S.items.find(R=>R.default)||S.items[0]).id]})))),this.selectedOptions$=this.defaultOptions$.pipe(Ac$3(l=>this.optionSelect$.pipe(Qc$3((v,{type:S,id:w})=>x$d(w$9({},v),{[S]:w}),l),Sc$2(l),Dr$5((v,S)=>au$4(v,S))))),this.activeVariant$=this.selectedOptions$.pipe(Rc$2(this.preselectedVariant$,this.variants$),ie$b(([l,v,S])=>{let w=S.find(R=>Object.values(l).every(ee=>R.options.includes(ee)));return v??w??S[0]})),this.activeCameras$=this.activeVariant$.pipe(Rc$2(this.product$),ie$b(([l,v])=>Ua(l,v))),this.views$=this.activeCameras$.pipe(Rc$2(this.product$,this.activeVariant$),ie$b(([l,v,S])=>l.map(w=>({title:w.label,imageUrl:this.getImageUrl(v,S,w,96)})))),this.selectedCameraIndex$=this.activeCameras$.pipe(mt$8(1),Ac$3(l=>this.selectedCameraIndexChange$.pipe(Sc$2(l.findIndex(v=>v.is_default)),ie$b(v=>Math.max(Math.min(v,l.length-1),0)),Dr$5()))),this.hasNextCamera$=Hp$2([this.activeCameras$,this.selectedCameraIndex$]).pipe(ie$b(([l,v])=>v<l.length-1)),this.hasPrevCamera$=this.selectedCameraIndex$.pipe(ie$b(l=>l>0)),this.selectedCamera$=Hp$2([this.activeCameras$,this.selectedCameraIndex$]).pipe(ie$b(([l,v])=>l[v]||l[0])),this.selectedImageUrl$=this.selectedCamera$.pipe(Rc$2(this.product$,this.activeVariant$),ie$b(([l,v,S])=>this.getImageUrl(v,S,l,608))),this.imageLoaded$=$p$1(this.selectedImageUrl$.pipe(ie$b(l=>({[l]:false}))),this.views$.pipe(ie$b(l=>Object.fromEntries(l.map(v=>[v.imageUrl,false])))),this.loadedImage$.pipe(ie$b(l=>({[l]:true})))).pipe(Qc$3((l,v)=>w$9(w$9({},l),v),{}),Hc$3(0,Yp$1),Sc$2({})),this.skeletonViewsCount$=this.viewportService.match(gt$7.ML).pipe(ie$b(l=>l?3:4));let g=this.modalRef.getData();(0, $a$1.assert)(!!g?.productId,"Product id should be defined in `ProductPreviewModalComponent`"),this.productId$.next(g.productId),g.variantId&&this.preselectedVariantId$.next(g.variantId);}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.optionSelect$.complete(),this.loadedImage$.complete(),this.selectedCameraIndexChange$.complete();}selectOption(e,i){this.optionSelect$.next({type:e,id:i});}changeSelectedCameraIndex(e){this.selectedCameraIndexChange$.next(e);}imageLoaded(e){this.loadedImage$.next(e);}getImageUrl(e,i,r,o=400){let a=new Date(e.updated_at).getTime().toString(16),s=this.featureToggleService.isFeatureEnabled(jt$2.WebpMockups);return `${this.environment.imagesURL}mockup/${e._id}/${i.id}/${r.id}/${a}.${s?"webp":"jpg"}?s=${o}`}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(J$5),Yo$4(Ro$2),Yo$4(Em$1),Yo$4(nn$6),Yo$4(Zn$3),Yo$4(te$5),Yo$4(f$c))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-product-preview-modal"]],standalone:false,decls:5,vars:3,consts:[[1,"modal-content"],[1,"main-image-container"],["type","secondary","size","small",1,"nav-button","next",3,"isIconOnly"],["type","secondary","size","small",1,"nav-button","prev",3,"isIconOnly"],[1,"selectors"],[1,"views-section"],[1,"title"],[1,"views-container"],["data-testid","view",1,"view"],["alt","Product Image",1,"main-image",3,"load","hidden","src"],[1,"image-skeleton"],["type","secondary","size","small",1,"nav-button","next",3,"buttonClick","isIconOnly"],[1,"material-icons"],["type","secondary","size","small",1,"nav-button","prev",3,"buttonClick","isIconOnly"],["data-testid","view",1,"view",3,"click"],[1,"view-image",3,"load","hidden","src","alt"],[1,"view-image-skeleton"],[1,"view-title"],[1,"options-section"],["data-testid","option-colors",1,"options-container","colors"],["data-testid","option-sizes",1,"options-container","sizes"],["data-testid","option-radios",1,"options-container"],["data-testid","option-color",1,"option-color",3,"active","colors","tooltip"],["data-testid","option-color",1,"option-color",3,"click","colors","tooltip"],[1,"option-size","text-s",3,"active"],[1,"option-size","text-s",3,"click"],[1,"option-radio",3,"option","label","checked"],[1,"option-radio",3,"stateChanged","option","label","checked"],[1,"view-skeleton"],[1,"view-title-skeleton"]],template:function(i,r){i&1&&(Kf$2(0,"pfy-modal-dialog")(1,"pfy-modal-dialog-content",0),kI(2,Zc$1,3,8),TP(3,"async"),kI(4,ed,10,3),Xf$2()()),i&2&&(xR(2),QR(_P(3,1,r.productLoaded$)?2:4));},dependencies:[We$8,Fo$1,bs$2,wl$1,ml$1,hu$1,Tn$4,zd$1],styles:['@charset "UTF-8";.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;width:auto;gap:1.5rem}@media (min-width: 960px){.modal-content[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;width:100%;overflow:visible}}.main-image-container[_ngcontent-%COMP%]{display:flex;position:relative}@media (min-width: 960px){.main-image-container[_ngcontent-%COMP%]{width:100%;max-width:600px}}.main-image[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:auto;border:1px solid #e0e0d7}.image-skeleton[_ngcontent-%COMP%]{width:100%;padding-bottom:100%}.selectors[_ngcontent-%COMP%]{display:grid;gap:1rem}@media (min-width: 960px){.selectors[_ngcontent-%COMP%]{flex:1;height:100%;max-height:600px;overflow-y:auto;gap:1.5rem}}.nav-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.nav-button.next[_ngcontent-%COMP%]{right:1rem}.nav-button.prev[_ngcontent-%COMP%]{left:1rem}.title[_ngcontent-%COMP%]{margin-bottom:1rem}.views-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,72px);grid-auto-flow:row;overflow:auto;gap:1rem}@media (min-width: 960px){.views-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,96px)}}.view[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer;-webkit-user-select:none;user-select:none;gap:.5rem}.view-skeleton[_ngcontent-%COMP%]{display:flex;flex-direction:column}.view-image[_ngcontent-%COMP%]{height:72px;width:72px;border:1px solid #e0e0d7;border-radius:4px}.view-image.active[_ngcontent-%COMP%]{border-color:#64634a}@media (min-width: 960px){.view-image[_ngcontent-%COMP%]{height:96px;width:96px}}.view-image-skeleton[_ngcontent-%COMP%]{height:72px;width:72px}@media (min-width: 960px){.view-image-skeleton[_ngcontent-%COMP%]{height:96px;width:96px}}.view-title-skeleton[_ngcontent-%COMP%]{height:16px;width:40px;margin-top:.5rem}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.options-container.colors[_ngcontent-%COMP%], .options-container.sizes[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.option-color[_ngcontent-%COMP%], .option-size[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.option-color[_ngcontent-%COMP%]{height:32px;width:32px;border:1px solid transparent}.option-color.active[_ngcontent-%COMP%]{border-color:#64634a}.option-size[_ngcontent-%COMP%]{padding:.25rem 1rem;border:1px solid #e0e0d7;border-radius:4px;background-color:#f5f5f0}.option-size.active[_ngcontent-%COMP%]{background-color:#2f2e0c;color:#f5f5f0;border-color:transparent}'],changeDetection:0});}}return t})();var zr=function(t){return t.Top="top",t.Bottom="bottom",t}(zr||{}),td=(()=>{class t{constructor(e,i){this.dialogService=e,this.featureTogglesService=i,this.zoomLocationEnum=zr,this.isResponsive=true,this.border=false,this.zoomLocation=zr.Bottom;}get applyClass(){return this.border}get hasStaticSize(){return !this.isResponsive}ngOnInit(){(0, Ni$3.assert)(!!this.id,`${t.name}: Missing required "id" input`),(0, Ni$3.assert)(!!this.name,`${t.name}: Missing required "name" input`),(0, Ni$3.assert)(!!this.imageUrl,`${t.name}: Missing required "imageUrl" input`);}onClick(e){e.stopPropagation();let i={modalSize:Sl$1.XL,productId:this.id};this.dialogService.open(Wr,i);}getOptimizedImageUrl(){if(!this.imageUrl)return "";let e={s:"320"};return this.updatedAt&&(e.t=new Date(this.updatedAt).getTime().toString()),this.featureTogglesService.isFeatureEnabled(jt$2.MockupRedirects)&&(e.use_cdn_redirect="true"),Ai$3(this.featureTogglesService.isFeatureEnabled(jt$2.WebpMockups)?this.imageUrl.replace(".jpg",".webp"):this.imageUrl,e)}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(zu$1),Yo$4(te$5))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-product-preview"]],hostVars:4,hostBindings:function(i,r){i&1&&VE("click",function(a){return r.onClick(a)}),i&2&&dE("border",r.applyClass)("static-size",r.hasStaticSize);},inputs:{id:"id",name:"name",imageUrl:"imageUrl",updatedAt:"updatedAt",isResponsive:"isResponsive",border:"border",zoomLocation:"zoomLocation"},standalone:false,decls:4,vars:5,consts:[[1,"image-container"],["data-testid","image","loading","lazy","width","168","height","168",1,"image",3,"src","alt"],["data-testid","zoom-btn","type","secondary","size","small",1,"zoom-badge",3,"isIconOnly"],["name","zoom_in"]],template:function(i,r){i&1&&(Kf$2(0,"div",0),ME(1,"img",1),Xf$2(),Kf$2(2,"pfy-button",2),ME(3,"pfy-icon",3),Xf$2()),i&2&&(xR(),lE("src",r.getOptimizedImageUrl(),sy$2)("alt",r.name),xR(),dE("zoom-location-top",r.zoomLocation===r.zoomLocationEnum.Top),lE("isIconOnly",true));},dependencies:[We$8,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;padding-bottom:100%;min-height:320px;position:relative;cursor:pointer}[_nghost-%COMP%]:hover   .zoom-badge[_ngcontent-%COMP%]{opacity:1}.static-size[_nghost-%COMP%]{min-height:80px;height:80px;width:80px;padding:0}.border[_nghost-%COMP%]{border:none}@media (min-width: 840px){.border[_nghost-%COMP%]{border:1px solid #e0e0d7}}@media (min-width: 840px){[_nghost-%COMP%]{min-height:80px;height:80px;width:80px;padding:0}}.image-container[_ngcontent-%COMP%]{overflow:hidden;width:100%}.image[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);object-fit:contain}.zoom-badge[_ngcontent-%COMP%]{position:absolute;bottom:.25rem;right:.25rem;pointer-events:none;opacity:0;transition:opacity .15s}.zoom-location-top[_ngcontent-%COMP%]{top:.25rem}'],changeDetection:0});}}return t})();var id=t=>({visibleRating:t}),rd=()=>[1,2,3,4,5];function nd(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-icon",1),VE("click",function(){let r=nR(e).$implicit,o=tP(2);return rR(o.select(r))})("mouseover",function(){let r=nR(e).$implicit,o=tP(2);return rR(o.hover(r))})("mouseleave",function(){nR(e);let r=tP(2);return rR(r.resetHover())}),Xf$2();}if(t&2){let e=n.$implicit,i=tP();dE("star-active",e<=(i.visibleRating||0)),lE("type",e<=(i.visibleRating||0)?"filled":"outlined");}}function od(t,n){t&1&&JR(0,nd,1,3,"pfy-icon",0,YR),t&2&&KR(vP(0,rd));}var ad=(()=>{class t{constructor(){this.className="",this.rating=0,this.hoverRatingSubject=new yn$7(0),this.hoverRating$=this.hoverRatingSubject.asObservable(),this.ratingSubject=new yn$7(this.rating),this.rating$=this.ratingSubject.asObservable(),this.visibleRating$=Hp$2([this.hoverRating$,this.rating$]).pipe(Wc$3(0),ie$b(([e,i])=>e===0?i:e),Sc$2(0)),this.onChange=()=>{},this.onTouch=()=>{};}ngOnDestroy(){this.hoverRatingSubject.complete(),this.ratingSubject.complete();}ngOnChanges(e){e.rating&&this.ratingSubject.next(this.rating);}select(e){this.rating=e,this.onTouch(),this.onChange(e),this.ratingSubject.next(this.rating);}writeValue(e){this.rating=e,this.ratingSubject.next(this.rating);}registerOnChange(e){this.onChange=e;}registerOnTouched(e){this.onTouch=e;}hover(e){this.hoverRatingSubject.next(e);}resetHover(){this.hoverRatingSubject.next(0);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-star-rating-list"]],inputs:{className:"className",rating:"rating"},standalone:false,features:[gP([{provide:Fe$6,useExisting:uu$4(()=>t),multi:true}]),tR],decls:2,vars:5,consts:[["name","star","data-testid","star",1,"star",3,"star-active","type"],["name","star","data-testid","star",1,"star",3,"click","mouseover","mouseleave","type"]],template:function(i,r){if(i&1&&(kI(0,od,2,1),TP(1,"async")),i&2){let o;QR((o=IP(3,id,_P(1,1,r.visibleRating$)))?0:-1,o);}},dependencies:[ge$9,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{margin-left:-.25rem;display:flex;min-width:0}.star[_ngcontent-%COMP%]{padding:0 .25rem;cursor:pointer;color:#a8a794;transition:color .5s ease}.star-active[_ngcontent-%COMP%], .star[_ngcontent-%COMP%]:hover{color:#2f2e0c}']});}}return t})();var sd=(t,n)=>n.key;function ld(t,n){if(t&1&&ME(0,"pfa-error-message",1),t&2){let e=n.$implicit,i=tP(3);lE("value",i.messages[e.key]);}}function cd(t,n){if(t&1&&JR(0,ld,1,1,"pfa-error-message",1,sd),t&2){let e=tP();KR(e);}}function dd(t,n){if(t&1&&ME(0,"pfa-error-message",0),t&2){let e=tP(),i=tP();lE("value",i.messages[e[0].key]);}}function md$1(t,n){if(t&1&&kI(0,cd,2,0)(1,dd,1,1,"pfa-error-message",0),t&2){let e=tP();QR(e.showMultiple?0:-1),xR(),QR(e.showMultiple?-1:1);}}var Hr=(()=>{class t{constructor(e){this.ngControl=e,this.errors=[],this.showMultiple=false,this.messages={},e.valueAccessor=this;}writeValue(){}registerOnChange(){}registerOnTouched(){}setDisabledState(){}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(zt$4))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-validator-message"]],inputs:{showMultiple:"showMultiple",messages:"messages"},standalone:false,decls:2,vars:3,consts:[["data-testid","errorMessage",3,"value"],[3,"value"]],template:function(i,r){if(i&1&&(kI(0,md$1,2,2),TP(1,"keyvalue")),i&2){let o;QR((o=_P(1,1,r.ngControl.touched?r.ngControl.errors:undefined))?0:-1,o);}},dependencies:[ir$3,Zd$1],encapsulation:2});}}return t})();var Na$1=(()=>{class t{constructor(e,i,r,o){this.generateCategoryUrl=e,this.searchService=i,this.fullUrlFormat=r,this.catalogCategoriesService=o,this.breadcrumbs=new yn$7([]),this.breadcrumbs$=this.breadcrumbs.pipe(ie$b(a=>a.map(s=>x$d(w$9({},s),{url:s.url?t.getSluggedUrl(s.url):null})))),this.areBreadcrumbsEnabled$=this.breadcrumbs.pipe(ie$b(a=>a.length>1&&!!a[1].title.length)),this.clearBeforeSetting=false,this.catalogRootBreadcrumb={title:"Catalog",url:this.fullUrlFormat.transform("products")};}get areBreadcrumbsEmpty(){return !this.breadcrumbs.value.length}setBreadcrumbs(e){this.breadcrumbs.next(e);}addBreadcrumb(e){let i=this.breadcrumbs.value;if(i[i.length-1]?.title===e.title)return;let r=[...i,e];this.breadcrumbs.next(r);}setBreadcrumbsFromCategoryTags(e,i){this.catalogCategoriesService.categories$.pipe(mt$8(1)).subscribe(r=>{if(this.setBreadcrumbs([this.catalogRootBreadcrumb]),!e.length||!r.length)return this.addBreadcrumb({title:i});let o=r.find(a=>e.includes(a.topLevel.tag));if(!o)return this.addBreadcrumb({title:i});this.addBreadcrumbsFromCategoryTags(o.topLevel,e),this.addBreadcrumb({title:i});});}addBreadcrumbsFromCategoryTags(e,i){let r=e.tag,o=e.subLevel?.find(a=>i.includes(a.tag));this.addBreadcrumb({title:r,url:this.generateCategoryUrl.transform(`${r}`)}),o&&this.addBreadcrumb({title:o.tag,url:this.generateCategoryUrl.transform(`${r}/${o.tag}`)});}setCatalogBreadcrumbs(e,i,r,o){if(this.clearBeforeSetting=false,!e){this.clearBreadcrumbs();return}let a=[this.catalogRootBreadcrumb];i==="subCategory"?a.push(this.setItemFromCatalogPagesAsBreadcrumb("mainCategory",true,o)):(i==="providerProducts"||i==="brandProducts")&&r?.length&&a.push(this.setItemFromCatalogPagesAsBreadcrumb(r,false,o)),i&&o[i]&&a.push(this.setItemFromCatalogPagesAsBreadcrumb(i,true,o)),this.setBreadcrumbs(a);}setItemFromCatalogPagesAsBreadcrumb(e,i,r){let o=r[e];if(!o)return {title:"",url:""};let a=e==="search"?o.path+this.searchService.getSearchKey():o.path,s=(i?this.generateCategoryUrl:this.fullUrlFormat).transform(a);return {title:o.label,url:s}}clearBreadcrumbs(){this.breadcrumbs.next([]);}static getSluggedUrl(e){let i=new RegExp("(.*?)([?].*)?$"),r=e.match(i)||[],[o,a]=r.splice(1);return ae$6(o)+(a||"")}static{this.\u0275fac=function(i){return new(i||t)(pe$9(Xt$1),pe$9(Dc$1),pe$9(dt$4),pe$9(Jc$2))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function fd(t,n){if(t&1){let e=XR();Kf$2(0,"div",1)(1,"a",3),VE("click",function(){nR(e);let r=tP().$implicit,o=tP(2);return rR(o.onBreadcrumbClick(r))}),Kf$2(2,"span"),fP(3),Xf$2()(),Kf$2(4,"span",4),fP(5,"/"),Xf$2()();}if(t&2){let e=tP().$implicit;xR(),GI("href",e.url,sy$2),xR(2),WE(e.title);}}function hd(t,n){if(t&1&&(Kf$2(0,"span",2),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),WE(e.title);}}function gd(t,n){if(t&1&&kI(0,fd,6,2,"div",1)(1,hd,2,1,"span",2),t&2){let e=n.$index,i=n.$count;QR(e!==i-1?0:-1),xR(),QR(e===i-1?1:-1);}}function vd(t,n){t&1&&(Kf$2(0,"nav",0),JR(1,gd,2,2,null,null,GR().trackByLinkTitle,true),Xf$2()),t&2&&(xR(),KR(n));}var kx=(()=>{class t{constructor(e,i){this.breadcrumbsService=e,this.structuredDataService=i,this.skipAddingSchema=false,this.breadcrumbClicked=new Xe$5,this.links$=this.breadcrumbsService.breadcrumbs$,this.areBreadcrumbsEnabled$=this.breadcrumbsService.areBreadcrumbsEnabled$;}ngOnInit(){this.skipAddingSchema||this.breadcrumbsService.breadcrumbs$.pipe(Rc$2(this.areBreadcrumbsEnabled$),mt$8(1)).subscribe(([e,i])=>{let r=e.map(o=>({url:`${ae$6(o.url)}`,title:o.title}));i&&this.structuredDataService.insertBreadcrumbsSchema(r);});}onBreadcrumbClick(e){this.breadcrumbClicked.emit(e);}trackByLinkTitle(e,{title:i}){return i}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Na$1),Yo$4(ei$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-breadcrumbs"]],inputs:{skipAddingSchema:"skipAddingSchema"},outputs:{breadcrumbClicked:"breadcrumbClicked"},standalone:false,decls:2,vars:3,consts:[[1,"links"],[1,"link-container"],["data-testid","currentPage",1,"current-page","text-xs"],["data-testid","link",1,"link","text-xs",3,"click"],[1,"divider","text-xs"]],template:function(i,r){if(i&1&&(kI(0,vd,3,0,"nav",0),TP(1,"async")),i&2){let o;QR((o=_P(1,1,r.links$))?0:-1,o);}},dependencies:[zd$1],styles:['@charset "UTF-8";.links[_ngcontent-%COMP%]{display:flex;gap:.25rem;flex-wrap:wrap}.link-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.link[_ngcontent-%COMP%]{color:#2f2e0c;text-decoration:none}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.divider[_ngcontent-%COMP%], .current-page[_ngcontent-%COMP%]{color:#64634a}'],changeDetection:0});}}return t})();var Cd=["*"];function yd(t,n){if(t&1&&(Kf$2(0,"span",1),fP(1),TP(2,"async"),Xf$2()),t&2){let e=tP();dE("beside-helper-text",e.inputHasHelperText),xR(),zE(" ",_P(2,4,e.charactersCount$)," / ",e.maxLength," ");}}var Nx=(()=>{class t{constructor(){this.maxLength=0,this.charactersCount$=new yn$7(0),this.isVisibleCounter$=new yn$7(false),this.destroy$=new Z$a,this.valueChanges$=new In$7(1),this.isValueDirectlyPassed=false;}set value(e){this.isValueDirectlyPassed=true,this.valueChanges$.next(e);}get inputHasHelperText(){return !!this.inputComponent.helperText?.length}ngAfterContentInit(){$p$1(this.inputComponent.onfocus.pipe(ie$b(()=>true)),this.inputComponent.onblur.pipe(ie$b(()=>false))).pipe(Oc$2(this.destroy$)).subscribe(i=>this.isVisibleCounter$.next(i)),(this.isValueDirectlyPassed||!this.ngControl?this.valueChanges$:this.ngControl.control?.valueChanges.pipe(Sc$2(this.ngControl.control.value),Oc$2(this.destroy$)))?.pipe(Oc$2(this.destroy$)).subscribe(i=>{this.charactersCount$.next(i?.length||0);});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-character-counter"]],contentQueries:function(i,r,o){if(i&1&&(oP(o,In$5,5),oP(o,zt$4,5)),i&2){let a;sP(a=aP())&&(r.inputComponent=a.first),sP(a=aP())&&(r.ngControl=a.first);}},inputs:{maxLength:"maxLength",value:"value"},standalone:false,ngContentSelectors:Cd,decls:3,vars:3,consts:[["data-testid","counter",1,"character-counter",3,"beside-helper-text"],["data-testid","counter",1,"character-counter"]],template:function(i,r){i&1&&(nP(),rP(0),kI(1,yd,3,6,"span",0),TP(2,"async")),i&2&&(xR(),QR(_P(2,1,r.isVisibleCounter$)?1:-1));},dependencies:[zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:relative}.character-counter[_ngcontent-%COMP%]{position:absolute;bottom:-1.5rem;right:.5rem;color:#64634a;font-size:.875rem}.character-counter.beside-helper-text[_ngcontent-%COMP%]{bottom:0}'],changeDetection:0});}}return t})();function xd(t,n){if(t&1&&(Kf$2(0,"span",0),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.labelText);}}var Hx=(()=>{class t{set currencyCode(e){this.selectedCurrency={name:e,value:e};}set currencies(e){if(!e){this.currenciesList=[];return}this.currenciesList=e.map(i=>({name:i.code,value:i.code}));}constructor(e){this.displayInlineLabel=false,this.currencyCodeChanged=new Xe$5,this.currenciesList=[],this.selectedCurrency={name:e.defaultCurrency.code,value:e.defaultCurrency.code};}selectCurrency(e){this.selectedCurrency=e,this.currencyCodeChanged.emit(e.value);}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Eo$3))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-currency-switcher"]],inputs:{labelText:"labelText",helperText:"helperText",invalid:"invalid",displayInlineLabel:"displayInlineLabel",currencyCode:"currencyCode",currencies:"currencies"},outputs:{currencyCodeChanged:"currencyCodeChanged"},standalone:false,decls:2,vars:9,consts:[[1,"currency-switcher-title"],[3,"selectedItemChange","listItems","selectedItem","label","helperText","invalid","disabled"]],template:function(i,r){i&1&&(kI(0,xd,2,1,"span",0),Kf$2(1,"pfy-dropdown-select",1),VE("selectedItemChange",function(a){return r.selectCurrency(a)}),Xf$2()),i&2&&(QR(r.displayInlineLabel?0:-1),xR(),dE("inline-dropdown",r.displayInlineLabel),lE("listItems",r.currenciesList)("selectedItem",r.selectedCurrency)("label",r.displayInlineLabel?null:r.labelText)("helperText",r.helperText)("invalid",r.invalid)("disabled",r.invalid));},dependencies:[nx],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-flex;align-items:center}.currency-switcher-title[_ngcontent-%COMP%]{display:none;color:#64634a;margin-right:.5rem}@media (min-width: 480px){.currency-switcher-title[_ngcontent-%COMP%]{display:block}}.inline-dropdown[_ngcontent-%COMP%]{max-width:100px}'],changeDetection:0});}}return t})();var _d=["*"];function Sd(t,n){if(t&1&&(Kf$2(0,"h6",3),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.title);}}function bd(t,n){if(t&1&&ME(0,"p",4),t&2){let e=tP();lE("innerHTML",e.description,ER);}}function Td(t,n){t&1&&(Kf$2(0,"pfy-link",5),TP(1,"FullUrlFormat"),Kf$2(2,"pfy-button",6),fP(3,"Browse Products"),Xf$2()()),t&2&&lE("href",_P(1,1,"products"));}var Yx=(()=>{class t{constructor(){this.image="/assets/svg/empty.svg",this.imageAltText="No results",this.title="",this.description="",this.showCatalogLink=true;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-empty-list"]],inputs:{image:"image",imageAltText:"imageAltText",title:"title",description:"description",showCatalogLink:"showCatalogLink"},standalone:false,ngContentSelectors:_d,decls:7,vars:5,consts:[[1,"empty-container"],[1,"image-container"],["data-testid","empty-list-image","loading","lazy",1,"image",3,"src","alt"],["data-testid","title",1,"title"],["data-testid","description",1,"description",3,"innerHTML"],["data-testid","link",1,"button",3,"href"],["type","alternative","data-testid","emptyListButton"]],template:function(i,r){i&1&&(nP(),Kf$2(0,"div",0)(1,"div",1),ME(2,"img",2),Xf$2(),kI(3,Sd,2,1,"h6",3)(4,bd,1,1,"p",4)(5,Td,4,3,"pfy-link",5),rP(6),Xf$2()),i&2&&(xR(2),lE("src",r.image,sy$2)("alt",r.imageAltText),xR(),QR(r.title?3:-1),xR(),QR(r.description?4:-1),xR(),QR(r.showCatalogLink?5:-1));},dependencies:[We$8,Vu$2,dt$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:0;max-width:536px;margin:0 auto;text-align:center}.image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;width:100%;max-width:400px;margin:0 0 1rem;min-height:0}@media (min-width: 840px){.image-container[_ngcontent-%COMP%]{margin:0 0 1.5rem}}.image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex:1 1 150px;display:block;max-width:100%;min-height:84px;max-height:150px;margin:0 auto}@media (min-width: 600px){.image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex-basis:150px;max-height:150px}}.title[_ngcontent-%COMP%] + .description[_ngcontent-%COMP%]{margin-top:1rem}.button[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem}@media (min-width: 840px){.button[_ngcontent-%COMP%]{margin-top:1.5rem}}'],changeDetection:0});}}return t})();var La$2=D$a(Wc$1());function wd(t,n){if(t&1&&(Kf$2(0,"span",3),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),ip$2(" ",e.secondaryName," ");}}function Id(t,n){if(t&1&&(Kf$2(0,"pfy-dropdown-option",2),fP(1),kI(2,wd,2,1,"span",3),Xf$2()),t&2){let e=n.$implicit;lE("pfyDropdownListItem",e),xR(),ip$2(" ",e.name," "),xR(),QR(e.secondaryName?2:-1);}}function Md(t,n){if(t&1){let e=XR();Kf$2(0,"pfy-accordion")(1,"pfy-accordion-item",0)(2,"pfy-dropdown-list",1),TP(3,"async"),TP(4,"async"),VE("selectItem",function(r){nR(e);let o=tP();return rR(o.onOptionSelect(r))})("selectedItemsChange",function(r){nR(e);let o=tP();return rR(o.onSelectedOptionsChange(r))}),JR(5,Id,3,3,"pfy-dropdown-option",2,YR),Xf$2()()();}if(t&2){let e=tP();xR(),lE("title",e.formattedLabel)("expanded",e.isOpen)("fullWidth",e.fullWidth),xR(),lE("asAccordionDropdownList",true)("selectedItem",_P(3,8,e.selectedOption$))("selectedItems",_P(4,10,e.selectedOptions$))("multiple",e.multiple),GI("aria-label",e.formattedLabel),xR(3),KR(n);}}var Va=(()=>{class t{constructor(){this.filterOptionsChange=new In$7(1),this.filterOptions$=this.filterOptionsChange.pipe(ie$b(e=>e?.length?e:undefined)),this.selectedOptionsInputChange=new In$7(1),this.selectedOptions$=this.selectedOptionsInputChange.pipe(ie$b(e=>e??new Set),Sc$2(new Set)),this.selectedOption$=this.selectedOptions$.pipe(ie$b(e=>e?.size?Array.from(e)[0]:undefined)),this.multiple=false,this.isOpen=false,this.selectedOptionsChange=new Xe$5,this.fullWidth=true;}set filterOptions(e){this.filterOptionsChange.next(e);}set selectedOptions(e){this.selectedOptionsInputChange.next(e);}set label(e){this.formattedLabel=e.charAt(0).toUpperCase()+e.slice(1);}ngOnChanges(){(0, La$2.assert)(!!this.formattedLabel,"Label should be defined in FiltersGroupComponent");}ngOnDestroy(){this.filterOptionsChange.complete(),this.selectedOptionsInputChange.complete();}onOptionSelect(e){if(this.multiple)return;let i=new Set;i.add(e),this.selectedOptionsInputChange.next(i),this.selectedOptionsChange.emit(i);}onSelectedOptionsChange(e){this.multiple&&(this.selectedOptionsInputChange.next(e),this.selectedOptionsChange.emit(e));}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-filters-group"]],inputs:{filterOptions:"filterOptions",selectedOptions:"selectedOptions",label:"label",multiple:"multiple",isOpen:"isOpen"},outputs:{selectedOptionsChange:"selectedOptionsChange"},standalone:false,features:[tR],decls:2,vars:3,consts:[["size","small","data-testid","accordion",1,"accordion",3,"title","expanded","fullWidth"],["data-testid","dropdownList",3,"selectItem","selectedItemsChange","asAccordionDropdownList","selectedItem","selectedItems","multiple"],["data-testid","filterOption",3,"pfyDropdownListItem"],["option-secondary-name","","data-testid","filterOptionSecondaryName"]],template:function(i,r){if(i&1&&(kI(0,Md,7,12,"pfy-accordion"),TP(1,"async")),i&2){let o;QR((o=_P(1,1,r.filterOptions$))?0:-1,o);}},dependencies:[cu$2,gl$1,So$3,ps$2,fl$1,_l$1,zd$1],encapsulation:2});}}return t})();function Dd(t,n){if(t&1){let e=XR();Kf$2(0,"pfa-filters-group",3),VE("selectedOptionsChange",function(r){let o=nR(e).$implicit,a=tP();return rR(a.onSelectedOptionsChange(r,o.type))}),Xf$2();}if(t&2){let e=n.$implicit,i=tP();lE("filterOptions",e.filterOptions)("selectedOptions",i.activeFilterOptions.get(e.type))("label",e.label)("multiple",true)("isOpen",e.isOpen);}}var ja=(()=>{class t{constructor(){this.filters=[],this.activeFilterOptions=new Map,this.modalRef=N$8(Zn$3);}onSelectedOptionsChange(e,i){e.size?this.activeFilterOptions.set(i,e):this.activeFilterOptions.delete(i);}onPrimaryButtonClick(){this.modalRef.primaryActionPerformed({activeFilterOptions:this.activeFilterOptions});}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-filters-modal"]],inputs:{filters:"filters",activeFilterOptions:"activeFilterOptions"},standalone:false,decls:7,vars:0,consts:[["data-testid","filtersGroup",3,"filterOptions","selectedOptions","label","multiple","isOpen"],["data-testid","content",1,"modal-footer"],["data-testid","footerButton",1,"modal-footer-button",3,"buttonClick"],["data-testid","filtersGroup",3,"selectedOptionsChange","filterOptions","selectedOptions","label","multiple","isOpen"]],template:function(i,r){i&1&&(Kf$2(0,"pfy-modal-dialog")(1,"pfy-modal-dialog-content"),JR(2,Dd,1,5,"pfa-filters-group",0,YR),Xf$2(),Kf$2(4,"pfy-modal-dialog-footer",1)(5,"pfy-button",2),VE("buttonClick",function(){return r.onPrimaryButtonClick()}),fP(6," Apply filters "),Xf$2()()()),i&2&&(xR(2),KR(r.filters));},dependencies:[We$8,Fo$1,bs$2,Cs$4,Va],styles:['@charset "UTF-8";.modal-footer[_ngcontent-%COMP%]{display:flex;width:100%}.modal-footer-button[_ngcontent-%COMP%]{width:100%;margin-left:auto}@media (min-width: 480px){.modal-footer-button[_ngcontent-%COMP%]{width:auto}}']});}}return t})();var Ba$2=D$a(Kc$2());var C_=(()=>{class t{set filters(e){this.filters$.next(e);}set activeFilterOptions(e){this.activeFilterOptions$.next(e);}constructor(e,i){this.dialogService=e,this.destroyRef=i,this.label="Filter Products",this.disabled=false,this.filters$=new yn$7([]),this.activeFilterOptions$=new yn$7(new Map),this.activeFilterOptionsChange=new Xe$5;}ngOnDestroy(){this.filters$.complete(),this.activeFilterOptions$.complete();}onOpenFiltersButtonClick(){(0, Ba$2.assert)(!!this.filters$.getValue().length,"Filters have to be defined in FiltersModalWrapperComponent");let e=this.dialogService.open(ja,{title:this.label,modalSize:Sl$1.M,primaryAction:"Apply filters",pinToTop:true,inputs:{filters:this.filters$.getValue(),activeFilterOptions:t.deepCloneFilterOptions(this.activeFilterOptions$.getValue())}});e.afterPrimaryAction().pipe(Oc$2(e.afterClosed()),X$7(this.destroyRef)).subscribe(i=>{e.close();let{activeFilterOptions:r}=i;au$4(r,this.activeFilterOptions$.getValue())||(this.activeFilterOptions$.next(r),this.activeFilterOptionsChange.emit(r));});}static deepCloneFilterOptions(e){let i=new Map;for(let[r,o]of e)i.set(r,new Set(o));return i}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(zu$1),Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-filters-modal-wrapper"]],inputs:{label:"label",disabled:"disabled",filters:"filters",activeFilterOptions:"activeFilterOptions"},outputs:{activeFilterOptionsChange:"activeFilterOptionsChange"},standalone:false,decls:2,vars:2,consts:[["type","secondary","size","large","data-testid","button",2,"width","100%",3,"buttonClick","disabled"]],template:function(i,r){i&1&&(Kf$2(0,"pfy-button",0),VE("buttonClick",function(){return r.onOpenFiltersButtonClick()}),fP(1),Xf$2()),i&2&&(lE("disabled",r.disabled),xR(),ip$2(" ",r.label,`
`));},dependencies:[We$8],encapsulation:2});}}return t})();var __=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-personalization-badge"]],standalone:false,decls:2,vars:0,consts:[["src","./assets/svg/personalization.svg","alt","Personalization",1,"personalization-icon"]],template:function(i,r){i&1&&(ME(0,"img",0),fP(1,`
Personalizable
`));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-flex;align-items:center;height:24px;padding:.125rem .5rem .125rem .125rem;border-radius:4px;white-space:nowrap;gap:.25rem;color:#000;font-size:.875rem;width:fit-content;border:1px solid;border-image:linear-gradient(170deg,#8de4ff 22.49%,#ff993c 43.11%,#ba90ff 66.19%) 1;border-color:transparent;background:linear-gradient(#fff,#fff) padding-box,linear-gradient(170deg,#8de4ff 22.49%,#ff993c 43.11%,#ba90ff 66.19%) border-box}[_nghost-%COMP%]   .personalization-icon[_ngcontent-%COMP%]{font-size:1rem;color:#000}'],changeDetection:0});}}return t})();var Pd=[[["","slot","header"]],[["","slot","beforecontent"]],"*"],Ed=["[slot=header]","[slot=beforeContent]","*"];function kd(t,n){if(t&1&&(Kf$2(0,"h3",1),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.title);}}var b_=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-section"]],inputs:{title:"title"},standalone:false,ngContentSelectors:Ed,decls:7,vars:1,consts:[[1,"section-header"],[1,"section-title"],[1,"section-before-content"],[1,"section-content"]],template:function(i,r){i&1&&(nP(Pd),Kf$2(0,"div",0),kI(1,kd,2,1,"h3",1),rP(2),Xf$2(),Kf$2(3,"div",2),rP(4,1),Xf$2(),Kf$2(5,"div",3),rP(6,2),Xf$2()),i&2&&(xR(),QR(r.title?1:-1));},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.section-before-content[_ngcontent-%COMP%]{margin-top:1rem}@media (min-width: 600px){.section-before-content[_ngcontent-%COMP%]{margin-top:1.5rem}}.section-before-content[_ngcontent-%COMP%]:empty{display:none}.section-content[_ngcontent-%COMP%]{margin-top:3rem}@media (min-width: 600px){.section-content[_ngcontent-%COMP%]{margin-top:4rem}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 599px){.section-header[_ngcontent-%COMP%]{flex-direction:column}}'],changeDetection:0});}}return t})();var Fd=500,Rd=90,qr=(()=>{class t{constructor(e){this.routingService=e,this.anchorScrollingSectionHeaderOffset=Rd,this.sections=new Map,this.destroy$=new Z$a;}ngAfterViewInit(){this.scrollToSection();}ngOnDestroy(){this.routingService.cleanFragmentWithoutReload(),this.destroy$.next(),this.destroy$.complete();}register(e){this.sections.set(e.id,e);}remove(e){this.sections.delete(e.id);}scroll(e){let i=this.sections.get(e);i&&i.scroll(this.anchorScrollingSectionHeaderOffset);}scrollToSection(){this.routingService.fragment$.pipe(Ye$b(e=>!!e),Mc$2(Fd),Oc$2(this.destroy$)).subscribe(e=>{e&&this.scroll(e);});}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Ya$1))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaAnchorScrollingManager",""]],inputs:{anchorScrollingSectionHeaderOffset:"anchorScrollingSectionHeaderOffset"},standalone:false});}}return t})();var Ad=(()=>{class t{constructor(e,i,r){this.host=e,this.manager=i,this.window=r;}ngAfterViewInit(){this.manager.register(this);}ngOnDestroy(){this.manager.remove(this);}scroll(e){let i=this.host.nativeElement.getBoundingClientRect().top+this.window.scrollY-e;this.window.scrollTo({top:i,behavior:"smooth"});}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Uo$5),Yo$4(qr),Yo$4(Q$9))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaAnchorScrollingSection",""]],inputs:{id:[0,"pfaAnchorScrollingSection","id"]},standalone:false});}}return t})();var $d=(()=>{class t{constructor(e){this.navigation=e;}onClick(){this.navigation.back();}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Ya$1))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaBackButton",""]],hostBindings:function(i,r){i&1&&VE("click",function(){return r.onClick()});},standalone:false});}}return t})();var Nd=(()=>{class t{constructor(e,i,r){this.ngZone=e,this.elementRef=i,this.changeDetectorRef=r,this.elementVisible=false,this.clickedOutside=new Xe$5,this.handleClick=o=>{this.elementVisible&&!this.elementRef.nativeElement.contains(o.target)&&(this.clickedOutside.emit(),this.changeDetectorRef.detectChanges());};}ngOnInit(){this.ngZone.runOutsideAngular(()=>{document.addEventListener("click",this.handleClick);});}ngOnDestroy(){document.removeEventListener("click",this.handleClick);}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(te$6),Yo$4(Uo$5),Yo$4(bw$1))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyClickedOutside",""]],inputs:{elementVisible:"elementVisible"},outputs:{clickedOutside:"clickedOutside"},standalone:false});}}return t})();var Yr$1=(()=>{class t{constructor(e){this.el=e;}ngOnInit(){this.el.nativeElement.classList.add(this.getFSClass(this.pfaRecordingBehavior));}getFSClass(e){switch(e){case "exclude":return "fs-exclude";case "mask":return "fs-mask";case "unmask":return "fs-unmask";default:throw new Error("Incorrect value for pfaRecordingBehavior directive!")}}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaRecordingBehavior",""]],inputs:{pfaRecordingBehavior:"pfaRecordingBehavior"},standalone:false});}}return t})();D$a(Kc$2());var Vd=(()=>{class t{get isIos(){return /iPad|iPhone|iPod/.test(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}constructor(e,i){this.elementRef=e,this.renderer=i,this.enabled=true,this.touchstartY=-1,this.handleTouchStart=r=>{r.targetTouches.length>1||(this.touchstartY=r.targetTouches[0].clientY);},this.handleTouchMove=r=>{if(r.targetTouches.length>1||!r.cancelable)return;let o=r.targetTouches[0].clientY-this.touchstartY,{scrollHeight:a,scrollTop:s,clientHeight:c}=this.elementRef.nativeElement;return o>0&&s===0||o<0&&a-s<=c?(r.preventDefault(),false):(r.stopPropagation(),true)};}ngOnChanges({enabled:e}){e&&e.currentValue!==e.previousValue&&(e.currentValue||e.currentValue===""?this.setupScrollFix():this.cleanupScrollFix());}ngOnDestroy(){this.cleanupScrollFix();}setupScrollFix(){if(this.renderer.addClass(document.body,"modal-open"),this.renderer.setStyle(this.elementRef.nativeElement,"-webkit-overflow-scrolling","touch"),this.isIos){let e=window.scrollY;this.renderer.setStyle(document.body,"position","fixed"),this.renderer.setStyle(document.body,"top",`-${e}px`),this.elementRef.nativeElement.addEventListener("touchmove",this.handleTouchMove,{passive:false}),this.elementRef.nativeElement.addEventListener("touchstart",this.handleTouchStart);}}cleanupScrollFix(){if(this.renderer.removeClass(document.body,"modal-open"),this.isIos){let e=-parseInt(document.body.style.top);this.renderer.removeStyle(document.body,"position"),this.renderer.removeStyle(document.body,"top"),this.elementRef.nativeElement.removeEventListener("touchmove",this.handleTouchMove),this.elementRef.nativeElement.removeEventListener("touchstart",this.handleTouchStart),window.scrollTo({top:e});}}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Uo$5),Yo$4(NR))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyScrollableModalContent",""]],inputs:{enabled:[0,"pfyScrollableModalContent","enabled"]},standalone:false,features:[tR]});}}return t})();var Wa={price:{min:0,max:99999999999},none:{min:null,max:null}},m1=(()=>{class t{constructor(e){this.injector=e;}autocorrect(){let e=this.injector.get(zt$4).control;if(!e)return;let i=this.validate(e);i&&("min"in i&&e.setValue(i.min.min),"max"in i&&e.setValue(i.max.max));}validate(e){let i=isNaN(jd(e.value)),r=this.min??Wa[this.preset||"none"].min;if(r!=null&&(i||e.value<r))return {min:{min:r,actual:e.value}};let o=this.max??Wa[this.preset||"none"].max;return o!=null&&(i||e.value>o)?{max:{max:o,actual:e.value}}:null}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(_e$8,2))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaAutocorrect",""]],hostBindings:function(i,r){i&1&&VE("focusout",function(){return r.autocorrect()});},inputs:{min:"min",max:"max",preset:[0,"pfaAutocorrect","preset"]},standalone:false,features:[gP([{provide:xn$5,useExisting:t,multi:true}])]});}}return t})();function jd(t){return typeof t=="string"&&!isNaN(Number(t)-parseFloat(t))?Number(t):typeof t!="number"?NaN:t}var za=new Ys$2(()=>false),Gr$1=(()=>{class t extends di$3{constructor(e,i){super(i),this.dataStorageService=e;}interceptInternal(e,i){if(!e.context.get(za))return i.handle(e);let o=this.dataStorageService.getInnerObjectValue(e.url,e.params.toString());return o?hi$7(o):i.handle(e).pipe(kc$2(a=>{a instanceof pn$7&&this.dataStorageService.setInnerObjectValue(e.url,e.params.toString(),a.clone());}))}static{this.\u0275fac=function(i){return new(i||t)(pe$9(_o$2),pe$9(f$c))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();var Ha={CA:"CAD",US:"USD",AU:"AUD",NZ:"AUD",GB:"GBP",DE:"EUR",FR:"EUR",IT:"EUR",ES:"EUR",NL:"EUR",SE:"EUR",DK:"EUR",NO:"EUR",FI:"EUR",IE:"EUR",AT:"EUR",BE:"EUR",PT:"EUR",LU:"EUR",PL:"EUR",CZ:"EUR",SK:"EUR",HU:"EUR",SI:"EUR",LT:"EUR",LV:"EUR",EE:"EUR",GR:"EUR",BG:"EUR",RO:"EUR",HR:"EUR",MT:"EUR",CY:"EUR",IS:"EUR",CH:"EUR",RU:"EUR"};var qa$1="USA",Ya=(()=>{class t{constructor(e){this.injector=e;}intercept(e,i){return i.handle(e).pipe(kc$2(r=>{if(r instanceof pn$7&&r?.url?.includes("categories")){let a=qa$1;r.headers.has("x-cf-ipcountry")&&(a=r.headers.get("x-cf-ipcountry")||qa$1);let s=this.injector.get(du$1),c=this.injector.get(Y$4),g=c.get("currency",undefined,I$8.Local),l=c.get("targetMarket",undefined,I$8.Local);if(!g){let v=Ha[a];s.setUserCurrency(v);}l||s.setUserCountry(a);}}))}static{this.\u0275fac=function(i){return new(i||t)(pe$9(_e$8))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();var Ga=3,F1=(()=>{class t{constructor(e,i){this.el=e,this.renderer=i,this.errorCount=0;}onError(){if(this.errorCount++,this.errorCount>Ga)return;if(this.el.nativeElement.parentElement.tagName==="PICTURE"){let i=this.el.nativeElement.parentElement.children;for(let r of i)r.tagName==="SOURCE"&&this.renderer.setAttribute(r,"type","error");}if(this.errorCount===Ga){this.renderer.setAttribute(this.el.nativeElement,"src","/assets/img/myFavorites.png");return}this.renderer.setAttribute(this.el.nativeElement,"src",this.pfyPictureFallback?this.pfyPictureFallback:"/assets/img/myFavorites.png");}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Uo$5),Yo$4(NR))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfyPictureFallback",""]],hostBindings:function(i,r){i&1&&VE("error",function(){return r.onError()});},inputs:{pfyPictureFallback:"pfyPictureFallback"},standalone:false});}}return t})();var eb=(()=>{class t{constructor(e){e.hasTouchInput$.subscribe();}static forRoot(){return {ngModule:t,providers:[{provide:Nu$2,useClass:Tm$1,multi:true},{provide:Nu$2,useClass:Ya,multi:true},{provide:Nu$2,useClass:Gr$1,multi:true},Ea$1,co$3,dt$4,Or,kr$2,Xt$1,Ir,mt$3,Mr$1,Dr,Pr$1,rr$2,Hu$1,Fr,Er,Yd$1,Lh$1]}}static{this.\u0275fac=function(i){return new(i||t)(pe$9(Ao$2))};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({providers:[{provide:"environment",useExisting:f$c},ka$1(),qd$1],imports:[Gs$2,tf$2,Tt$4,Ki$4,dT,oo$2,Gs$2,tf$2,Tt$4,Ki$4]});}}return t})();yP(Lr,[Vt$6,fd$1,$n$5,Or$4,ha$3,In$5,Hr,Yr$1,Br,jr],[zd$1]);var go=function(i){return i.Retail="retail",i.Profit="profit",i.Margin="margin",i}(go||{});var So=function(i){return i.Publish="publish",i.SaveAsDraft="saveAsDraft",i}(So||{});var g$6=function(i){return i.Banners="productDetailsBanners",i.PublishingSettingsBanners="productDetailsPublishingSettingsBanners",i.VariantsBanners="productDetailsVariantsBanners",i.ShippingOptions="productDetailsShippingOptions",i.PrintexShippingOptions="productDetailsPrintexShippingOptions",i.PrintexPopupWarning="productDetailsPrintexPopupWarning",i.AffiliateSectionPopover="productDetailsAffiliateSectionPopover",i.ProfitCalculatorSalesChannelFees="productDetailsProfitCalculatorSalesChannelFees",i.ProfitCalculatorFaq="productDetailsProfitCalculatorFaq",i.ListingDetails="productDetailsListingDetails",i.MockupImagesGuidelines="productDetailsMockupImagesGuidelines",i.DescriptionValidator="productDetailsDescriptionValidator",i.PublishingSettings="productDetailsPublishingSettings",i.ShippingBanners="productDetailsShippingBanners",i.VariantsTablePricingInfo="productDetailsVariantsTablePricingInfo",i.PersonalisationSection="personalisationSection",i}(g$6||{});var yo=function(i){return i[i.OnlyStock=0]="OnlyStock",i[i.All=1]="All",i[i.AvailableSoldOut=2]="AvailableSoldOut",i}(yo||{});var tn$2=[{label:"US",flag:"us",international:false},{label:"CA",flag:"ca",international:false},{label:"UK",flag:"uk",international:false},{label:"AU",flag:"au",international:false}],rn$2={label:"EU",flag:"european_union",international:false};var Co$1=(i,l)=>l.label;function vo(i,l){if(i&1&&(Kf$2(0,"div",11),ME(1,"pfa-country-flag",13),fP(2),Xf$2()),i&2){let t=l.$implicit;GI("data-testid","region-"+t.label.toLowerCase()),xR(),$E("country",t.flag),lE("international",t.international),xR(),ip$2(" ",t.label," ");}}function bo(i,l){if(i&1&&(Kf$2(0,"div",2)(1,"div",5)(2,"h3",6),fP(3,"1. Select an eligible Printify Choice product"),Xf$2(),Kf$2(4,"p",7),fP(5," You can see our current Printify Choice eligible products in the Catalog\u2014more coming soon! "),Xf$2()(),Kf$2(6,"div",5)(7,"h3",8),fP(8," 2. Eligible listings are automatically fulfilled locally in the regions below "),Xf$2(),Kf$2(9,"p",9),fP(10," Buyers in these areas will see local shipping estimates and costs at checkout. "),Xf$2(),Kf$2(11,"div",10),JR(12,vo,3,4,"div",11,Co$1),Kf$2(14,"div",12),ME(15,"pfa-country-flag",13),fP(16),Xf$2()()(),Kf$2(17,"div",5)(18,"h3",14),fP(19," 3. Ineligible listings will still be fulfilled by your default provider and delivered worldwide. "),Xf$2(),Kf$2(20,"p",15),fP(21," All orders will be fulfilled, regardless if they are enabled for Global Fulfillment. "),Xf$2()()()),i&2){let t=tP();xR(12),KR(t.fulfilmentRegions()),xR(3),lE("country",t.euFulfilmentRegion().flag)("international",t.euFulfilmentRegion().international),xR(),ip$2(" ",t.euFulfilmentRegion().label," ");}}var Po$2=(()=>{class i{constructor(){this.fulfilmentRegions=oI(tn$2),this.euFulfilmentRegion=oI(rn$2),this.videoWidth=oI("100%"),this.videoId=oI("RtgCKhAIXDk"),this.showContent=true;}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-how-global-fulfillment-works-drawer"]],inputs:{showContent:"showContent"},decls:6,vars:3,consts:[["panelSize","medium","title","How Global Fulfillment works","data-testid","howGlobalFulfillmentWorksDrawer"],[1,"global-fulfilment-container"],[1,"content"],["data-testid","videoContainer",1,"video-container"],[3,"videoId","width"],[1,"content-section"],["data-testid","step1Title",1,"text-s"],["data-testid","step1Description",1,"text-s"],["data-testid","step2Title",1,"text-s"],["data-testid","step2Description",1,"text-s"],["data-testid","regionsContainer",1,"regions"],[1,"region"],["data-testid","region-eu",1,"region"],[3,"country","international"],["data-testid","step3Title",1,"text-s"],["data-testid","step3Description",1,"text-s"]],template:function(e,r){e&1&&(Kf$2(0,"pfy-side-panel",0)(1,"pfy-modal-dialog-content")(2,"div",1),kI(3,bo,22,3,"div",2),Kf$2(4,"div",3),ME(5,"pfa-youtube-video",4),Xf$2()()()()),e&2&&(xR(3),QR(r.showContent?3:-1),xR(2),lE("videoId",r.videoId())("width",r.videoWidth()));},dependencies:[Gs$2,eb,Nv$1,Te$7,dT,bs$2,tT],styles:['@charset "UTF-8";.global-fulfilment-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.global-fulfilment-container[_ngcontent-%COMP%]   .content-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem}.global-fulfilment-container[_ngcontent-%COMP%]   .regions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;margin-top:.5rem}'],changeDetection:0});}}return i})();var ls=new k$5("SHIPPING_PROFILES_SETTINGS_DATA"),qe$3=function(i){return i.PublishingConfirmationModalBanners="publishingConfirmationModalBanners",i.PublishingConfirmationModal="publishingConfirmationModal",i.MerchantAccountVerificationModal="merchantAccountVerificationModal",i.EmbroideryDigitizationReminderModal="embroideryDigitizationReminderModal",i}(qe$3||{}),ct$3=function(i){return i.HowItWorksPopup="howItWorksPopup",i.HowItWorksDrawer="howItWorksDrawer",i.PersonalizationPromoModal="personalizationPromoModal",i}(ct$3||{});var vi$2="popup",nn$3="success";var Ot=D$a(Kc$2());var U$8=class U{getStoreSpecificDetails(l){return hi$7({})}getStoreAction(l){}getStoreDomain(l,t){return l.domain??""}getProductUrl(l,t){return l}getProductDetails(l,t){return this.hasSelectedMockupsForPublishingRangeError(l,t)?{publishing:{disabled:true,tooltip:"Mockups are out of range"}}:{publishing:{disabled:false,tooltip:""}}}hasSelectedMockupsForPublishingRangeError(l,t){if("publish_details"in l){let r=(l.publish_details?.selected_for_publishing??[]).length,{min:n,max:s}=t.product.validationRules.mockupsSelectedForPublishingCount;if(r<n)return {reason:"below",limit:n};if(r>s)return {reason:"above",limit:s}}return null}parsePublishingError(l=Re$2.UnknownPublishingIssue,t,e={}){return new Ei$6(l,t,e)}getComponentForSlot(l){return hi$7(undefined)}getReauthorizationUrl(l){throw new Te$4}getSellingLimit(l,t,e){throw new Te$4}getListedProductVariantsQuantity(l,t){throw new Te$4}getShippingProfiles(l){throw new Te$4}getShippingProfileConfig(l,t,e,r,n){throw new Te$4}legacyConnect(l,t){throw new Te$4}connectFromSalesChannel(l,t){throw new Te$4}reauthorize(l){throw new Te$4}importOrder(l,t){throw new Te$4}getSalesChannelFees(l){throw new Te$4}},Te$4=class Te extends Error{};var yt$2=function(i){return i.ShippingProfilesSettings="storeSettingsShippingProfilesSettings",i.BrandName="storeSettingsBrandName",i}(yt$2||{});var Cs$1=new k$5("SALES_CHANNEL_CONNECTOR"),Hi$2=function(i){return i.CreateStore="create-store",i}(Hi$2||{}),on$2=class on extends M$a{};var Xe$2=function(i){return i.Text="text",i.Link="link",i.RouterLink="routerLink",i.LineBreak="lineBreak",i.Bold="bold",i}(Xe$2||{});var P$7={text:(i,...l)=>i.reduce((t,e,r)=>[...t,{type:Xe$2.Text,text:e},...l[r]?[l[r]]:[]],[]),link:(i,l)=>({type:Xe$2.Link,text:i,url:l}),routerLink:(i,l)=>({type:Xe$2.RouterLink,text:i,path:l}),lineBreak:()=>({type:Xe$2.LineBreak}),bold:i=>({type:Xe$2.Bold,text:i})};function wo(i,l){if(i&1&&(Kf$2(0,"pfy-link",0),fP(1),Xf$2()),i&2){let t=tP().$implicit;lE("href",t.url)("newTab",true),xR(),ip$2(" ",t.text," ");}}function xo(i,l){if(i&1&&(Kf$2(0,"pfy-link",1),fP(1),Xf$2()),i&2){let t=tP().$implicit;lE("routerLink",t.path),xR(),ip$2(" ",t.text," ");}}function To(i,l){i&1&&ME(0,"br");}function Eo(i,l){if(i&1&&(Kf$2(0,"strong"),fP(1),Xf$2()),i&2){let t=tP().$implicit;xR(),ip$2(" ",t.text," ");}}function Io(i,l){if(i&1&&fP(0),i&2){let t=tP().$implicit;ip$2(" ",t.text," ");}}function Ao(i,l){if(i&1&&kI(0,wo,2,3,"pfy-link",0)(1,xo,2,2,"pfy-link",1)(2,To,1,0,"br")(3,Eo,2,1,"strong")(4,Io,1,1),i&2){let t,e=l.$implicit,r=tP(2);QR((t=e.type)===r.richTextContentType.Link?0:t===r.richTextContentType.RouterLink?1:t===r.richTextContentType.LineBreak?2:t===r.richTextContentType.Bold?3:4);}}function ko(i,l){if(i&1&&JR(0,Ao,5,1,null,null,YR),i&2){let t=tP();KR(t.text);}}function _o(i,l){if(i&1&&(ep$2(0),fP(1),tp$2()),i&2){let t=tP();xR(),WE(t.text);}}var Ht=(()=>{class i{constructor(){this.text="",this.richTextContentType=Xe$2;}isRichText(t){return Array.isArray(t)}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-rich-text"]],inputs:{text:"text"},decls:2,vars:1,consts:[[3,"href","newTab"],[3,"routerLink"]],template:function(e,r){e&1&&kI(0,ko,2,0)(1,_o,2,1,"ng-container"),e&2&&QR(r.isRichText(r.text)?0:1);},dependencies:[eb,Io$4,jv$1,dT,Vu$2],encapsulation:2,changeDetection:0});}}return i})();var bi$3=class bi extends Ei$6{getName(){return "AmazonError"}getConnectionErrorDetails(){switch(this.code){case 17e3:return {subTitle:"Unable to connect",content:"There was an issue connecting your store. Please try again. If the issue continues, contact support."};case 17001:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};case 17002:return {subTitle:"Unable to connect",content:"Amazon US Marketplace Not Enabled. To use Printify services, please enable the Amazon US marketplace in your seller account settings. Your current Amazon store does not have the US marketplace enabled, which is required for us to provide our services."};case 17003:return {subTitle:"Unable to connect",content:"Connection Issue with Amazon Account. We are unable to retrieve data from your Amazon account. Please reconnect your Amazon account to Printify to continue using our services. If this does not help, please ensure your Amazon US account is properly set up and has no issues. If there is a problem with your Amazon account, please contact Amazon support."};default:return}}getProductPublishingErrorDetails(){switch(this.code){case 17100:return Ro$1({banner:{text:"Amazon US only accepts products fulfilled within the US. Please choose a different product or print provider."}});case 17200:return Ro$1({banner:{text:"Sorry, we couldn't publish this product, please try again"}});case 17201:return Ro$1({banner:{text:P$7.text`You need to apply or reapply for a GTIN exemption. ${P$7.link("Read more for details.","https://help.printify.com/hc/en-us/articles/26757557030161-How-can-I-request-a-GTIN-UPC-exemption-from-Amazon-US")}`}});case 17202:return Ro$1({banner:{text:"It looks like you have a similar listing to the one you want to publish. Please check it and make sure the new listing is different."}});case 17203:return Ro$1({banner:{text:"Please review your product listings and descriptions to ensure you are not using any trademarked terms improperly."}});case 17204:return Ro$1({banner:{text:"The title and main mockup for this SKU do not represent the product. Please update them to accurately match the product."}});case 17205:return Ro$1({banner:{text:"Please review your description to ensure you are not using any trademarked terms improperly."}});case 17206:return Ro$1({banner:{text:"It appears that a product with this exact title already exists. Please make changes to the title in order to publish this one."}});case 17207:return Ro$1({banner:{text:"To publish this product, please ensure that you have obtained brand approval for any copyrighted brands mentioned in the product, or remove the brand names from the title and description."}});case 17208:return Ro$1({banner:{text:"Sorry, publishing this product on Amazon is temporarily unavailable."}});case 17210:return Ro$1({banner:{text:"Your main image for one of the variants has a non-white background. Please make sure all the main images for your variants have a white background and try again."}});case 17211:return Ro$1({banner:{text:"You have reached your weekly new ASIN creation limit on Amazon. Please retry publishing after 0:00 GMT on Sunday when Amazon resets this limit."}});case 17212:return Ro$1({banner:{text:"You have changed this product in a way that a variant is not compatible to the automatically created underlying ASIN, we recommend deleting it and recreating it after 24 hours as this is an Amazon limitation. If the recreated product fails with the same error, please contact support."}});case 17213:return Ro$1({banner:{text:"The main image for this product contains a logo, text, or graphic that is not allowed for this product type. Please replace the image to continue publishing."}});case 17214:return Ro$1({banner:{text:"This product contains an image that is partially cropped or has missing pieces. Please fix the image to continue publishing."}});case 17215:return Ro$1({banner:{text:"There was an issue downloading your image. Please try again."}});case 17217:return Ro$1({banner:{text:"There was an issue publishing this product. Please get in touch with our Support Team for further help."}});case 17218:return Ro$1({banner:{text:"The product details for this product contains inaccurate information. Please correct the information to continue publishing."}});case 17219:return Ro$1({banner:{text:"The title used for this product contains prohibited words and/or phrases. Please replace the text to continue publishing."}});case 17220:return Ro$1({banner:{text:"This product contains an image that uses a human model for a non-clothing product. Please replace the image to continue publishing."}});case 17221:return Ro$1({banner:{text:"We were unable to publish this product due to an issue with the shipping profile. Please check the selected profile and try again."}});case 17223:return Ro$1({banner:{text:"We noticed some issues with your Amazon account. Please consider adding US market in your Amazon settings or contact Amazon Support for assistance."}});case 17224:return Ro$1({banner:{text:P$7.text`Brand name differs for some products. Update all products to have the same brand. ${P$7.link("Learn more about brands on Amazon.","https://help.printify.com/hc/en-us/articles/28148080174609-What-is-brand-approval-for-Amazon-US-and-why-is-it-necessary")}`}});case 17225:return Ro$1({banner:{text:P$7.text`Store name has been rejected by Amazon. Try a different store name or click here to submitting a request to Amazon. ${P$7.link("Learn more about brands on Amazon.","https://help.printify.com/hc/en-us/articles/28148080174609-What-is-brand-approval-for-Amazon-US-and-why-is-it-necessary")}`}});case 17226:return Ro$1({banner:{text:P$7.text`You may be listing a generic product. These should have N/A as the brand. Contact Amazon Selling Partner Support for more information. ${P$7.link("Learn more about brands on Amazon.","https://help.printify.com/hc/en-us/articles/28148080174609-What-is-brand-approval-for-Amazon-US-and-why-is-it-necessary")}`}});case 17227:return Ro$1({banner:{text:"This product was removed on Amazon. Duplicate the product and republish it."}});case 17228:return Ro$1({banner:{text:"Title must be shorter than 125 characters."}});case 17229:return Ro$1({banner:{text:"Description must be shorter than 10000 bytes."}});case 17230:return Ro$1({banner:{text:"Bullet Point must be shorter than 500 characters."}});case 17231:return Ro$1({banner:{text:"The product description can only contain plain text. Please remove unsupported special characters or markup and try again."}});case 17232:return Ro$1({banner:{text:'This listings "minimum price" is greater than the selling price (excluding shipping). Please review and try again.'}});case 17233:return Ro$1({banner:{text:"Product is missing compliance documentation. Check the notification on Amazon for more details."}});case 17234:return Ro$1({banner:{text:"This listing is being reviewed by Amazon. Try adding any missing compliance documentation or check the notification on Amazon for more details."}});default:return super.getProductPublishingErrorDetails()}}};var an$2=(()=>{class i extends U$8{constructor(){super(),this.router=N$8(ve$8),this.featureTogglesService=N$8(te$5);}getGeneralDetails(){return ae$5(b$9.Amazon,"Amazon",{type:O$6.Marketplace,description:"Amazon is a leading online marketplace with broad customer base and product categories.",keyHighlights:["Easy to set up and start selling","Large audience and traffic","Efficient order fulfillment and customer service"],complexity:c$9.Medium,isNew:true,affiliateUrl:"",hasNewConnectionFlow:true,hasSubscriptionFee:true,personalizationAvailable:true,personalizationDetailsAvailable:false,setupComplexity:f$8.RequiresEffort,audience:m$4.SmallBusinesses,biggestMarkets:["US"],aboutUrl:"https://printify.com/amazon",mockupsGuidelines:["The main image must not contain additional text, graphics, or inset images.","For the main image, backgrounds must be pure white.","Image pixel dimensions of at least 1000 or larger in either height or width preferred","File names must consist of the product identifier (Amazon ASIN, 13-digit ISBN, EAN, JAN, or UPC) followed by a period and the appropriate file extension (Example: B000123456.jpg or 0237425673485.tif)","All other products should fill 85% or more of the image frame."],product:{supportHTMLInDescription:false,hasCustomShippingOptions:{publishDetails:{label:"Shipping template",key:"shipping_template"},replaceDefault:true},allowsSelectionOfMockupsForPublishing:true,validationRules:{mockupsSelectedForPublishingCount:{min:1,max:9}},hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),publishing:{steps:{[u$4.VariantCreation]:{label:"Creating variants",tooltip:"This product was sent to your Amazon store and is currently waiting for the variants to be created (this can take a while)."},[u$4.SalesChannelDelay]:{label:"Syncing to Amazon",tooltip:"This product was sent to Amazon for processing and it will take some time until the changes will appear (this can take a while)."}},variantVisibility:{available:true,hasAvailableSoldOutOption:true}},canBeHidden:false},fulfilmentStandards:{productBadge:{[g$7.Contingent]:{label:"Potential delay"}}},pricing:{level:h$4.High,tooltip:"Amazon selling fees include a $0.99 per item fee (Individual plan) or a $39.99 monthly fee (Professional plan), plus a referral fee ranging from 6% to 45% (typically 8-15%). Additional fees may apply for Fulfillment by Amazon (FBA), media items, and high-volume listings."}})}getComponentForSlot(t){switch(t){case g$6.Banners:return ye$7(import('./chunk-CCKSuD0s.js').then(e=>e.AmazonProductDetailsBannersComponent));case g$6.ShippingOptions:return ye$7(import('./chunk-uMieHEGF.js').then(e=>e.AmazonShippingOptionsComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case g$6.ListingDetails:return ye$7(import('./chunk-Gprtoc_3.js').then(e=>e.AmazonListingDetailsComponent));case g$6.DescriptionValidator:return ye$7(import('./chunk-BESIRynZ.js').then(e=>e.AmazonDescriptionValidatorComponent));case g$6.PublishingSettings:return this.featureTogglesService.isFeatureEnabled$(jt$2.AmazonSingleItemVariationListings).pipe(Ac$3(e=>e?import('./chunk-yLdNzEvQ.js').then(r=>r.PublishingSettingsComponent):super.getComponentForSlot(t)));case yt$2.BrandName:return ye$7(import('./chunk-BicCLaWx.js').then(e=>e.AmazonBrandNameComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case qe$3.PublishingConfirmationModalBanners:return ye$7(import('./chunk-GCwfHh8p.js').then(e=>e.AmazonPublishingConfirmationModalBannersComponent));case qe$3.PublishingConfirmationModal:return ye$7(import('./chunk-COI-A8rY.js').then(e=>e.AmazonPublishingConfirmationModalComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}getStoreDomain(){return "https://sellercentral.amazon.com/home"}getProductUrl(t){return "https://www.amazon.com/dp/"+t}connectFromSalesChannel(t,e){return ye$7(this.router.navigate(["sales-channel",t.id,"connection",Hi$2.CreateStore],{state:e,replaceUrl:true})).pipe(Ii$4())}parsePublishingError(t,e,r){return new bi$3(t,e,r)}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var ln$2=D$a(Kc$2());var sn$2="viewed-wizard-pages",cn$2=(()=>{class i{constructor(){this.userService=N$8(J$5),this.browserStorageService=N$8(Y$4);}wasViewed(t){return !!this.getPageViews()[this.getUserId()]?.[t]}markAsViewed(t){let e=this.getPageViews();this.browserStorageService.set(sn$2,x$d(w$9({},e),{[this.getUserId()]:x$d(w$9({},e[this.getUserId()]),{[t]:true})}),{storageType:I$8.Local,clearOnAuth:false});}getPageViews(){return this.browserStorageService.getNonPrimitive(sn$2,{},I$8.Local)}getUserId(){let t=this.userService.getId();return (0, ln$2.assert)(!!t,"User id is required in checklist state service"),t}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Vi$2=function(i){return i.WizardDisabled="wizardDisabled",i.OnboardingWizardDisabled="onboardingWizardDisabled",i}(Vi$2||{}),pn$3=(()=>{class i{constructor(){this.continueOpening=null,this.router=N$8(ve$8),this.wizardViewsService=N$8(cn$2),this.browserStorageService=N$8(Y$4);}open(t,e){return E$e(this,null,function*(){return yield this.attemptOpening(t,e)})}openOnce(t,e,r){return E$e(this,null,function*(){return this.wizardViewsService.wasViewed(t)||this.isWizardDisabled()?false:(this.wizardViewsService.markAsViewed(t),yield this.attemptOpening(e,r))})}canOpenWizard(t){return !(this.wizardViewsService.wasViewed(t)||this.isWizardDisabled())}attemptOpening(t,e,r=true){return E$e(this,null,function*(){return this.isWizardDisabled()?false:(this.continueOpening=r?()=>this.attemptOpening(t,e,false):null,this.router.navigate([o$9,...t],e).then(n=>(this.router.url.startsWith(`/${o$9}`)&&(this.continueOpening=null),n)))})}isWizardDisabled(){let t=this.browserStorageService.getBoolean(Vi$2.OnboardingWizardDisabled,false,I$8.Local),e=this.browserStorageService.getBoolean(Vi$2.WizardDisabled,false,I$8.Local);return t||e}isNavigatedFromSameWizard(){let t=n=>n?.split(`${o$9}/`)[1]?.split("/")[0],e=t(this.router.url),r=t(this.router.lastSuccessfulNavigation?.previousNavigation?.finalUrl?.toString());return !!e&&e===r}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var $e$6=class i{static create(l){return new i(l)}get stepParams(){return this.activeStep.value.params}constructor(l){this.params=l,this.salesChannel=this.params.salesChannel,this.store=new yn$7(this.params.store),this.activeStep=new yn$7(this.params.steps[0]),this.stepCompleted=new Z$a,this.destroyed=new Z$a,this.destroyed$=this.destroyed.asObservable(),this.stepCompletionHandler$=this.stepCompleted.pipe(Rc$2(this.activeStep),Ac$3(([t,e])=>e.handler(t).pipe(ie$b(()=>({error:null,nextStep:this.getNextStep(e)})),yi$5(r=>hi$7({error:r,nextStep:r.terminatesLegacyConnectionFlow?.()?undefined:e})))),_c$3(1)),this.nextStep$=this.stepCompletionHandler$.pipe(ie$b(({nextStep:t})=>t)),this.error$=this.stepCompletionHandler$.pipe(ie$b(({error:t})=>t),Sc$2(null)),this.isLoading$=$p$1(this.stepCompleted.pipe(ie$b(()=>true)),this.stepCompletionHandler$.pipe(ie$b(({nextStep:t})=>!t))).pipe(Dr$5(),Sc$2(false)),this.activeStep$=$p$1(this.activeStep,this.nextStep$).pipe(Ye$b(t=>!!t),Dr$5(),kc$2(t=>this.activeStep.next(t))),this.completed$=this.nextStep$.pipe(Ye$b(t=>!t),Rc$2(this.store,this.error$),ie$b(([,t,e])=>({salesChannel:this.salesChannel,storeId:t?.id,error:e}))),this.cancelled=new Z$a,this.cancelled$=this.cancelled.asObservable(),this.store$=this.store.asObservable(),this.required=!!this.params.required;}completeStep(l){this.stepCompleted.next(l);}cancel(){this.cancelled.next();}setStore(l){this.store.next(l);}destroy(){this.destroyed.next(),this.destroyed.complete(),this.store.complete(),this.activeStep.complete(),this.stepCompleted.complete(),this.cancelled.complete();}getNextStep(l){return this.params.steps[this.getStepIndex(l)+1]}getStepIndex(l){return this.params.steps.indexOf(l)}};function Mo$1(i,l){if(i&1){let t=XR();Kf$2(0,"pfy-button",2),VE("buttonClick",function(){nR(t);let r=tP();return rR(r.onClose())}),Kf$2(1,"i",3),fP(2,"close"),Xf$2()();}if(i&2){let t=tP();lE("isIconOnly",true)("size",t.buttonSize.Small)("type",t.buttonType.Ghost);}}function Bo(i,l){i&1&&TE(0);}var un$1=(()=>{class i{constructor(t){this.connectionState=t,this.buttonType=Ze$5,this.buttonSize=lt$7,this.closed=new Z$a,this.closed$=this.closed.asObservable(),this.activeStepComponent$=this.connectionState.activeStep$.pipe(ie$b(e=>e.component)),this.closable=!this.connectionState.required;}ngOnDestroy(){this.closed.complete();}onClose(){this.closed.next();}static{this.\u0275fac=function(e){return new(e||i)(Yo$4($e$6))};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-sales-channel-legacy-connection-modal"]],standalone:false,decls:3,vars:4,consts:[["data-testid","closeButton",1,"close-button",3,"isIconOnly","size","type"],[4,"ngComponentOutlet"],["data-testid","closeButton",1,"close-button",3,"buttonClick","isIconOnly","size","type"],["title","Close",1,"material-icons"]],template:function(e,r){e&1&&(kI(0,Mo$1,3,3,"pfy-button",0)(1,Bo,1,0,"ng-container",1),TP(2,"async")),e&2&&(QR(r.closable?0:-1),xR(),lE("ngComponentOutlet",_P(2,2,r.activeStepComponent$)));},dependencies:[Nd$2,We$8,Tn$4,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:flex;height:100%;width:100%}.close-button[_ngcontent-%COMP%]{position:absolute;top:2.5rem;right:2.5rem;z-index:10}@media (max-width: 599px){.close-button[_ngcontent-%COMP%]{top:1rem;right:1rem}}'],changeDetection:0});}}return i})();var ne$2=(()=>{class i{constructor(t,e,r,n,s,m,y,b){this.injector=t,this.router=e,this.overlay=r,this.toastService=n,this.wizardService=s,this.eventDispatcherService=m,this.storesService=y,this.featureTogglesService=b,this.handleConnectionError=C=>{this.toastService.error({content:C.message});},this.handleConnectionCompletion=({salesChannel:C,storeId:k,error:$})=>$?this.openConnectionFailureWizard(C,$,k):this.storesService.reloadStores().pipe(kc$2(()=>k?this.storesService.switchStore(k):this.storesService.switchToNewest()),Bt$7(Yp$1),kc$2(()=>this.notifyAboutCompletion()),Ac$3(()=>this.openConnectionSuccessWizard()));}connect(t){let e=$e$6.create(t),r=this.createOverlay(),s=r.attach(this.createComponentPortal(e)).instance.closed$,m=r.keydownEvents().pipe(Ye$b(Ro)),y=e.error$.pipe(Ye$b(Oo$1),kc$2(this.handleConnectionError),Ii$4()),b=e.completed$.pipe(Ac$3(this.handleConnectionCompletion)),C=e.cancelled$.pipe(Ac$3(()=>this.redirectToMyProducts()));return $p$1(s,m,y,b).pipe(Oc$2(C),mt$8(1),Ii$4(),xc$2(()=>{e.destroy(),r.dispose();}))}createOverlay(){return this.overlay.create({hasBackdrop:false,disposeOnNavigation:true,width:"100vw",scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global()})}createComponentPortal(t){let e=_e$8.create({providers:[{provide:$e$6,useValue:t}],parent:this.injector});return new Mn$5(un$1,null,e)}openConnectionFailureWizard(t,e,r){let n=this.featureTogglesService.isFeatureEnabled(jt$2.AlreadyConnectedEmailError);return ye$7(this.wizardService.open([r$7,Y$3],{queryParams:w$9(w$9({salesChannelId:t.id,errorCode:e.code},r?{storeId:r}:{}),n&&e.details?.alreadyConnectedEmail?{alreadyConnectedEmail:e.details.alreadyConnectedEmail}:{})})).pipe(ie$b(()=>{}))}openConnectionSuccessWizard(){return ye$7(this.wizardService.open([r$7,f$a],{queryParams:{storeId:this.storesService.getId()}})).pipe(ie$b(()=>{}))}redirectToMyProducts(){return ye$7(this.router.navigateByUrl("/store/products/1",{replaceUrl:true}))}notifyAboutCompletion(){this.eventDispatcherService.dispatch(new Ar$3);}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_e$8),pe$9(ve$8),pe$9(Jt$6),pe$9(rO),pe$9(pn$3),pe$9(X$6),pe$9(Ro$2),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Oo$1(i){return !!i}function Ro(i){return i.key==="Escape"}var Uo$1=["*",[["hint"]]],$o=["*","hint"];function No$1(i,l){if(i&1){let t=XR();Kf$2(0,"pfy-button",11),VE("buttonClick",function(){nR(t);let r=tP();return rR(r.closeButtonClick.emit())}),ME(1,"pfy-icon",12),Xf$2();}if(i&2){let t=tP();lE("isIconOnly",true)("size",t.buttonSize.Small)("type",t.buttonType.Ghost)("disabled",t.closeButtonDisabled);}}function jo(i,l){if(i&1&&ME(0,"img",5),i&2){let t=tP();lE("src",t.logoUrl,sy$2);}}function zo(i,l){if(i&1){let t=XR();Kf$2(0,"pfy-button",13),VE("buttonClick",function(){nR(t);let r=tP();return rR(r.secondaryButtonClick.emit())}),fP(1),Xf$2();}if(i&2){let t=tP();lE("type",t.buttonType.Secondary)("disabled",t.secondaryButtonDisabled),xR(),ip$2(" ",t.secondaryButtonText," ");}}function Wo$1(i,l){if(i&1){let t=XR();Kf$2(0,"pfy-button",14),VE("buttonClick",function(){nR(t);let r=tP();return rR(r.primaryButtonClick.emit())}),fP(1),Xf$2();}if(i&2){let t=tP();lE("type",t.buttonType.Primary)("disabled",t.primaryButtonDisabled)("loading",t.primaryButtonLoading),xR(),ip$2(" ",t.primaryButtonText," ");}}var hn$1=(()=>{class i{constructor(){this.heading="Let's connect your store!",this.logoUrl="",this.name="",this.primaryButtonText="Connect",this.primaryButtonDisabled=false,this.primaryButtonVisible=true,this.primaryButtonLoading=false,this.secondaryButtonText="Back",this.secondaryButtonDisabled=false,this.secondaryButtonVisible=true,this.closeButtonVisible=false,this.closeButtonDisabled=false,this.secondaryButtonClick=new Xe$5,this.primaryButtonClick=new Xe$5,this.closeButtonClick=new Xe$5,this.buttonSize=lt$7,this.buttonType=Ze$5;}get contentHeadingText(){return this.name===null?"":this.name?`Connect to ${this.name}`:"Connect"}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-store-connection-container"]],inputs:{heading:"heading",logoUrl:"logoUrl",name:"name",primaryButtonText:"primaryButtonText",primaryButtonDisabled:"primaryButtonDisabled",primaryButtonVisible:"primaryButtonVisible",primaryButtonLoading:"primaryButtonLoading",secondaryButtonText:"secondaryButtonText",secondaryButtonDisabled:"secondaryButtonDisabled",secondaryButtonVisible:"secondaryButtonVisible",closeButtonVisible:"closeButtonVisible",closeButtonDisabled:"closeButtonDisabled"},outputs:{secondaryButtonClick:"secondaryButtonClick",primaryButtonClick:"primaryButtonClick",closeButtonClick:"closeButtonClick"},standalone:false,ngContentSelectors:$o,decls:15,vars:6,consts:[["data-testid","closeButton",1,"close-button",3,"isIconOnly","size","type","disabled"],[1,"connection-container"],["color","monochrome",1,"printify-logo"],[1,"heading"],[1,"content"],["alt","Logo","height","60","width","60","data-testid","contentLogo",1,"content-logo",3,"src"],["data-testid","contentHeading",1,"content-heading"],[1,"buttons"],["data-testid","secondaryButton",3,"type","disabled"],["data-testid","primaryButton",3,"type","disabled","loading"],["data-testid","hint",1,"hint"],["data-testid","closeButton",1,"close-button",3,"buttonClick","isIconOnly","size","type","disabled"],["title","Close","name","close"],["data-testid","secondaryButton",3,"buttonClick","type","disabled"],["data-testid","primaryButton",3,"buttonClick","type","disabled","loading"]],template:function(e,r){e&1&&(nP(Uo$1),kI(0,No$1,2,4,"pfy-button",0),Kf$2(1,"div",1),ME(2,"pfy-logo",2),Kf$2(3,"h4",3),fP(4),Xf$2(),Kf$2(5,"div",4),kI(6,jo,1,1,"img",5),Kf$2(7,"h5",6),fP(8),Xf$2(),rP(9),Kf$2(10,"div",7),kI(11,zo,2,3,"pfy-button",8)(12,Wo$1,2,4,"pfy-button",9),Xf$2()(),Kf$2(13,"div",10),rP(14,1),Xf$2()()),e&2&&(QR(r.closeButtonVisible?0:-1),xR(4),WE(r.heading),xR(2),QR(r.logoUrl?6:-1),xR(2),WE(r.contentHeadingText),xR(3),QR(r.secondaryButtonVisible?11:-1),xR(),QR(r.primaryButtonVisible?12:-1));},dependencies:[We$8,gx,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:relative;display:flex;flex:1;background-color:#f5f5f0;overflow:auto;padding:0 1rem}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}@media (min-width: 600px){.close-button[_ngcontent-%COMP%]{top:1.5rem;right:1.5rem}}.connection-container[_ngcontent-%COMP%]{width:100%;max-width:592px;margin:auto;display:flex;flex-direction:column}.printify-logo[_ngcontent-%COMP%]{align-self:center;margin-bottom:1.5rem}.heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}@media (min-width: 600px){.heading[_ngcontent-%COMP%]{margin-bottom:2.5rem}}.content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426;padding:1rem}@media (min-width: 600px){.content[_ngcontent-%COMP%]{padding:1.5rem}}.content-logo[_ngcontent-%COMP%]{display:block;margin:0 auto 1rem;border-radius:50%}@media (min-width: 600px){.content-logo[_ngcontent-%COMP%]{margin:0 auto .5rem}}.content-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;text-align:center}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;column-gap:.5rem;row-gap:1rem;margin-top:1.5rem}@media (min-width: 600px){.buttons[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-end}}.hint[_ngcontent-%COMP%]{margin-top:1rem}.hint[_ngcontent-%COMP%]:empty{display:none}'],changeDetection:0});}}return i})();function Ho$1(i,l){i&1&&TE(0,4);}var Vo$1=/(?:(?:(?:https?|http):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?/i,qo$2="https://www.examplestore.com",Yi$3=(()=>{class i{constructor(t){this.connectionState=t,this.salesChannel=this.connectionState.salesChannel,this.hint=this.connectionState.stepParams.hint,this.placeholder=this.connectionState.stepParams.placeholder??qo$2,this.urlControl=new KO("",[cn$4.required,cn$4.pattern(this.connectionState.stepParams.urlPattern??Vo$1)]),this.errorMessages$=gi$4(()=>this.urlControl.valueChanges.pipe(Sc$2(this.urlControl.value))).pipe(ie$b(e=>({required:"Store URL is required",pattern:`${e} is not a valid ${this.salesChannel.name} store link`}))),this.error$=this.urlControl.statusChanges.pipe(Sc$2(this.urlControl.status),ie$b(()=>Object.keys(this.urlControl.errors||{})[0]??"")),this.errorMessage$=Hp$2([this.error$,this.errorMessages$]).pipe(ie$b(([e,r])=>r[e]||""),Dr$5()),this.isLoading$=this.connectionState.isLoading$;}onPrimaryButtonClick(){this.connectionState.completeStep({url:this.urlControl.value});}static{this.\u0275fac=function(e){return new(e||i)(Yo$4($e$6))};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-store-url-step"]],standalone:false,decls:7,vars:14,consts:[[3,"primaryButtonClick","logoUrl","name","secondaryButtonVisible","primaryButtonLoading","primaryButtonDisabled"],[1,"title"],["data-testid","urlInput",1,"url-input",3,"formControl","placeholder","invalid","helperText"],["ngProjectAs","hint",5,["hint"],4,"ngComponentOutlet"],["ngProjectAs","hint",5,["hint"]]],template:function(e,r){e&1&&(Kf$2(0,"pfa-store-connection-container",0),TP(1,"async"),VE("primaryButtonClick",function(){return r.onPrimaryButtonClick()}),Kf$2(2,"p",1),fP(3,"Add your store URL to connect with Printify"),Xf$2(),ME(4,"pfy-input",2),TP(5,"async"),kI(6,Ho$1,1,0,"ng-container",3),Xf$2()),e&2&&(lE("logoUrl",r.salesChannel.logoUrl)("name",r.salesChannel.name)("secondaryButtonVisible",false)("primaryButtonLoading",_P(1,10,r.isLoading$))("primaryButtonDisabled",r.urlControl.invalid),xR(4),lE("formControl",r.urlControl)("placeholder",r.placeholder)("invalid",r.urlControl.touched&&r.urlControl.invalid)("helperText",r.urlControl.touched&&r.urlControl.invalid?_P(5,12,r.errorMessage$):""),xR(2),lE("ngComponentOutlet",r.hint));},dependencies:[Nd$2,Vt$6,xr$4,In$5,hn$1,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex:1;max-width:100%}.title[_ngcontent-%COMP%]{color:#64634a;margin-bottom:1rem;text-align:center}@media (min-width: 600px){.title[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.url-input[_ngcontent-%COMP%]{display:block}'],changeDetection:0});}}return i})();var Ct$3=(i,l={})=>({component:Yi$3,params:l,handler:i});function Yo$1(i){let l=Array.isArray(i.store)?cn$4.compose(i.store):i.store,t=Array.isArray(i.title)?cn$4.compose(i.title):i.title;if(!l&&!t)return;let e=new Nt$1("");return r=>{let n=!r.value||r.value.type==="title"?t:l;return n?(e.setValue(r.value?.value),n(e)):null}}var Ko$1=36,mn$2=Yo$1({title:[cn$4.required,cn$4.maxLength(Ko$1)],store:cn$4.required});var dn$2=(()=>{class i{constructor(t){this.connectionState=t,this.storeControl=new Nt$1({type:"title",value:""},{validators:mn$2,nonNullable:true}),this.isLoading$=this.connectionState.isLoading$,this.salesChannel=this.connectionState.salesChannel,this.isInitiatedBySalesChannel=!!this.connectionState.stepParams?.isInitiatedBySalesChannel,this.allowOnlyNewStore=!!this.connectionState.stepParams?.allowOnlyStoreCreation;}ngOnInit(){this.connectionState.store$.pipe(mt$8(1),Ye$b(t=>!!t)).subscribe(t=>this.storeControl.setValue({type:"store",value:t}));}continue(){let t=this.storeControl.value;if(this.storeControl.markAsTouched(),this.storeControl.invalid||!t)return;let e,r;t.type==="title"?e={storeName:t.value}:(e={storeId:t.value.id},r=t.value),this.connectionState.setStore(r),this.connectionState.completeStep(e);}cancel(){this.connectionState.cancel();}static{this.\u0275fac=function(e){return new(e||i)(Yo$4($e$6))};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-store-name-step"]],standalone:false,decls:3,vars:12,consts:[["secondaryButtonText","Cancel",3,"primaryButtonClick","secondaryButtonClick","heading","logoUrl","name","secondaryButtonVisible","primaryButtonText","primaryButtonLoading"],[1,"integration-dropdown",3,"integrationName","allowOnlyNewStore","formControl","invalid"]],template:function(e,r){e&1&&(Kf$2(0,"pfa-store-connection-container",0),TP(1,"async"),VE("primaryButtonClick",function(){return r.continue()})("secondaryButtonClick",function(){return r.cancel()}),ME(2,"pfa-store-integration-dropdown-control",1),Xf$2()),e&2&&(lE("heading","Let's connect with "+r.salesChannel.name)("logoUrl",r.salesChannel.logoUrl)("name",r.salesChannel.name)("secondaryButtonVisible",r.isInitiatedBySalesChannel)("primaryButtonText",r.isInitiatedBySalesChannel?"Connect":"Continue")("primaryButtonLoading",_P(1,10,r.isLoading$)),xR(2),lE("integrationName",r.salesChannel.name)("allowOnlyNewStore",r.allowOnlyNewStore)("formControl",r.storeControl)("invalid",r.storeControl.invalid&&r.storeControl.touched));},styles:["[_nghost-%COMP%]{display:flex;flex:1}"],changeDetection:0});}}return i})();function Ne$2(i,l){return {component:dn$2,params:l,handler:i}}var Pi$3=class Pi extends Ei$6{getName(){return "ApiError"}};var fn$1=(()=>{class i{constructor(t,e){this.httpClient=t,this.env=e;}installStore(t){return this.httpClient.post(`${this.env.apiURL}v1/sales_channels/custom/connect`,{title:t.storeName,shop_id:t.storeId}).pipe(ie$b(e=>({storeId:e.id})),yi$5(e=>Xp$2(new Pi$3(e.error?.code,e))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var gn$1=(()=>{class i{constructor(t,e,r){this.salesChannelLegacyConnectionService=t,this.apiApiService=e,this.storesService=r;}connect(t,e){if(e)return this.connectExistingStore(e,t);let r=this.storesService.store;return this.isMerchantsFirstStore()&&r?this.connectExistingStore(r,t):this.connectNewStore(t)}connectNewStore(t){return this.salesChannelLegacyConnectionService.connect({salesChannel:t,steps:[Ne$2(e=>this.apiApiService.installStore(e).pipe(ie$b(()=>{})),{allowOnlyStoreCreation:true})]})}connectExistingStore(t,e){return this.apiApiService.installStore({storeId:t.id,storeName:t.branding.brand}).pipe(Ac$3(r=>this.salesChannelLegacyConnectionService.handleConnectionCompletion(x$d(w$9({},r),{salesChannel:e}))),yi$5(r=>this.salesChannelLegacyConnectionService.handleConnectionCompletion({error:r,salesChannel:e})))}isMerchantsFirstStore(){return this.storesService.stores.length===1&&!this.storesService.store?.connected}static{this.\u0275fac=function(e){return new(e||i)(pe$9(ne$2),pe$9(fn$1),pe$9(Ro$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Sn$2=(()=>{class i extends U$8{constructor(t,e){super(),this.legacyConnectionService=t,this.featureTogglesService=e;}getGeneralDetails(){return ae$5(b$9.API,"API",{aboutUrl:"https://printify.com/printify-api/",setupComplexity:f$8.RequiresEffort,audience:m$4.LargeRetailers,personalizationAvailable:true,personalizationDetailsAvailable:false,pricing:{level:h$4.High,tooltip:"Free to start and sell. May require developer resources."},description:"If you\u2019re working with a developer or have development skills of your own, connect to other e-commerce platforms or your own custom store using the Printify API.",overviewDescription:{link:{text:"Learn more about API solutions.",url:"https://printify.com/printify-api/"}},overviewConnectButtonText:"Connect via API",hasEconomyDelivery:true,mockupsGuidelines:["15 mockup limit per variant"],product:{hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection)}})}legacyConnect(t,e){return this.legacyConnectionService.connect(t,e)}getComponentForSlot(t){switch(t){case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));default:return super.getComponentForSlot(t)}}static{this.\u0275fac=function(e){return new(e||i)(pe$9(gn$1),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var yn$3=function(i){return i[i.MultipleStoresConnected=51001]="MultipleStoresConnected",i}(yn$3||{}),Le$5=class Le extends Ei$6{getName(){return "BigCommerceError"}getConnectionErrorDetails(){switch(this.code){case yn$3.MultipleStoresConnected:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};default:return}}};var Z$4=(()=>{class i{constructor(t,e,r){this.httpClient=t,this.userService=e,this.environment=r,this.storeSettingsRequestParamsSubject=new Z$a,this.storeSettingsLoadingSubject=new Z$a,this.storeSettingsLoading$=this.storeSettingsLoadingSubject.asObservable();}ngOnDestroy(){this.storeSettingsRequestParamsSubject.complete(),this.storeSettingsLoadingSubject.complete();}getStoreState(t,e,r={}){let n=this.getBaseUrl(t);return this.storeSettingsRequestParamsSubject.asObservable().pipe(Sc$2(r),kc$2(()=>this.storeSettingsLoadingSubject.next(true)),Ac$3(({skipCache:s})=>{let m=s?{"skip-cache":1}:undefined;return this.httpClient.get(`${n}/${e}/settings`,{params:m})}),kc$2(()=>this.storeSettingsLoadingSubject.next(false)))}initConnection(t,e){return this.completeConnectionStep({salesChannel:t,step:"create",payload:{title:e.newStoreName,store_id:e.existingStoreId}}).pipe(ie$b(r=>({storeId:r.shop_id})))}getConnectionState(t,e){return this.httpClient.get(this.getConnectionSetupUrl(t,"settings",e))}completeConnectionStep(t){return this.httpClient.put(this.getConnectionSetupUrl(t.salesChannel,t.step,t.storeId),t.payload)}getShippingProfiles(t,e){let r=`${this.getBaseUrl(t)}/${e}/shipping-profiles`;return this.httpClient.get(r)}getConnectionUrl(t,{existingStore:e,storeUrl:r,newStoreName:n}){let s={redirect_to:"",domain:r,title:n};return e&&(s=x$d(w$9({},s),{shop_id:e.id,storeId:e.id,title:e.branding.brand})),this.httpClient.post(`${this.getBaseUrl(t)}/connect`,s).pipe(ie$b(m=>m.url))}getBaseUrl(t){return `${this.environment.apiURL}v1/sales_channels/${t}`}getConnectionSetupUrl(t,e,r){return r?`${this.getBaseUrl(t)}/${r}/setup/${e}`:`${this.getBaseUrl(t)}/setup/${e}`}installStore(t,e){return this.httpClient.post(`${this.getBaseUrl(t)}/install`,e).pipe(ie$b(r=>({storeId:r.shop_id})))}installStoreApp(t){return this.httpClient.post(`${this.environment.apiURL}v1/app/installed`,{app_id:t.appId,shop_id:t.storeId})}getConsentUrl(t,e){return this.httpClient.get(`${this.environment.apiURL}v1/public/sales_channels/${t}/connect`,{params:e}).pipe(ie$b(r=>r.url))}getPublishingRestrictedBlueprints(t,e){return this.userService.id$.pipe(mt$8(1),Ac$3(r=>this.httpClient.post(`${this.environment.apiURL}v1/users/${r}/shops/${t}/blueprint-publishing-restricted`,{blueprint_ids:e})),ie$b(({blueprint_ids:r})=>r))}reloadStoreSettings(t={}){this.storeSettingsRequestParamsSubject.next(t);}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(J$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var wi$1=(()=>{class i{constructor(t){this.salesChannelApiService=t,this.salesChannel="big_commerce";}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(ie$b(e=>({basePath:e.base_path})),oe$4(Le$5))}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>Xp$2(new Le$5(Re$2.ConnectionUrlRequestFailed,e))))}installStore(t){let e="storeName"in t?{title:t.storeName}:{store_id:t.storeId};return this.salesChannelApiService.installStore(this.salesChannel,x$d(w$9({},e),{code:t.code,context:t.context,scope:t.scope})).pipe(yi$5(r=>Xp$2(new Le$5(r.error?.code,r))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var xi$2=class xi extends Error{constructor(){super("Sales channel popup error"),this.name="SalesChannelPopupError";}},Mt=class extends xi$2{constructor(){super(...arguments),this.name="SalesChannelPopupClosedError";}},Zo$1="SALES_CHANNEL_POPUP",se$4=(()=>{class i{constructor(t){this.window=t,this.openPopup$=new Z$a;}open(t,e){this.openPopup$.next();let r=Zo$1,n=e?.size||800,s=n,m=this.window.outerHeight/2-s/2,y=this.window.outerWidth/2-n/2,b=this.window.open("",r,`width=${n},height=${s},top=${m},left=${y}`);return !b||typeof b.location.assign!="function"?Xp$2(new xi$2):t.pipe(Ac$3(C=>{b?.location.assign(C);let k=fh$2(100).pipe(ie$b(()=>b?.closed),Ye$b(Boolean),Ac$3(()=>Xp$2(new Mt))),$=_i$7(this.window,"message").pipe(Ye$b(Q=>Q.origin===this.window.origin&&Q.data.key===r),ie$b(Q=>Q.data.result));return $p$1(k,$)}),mt$8(1),Oc$2(this.openPopup$),xc$2(()=>{b?.close(),b=null;}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Q$9))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Pn$2=(()=>{class i{constructor(t,e,r){this.salesChannelPopupService=t,this.salesChannelLegacyConnectionService=e,this.bigCommerceApiService=r;}connect(t,e){let r=this.bigCommerceApiService.getConnectionUrl({existingStore:e});return this.openConnectionPopup(r).pipe(Ac$3(n=>this.connectExternalStore(t,n,e)))}connectFromSalesChannel(t,e){return this.salesChannelLegacyConnectionService.connect({required:true,salesChannel:t,steps:[Ne$2(r=>{if(!Xo$2(e))return Xp$2(new Le$5(Re$2.InvalidConsentUrlOptions));let n=bn$3(e);return this.bigCommerceApiService.installStore(x$d(w$9({},r),{code:n.code,context:n.context,scope:n.scope})).pipe(ie$b(()=>{}))},{isInitiatedBySalesChannel:true})]})}connectExternalStore(t,e,r){return this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:r,steps:[Ne$2(n=>this.bigCommerceApiService.installStore(x$d(w$9({},n),{code:e.code,context:e.context,scope:e.scope})).pipe(ie$b(()=>{})))]})}openConnectionPopup(t){return this.salesChannelPopupService.open(t).pipe(ie$b(e=>{if(!e.code)throw new Error("Access denied");return bn$3(e)}),yi$5(e=>{let r=e instanceof Le$5?e:new Le$5(Re$2.InstallationFailed,e);return Xp$2(r)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(se$4),pe$9(ne$2),pe$9(wi$1))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Xo$2(i){return typeof i.context=="string"&&typeof i.code=="string"&&(typeof i.scope=="string"||Array.isArray(i.scope))}function bn$3(i){return Array.isArray(i.scope)?x$d(w$9({},i),{scope:i.scope.join(" ")}):i}var wn$2=(()=>{class i extends U$8{constructor(t,e,r){super(),this.bigCommerceApiService=t,this.legacyConnectionService=e,this.featureTogglesService=r;}getGeneralDetails(){return ae$5(b$9.BigCommerce,"BigCommerce",{type:O$6.Platform,aboutUrl:"https://printify.com/bigcommerce/",affiliateUrl:"https://www.bigcommerce.com/dm/printify/",setupComplexity:f$8.RequiresEffort,audience:m$4.SmallBusinesses,biggestMarkets:["US","GB","IN"],hasSubscriptionFee:true,personalizationAvailable:true,personalizationDetailsAvailable:false,pricing:{level:h$4.High,tooltip:"15-day free trial. Plans starting at $29.95/mo + 2.05-2.35% transaction fee per order."},description:"BigCommerce is a powerful e-commerce platform that offers an excellent store builder with a variety of built-in tools.",extras:{basePath:""},mockupsGuidelines:["1000 mockup limit per product (1 per variant).","Generally, the recommended dimensions for product images are 1280 x 1280 px, though this may differ depending on your theme.","Maximum file size for product, variant, brand, and category images is 8 MB."],product:{hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),validationRules:{mockupsSelectedForPublishingCount:{min:0,max:1e3}}}})}getStoreSpecificDetails(t){return this.bigCommerceApiService.getStoreState(t).pipe(ie$b(e=>({extras:e})))}getProductUrl(t,e){return e.extras.basePath+t}getStoreDomain(t,e){return e.extras.basePath}legacyConnect(t,e){return this.legacyConnectionService.connect(t,e)}connectFromSalesChannel(t,e){return this.legacyConnectionService.connectFromSalesChannel(t,e)}getComponentForSlot(t){switch(t){case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}parsePublishingError(t,e,r){return new Le$5(t,e,r)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(wi$1),pe$9(Pn$2),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Se$3=(()=>{class i{constructor(){this.patchedSalesChannel=new Z$a,this.patchedSalesChannel$=this.patchedSalesChannel.asObservable();}patch(t,e){this.patchedSalesChannel.next(Cc$4({},t,e));}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var le$4=function(i){return i[i.ReauthorizationFailed=31002]="ReauthorizationFailed",i[i.OAuthFailed=31001]="OAuthFailed",i[i.InstallationFailed=31e3]="InstallationFailed",i[i.PaymentPolicyMissing=7001]="PaymentPolicyMissing",i[i.VariantsNumberPerProductViolation=7003]="VariantsNumberPerProductViolation",i[i.ProductRetailPriceBelowListingPrice=7004]="ProductRetailPriceBelowListingPrice",i[i.BusinessPoliciesNotEnabled=7005]="BusinessPoliciesNotEnabled",i[i.ProductTitleOrDescriptionViolation=7006]="ProductTitleOrDescriptionViolation",i[i.IncorrectShippingRatePolicy=7007]="IncorrectShippingRatePolicy",i[i.ShippingRatesViolation=7008]="ShippingRatesViolation",i[i.AccountSuspended=7011]="AccountSuspended",i[i.DailyPublishingLimitExceeded=7013]="DailyPublishingLimitExceeded",i[i.VariantDifferenceIsTooBig=1003]="VariantDifferenceIsTooBig",i}(le$4||{}),ie$6=class ie extends Ei$6{getName(){return "EbayError"}getMessage(l){switch(l){case le$4.InstallationFailed:return "Authentication failed. Please allow all Printify permissions to connect your store.";case le$4.OAuthFailed:return "Your eBay store is already connected to Printify.";default:return super.getMessage(l)}}getConnectionErrorDetails(){switch(this.code){case le$4.ReauthorizationFailed:return {subTitle:"Unable to update",newTab:true,linkLabel:"Read more",link:"https://help.printify.com/hc/en-us/articles/4483625269393-Why-can-t-I-publish-my-products-to-eBay-",content:"We're unable to update your store at this time. This may be because you're logged in to a different eBay account. Please log out of your eBay account and try again."};case le$4.InstallationFailed:case le$4.OAuthFailed:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};default:return}}getProductPublishingErrorDetails(){switch(this.code){case le$4.IncorrectShippingRatePolicy:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please update your shipping policy to publish."},statusBadge:{text:"Shipping error"}});case le$4.ShippingRatesViolation:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please adjust the shipping costs to publish."},statusBadge:{text:"Shipping error"}});case le$4.ProductRetailPriceBelowListingPrice:return Ro$1({banner:{text:"Please be sure the retail price of your product is above the minimum listing price on eBay.",placement:Po$5.Variants},publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please edit price to publish."},statusBadge:{text:"Price error"}});case le$4.ProductTitleOrDescriptionViolation:return Ro$1({statusBadge:{text:"eBay listing error",tooltip:"The title and/or description may contain improper words, or the listing or seller may be in violation of eBay policy. Please contact eBay for support."}});case le$4.PaymentPolicyMissing:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please enable Business Policies on eBay to publish."},statusBadge:{text:"Store error"}});case le$4.BusinessPoliciesNotEnabled:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:'Please enable "Business policies" in your eBay account to continue publishing.'},statusBadge:{text:"Store error"}});case le$4.VariantsNumberPerProductViolation:return Ro$1({banner:{text:"Due to eBay requirements, only one variant is allowed per product. Please update your product variants to publish.",button:{title:"Update variants",link:"https://www.ebay.com/"},placement:Po$5.Variants},publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please update the variants to publish."},statusBadge:{text:"Inventory error"}});case le$4.DailyPublishingLimitExceeded:return Ro$1({publishing:{disabled:true,enableOnProductChange:true},statusBadge:{text:"Listing error"}});case le$4.AccountSuspended:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:"The eBay account associated with this store is currently suspended"}});default:return super.getProductPublishingErrorDetails()}}};var Ti$4=function(i){return i.Authorization="authorization",i.Reauthorization="reauthorization",i.Reconnect="reconnect",i}(Ti$4||{});var Ei$5=(()=>{class i{constructor(t,e){this.httpClient=t,this.salesChannelApiService=e,this.salesChannel="ebay",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel);}initConnection(t){return this.salesChannelApiService.initConnection(this.salesChannel,t).pipe(oe$4(ie$6))}getConnectionState(t){return this.getStoreState(t)}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(ie$b(e=>({domain:e.domain,isSuspended:e.is_suspended,isPaymentPolicyCreated:e.is_payment_policy_created,hasTokenIssue:e.has_token_issue,tokenExpiresAt:e.renew_token_expiry_at?new Date(e.renew_token_expiry_at):null,isConnectionCompleted:e.is_setup_completed,hasAccount:e.has_account,isSellerRegistrationCompleted:e.is_seller_registration_completed,hasConfirmedBusinessPolicies:e.has_confirmed_required_policies,hasReachedApiLimit:!!e.ebay_api_limit_reset_seconds_left})),oe$4(ie$6))}getConnectionUrl(t,e,r){let n={storeId:t,title:e,shop_id:t,redirect_to:r};return this.httpClient.post(`${this.baseUrl}/connect?context=${Ti$4.Reconnect}`,n).pipe(ie$b(s=>s.url),oe$4(ie$6))}getReauthorizationUrl(t){return this.httpClient.post(`${this.baseUrl}/connect?context=${Ti$4.Reauthorization}`,{storeId:t}).pipe(ie$b(e=>e.url),oe$4(ie$6))}getPrivileges(t){return this.httpClient.get(`${this.baseUrl}/${t}/privileges`).pipe(ie$b(e=>({isSellerRegistrationCompleted:e.is_seller_registration_completed})),oe$4(ie$6))}confirmBusinessPolicies(t){return this.salesChannelApiService.completeConnectionStep({salesChannel:this.salesChannel,step:"confirm-business-policies",storeId:t.storeId}).pipe(oe$4(ie$6))}authorize(t,e){let r={code:e};return this.httpClient.post(`${this.baseUrl}/${t}/authorize`,r).pipe(oe$4(ie$6))}reauthorize(t,e){return this.httpClient.post(`${this.baseUrl}/${e}/reauthorize`,t).pipe(oe$4(ie$6))}getSellingLimit(t,e=false){let r=e?{skipCache:+e}:undefined;return this.httpClient.get(`${this.baseUrl}/${t}/limits`,{params:r}).pipe(ie$b(n=>({isApplicable:n.limits_applicable,remainingAmount:Number.parseInt(n.remaining.amount.value,10),remainingQuantity:n.remaining.quantity,totalAmount:Number.parseInt(n.total.amount.value,10),totalQuantity:n.total.quantity,currency:n.total.amount.currency||n.remaining.amount.currency})),oe$4(ie$6))}getListedProductVariantsQuantity(t,e){return this.httpClient.get(`${this.baseUrl}/${t}/product/${e}/variants-quantity`).pipe(ie$b(({quantity:r})=>r),oe$4(ie$6))}refreshSuspendedStatus(t){return this.httpClient.post(`${this.baseUrl}/${t}/unsuspend`,null).pipe(oe$4(ie$6))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Tn$2=D$a(Kc$2());function ta$1(i,l){if(i&1&&(Kf$2(0,"pfy-link",5),fP(1),Xf$2()),i&2){let t=tP();lE("href",t.link)("newTab",t.newTab),xR(),ip$2(" ",t.linkLabel," ");}}var tt$3=(()=>{class i{constructor(t){this.modalDialogRef=t;let e=this.modalDialogRef.getData()?.details;(0, Tn$2.assert)(!!e,"No data provided for the dialog"),this.content=e.content,this.subTitle=e.subTitle||"Oops! Something went wrong...",this.linkLabel=e.linkLabel||"Read more",this.link=e.link,this.newTab=e.newTab;}static{this.\u0275fac=function(e){return new(e||i)(Yo$4(Zn$3))};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-connection-failed-modal"]],standalone:false,decls:9,vars:3,consts:[[1,"modal-dialog-content"],[1,"image-container"],["src","/assets/svg/store-connection-failed.svg","width","150","height","150","alt","Connection error"],[1,"description"],[3,"text"],["type","primary","data-testid","connectionFailedModalLink",1,"link",3,"href","newTab"]],template:function(e,r){e&1&&(Kf$2(0,"pfy-modal-dialog")(1,"pfy-modal-dialog-content",0)(2,"div",1),ME(3,"img",2),Xf$2(),Kf$2(4,"h5"),fP(5),Xf$2(),Kf$2(6,"p",3),ME(7,"pfa-rich-text",4),Xf$2(),kI(8,ta$1,2,3,"pfy-link",5),Xf$2()()),e&2&&(xR(5),WE(r.subTitle),xR(2),lE("text",r.content),xR(),QR(r.link?8:-1));},styles:['@charset "UTF-8";.modal-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1rem 0}.image-container[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 840px){.image-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}}.description[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0});}}return i})();var ia$1=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275mod=EI({type:i});}static{this.\u0275inj=qh$2({imports:[Gs$2,dT,Ht]});}}return i})();yP(tt$3,[Vu$2,Fo$1,bs$2,Ht],[]);var En$2=(()=>{class i{constructor(t,e,r,n,s){this.toastService=t,this.dialogService=e,this.salesChannelPopupService=r,this.salesChannelPatcherService=n,this.ebayApiService=s;}reauthorize(t){return this.salesChannelPopupService.open(this.ebayApiService.getReauthorizationUrl(t.storeId)).pipe(ie$b(ra$1),Ac$3(e=>e.hasError?Xp$2(new ie$6(le$4.ReauthorizationFailed)):this.ebayApiService.reauthorize({code:e.code},e.storeId)),kc$2(()=>{this.salesChannelPatcherService.patch(t,{token:{hasExpired:false,hasExpiryWarning:false,expiresAt:null}}),this.toastService.success({content:"You're all set! Your eBay store connection was successfully updated."});}),ie$b(()=>{}),yi$5(e=>{let r=e instanceof ie$6?e:new ie$6(le$4.ReauthorizationFailed,e);return r.getConnectionErrorDetails()?this.dialogService.open(tt$3,{details:r.getConnectionErrorDetails()}):this.toastService.error({content:"Failed to renew token"}),hi$7(undefined)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(zu$1),pe$9(se$4),pe$9(Se$3),pe$9(Ei$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function ra$1(i){if("error"in i)return {hasError:true};let[l,t]=i.state.split(":");return {hasError:false,storeId:Number.parseInt(l,10),context:t,code:i.code}}var oa=7,In$2=(()=>{class i extends U$8{constructor(t,e,r,n,s,m,y){super(),this.toastService=t,this.customErrorHandler=e,this.browserStorageService=r,this.ebayApiService=n,this.salesChannelPatcherService=s,this.ebayReauthorizationService=m,this.featureTogglesService=y;}getGeneralDetails(){return ae$5(b$9.Ebay,"eBay",{sellingLimit:{supported:true,supportUrl:"https://www.ebay.com/help/selling/listings/selling-limits?id=4107&st=12&pos=1&query=Selling%20limits&intent=selling%20limit&docId=HELP1046",helpCenterUrl:"https://help.printify.com/hc/en-us/articles/4483625269393-Why-can-t-I-publish-my-products-to-eBay-"},type:O$6.Marketplace,aboutUrl:"https://printify.com/ebay/",affiliateUrl:"https://www.ebay.com/help/selling/selling/start-selling-ebay?id=4081",hasNewConnectionFlow:true,personalizationAvailable:true,personalizationDetailsAvailable:false,isPopular:true,setupComplexity:f$8.RequiresEffort,audience:m$4.SmallBusinesses,biggestMarkets:["US"],pricing:{level:h$4.Medium,tooltip:"Free to start. Between 3-15%  transaction fee per order + $0.35  listing fee per product."},catalogName:"eBay US",description:"eBay is the world's 2nd biggest marketplace, with 147 million active buyers and over 1 billion monthly visitors.",extras:{isSuspended:false,hasReachedApiLimit:false},mockupsGuidelines:["24 mockup limit.","The lead mockup should use a white background."],product:{isVariantAvailabilityShown:true,allowsSelectionOfMockupsForPublishing:true,hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),validationRules:{mockupsSelectedForPublishingCount:{min:1,max:12}},canBeHidden:false}})}getStoreSpecificDetails(t){let e=this.getGeneralDetails();return this.ebayApiService.getStoreState(t).pipe(ie$b(({tokenExpiresAt:r,hasTokenIssue:n,isSuspended:s,hasReachedApiLimit:m,domain:y})=>{let b=r&&pa$1(new Date,r)||n;return {token:{hasExpiryWarning:!b&&!!r&&Tt$1(r,new Date)<=oa,hasExpired:b,expiresAt:r},product:{publishing:{disabled:b,tooltip:b?`Please update your store connection to continue using ${e.name} with Printify.`:""}},extras:{domain:y,isSuspended:s,hasReachedApiLimit:m}}}))}getStoreAction(t){return t.token.hasExpired||t.token.hasExpiryWarning?{text:"Renew token",type:Ze$5.Secondary,analyticsId:"reauthorizationButton",handler:()=>this.ebayReauthorizationService.reauthorize(t),hint:t.token.hasExpiryWarning&&t.token.expiresAt?{text:`Token expires in ${Mt$1(new Date,t.token.expiresAt)}`,status:ot$a.Warning}:{text:"Token expired",status:ot$a.Error}}:super.getStoreAction(t)}getStoreDomain(t,e){return e.extras.domain}parsePublishingError(t,e,r){return new ie$6(t,e,r)}getSellingLimit(t,e,r){let n=`ebay_${t}_selling_limit`;if(e)this.browserStorageService.remove(n,I$8.Local);else {let s=this.browserStorageService.get(n,undefined,I$8.Local);if(s)return pi$6(hi$7(s),J$7)}return this.ebayApiService.getSellingLimit(t,r).pipe(kc$2(s=>this.browserStorageService.set(n,s,{storageType:I$8.Local,clearOnAuth:true})))}reauthorize(t){return this.ebayReauthorizationService.reauthorize(t)}getListedProductVariantsQuantity(t,e){let r=`ebay_${t}_listed_product_variants_quantity`,n=this.browserStorageService.get(r,{},I$8.Local);return n[e]!==undefined?pi$6(hi$7(n[e]),J$7):this.ebayApiService.getListedProductVariantsQuantity(t,e).pipe(kc$2(s=>{this.browserStorageService.set(r,x$d(w$9({},this.browserStorageService.get(r,{},I$8.Local)),{[e]:s}),{storageType:I$8.Local,clearOnAuth:true});}))}getComponentForSlot(t){switch(t){case g$6.Banners:return ye$7(import('./chunk-Bb1tFnFM.js').then(e=>e.EbayProductDetailsBannersComponent));case g$6.PublishingSettingsBanners:return ye$7(import('./chunk-BLbU7Bmh.js').then(e=>e.EbayProductDetailsPublishingSettingsBannersComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case I$5.Banners:return ye$7(import('./chunk-D4hn1-lD.js').then(e=>e.EbayProductsBannersComponent));case g$6.VariantsBanners:return ye$7(import('./chunk-DPsPuyhC.js').then(e=>e.EbayProductDetailsVariantsBannersComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}refreshSuspendedStatus(t){return this.ebayApiService.refreshSuspendedStatus(t.storeId).pipe(Ac$3(()=>this.ebayApiService.getStoreState(t.storeId)),kc$2(e=>{this.salesChannelPatcherService.patch(t,{extras:{isSuspended:e.isSuspended}}),this.toastService.info("Store status refreshed successfully");}),ie$b(()=>{}),yi$5(e=>(this.customErrorHandler.handleError(e),this.toastService.error("Failed to refresh store status"),hi$7(undefined))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(Cr$2),pe$9(Y$4),pe$9(Ei$5),pe$9(Se$3),pe$9(En$2),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Ki$2=function(i){return i.Pricing="pricing",i}(Ki$2||{});var An$3="Your Etsy shop must be fully set up to publish products successfully. If it's ready, just republish them.",aa$1=function(i){return i.CreateShop="create_shop",i.CreatePlaceholderListing="create_place_holder_listing",i.AddPaymentDetails="add_payment_details",i.AddBillingDetails="add_billing_details",i}(aa$1||{});var Qi$2=function(i){return i.TryAgain="tryAgain",i.ChooseAnotherSalesChannel="chooseAnotherSalesChannel",i}(Qi$2||{});var F$6=function(i){return i[i.AuthorizationFailed=61e3]="AuthorizationFailed",i[i.MultipleStoresConnected=61001]="MultipleStoresConnected",i[i.EtsyMigration=61002]="EtsyMigration",i[i.EtsyDifferentAccount=61004]="EtsyDifferentAccount",i[i.EtsyStoreNotFound=61005]="EtsyStoreNotFound",i[i.ReauthorizationFailed=61006]="ReauthorizationFailed",i[i.DifferentUser=61007]="DifferentUser",i[i.StoreCannotBeFound=4e3]="StoreCannotBeFound",i[i.AccountSuspended=4001]="AccountSuspended",i[i.BillingIssue=4002]="BillingIssue",i[i.StoreSetupFailed=4003]="StoreSetupFailed",i[i.AuthorizationTokenRevoked=4004]="AuthorizationTokenRevoked",i[i.AuthorizationTokenRejected=4005]="AuthorizationTokenRejected",i[i.NoActivePaymentMethod=4006]="NoActivePaymentMethod",i[i.EmptyDescription=4100]="EmptyDescription",i[i.TitleContainsMultipleAmpersands=4101]="TitleContainsMultipleAmpersands",i[i.ListingRemoved=4102]="ListingRemoved",i[i.TitleStartsWithInvalidSymbol=4103]="TitleStartsWithInvalidSymbol",i[i.TitleLengthLimitExceeded=4104]="TitleLengthLimitExceeded",i[i.TitleContainsAllCapitalLetters=4105]="TitleContainsAllCapitalLetters",i[i.TitleContainsDollarSign=4106]="TitleContainsDollarSign",i[i.ListingUnavailable=4107]="ListingUnavailable",i[i.StoreFrozen=4108]="StoreFrozen",i[i.ListingCreatesAreDisabledForFrozenShop=4109]="ListingCreatesAreDisabledForFrozenShop",i[i.ShippingProfileWithCalculatedPrice=4201]="ShippingProfileWithCalculatedPrice",i[i.ShippingProfileNotExists=4202]="ShippingProfileNotExists",i[i.InvalidShippingProfile=4206]="InvalidShippingProfile",i[i.RetailPriceSmallerThanMinimumListingPrice=4300]="RetailPriceSmallerThanMinimumListingPrice",i[i.RetailPriceSmallerThanListingFee=4301]="RetailPriceSmallerThanListingFee",i[i.StoreSetupRequired=4303]="StoreSetupRequired",i[i.InstallationFailed=31e3]="InstallationFailed",i}(F$6||{}),H$3=class H extends Ei$6{getName(){return "EtsyError"}getConnectionErrorDetails(){switch(this.code){case F$6.InstallationFailed:return this.options?.isEtsySetupPhase3FlagEnabled||this.options?.isEtsyGuidedConnectionFlowIteration2FlagEnabled?{subTitle:"Reauthorize your Etsy shop",content:P$7.text`
                        Your Etsy account is connected to Printify and to use your Etsy shop, please grant access to your Etsy account.
                        ${P$7.lineBreak()}
                        ${P$7.lineBreak()}
                        Once authorized, you'll be able to manage your Etsy shop seamlessly through Printify platform.
                    `,buttons:{primary:{text:"Reauthorize Etsy Shop",routerLink:`/${o$9}/${r$7}/${D$7}/${M$7}`}}}:undefined;case F$6.DifferentUser:case F$6.ReauthorizationFailed:return {subTitle:"Unable to update",content:"We're unable to update your store at this time. This may be because you're logged in to a different Etsy account. Please log out of your Etsy account and try again.",link:"https://help.printify.com/hc/en-us/articles/4483617102097-Why-can-t-I-publish-my-products-to-Etsy-",linkLabel:"Read more"};case F$6.EtsyMigration:return {subTitle:"Unable to update",content:"There was an issue when trying to update your store. Please try again. If the issue continues, please contact support."};case F$6.EtsyDifferentAccount:return {subTitle:"Unable to update",newTab:true,content:`We're unable to update your store at this time. This may be because you're logged in to a different Etsy account.
                    Please log out of your Etsy account and try again.`,link:"https://help.printify.com/hc/en-us/articles/4545030473233-Etsy-Integration-Update",linkLabel:"Read more"};case F$6.EtsyStoreNotFound:return {subTitle:"Amazing start! Go to Etsy to finish setting up your account and then click \u201CTry Again\u201D on this screen",content:"You need to go to Etsy to complete your account set up before continuing to create and publish products on Printify.",buttons:{primary:{text:"Go to Etsy",href:"https://www.etsy.com/your/shops/me/onboarding/screener/welcome"},secondary:Qi$2.TryAgain},newTab:true,link:"https://help.printify.com/hc/en-us/articles/4483617508241-How-can-I-integrate-my-Etsy-shop-",linkLabel:"Read more"};case F$6.AuthorizationFailed:return {subTitle:"We couldn\u2019t connect your Etsy shop",content:P$7.text`
                        It looks like your Etsy login details were incorrect, or you didnt grant Printify the required permissions.
                        ${P$7.lineBreak()}
                        ${P$7.lineBreak()}
                        Please double-check your credentials and make sure youve allowed Printify to access your shop.
                    `};case F$6.MultipleStoresConnected:return this.details?.alreadyConnectedEmail?{subTitle:"Oops! This Etsy shop is already connected",content:P$7.text`
                             It looks like the Etsy shop with email 
                             ${P$7.bold(decodeURIComponent(this.details.alreadyConnectedEmail))}
                             youre trying to connect is already linked to your Printify store.
                             ${P$7.lineBreak()}
                             ${P$7.lineBreak()}
                             Please sign in with a different Etsy account to continue. If you believe this is an error, our Support Team can help.
                            `}:{subTitle:"Oops! This Etsy shop is already connected",content:P$7.text`
                        It looks like the Etsy shop youre trying to connect is already linked to your Printify store.
                        ${P$7.lineBreak()}
                        ${P$7.lineBreak()}
                        Please sign in with a different Etsy account to continue. If you believe this is an error, our Support Team can help.
                    `};default:return}}getProductPublishingErrorDetails(){switch(this.code){case F$6.ShippingProfileNotExists:return Ro$1({statusBadge:{text:"Shipping error"}});case F$6.InvalidShippingProfile:return Ro$1({banner:{text:"Selected shipping profile does not match product free shipping setting. Please select different one to publish the product."},statusBadge:{text:"Shipping error"}});case F$6.RetailPriceSmallerThanMinimumListingPrice:return Ro$1({banner:{text:"The retail price of your product should be above the minimum listing price on Etsy.",button:{title:"Read more",link:"https://help.printify.com/hc/en-us/articles/4483607336849"}},statusBadge:{text:"Price error"}});case F$6.RetailPriceSmallerThanListingFee:return Ro$1({banner:{text:"The retail price of your product should be higher than the listing fee on Etsy.",button:{title:"Read more",link:"https://help.printify.com/hc/en-us/articles/4483607336849"}},statusBadge:{text:"Price error"}});case F$6.ListingUnavailable:return Ro$1({statusBadge:{text:"Listing removed"}});case F$6.ListingRemoved:return Ro$1({statusBadge:{text:"Listing removed"}});case F$6.TitleLengthLimitExceeded:case F$6.TitleContainsAllCapitalLetters:case F$6.TitleContainsDollarSign:case F$6.TitleContainsMultipleAmpersands:case F$6.TitleStartsWithInvalidSymbol:return Ro$1({banner:{text:"Looks like there is an issue with your product listing. Please edit listing and fix any errors before republishing."},statusBadge:{text:"Title error"}});case F$6.EmptyDescription:return Ro$1({statusBadge:{text:"Description error"}});case F$6.StoreCannotBeFound:return Ro$1({statusBadge:{text:"Store error"}});case F$6.BillingIssue:return Ro$1({statusBadge:{text:"Store error"}});case F$6.StoreSetupFailed:return Ro$1({banner:{title:"Complete Etsy store setup to publish your products",text:P$7.text`Please go to Etsy > Shop Manager on ${P$7.link("Etsy.com","https://www.etsy.com/your/shops/me/dashboard")} and complete the store setup process to publish your products. ${P$7.link("Read more","https://help.printify.com/hc/en-us/articles/4545030473233")}`,button:{title:"Go to Etsy.com",link:"https://www.etsy.com/your/shops/me/dashboard"}},statusBadge:{text:"Store error"}});case F$6.NoActivePaymentMethod:return Ro$1({banner:{text:"Please ensure that you have an active payment method set up on Etsy."},statusBadge:{text:"Store error"}});case F$6.StoreFrozen:return Ro$1({publishing:{disabled:true,tooltip:"Please contact Etsy support to publish this product."},statusBadge:{text:"Store error"}});case F$6.ListingCreatesAreDisabledForFrozenShop:return Ro$1({publishing:{disabled:true,tooltip:"Please contact Etsy support to publish this product."},statusBadge:{text:"Listing error"}});case F$6.AuthorizationTokenRejected:case F$6.AuthorizationTokenRevoked:return Ro$1({statusBadge:{text:"Store error"}});case F$6.AccountSuspended:return Ro$1({statusBadge:{text:"Store suspended"}});case F$6.ShippingProfileWithCalculatedPrice:return Ro$1({publishing:{disabled:true,enableOnProductChange:true,tooltip:"Please choose a non-calculated shipping profile to publish."}});case F$6.StoreSetupRequired:let l="";return this.options?.isEtsySetupPhase3FlagEnabled||this.options?.isEtsyGuidedConnectionFlowIteration2FlagEnabled?l=`/${o$9}/${r$7}/${D$7}/${g$a}`:this.options?.isEtsySetupPhase2FlagEnabled?l=`/${o$9}/${r$7}/${w$6}/${Z$7}`:this.options?.isEtsySetupPhase1FlagEnabled&&(l=`/${o$9}/${r$7}/${y$5}`),l?Ro$1({banner:{text:An$3,analyticsId:"productEtsySetupRequiredPublishErrorBanner",button:{title:"Finish the setup",link:l,internal:true}},statusBadge:{text:"Publishing error",tooltip:"Please finish your Etsy shop setup to publish.",color:ds$3.Red},publishing:{disabled:false,tooltip:""}}):super.getProductPublishingErrorDetails();default:return super.getProductPublishingErrorDetails()}}};var Ii$1=i=>({id:i.shipping_template_id.toString(),title:i.title,processingDaysDisplayLabel:i.processing_days_display_label,shippingMethod:i.shipping_method,shippingMethods:i.shipping_methods});var Ye$6=(()=>{class i{constructor(t,e,r,n){this.httpClient=t,this.salesChannelApiService=e,this.userService=r,this.environment=n,this.salesChannel="etsy",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel),this.userId$=this.userService.id$.pipe(mt$8(1));}getReauthorizationUrl(t){return this.httpClient.post(`${this.baseUrl}/${t}/reauthorize`,null).pipe(ie$b(e=>e.url),oe$4(H$3))}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(ie$b(e=>({migrationRequired:e.etsy_v3_migration_required,hasTokenIssue:e.has_token_issue,isManualOrderImportAllowed:e.is_manual_order_import_allowed,nextOrderImportTimestamp:e.next_order_import_at,isSetupRequired:e.is_setup_required})),oe$4(H$3))}getMigrationUrl(t){return this.httpClient.post(`${this.baseUrl}/${t}/v3_migration`,{}).pipe(ie$b(e=>e.url),oe$4(H$3))}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(oe$4(H$3))}getShippingProfiles(t){return this.userId$.pipe(Ac$3(e=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${e}/shops/${t}/shipping-profiles`).pipe(ie$b(r=>r.map(Ii$1)),oe$4(H$3))))}getListedShippingProfile(t,e){return this.userId$.pipe(Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${r}/shops/${t}/shipping-profiles/${e}`).pipe(ie$b(Ii$1),oe$4(H$3))))}getShippingProfileById(t,e){return this.userId$.pipe(Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${r}/shops/${t}/shipping-profile-by-id/${e}`).pipe(ie$b(Ii$1),oe$4(H$3))))}importOrder(t){return this.httpClient.post(`${this.baseUrl}/${t}/orders/import`,{}).pipe(oe$4(H$3))}isEligibleForPayments(){return this.httpClient.get(`${this.baseUrl}/payments/eligibility`).pipe(ie$b(t=>t.is_eligible),yi$5(()=>hi$7(true)))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(Z$4),pe$9(J$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var kn$3=(()=>{class i{constructor(){this.toastService=N$8(rO),this.salesChannelPopupService=N$8(se$4),this.salesChannelLegacyConnectionService=N$8(ne$2),this.etsyApiService=N$8(Ye$6),this.featureTogglesService=N$8(te$5);}connect(t,e){let r=this.etsyApiService.getConnectionUrl({existingStore:e}),n=this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase3),s=this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2),m=this.featureTogglesService.isFeatureEnabled(jt$2.AlreadyConnectedEmailError);return this.salesChannelPopupService.open(r).pipe(ie$b(sa$1),Ac$3(y=>this.salesChannelLegacyConnectionService.handleConnectionCompletion({salesChannel:t,storeId:y.storeId,error:"errorCode"in y?new H$3(y.errorCode,undefined,w$9({},m&&y.alreadyConnectedEmail?{alreadyConnectedEmail:y.alreadyConnectedEmail}:{}),{isEtsySetupPhase3FlagEnabled:n,isEtsyGuidedConnectionFlowIteration2FlagEnabled:s}):undefined})),yi$5(y=>{let b=y instanceof H$3?y:new H$3(F$6.InstallationFailed,y,undefined,{isEtsySetupPhase3FlagEnabled:n,isEtsyGuidedConnectionFlowIteration2FlagEnabled:s});return n||s?this.salesChannelLegacyConnectionService.handleConnectionCompletion({salesChannel:t,storeId:e?.id,error:b}):(this.toastService.error({content:b.message}),be$8)}))}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function sa$1(i){if("connected"in i)return {storeId:Number.parseInt(i.connected,10)};let[l]=i["connection-failed"].includes("-")?i["connection-failed"].split("-").reverse():[i["connection-failed"]];return w$9({storeId:Number.parseInt(l,10),errorCode:Number.parseInt(i["connection-failed-code"],10)},i["already-connected-email"]?{alreadyConnectedEmail:i["already-connected-email"]}:{})}var _n$2=(()=>{class i{constructor(t,e,r,n,s){this.toastService=t,this.dialogService=e,this.salesChannelPopupService=r,this.salesChannelPatcherService=n,this.etsyApiService=s;}migrate(t){return this.salesChannelPopupService.open(this.etsyApiService.getMigrationUrl(t.storeId)).pipe(ie$b(ca$1),ie$b(e=>{if("errorCode"in e)throw new H$3(e.errorCode);this.salesChannelPatcherService.patch(t,{extras:{migrationRequired:false}}),this.toastService.success({content:"You\u2019re all set! Your Etsy store connection was successfully updated."});}),yi$5(e=>{let r=e instanceof H$3?e:new H$3(F$6.EtsyMigration,e);return r.getConnectionErrorDetails()?this.dialogService.open(tt$3,{details:r.getConnectionErrorDetails()}):this.toastService.error({content:"Something went wrong. Please try again later."}),hi$7(undefined)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(zu$1),pe$9(se$4),pe$9(Se$3),pe$9(Ye$6))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function ca$1(i){if("etsy_v3_migrated"in i)return {storeId:Number.parseInt(i.etsy_v3_migrated,10)};let[l]=i["connection-failed"].includes("-")?i["connection-failed"].split("-").reverse():[i["connection-failed"]];return {storeId:Number.parseInt(l,10),errorCode:Number.parseInt(i["connection-failed-code"],10)}}var Fn$2=(()=>{class i{constructor(t,e,r,n,s){this.toastService=t,this.dialogService=e,this.salesChannelPopupService=r,this.salesChannelPatcherService=n,this.etsyApiService=s;}reauthorize(t){return this.salesChannelPopupService.open(this.etsyApiService.getReauthorizationUrl(t.storeId)).pipe(ie$b(ua$1),kc$2(e=>{if("errorCode"in e)throw new H$3(e.errorCode);this.salesChannelPatcherService.patch(t,{token:{hasExpired:false}}),this.toastService.success({content:"You're all set! Your Etsy store connection was successfully updated."});}),ie$b(()=>{}),yi$5(e=>{let r=e instanceof H$3?e:new H$3(F$6.ReauthorizationFailed,e);return r.getConnectionErrorDetails()?this.dialogService.open(tt$3,{details:r.getConnectionErrorDetails()}):this.toastService.error({content:"Failed to renew token"}),hi$7(undefined)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(zu$1),pe$9(se$4),pe$9(Se$3),pe$9(Ye$6))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function ua$1(i){if("reauthorized"in i)return {storeId:Number.parseInt(i.reauthorized,10)};let[l]=i["connection-failed"].includes("-")?i["connection-failed"].split("-").reverse():[i["connection-failed"]];return {storeId:Number.parseInt(l,10),errorCode:Number.parseInt(i["connection-failed-code"],10)}}var Ln$2=(()=>{class i{constructor(t,e,r){this.customErrorHandler=t,this.etsyApiService=e,this.featureTogglesService=r;}getConfig(t,e,r,n,s){let m={};if(this.productId!==t._id&&(this.productId=t._id,this.haveVariantsWithDifferenceInShippingCost=this.findDifferenceInShippingCost(t.decorators[0].variants)),this.haveVariantsWithDifferenceInShippingCost&&(m.inlineMessage={type:yi$3.Warning,message:"Product has multiple variants that have a different shipping rate (due to size/weight differences).",link:{text:"Learn more",url:"https://help.printify.com/hc/en-us/articles/4483616513041"}}),t.publishing_status==="failed"&&t.log?.publisher?.error_last_code&&t.log.publisher.error_last_code===F$6.ShippingProfileWithCalculatedPrice)return hi$7(this.shippingProfileWithCalculatedPrice(m));let y,b;t.external&&(y=t.external.id,b=t.external.shipping_template_id?.toString()),this.storeId!==n.id&&(this.storeId=n.id,this.shippingProfilesCache={});let C=[],k=b||this.featureTogglesService.isFeatureEnabled(jt$2.EtsyDefaultShippingProfile)&&n.default_shipping_profile_id;if(k){if(r.length){let $=r.find(({id:Q})=>Q===k);C.push(hi$7($));}else C.push(this.getShippingProfile(k));return y&&C.push(this.getListingShippingProfile(y)),ih$1(C).pipe(ie$b(([$,Q])=>{if(C.length===2){if(!Q)return this.shippingProfileDeletedOnEtsy();if(!$)return this.deletedShippingProfileReplacedOnEtsy();if(Q.id!==$.id)return m.selectedShippingProfile=fe$5(Q),this.existingShippingProfileMismatchWithEtsy(m)}return m.selectedShippingProfile=this.selectShippingProfile($,e,s),de$5(m)}),yi$5($=>(this.customErrorHandler.handleError($),m.selectedShippingProfile={name:`Shipping profile - ${k}`,value:k},hi$7(de$5(m)))))}return hi$7(de$5(m))}getListingShippingProfile(t){return this.etsyApiService.getListedShippingProfile(this.storeId,t)}getShippingProfile(t){return this.shippingProfilesCache[t]?hi$7(this.shippingProfilesCache[t]):this.etsyApiService.getShippingProfileById(this.storeId,t).pipe(kc$2(e=>{this.shippingProfilesCache[t]=e;}))}selectShippingProfile(t,e,r){if(this.featureTogglesService.isFeatureEnabled(jt$2.EtsyExpressDelivery)){let n=e.includes(r$5.Express);if(r.initialProductExpressDeliveryEnabled!==n)return T$7}if(this.featureTogglesService.isFeatureEnabled(jt$2.EconomyShippingMain)){let n=e.includes(r$5.Economy);if(r.initialProductEconomyDeliveryEnabled!==n)return T$7}return this.featureTogglesService.isFeatureEnabled(jt$2.PriceTableImprovements)&&r.initialProductFreeShippingDeliveryEnabled!==r.freeShippingEnabled?T$7:t?fe$5(t):undefined}findDifferenceInShippingCost(t){let e={};return t.some(r=>r.on===1?r.shipping_costs?.some(({method:n,profiles:s})=>n===ji$3.ExpressDelivery?false:(e[n]||(e[n]={}),s.some(({first_item:{cost:m},country:y})=>{let b=e[n];return typeof b[y]=="number"?b[y]!==m:(b[y]=m,false)}))):false)}shippingProfileWithCalculatedPrice(t){return de$5(w$9({},t))}shippingProfileDeletedOnEtsy(t){return de$5(x$d(w$9({},t),{banner:{status:ot$a.Error,content:"The shipping profile for this product no longer exists. Please select an existing profile or create a new one (this will not impact SEO)."}}))}deletedShippingProfileReplacedOnEtsy(t){return de$5(x$d(w$9({},t),{selectedShippingProfile:T$7,banner:{status:ot$a.Warning,content:"A shipping profile for this product already exists on Etsy. Please match an existing shipping profile or create a new one, then republish (this will not impact SEO)."}}))}existingShippingProfileMismatchWithEtsy(t){return de$5(x$d(w$9({},t),{banner:{status:ot$a.Warning,content:"The shipping profile for this product does not match with Etsy. Please match an existing shipping profile or create a new one, then republish (this will not impact SEO)."}}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Cr$2),pe$9(Ye$6),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Dn$2=[{tabId:N$4.MockupDesigns,analyticsId:"GrowthTools_goToPlaceit",affiliateLink:"https://1.envato.market/b3rAE6",title:"Enhance your business with stunning mockups from Placeit.",howItCanHelp:["Attract customers with realistic product images.","Generate mockups quickly, no design skills needed.","Build trust with professional visuals.","Choose from diverse mockup templates."],image:"assets/img/placeit.svg",logo:"assets/img/placeit_logo.svg",video:"https://www.youtube.com/embed/R0RPWvSIpU4",shortDescription:"Looking to ramp up your merch sales? Check out Placeit\u2019s high-quality mockups.",description:"Elevate your brand with high-quality mockups from Placeit. It helps you create professional and eye-catching visuals for your online store.",shortDescriptionVariant2:"Get high-quality mockups from Placeit to boost listing appeal.",bannerInfo:"90% of online buyers say product photo quality is the most important factor in an online sale."},{tabId:N$4.MockupDesigns,analyticsId:"GrowthTools_goToCreativeMarket",affiliateLink:"https://www.awin1.com/cread.php?awinmid=31207&awinaffid=1624447",title:"Supercharge your Etsy shop with eRank.",howItCanHelp:["Improve your Etsy SEO to rank higher in search results.","Access keyword suggestions and trend data quickly.","Gain insights into competitor performance.","Optimize listings based on data-driven recommendations."],image:"assets/img/erank.svg",logo:"assets/img/erank_logo.png",video:"https://www.youtube.com/embed/3lXCxTXY1Yw",shortDescription:"Optimize listings and stay on top of trends: Discover popular keywords for POD categories and items.",description:"Optimize your Etsy shop with eRank. Perfect for Printify users, eRank helps you boost your sales with powerful SEO and analytics tools.",shortDescriptionVariant2:"Find popular keywords to improve your listing visibility and get more sales.",bannerInfo:"Shops using SEO tools see a 30% increase in traffic."},{tabId:N$4.MockupDesigns,analyticsId:"GrowthTools_goToErank",affiliateLink:"https://hellocustom.io/?via=printify",title:"Transform your pod business with HelloCustom.",howItCanHelp:["Offer unique, customizable products that attract more customers.","Easily design and manage custom products with intuitive tools.","Provide a personalized shopping experience.","Access a wide variety of customizable templates."],image:"assets/img/hello_custom.svg",logo:"assets/img/hello_custom_logo.png",video:"https://www.youtube.com/embed/SYrUmJJMfAU",shortDescription:"Done for you personalization app for Etsy POD sellers. Personalizing custom POD products has never been easier!",description:"Elevate your Printify store with HelloCustom. Create personalized, high-quality products effortlessly, enhancing customer satisfaction and boosting your sales.",shortDescriptionVariant2:"Personalizing POD products has never been easier, thanks to HelloCustom!",bannerInfo:"60% of consumers are willing to pay more for personalized products."},{tabId:N$4.MockupDesigns,analyticsId:"GrowthTools_goToHelloCustom",affiliateLink:"https://www.tkqlhce.com/click-100942635-15536549",title:"Enhance your designs with Creative Market.",howItCanHelp:["Attract customers with high-quality, unique designs.","Quickly find and use ready-made templates and graphics.","Explore a wide range of design assets to inspire new ideas.","Access diverse templates for various product types."],image:"assets/img/creative_market.svg",logo:"assets/img/creative_market_logo.png",video:"https://www.youtube.com/embed/BrkeaJKt4lg",shortDescription:"Access a vast library of design assets to create stunning, professional-quality products.",description:"Upgrade your Printify store with Creative Market. Access a vast library of design assets to create stunning, professional-quality products.",shortDescriptionVariant2:"Access an extensive library of design assets to create stunning products.",bannerInfo:"High-quality design assets can increase sales by 30%."},{tabId:N$4.Personalization,analyticsId:"GrowthTools_anywherepod",affiliateLink:"https://anywherepod.com",title:"Enhance your designs with Creative Market.",howItCanHelp:[],image:"",logo:"assets/img/anywherepod_logo.png",video:"https://www.youtube.com/embed/XcbgWi8Z9_g",shortDescription:"",description:"",shortDescriptionVariant2:"Where personalization meets seamless print-on-demand automation.",bannerInfo:""},{tabId:N$4.Personalization,analyticsId:"GrowthTools_customily",affiliateLink:"https://www.customily.com",title:"Enhance your designs with Creative Market.",howItCanHelp:[],image:"",logo:"assets/img/customily_logo.png",video:"https://www.youtube.com/embed/paSavAXAlas",shortDescription:"",description:"",shortDescriptionVariant2:"Design, sell, and print personalized products fast and easily.",bannerInfo:""}];var Mn$2=(()=>{class i extends U$8{constructor(t,e,r,n,s,m,y,b){super(),this.featureTogglesService=t,this.etsyApiService=e,this.etsyShippingProfileConfigService=r,this.etsyLegacyConnectionService=n,this.etsyReauthorizationService=s,this.etsyMigrationService=m,this.salesChannelPatcherService=y,this.router=b;}getGeneralDetails(){return ae$5(b$9.Etsy,"Etsy",{type:O$6.Marketplace,guideUrl:"https://help.printify.com/hc/en-us/articles/4578896595345",aboutUrl:"https://printify.com/etsy/",hasPrintifyExpress:true,isPopular:true,affiliateUrl:"https://www.etsy.com/sell",biggestMarkets:["US","GB","CA"],hasExpressDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.EtsyExpressDelivery),hasEconomyDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.EconomyShippingMain),areOffsiteAddsAvailable:this.featureTogglesService.isFeatureEnabled(jt$2.PriceTableImprovements),isFreeShippingAvailable:this.featureTogglesService.isFeatureEnabled(jt$2.PriceTableImprovements),personalizationAvailable:true,personalizationDetailsAvailable:true,buyerResponseLimitAvailable:true,pricing:{level:h$4.Low,tooltip:this.featureTogglesService.getFeatureVariable(jt$2.EtsyTooltipCopyExperiment,"on_off_variable")?"$15 set-up fee, 6.5% transaction fee per order + $0.20 listing fee per product":"Free to start. 6.5% transaction fee per order + $0.20 listing fee per product."},description:"Etsy provides a fast and easy way to get started selling and reach over 96 million active buyers worldwide.",keyHighlights:["Easy to set up and start selling","Large audience and traffic","Low listing fees"],mockupsGuidelines:["10 mockup limit.","Videos help increase ranking.","Recommended 1:1 square ratio."],product:{hasTags:this.featureTogglesService.isFeatureEnabled(jt$2.ProductTagsForEtsy),hasSalesData:this.featureTogglesService.isFeatureEnabled(jt$2.ProductSalesData),autoPublishTag:false,supportHTMLInDescription:false,hasShippingProfile:true,hasProfitCalculator:this.featureTogglesService.isFeatureEnabled(jt$2.MiniProfitCalculatorEtsy),hasShippingProfileLoadCriteria:true,hasShippingProfilesSettings:this.featureTogglesService.isFeatureEnabled(jt$2.EtsyDefaultShippingProfile),allowsSelectionOfMockupsForPublishing:true,hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),eRank:{affiliateLink:"https://www.awin1.com/cread.php?awinmid=31207&awinaffid=1624447"},validationRules:{mockupsSelectedForPublishingCount:{min:1,max:10},variant:{retailPrice:{min:{value:20,message:"Minimum retail price allowed by Etsy is $0.20 (suggested price from $0.33). Choose a new price for the selected variant(s)."}}}},fees:{offsiteAdds:[{value:.12,label:"12%"},{value:.15,label:"15%"}],totalFeesInPercentages:9.5,tooltip:"Includes listing fee ($0.20), transaction fee (6.5%), and Payment processing fee (3% + $0.25). Also includes off-site ad fees (if enabled)."},publishing:{steps:{[u$4.ImageUpload]:{label:"Uploading images",tooltip:"This product was sent to your Etsy store and is currently waiting for the mockup images to upload (this can take a while)."}},variantVisibility:{available:true,hasAvailableSoldOutOption:true}},growthTools:Dn$2,handpickedBlueprints:[{id:12,name:"Unisex Jersey Short Sleeve Tee",media:"65e05b6307c0742d850cdd73"},{id:49,name:"Unisex Heavy Blend\u2122 Crewneck Sweatshirt",media:"654de688e68ada3dc707f26d"},{id:157,name:"Kids Heavy Cotton\u2122 Tee",media:"5d419f3bf902f003d056075b"},{id:1313,name:"Cotton Canvas Tote Bag",media:"663b2529dc26b48b5d077624"}]},extras:{migrationRequired:false,expressIneligibleVariantsRemoval:true},canSyncOrders:true,customSuccessPageRouteUrl:this.getGuidedSetupFlowBaseRoute()?`/${o$9}/${r$7}/${this.getGuidedSetupFlowBaseRoute()}/${Z$7}`:undefined})}getStoreSpecificDetails(t){let e=this.getGeneralDetails();return this.etsyApiService.getStoreState(t).pipe(ie$b(({hasTokenIssue:r,migrationRequired:n,isManualOrderImportAllowed:s,nextOrderImportTimestamp:m,isSetupRequired:y})=>({token:{hasExpired:r},product:{publishing:{disabled:r,tooltip:r?`Please update your store connection to continue using ${e.name} with Printify.`:""}},extras:{migrationRequired:n,isManualOrderImportAllowed:s,nextOrderImportTimestamp:m,isSetupRequired:y}})))}getStoreAction(t){return t.token.hasExpired?{text:"Renew token",type:Ze$5.Secondary,analyticsId:"reauthorizationButton",handler:()=>this.etsyReauthorizationService.reauthorize(t),hint:{text:"Token expired",status:ot$a.Error}}:t.extras.migrationRequired?{text:"Update",type:Ze$5.Secondary,analyticsId:"etsyMigrationUpdateButton",handler:()=>this.etsyMigrationService.migrate(t),hint:{text:"Update required",status:ot$a.Error}}:super.getStoreAction(t)}legacyConnect(t,e,r){let n=this.getGuidedSetupFlowBaseRoute();return !r&&n?(this.router.navigate([o$9,r$7,n,M$7],{queryParams:{storeId:e?.id}}),hi$7()):this.etsyLegacyConnectionService.connect(t,e)}reauthorize(t){return this.etsyReauthorizationService.reauthorize(t)}getSalesChannelFees({variant:t,additionalCost:e,shippingCost:r}){let b=e?.offsite_adds||0,C=[{label:"Listing fee ($0.20)",calculation:()=>20},{label:"Transaction fee (6.5%)",calculation:ce=>ce*.065},{label:"Payment processing fee (3% + $0.25)",calculation:ce=>25+ce*.03},{label:"Offsite ads ",calculation:ce=>ce*b}];function k(){return t.productionCost?.value?t.profit?(t.productionCost?.value+t.profit+20+25)/(1-.03-.065-b):t.margin?Math.floor((t.productionCost?.value+25+20)/(1-t.margin/100-.065-.03-b)):0:0}let Q=(t.retail?t.retail:k())+(r??0);return Q?{total:Math.round(20+Q*.065+(Q*.03+25)+Q*b),fees:C.map(ce=>({label:ce.label,value:ce.calculation(Q)}))}:{total:0,fees:[]}}getProductDetails(t,e){let r=!!("twodaydelivery_enabled"in t?t.twodaydelivery_enabled:t.decorators[0].twodaydelivery_enabled);return e.extras.migrationRequired&&r?{statusBadge:{text:"Store update required"},publishing:{disabled:r,tooltip:"Please update your store connection to use Printify Express with Etsy."}}:super.getProductDetails(t,e)}parsePublishingError(t,e,r){return new H$3(t,e,r,{isEtsySetupPhase1FlagEnabled:this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase1),isEtsySetupPhase2FlagEnabled:this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase2),isEtsySetupPhase3FlagEnabled:this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase3),isEtsyGuidedConnectionFlowIteration2FlagEnabled:this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2)})}getShippingProfiles(t){return this.etsyApiService.getShippingProfiles(t)}getShippingProfileConfig(t,e,r,n,s){return this.etsyShippingProfileConfigService.getConfig(t,e,r,n,s)}getComponentForSlot(t){switch(t){case I$5.Banners:return ye$7(import('./chunk-ByE97YgC.js').then(e=>e.EtsyProductsBannersComponent));case g$6.Banners:return ye$7(import('./chunk-DSIg7lA7.js').then(e=>e.EtsyProductDetailsBannersComponent));case g$6.PrintexShippingOptions:return ye$7(import('./chunk-DApdfpqH.js').then(e=>e.EtsyPrintexShippingOptionsComponent));case I$5.BulkEditShippingProfileBanner:return this.featureTogglesService.isFeatureEnabled(jt$2.BulkUpdateExpressDeliveryImprovements)?super.getComponentForSlot(t):ye$7(import('./chunk-Dm-Zuwns.js').then(e=>e.EtsyUnsupportedVariantsRemovalBannerComponent));case yt$2.ShippingProfilesSettings:return ye$7(import('./chunk-CTxow_Sz.js').then(e=>e.EtsyShippingProfilesSettingsComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-BVwtxvhS.js').then(e=>e.EtsyPersonalizationDetailsComponent));case ct$3.HowItWorksDrawer:return ye$7(import('./chunk-DXg-4tSe.js').then(e=>e.HowPersonalisationWorksComponent));case g$6.ProfitCalculatorSalesChannelFees:return ye$7(import('./chunk-EoFRjSqn.js').then(e=>e.ProfitCalculatorEtsyFeesComponent));case g$6.ProfitCalculatorFaq:return ye$7(import('./chunk-EoFRjSqn.js').then(e=>e.ProfitCalculatorEtsyFaqComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-j2AHOY9L.js').then(e=>e.EtsyMockupImageGuidelinesComponent));case g$6.ShippingBanners:return ye$7(import('./chunk-Bnnj7xpt.js').then(e=>e.EtsyProductDetailsShippingBannersComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));case Ki$2.Pricing:return ye$7(import('./chunk-DvGRn-1n.js').then(e=>e.WhatIncludedInPriceComponent));default:return super.getComponentForSlot(t)}}importOrder(t,e){return this.etsyApiService.importOrder(e).pipe(kc$2(()=>this.salesChannelPatcherService.patch(t,{extras:x$d(w$9({},t.extras),{isManualOrderImportAllowed:false})})))}getGuidedSetupFlowBaseRoute(){if(this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase2))return w$6;if(this.featureTogglesService.isFeatureEnabled(jt$2.EtsySetupImprovementsPhase3))return D$7;this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2);}static{this.\u0275fac=function(e){return new(e||i)(pe$9(te$5),pe$9(Ye$6),pe$9(Ln$2),pe$9(kn$3),pe$9(Fn$2),pe$9(_n$2),pe$9(Se$3),pe$9(ve$8))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Ji$3="oauthAppState",Bn$2=(()=>{class i{constructor(t){this.storage=t;}save(t){this.storage.set(Ji$3,t,{storageType:I$8.Session,clearOnAuth:true});}get(){let t=this.storage.get(Ji$3,null,I$8.Session);return t?.appId&&t.storeId?t:undefined}destroy(){this.storage.remove(Ji$3,I$8.Session);}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Y$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var On$1=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-presta-shop-connection-store-url-hint"]],standalone:false,decls:17,vars:0,consts:[[1,"title"],[1,"steps-to-install"],[1,"step"],["href","https://printify.com/plugins/prestashop/printify-17.zip","download","printify_module_1.7.zip","target","_blank",1,"download-link"],["type","secondary","pfyTooltip","Download .zip file",1,"link-button"],["name","download"],["href","https://printify.com/plugins/prestashop/printify-16.zip","download","printify_module_1.6.zip","target","_blank",1,"download-link"]],template:function(e,r){e&1&&(Kf$2(0,"div",0),fP(1,"How to install Printify module"),Xf$2(),Kf$2(2,"ol",1)(3,"li",2),fP(4," Download Printify module "),Kf$2(5,"a",3)(6,"pfy-button",4),ME(7,"pfy-icon",5),fP(8," Printify module for PrestaShop 1.7 "),Xf$2()(),Kf$2(9,"a",6)(10,"pfy-button",4),ME(11,"pfy-icon",5),fP(12," Printify module for PrestaShop 1.6 "),Xf$2()()(),Kf$2(13,"li",2),fP(14,"Install module on your PrestaShop"),Xf$2(),Kf$2(15,"li",2),fP(16,"Retry connecting Printify to PrestaShop"),Xf$2()());},dependencies:[We$8,ft$6,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font-weight:700}.download-link[_ngcontent-%COMP%]{display:block;margin-top:.5rem}.steps-to-install[_ngcontent-%COMP%]{list-style:decimal inside}.link-button[_ngcontent-%COMP%]{max-width:100%}.step[_ngcontent-%COMP%]{margin-top:.5rem}'],changeDetection:0});}}return i})();var Ke$3=function(i){return i.Ok="1000",i.StoreAlreadyConnected="2001",i.UnknownConnectionFailure="2002",i.InvalidData="2003",i}(Ke$3||{}),ki$2=function(i){return i[i.ModuleNotInstalled=22e3]="ModuleNotInstalled",i}(ki$2||{}),Vt$1=function(i){return i[i.MissedOauthState=1]="MissedOauthState",i}(Vt$1||{}),je$3=class je extends Ei$6{getName(){return "PrestaShopError"}getMessage(l){switch(l){case Number(Ke$3.UnknownConnectionFailure):return "Unable to connect";case Number(Ke$3.InvalidData):case Vt$1.MissedOauthState:return "Invalid data provided";case Number(Ke$3.StoreAlreadyConnected):return "The store has been already connected.";case ki$2.ModuleNotInstalled:return "Your store is missing Printify module";default:return super.getMessage(l)}}getConnectionErrorDetails(){switch(this.code){case Vt$1.MissedOauthState:case Number(Ke$3.InvalidData):return {subTitle:"Invalid connection flow",content:"Something went wrong. Please retry connecting your PrestaShop from the beginning"};case Re$2.StoreAlreadyConnected:case Number(Ke$3.StoreAlreadyConnected):return {subTitle:"Store is already connected",content:"Looks like your PrestaShop is connected"};case Number(Ke$3.UnknownConnectionFailure):return {subTitle:"Unable to connect",content:"Please retry connecting your PrestaShop from the beginning"}}}};var Rn$2=(()=>{class i{constructor(t){this.salesChannelApiService=t,this.salesChannel="prestashop";}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>{let r=e.error?.code&&e.error.code in ki$2?new je$3(e.error.code,e):new je$3(Re$2.ConnectionUrlRequestFailed,e);return Xp$2(r)}))}installStore(t){return this.salesChannelApiService.installStoreApp(t).pipe(yi$5(e=>Xp$2(new je$3(e.error?.code,e))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Un$2=(()=>{class i{constructor(t,e,r,n){this.salesChannelLegacyConnectionService=t,this.apiService=e,this.oauthStateService=r,this.window=n;}connect(t,e){return this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:e,steps:[Ct$3(r=>this.apiService.getConnectionUrl({existingStore:e,storeUrl:r.url}).pipe(Ac$3(n=>(this.window.location.assign(n),ph$2))),{hint:On$1})]})}connectFromSalesChannel(t,e){let r=this.connectionResultCodeToError(e.connectionResponseCode);if(r)return this.salesChannelLegacyConnectionService.handleConnectionCompletion({salesChannel:t,error:r}).pipe(kc$2(()=>this.oauthStateService.destroy()));let n=this.oauthStateService.get();return this.apiService.installStore(n).pipe(kc$2(()=>this.oauthStateService.destroy()),Ac$3(()=>this.salesChannelLegacyConnectionService.handleConnectionCompletion({salesChannel:t,storeId:n.storeId})))}connectionResultCodeToError(t){if(!this.oauthStateService.get())return new je$3(Vt$1.MissedOauthState);if(!t)return new je$3(Re$2.InstallationFailed);if(t===Ke$3.StoreAlreadyConnected)return new je$3(Re$2.StoreAlreadyConnected);if(t!==Ke$3.Ok)return new je$3(Number(t))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(ne$2),pe$9(Rn$2),pe$9(Bn$2),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var $n$2=(()=>{class i extends U$8{constructor(t){super(),this.legacyConnectionService=t;}getGeneralDetails(){return ae$5(b$9.PrestaShop,"PrestaShop",{type:O$6.Platform,aboutUrl:"https://printify.com/prestashop/",affiliateUrl:"https://www.prestashop.com/en",setupComplexity:f$8.RequiresEffort,audience:m$4.LargeRetailers,biggestMarkets:["EU"],pricing:{level:h$4.Low,tooltip:"Transaction fee % based on payment method + website hosting."},description:"PrestaShop features an array of ready-made modules and add-ons to fully customize your store\u2019s design and functionality."})}legacyConnect(t,e){return this.legacyConnectionService.connect(t,e)}connectFromSalesChannel(t,e){return this.legacyConnectionService.connectFromSalesChannel(t,e)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Un$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Nn$3=(()=>{class i extends U$8{getGeneralDetails(){return ae$5(b$9.Printify,"Printify",{personalizationAvailable:true,mockupsGuidelines:["15 mockup limit per variant"]})}getComponentForSlot(t){switch(t){case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));default:return super.getComponentForSlot(t)}}static{this.\u0275fac=(()=>{let t;return function(r){return (t||(t=sR(i)))(r||i)}})();}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var jn$3="phase_number_variable",md="incentive_boolean_variable",Zi$2=function(i){return i[i.Phase1=1]="Phase1",i}(Zi$2||{});var bt$3=function(i){return i[i.VariantsCreationPerDayLimitReached=1e3]="VariantsCreationPerDayLimitReached",i[i.ShippingTemplatesExceeded=1200]="ShippingTemplatesExceeded",i[i.MultiOriginShippingNotActivated=1201]="MultiOriginShippingNotActivated",i[i.CouldNotConnect=2e5]="CouldNotConnect",i}(bt$3||{}),ze$2=class ze extends Ei$6{getName(){return "ShopifyError"}getProductPublishingErrorDetails(){switch(this.code){case bt$3.VariantsCreationPerDayLimitReached:return Ro$1({statusBadge:{text:"Store error"}});case bt$3.ShippingTemplatesExceeded:return Ro$1({banner:{text:"Please activate multi-origin shipping on Shopify side and try publishing again.",button:{title:"Learn more",link:"https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/convert-to-shipping-profile"}},statusBadge:{text:"Shipping error"}});default:return super.getProductPublishingErrorDetails()}}getConnectionErrorDetails(){switch(this.code){case bt$3.CouldNotConnect:return {subTitle:"We couldn\u2019t connect your Shopify shop",content:"It looks like you didn\u2019t install the Printify app on your Shopify store, so we can\u2019t complete the connection. Please try again."};default:return super.getConnectionErrorDetails()}}};var _i$3=i=>({id:i.shipping_template_id,title:i.title,shippingMethod:i.shipping_method,shippingMethods:i.shipping_methods});var ht$3=(()=>{class i{constructor(t,e,r,n){this.httpClient=t,this.salesChannelApiService=e,this.userService=r,this.environment=n,this.salesChannel="shopify",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel),this.userId$=this.userService.id$.pipe(mt$8(1));}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>Xp$2(new ze$2(Re$2.ConnectionUrlRequestFailed,e))))}getReauthorizationUrl(t){return this.httpClient.post(`${this.baseUrl}/${t}/reauthorize`,null).pipe(ie$b(e=>e.url),oe$4(ze$2))}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(oe$4(ze$2))}getShippingProfiles(t){return this.userId$.pipe(Ac$3(e=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${e}/shops/${t}/shipping-profiles`).pipe(ie$b(r=>r.map(_i$3)),oe$4(ze$2))))}getProductShippingProfiles(t,e){return this.userId$.pipe(Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${r}/shops/${t}/shipping-profiles/${e}`).pipe(ie$b(n=>n.map(_i$3)),oe$4(ze$2))))}getShippingProfileById(t,e){return this.userId$.pipe(Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/${this.salesChannel}/users/${r}/shops/${t}/shipping-profile-by-id/${e}`).pipe(ie$b(_i$3),oe$4(ze$2))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(Z$4),pe$9(J$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var zn$2=(()=>{class i{constructor(t,e,r){this.window=t,this.salesChannelLegacyConnectionService=e,this.shopifyApiService=r;}connect(t,e){return this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:e,steps:[Ct$3(({url:r})=>this.redirectToShopify(Sa$2(r),e),{placeholder:"e.g. my-shop.myshopify.com",urlPattern:/^(?:https?:\/\/)?(.+)\.myshopify\.com\/?$/})]})}redirectToShopify(t,e){return this.shopifyApiService.getConnectionUrl({storeUrl:t,existingStore:e}).pipe(kc$2(r=>this.window.location.assign(r)),Ii$4())}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Q$9),pe$9(ne$2),pe$9(ht$3))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Sa$2(i){return /^http(s?):\/\//.test(i)?i:`https://${i}`}var Wn$3=(()=>{class i{constructor(t,e,r,n){this.toastService=t,this.salesChannelPopupService=e,this.salesChannelPatcherService=r,this.shopifyApiService=n;}reauthorize(t){return this.salesChannelPopupService.open(this.shopifyApiService.getReauthorizationUrl(t.storeId)).pipe(ie$b(Ca$1),ie$b(e=>{if(!e.hasError){this.salesChannelPatcherService.patch(t,{needsReauthorization:false,product:{hasShippingProfile:true,hasCustomShippingOptions:null}}),this.toastService.success({content:"All set! You can now access and use shipping profiles for Shopify."});return}throw new Error("Reauthorization failed")}),yi$5(e=>(console.error(e),this.toastService.error({content:"Failed to update permissions"}),hi$7(undefined))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(se$4),pe$9(Se$3),pe$9(ht$3))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Ca$1(i){return i.reauthorized?{storeId:Number.parseInt(i.reauthorized,10),hasError:false}:{hasError:true}}var ba$1=100,Gn$2=(()=>{class i{constructor(t,e,r){this.shopifyApiService=t,this.customErrorHandler=e,this.featureTogglesService=r;}getConfig(t,e,r,n,s,m){if(t.publishing_status==="failed"&&t.log?.publisher?.error_last_code)switch(t.log.publisher.error_last_code){case bt$3.MultiOriginShippingNotActivated:return hi$7(this.multiOriginShippingNotActivated());case bt$3.ShippingTemplatesExceeded:return hi$7(this.shippingProfilesLimitReached())}if(n.length>=ba$1)return hi$7(this.shippingProfilesLimitReached());let C=t.external?.shipping_template_id?.toString()||this.featureTogglesService.isFeatureEnabled(jt$2.ShopifyDefaultShippingProfile)&&s.default_shipping_profile_id;if(C){if(n.length){let k=n.find(({id:$})=>$===C);if(k)return hi$7(this.selectShippingProfile(k,r,e,m))}return this.getShippingProfile(s.id,C).pipe(ie$b(k=>this.selectShippingProfile(k,r,e,m)),yi$5(k=>(this.customErrorHandler.handleError(k),hi$7(de$5({selectedShippingProfile:{name:`Shipping profile - ${C}`,value:C}})))))}return hi$7(de$5())}getShippingProfile(t,e){return this.storeId!==t&&(this.storeId=t,this.shippingProfilesCache={}),this.shippingProfilesCache[e]?hi$7(this.shippingProfilesCache[e]):this.shopifyApiService.getShippingProfileById(t,e).pipe(kc$2(r=>{this.shippingProfilesCache[e]=r;}))}selectShippingProfile(t,e,r,n){if(this.featureTogglesService.isFeatureEnabled(jt$2.PrintifyExpressProject1Feature)){let s=e.includes(r$5.Express);if(r!==s)return de$5()}if(this.featureTogglesService.isFeatureEnabled(jt$2.EconomyShippingMain)){let s=e.includes(r$5.Economy);if(n!==s)return de$5()}return de$5({selectedShippingProfile:fe$5(t)})}multiOriginShippingNotActivated(){return de$5({banner:{status:ot$a.Error,content:"Please activate multi-origin shipping on Shopify side and try publishing again.",link:{text:"Learn more",url:"https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/convert-to-shipping-profile"}}})}shippingProfilesLimitReached(){return de$5({selectedShippingProfile:pe$5,hasAutoCreationOption:false,placeholder:"Please choose an existing profile"})}static{this.\u0275fac=function(e){return new(e||i)(pe$9(ht$3),pe$9(Cr$2),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Hn$2=(()=>{class i extends U$8{constructor(t,e,r,n,s,m){super(),this.featureTogglesService=t,this.shopifyApiService=e,this.shopifyLegacyConnectionService=r,this.shopifyReauthorizationService=n,this.shopifyShippingProfileConfigService=s,this.router=m;}getGeneralDetails(){return ae$5(b$9.Shopify,"Shopify",{type:O$6.Platform,aboutUrl:"https://printify.com/shopify/",affiliateUrl:"https://shopify.pxf.io/Vma2YR",hasPrintifyExpress:true,hasEconomyDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.ShopifyEconomyShipping),hasExpressDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.PrintifyExpressProject1Feature),personalizationAvailable:true,personalizationDetailsAvailable:false,hasExternalProducts:true,isPopular:true,audience:m$4.SmallBusinesses,biggestMarkets:["US","GB","CA"],hasSubscriptionFee:true,pricing:{level:h$4.Medium,tooltip:"3-day free trial. Plans start at $29/mo + between 2-5% transaction fee per order."},description:"Shopify is perfect for established sellers wanting to expand their brand and business with easy setup and store creation tools.",keyHighlights:["3-day free trial","SEO & marketing tools","Customisable storefronts"],complexity:c$9.Medium,mockupsGuidelines:["250 mockup limit (recommended 25 per listing).","Each variant is linked to a specific mockup view."],product:{hasTags:true,autoPublishTag:true,hasShippingProfileLoadCriteria:true,hasShippingProfilesSettings:this.featureTogglesService.isFeatureEnabled(jt$2.ShopifyDefaultShippingProfile),allowsSelectionOfMockupsForPublishing:true,hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),validationRules:{mockupsSelectedForPublishingCount:{min:1,max:250}},publishing:{steps:{[u$4.ImageUpload]:{label:"Uploading images",tooltip:"This product was sent to your Shopify store and is currently waiting for the mockup images to upload (this can take a while)."}},variantVisibility:{available:true,hasAvailableSoldOutOption:false}},handpickedBlueprints:[{id:12,name:"Unisex Jersey Short Sleeve Tee",media:"65e05b6307c0742d850cdd73"},{id:49,name:"Unisex Heavy Blend\u2122 Crewneck Sweatshirt",media:"654de688e68ada3dc707f26d"},{id:77,name:"Unisex Heavy Blend\u2122 Hooded Sweatshirt",media:"654e2446c4fbc0eeb2052d24"},{id:157,name:"Kids Heavy Cotton\u2122 Tee",media:"5d419f3bf902f003d056075b"}]}})}getStoreSpecificDetails(t){return this.featureTogglesService.featuresReady$.pipe(mt$8(1),Ac$3(()=>this.featureTogglesService.isFeatureEnabled(jt$2.ShopifySCHShippingProfiles)?this.shopifyApiService.getStoreState(t).pipe(ie$b(({needs_reauthorization:e})=>e?{needsReauthorization:e,product:{hasCustomShippingOptions:{replaceDefault:true}}}:{needsReauthorization:e,product:{hasShippingProfile:true},hasExpressDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.PrintifyExpressProject1Feature)})):hi$7({})))}legacyConnect(t,e){return this.featureTogglesService.getFeatureVariable(jt$2.ShopifyStoreSetupGuidedFlow,jn$3)===Zi$2.Phase1?(this.router.navigate(Q$8,{queryParams:{storeId:e?.id}}),be$8):this.shopifyLegacyConnectionService.connect(t,e)}parsePublishingError(t,e,r){return new ze$2(t,e,r)}getComponentForSlot(t){switch(t){case g$6.Banners:return ye$7(import('./chunk-Bb3GlSZp.js').then(e=>e.ShopifyProductDetailsBannersComponent));case I$5.Banners:return ye$7(import('./chunk-Wm3nYelB.js').then(e=>e.ShopifyProductsBannersComponent));case g$6.PrintexShippingOptions:return ye$7(import('./chunk-tjScaBBi.js').then(e=>e.ShopifyPrintexShippingOptionsComponent));case g$6.ShippingOptions:return ye$7(import('./chunk-CIqjXQEp.js').then(e=>e.ShopifyShippingOptionsComponent));case g$6.PrintexPopupWarning:return ye$7(import('./chunk-C6BLHd_d.js').then(e=>e.ShopifyPublishingPrintexWarningComponent));case yt$2.ShippingProfilesSettings:return ye$7(import('./chunk-CcJvZxkY.js').then(e=>e.ShopifyShippingProfilesSettingsComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}getShippingProfiles(t){return this.shopifyApiService.getShippingProfiles(t)}getShippingProfileConfig(t,e,r,n,s){return this.shopifyShippingProfileConfigService.getConfig(t,s.initialProductExpressDeliveryEnabled,e,r,n,s.initialProductEconomyDeliveryEnabled)}getReauthorizationUrl(t){return this.shopifyApiService.getReauthorizationUrl(t)}reauthorize(t){return this.shopifyReauthorizationService.reauthorize(t)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(te$5),pe$9(ht$3),pe$9(zn$2),pe$9(Wn$3),pe$9(Gn$2),pe$9(ve$8))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var De$7=function(i){return i[i.AuthorizationFailed=12e3]="AuthorizationFailed",i[i.MissingStorePageId=12100]="MissingStorePageId",i[i.StorePageNotFound=12101]="StorePageNotFound",i[i.StorePageNotSelectedForPublishing=212100]="StorePageNotSelectedForPublishing",i[i.ListingNoLongerExists=312101]="ListingNoLongerExists",i[i.TokenExpired=91e3]="TokenExpired",i[i.StoreAlreadyConnected=91002]="StoreAlreadyConnected",i[i.StateMismatched=91003]="StateMismatched",i}(De$7||{}),ke$5=class ke extends Ei$6{getName(){return "SquarespaceError"}getConnectionErrorDetails(){switch(this.code){case De$7.StoreAlreadyConnected:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};default:return}}getMessage(l){switch(l){case De$7.TokenExpired:return "Your Squarespace connection token is expired. Please try again.";case De$7.StoreAlreadyConnected:return "This store is already connected to another sales channel.";case De$7.StateMismatched:return "There was an issue when trying to connect your store. Please try again. If the issue continues, please contact support.";default:return super.getMessage(l)}}getProductPublishingErrorDetails(){switch(this.code){case De$7.StorePageNotFound:return Ro$1({statusBadge:{text:"Listing removed"}});case De$7.AuthorizationFailed:return Ro$1({statusBadge:{text:"Store error"}});case De$7.MissingStorePageId:return Ro$1({statusBadge:{text:"Store removed"}});case De$7.StorePageNotSelectedForPublishing:return Ro$1({banner:{text:"Please select a store page to publish the product."}});case De$7.ListingNoLongerExists:return Ro$1({banner:{text:"This listing and the associated store page no longer exist in your sales channel. You can duplicate the product if you wish to publish it again."}});default:return super.getProductPublishingErrorDetails()}}};var Li$3=(()=>{class i{constructor(t){this.salesChannelApiService=t,this.salesChannel="squarespace",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel);}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(ie$b(e=>({basePath:e.base_path,hasStorePages:e.has_store_pages})),oe$4(ke$5))}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>Xp$2(new ke$5(Re$2.ConnectionUrlRequestFailed,e))))}getConsentUrl({locale:t,website_id:e}){let r={locale:t,website_id:e};return this.salesChannelApiService.getConsentUrl(this.salesChannel,r).pipe(yi$5(n=>Xp$2(new ke$5(Re$2.ConsentUrlRequestFailed,n))))}installStore(t){let e={};return "storeId"in t?e.store_id=t.storeId:t.storeName&&(e.title=t.storeName),this.salesChannelApiService.installStore(this.salesChannel,x$d(w$9({},e),{code:encodeURIComponent(t.code),state:t.state})).pipe(yi$5(r=>{let n=r.error?.code===De$7.StoreAlreadyConnected?Re$2.StoreAlreadyConnected:r.error?.code;return Xp$2(new ke$5(n,r))}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var qn$1=(()=>{class i{constructor(t,e,r){this.salesChannelPopupService=t,this.salesChannelLegacyConnectionService=e,this.squarespaceApiService=r;}connect(t,e){let r=this.squarespaceApiService.getConnectionUrl({existingStore:e});return this.openConnectionPopup(r).pipe(Ac$3(n=>this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:e,steps:[Ne$2(s=>this.squarespaceApiService.installStore(x$d(w$9({},s),{code:n.code,state:n.state})).pipe(ie$b(()=>{})))]})))}connectFromSalesChannel(t,e){return this.salesChannelLegacyConnectionService.connect({required:true,salesChannel:t,steps:[Ne$2(r=>{if(!wa$2(e))return Xp$2(new ke$5(Re$2.InvalidConsentUrlOptions));let n=this.squarespaceApiService.getConsentUrl(e);return this.openConnectionPopup(n).pipe(Ac$3(s=>this.squarespaceApiService.installStore(x$d(w$9({},r),{code:s.code,state:s.state}))),ie$b(()=>{}))},{isInitiatedBySalesChannel:true})]})}openConnectionPopup(t){return this.salesChannelPopupService.open(t).pipe(ie$b(e=>{if(!e.code)throw new Error("Access denied");return e}),yi$5(e=>{let r=e instanceof ke$5?e:new ke$5(Re$2.InstallationFailed,e);return Xp$2(r)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(se$4),pe$9(ne$2),pe$9(Li$3))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function wa$2(i){return typeof i.locale=="string"&&typeof i.website_id=="string"}var Yn$3=(()=>{class i extends U$8{constructor(t,e,r){super(),this.squarespaceApiService=t,this.squareSpaceLegacyConnectionService=e,this.featureTogglesService=r;}getGeneralDetails(){return ae$5(b$9.Squarespace,"Squarespace",{type:O$6.Platform,aboutUrl:"https://printify.com/squarespace/",affiliateUrl:"https://squarespace.syuh.net/Jzb2nE",biggestMarkets:["US","GB","AU"],hasSubscriptionFee:true,personalizationAvailable:true,personalizationDetailsAvailable:false,isPopular:true,pricing:{level:h$4.Medium,tooltip:"15-day free trial. Plans starting at $29.95/mo + 2.05-2.35% transaction fee per order."},description:"Squarespace is an easy-to-use website designed for independent creators and anyone wanting to launch an online store.",extras:{basePath:"",hasStorePages:true},mockupsGuidelines:["A product can have up to 100 images","Only .jpg, .gif, or .png","2500 pixels width is ideal in most cases","Keep your page size under 5 MB to ensure your site loads quickly"],product:{allowsSelectionOfMockupsForPublishing:true,hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection)}})}getStoreSpecificDetails(t){return this.squarespaceApiService.getStoreState(t).pipe(ie$b(({basePath:e,hasStorePages:r})=>({extras:{basePath:e,hasStorePages:r}})))}getStoreDomain(t,e){return e.extras.basePath}parsePublishingError(t,e,r){return new ke$5(t,e,r)}getComponentForSlot(t){switch(t){case g$6.Banners:return ye$7(import('./chunk-CpKcDxwk.js').then(e=>e.SquarespaceProductDetailsBannersComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case I$5.Banners:return ye$7(import('./chunk-Bwp8VUwx.js').then(e=>e.SquarespaceProductsBannersComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));default:return super.getComponentForSlot(t)}}legacyConnect(t,e){return this.squareSpaceLegacyConnectionService.connect(t,e)}connectFromSalesChannel(t,e){return this.squareSpaceLegacyConnectionService.connectFromSalesChannel(t,e)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Li$3),pe$9(qn$1),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Kn$2="sales-channels",hg$1="selection";var Ta$1=15,Qn$2=(()=>{class i extends U$8{constructor(t,e,r){super(),this.featureToggleService=t,this.stfrMerchantService=e,this.router=r;}getGeneralDetails(){let t=this.featureToggleService.isFeatureEnabled(jt$2.ConsumerSaleChannelSelectionCard);return ae$5(b$9.Storefront,t?"Pop-Up":"Printify Pop-Up",{logoUrl:"/assets/svg/store/printify-pop-up-rebrand.svg",fullLogoUrl:"/assets/svg/store/printify-pop-up-full-rebrand.svg",type:O$6.Platform,aboutUrl:"https://printify.com/pop-up-store/",hasNewConnectionFlow:true,isPromotionsAvailable:true,personalizationAvailable:this.featureToggleService.isFeatureEnabled(jt$2.ConsumerProductPersonalization),personalizationDetailsAvailable:this.featureToggleService.isFeatureEnabled(jt$2.ConsumerProductPersonalization),isBetaVersion:!t,biggestMarkets:["US"],pricing:{level:h$4.Free},description:t?"Create your own online store in minutes\u2014no setup fees, no hassle. Sell merch with zero upfront cost and everything in one place.":"Start selling right away. No need to create a website, just send out a unique link to your friends, family, or followers.",overviewDescription:this.getOverviewDescription(),keyHighlights:t?["Easy to set up and start selling","All-in-one platform \u2013 everything you need in one place","Zero upfront cost \u2013 no listing fees, no subscription fees"]:undefined,isUSShippingOnly:!this.featureToggleService.isFeatureEnabled(jt$2.StoreFrontGpsr2Phase),overviewConnectButtonText:t?"Connect to Pop-up":"Launch Pop-Up store",hasEconomyDelivery:true,automaticOptionEconomy:true,hasExpressDelivery:true,automaticOptionExpress:true,economyShippingPermamentlyEnabled:true,hasPromoMaterials:true,merchantRequiresVerification$:hi$7(true),minimumProfitMargin:Ta$1,hasLegacyPayouts$:this.stfrMerchantService.merchantDetails.pipe(ie$b(e=>e.legacy_payouts)),mockupsGuidelines:["15 mockup limit per variant"],product:{hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureToggleService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),placeItAffiliateBannerVisible:false},customSuccessPageRouteUrl:this.featureToggleService.isFeatureEnabled(jt$2.ConsumerOnboardingV2)?`/${Kn$2}/${vi$2}/${nn$3}`:undefined,personalizationKey:"storefront",shouldRedirectToNewFlow:this.featureToggleService.isFeatureEnabled(jt$2.ConsumerOnboardingV2)&&!this.router.url.includes(o$9),selectionCardVariation:this.getSelectionCardVariation(),isPopular:true})}getComponentForSlot(t){switch(t){case g$6.PrintexShippingOptions:return ye$7(import('./chunk-DFKHdoc3.js').then(e=>e.StorefrontPrintexShippingOptionsComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case g$6.VariantsTablePricingInfo:return ye$7(import('./chunk-C9yqnf2U.js').then(e=>e.VariantsTableStorefrontPricingInfoComponent));case qe$3.MerchantAccountVerificationModal:return this.stfrMerchantService.shouldShowMerchantAccountVerificationModal$().pipe(ve$9(e=>e?ye$7(import('./chunk-WYCAHe-z.js').then(r=>r.StorefrontMerchantAccountVerificationModalComponent)):hi$7(undefined)));case g$6.PersonalisationSection:return this.getGeneralDetails().personalizationDetailsAvailable?ye$7(import('./chunk-Cdtqoj__.js').then(e=>e.ProductDetailsPersonalizationComponent)):hi$7(undefined);case ct$3.HowItWorksPopup:return ye$7(import('./chunk-BxcVOVgc.js').then(e=>e.HowItWorksPopupComponent));case ct$3.PersonalizationPromoModal:return this.stfrMerchantService.shouldShowPersonalizationPromoModal$().pipe(ve$9(e=>e?ye$7(import('./chunk-CTeqvINF.js').then(r=>r.StorefrontPersonalizationPromoModalComponent)):hi$7(undefined)));default:return super.getComponentForSlot(t)}}getOverviewDescription(){return this.featureToggleService.isFeatureEnabled(jt$2.ConsumerSaleChannelSelectionCard)?{text:"Create your own online store in minutes\u2014no setup fees, no hassle. Sell merch with zero upfront cost and everything in one place."}:{text:"Start selling right away. No need to create a website, just send out a unique link to your friends, family, or followers.",link:{text:"Learn more",url:"https://help.printify.com/hc/en-us/articles/12051129478417"}}}getSelectionCardVariation(){return this.featureToggleService.isFeatureEnabled(jt$2.ConsumerSaleChannelSelectionCard)?this.featureToggleService.getFeatureVariable(jt$2.ConsumerSaleChannelSelectionCard,"selectionCard"):undefined}static{this.\u0275fac=function(e){return new(e||i)(pe$9(te$5),pe$9(No$2),pe$9(ve$8))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Me$4=class Me extends Ei$6{getName(){return "TikTokError"}getMessage(l){switch(l){case 16001:return "Looks like this store already exists. Please try a different store. If the issue continues, contact support.";case 16e3:return "There was an issue connecting your store. Please try again. If the issue continues, contact support.";default:return super.getMessage(l)}}getConnectionErrorDetails(){switch(this.code){case 16e3:return {subTitle:"Unable to connect your store",content:"There was an issue connecting your store. Please try again. If the issue continues, contact support."};case 16001:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `}}}getProductPublishingErrorDetails(){switch(this.code){case 16100:return Ro$1({banner:{text:"TikTok only accepts products fulfilled within the US. Please choose a different product or print provider."},statusBadge:{text:"Listing error",tooltip:"TikTok only accepts products fulfilled within the US. Please choose a different product or print provider."}});case 16002:return Ro$1({banner:{text:"Your listing was frozen by TikTok. Please contact TikTok support for more information."},statusBadge:{text:"Listing error",tooltip:"Please contact TikTok support to publish this product."}});case 16003:case 16006:return Ro$1({banner:{text:"You'll need to set up your shipping options or templates first before creating a listing.",button:{title:"Read more.",link:"https://help.printify.com/hc/en-us/articles/4483626200977-How-do-I-set-up-shipping"}},statusBadge:{text:"Listing error",tooltip:"You'll need to set up your shipping options or templates first before creating a listing."}});case 16005:return Ro$1({banner:{text:"Your TikTok store setup is currently incomplete. To continue publishing, please review and update your TikTok Warehouse options with our recommended settings.",button:{title:"Learn how with this article",link:"https://help.printify.com/hc/en-us/articles/17770855887889-How-can-I-set-up-free-shipping-for-TikTok-Shop-US"}},statusBadge:{text:"Listing error",tooltip:"Your TikTok store setup is currently incomplete."}});case 16004:return Ro$1({banner:{text:"Please choose a pickup warehouse or select \u201CDefault\u201D."},statusBadge:{text:"Listing error",tooltip:"Please choose a pickup warehouse or select \u201CDefault\u201D."}});case 16007:return Ro$1({banner:{text:'This product must contain the same number of options allowed by TikTok. Please select only one option for "'+this.details?.optionType+'" to publish this product.'},statusBadge:{text:"Listing error",tooltip:'This product must contain the same number of options allowed by TikTok. Please select only one option for "'+this.details?.optionType+'" to publish this product.'}});case 16008:return Ro$1({banner:{text:'To publish this product you will need an invite from TikTok for product category "'+this.details?.category+'".'},statusBadge:{text:"Listing error",tooltip:'To publish this product you will need an invite from TikTok for product category "'+this.details?.category+'".'}});case 16009:return Ro$1({banner:{text:"Your product could not be published to TikTok because your TikTok account is missing required tax information. Please complete your tax details in the TikTok Seller Dashboard and try publishing again."},statusBadge:{text:"Listing error",tooltip:"Your product could not be published to TikTok because your TikTok account is missing required tax information. Please complete your tax details in the TikTok Seller Dashboard and try publishing again."}});default:return super.getProductPublishingErrorDetails()}}};var Jn$1=(()=>{class i{constructor(){this.salesChannelApiService=N$8(Z$4),this.httpClient=N$8(_u$3),this.environment=N$8(f$c),this.userService=N$8(J$5),this.salesChannel="tiktok",this.userId$=this.userService.id$.pipe(mt$8(1));}initConnection(t){return this.salesChannelApiService.initConnection(this.salesChannel,t).pipe(oe$4(Me$4))}getConsentPageUrl(t){let e=this.prepareConsentPageQueryParams(t);return this.userId$.pipe(Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/tiktok/users/${r}/consent-page-url${e}`)),oe$4(Me$4),ie$b(r=>r.url))}prepareConsentPageQueryParams(t){return t.newStoreName?`?title=${t.newStoreName}`:`?shop_id=${t.existingStoreId}`}getConnectionState(){return Xp$2("connection state empty")}connect(t){return this.userId$.pipe(Ac$3(e=>this.httpClient.post(`${this.environment.apiURL}v1/tiktok/users/${e}/shops/connect`,t)),oe$4(Me$4))}getWarehouses(t){return this.userId$.pipe(mt$8(1),Ac$3(e=>this.httpClient.get(`${this.environment.apiURL}v1/tiktok/users/${e}/shops/${t}/warehouses`).pipe(oe$4(Me$4))))}getDeliveryOptions(t,e){return this.userId$.pipe(mt$8(1),Ac$3(r=>this.httpClient.get(`${this.environment.apiURL}v1/tiktok/users/${r}/shops/${t}/warehouses/${e}/delivery-options`).pipe(oe$4(Me$4))))}getStoreState(t){return this.userId$.pipe(Ac$3(e=>this.httpClient.get(`${this.environment.apiURL}v1/tiktok/users/${e}/shops/${t}/settings`)),ie$b(e=>({hasShippedByPlatformOrders:e.has_shipped_by_platform_orders})),oe$4(Me$4))}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Zn$1=(()=>{class i extends U$8{constructor(){super(...arguments),this.tikTokApiService=N$8(Jn$1),this.salesChannelLegacyConnectionService=N$8(ne$2),this.featureTogglesService=N$8(te$5);}getGeneralDetails(){return ae$5(b$9.TikTok,"TikTok",{type:O$6.Marketplace,description:"TikTok turns product discovery and online shopping into an engaging and entertaining experience (currently US only).",keyHighlights:["Reach target audiences","Variety of selling options","Large creator community"],complexity:c$9.Advanced,isNew:true,affiliateUrl:"https://seller-us-accounts.tiktok.com/account/register",hasNewConnectionFlow:true,logoUrl:"/assets/svg/store/tiktok.svg",personalizationAvailable:true,personalizationDetailsAvailable:true,maxPersonalisationInstructionsLength:1e3,setupComplexity:f$8.RequiresEffort,audience:m$4.SmallBusinesses,biggestMarkets:["US"],isUSShippingOnly:true,aboutUrl:"https://printify.com/tiktok-shop/",catalogName:"TikTok US",mockupsGuidelines:["9 mockup limit","All product images must be at least 300\xD7300 pixels","Images must be in color. Black-and-white images are not acceptable","Sellers may upload up to 1 video for each product listing, which must not exceed 5MB.","Do not use models or mannequins for children's clothing. All clothing products for children must be shown flat with a white background.","Maximum Image file size: 5 MB.","Format: JPG, JPEG, PNG"],product:{hasCustomShippingOptions:{publishDetails:{label:"Shipping options",key:"shipping_template"}},hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),allowsSelectionOfMockupsForPublishing:true,validationRules:{mockupsSelectedForPublishingCount:{min:1,max:9}},handpickedBlueprintsDescription:"We've handpicked bestselling products and paired them with a preselected print provider that fulfills orders quickly to meet TikTok's requirements.",handpickedBlueprints:[{id:6,name:"Unisex Heavy Cotton Tee",media:"65df359a5d428f02700b9a82"},{id:49,name:"Unisex Heavy Blend\u2122 Crewneck Sweatshirt",media:"654de688e68ada3dc707f26d"},{id:12,name:"Unisex Jersey Short Sleeve Tee",media:"65e05b6307c0742d850cdd73"},{id:1313,name:"Cotton Canvas Tote Bag",media:"663b2529dc26b48b5d077624"}],publishing:{steps:{[u$4.ImageUpload]:{label:"Uploading images",tooltip:"This product was sent to your TikTok store and is currently waiting for the mockup images to upload (this can take a while)."}},variantVisibility:{available:true,hasAvailableSoldOutOption:true}}},fulfilmentStandards:{productBadge:{[g$7.Contingent]:{label:"Potential delay",tooltip:"This product has a slow SLA (Service Level Agreement), which could delay your order and lead to a store suspension. Therefore, our suggestion is to switch to an alternative product or provider."}}},extras:{basePath:"https://seller-us.tiktok.com/product?shop_region=US"}})}getStoreDomain(t,e){return e.extras.basePath}getStoreSpecificDetails(t){return this.tikTokApiService.getStoreState(t).pipe(ie$b(e=>({extras:e})))}parsePublishingError(t,e,r){return new Me$4(t,e,r)}getComponentForSlot(t){switch(t){case g$6.AffiliateSectionPopover:return ye$7(import('./chunk-9hOAyMM2.js').then(e=>e.TikTokAffiliateSectionPopoverComponent));case g$6.ShippingOptions:return ye$7(import('./chunk-B33VNESb.js').then(e=>e.TikTokShippingOptionsComponent));case I$5.Banners:return ye$7(import('./chunk-BUFkp6d8.js').then(e=>e.TikTokProductsBannersComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-CdP1EzWn.js').then(e=>e.TikTokOtherOrdersBannersComponent));case N$6.OtherOrderBanners:return ye$7(import('./chunk-BF0ot9hg.js').then(e=>e.TikTokOtherOrderBannersComponent));case g$6.Banners:return ye$7(import('./chunk-BQlcSrkz.js').then(e=>e.TikTokProductDetailsBannersComponent));case qe$3.PublishingConfirmationModalBanners:return ye$7(import('./chunk-f_vdKd2m.js').then(e=>e.TiktokPublishingConfirmationModalBannersComponent));case qe$3.PublishingConfirmationModal:return ye$7(import('./chunk-j9Sj_kX1.js').then(e=>e.TiktokPublishingConfirmationModalComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case g$6.PersonalisationSection:return this.featureTogglesService.isFeatureEnabled$(jt$2.TikTokPersonalization).pipe(Ac$3(e=>e?import('./chunk-C982FRsR.js').then(r=>r.TiktokPersonalizationDetailsComponent):import('./chunk-DBfJhZaT.js').then(r=>r.ProductPersonalizationSwitcherComponent)));case ct$3.HowItWorksDrawer:return ye$7(import('./chunk-CiS1zVd4.js').then(e=>e.HowPersonalisationWorksComponent));case qe$3.EmbroideryDigitizationReminderModal:return ye$7(import('./chunk-DLGNGAlB.js').then(e=>e.TikTokEmbroideryDigitizationReminderModalComponent));default:return super.getComponentForSlot(t)}}connectFromSalesChannel(t,e){let s=e,n=A$f(s,["app_key"]);return this.tikTokApiService.connect(n).pipe(ie$b(me$4),Ac$3(m=>this.salesChannelLegacyConnectionService.handleConnectionCompletion({salesChannel:t,storeId:m.storeId,error:"errorCode"in m?new Me$4(m.errorCode):undefined})))}static{this.\u0275fac=(()=>{let t;return function(r){return (t||(t=sR(i)))(r||i)}})();}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Be$4=class i extends Ei$6{getName(){return i.name}getMessage(l){switch(l){case 13001:return "Looks like this store already exists. Please try a different store. If the issue continues, contact support.";case 13002:return "There was an issue authenticating your store. Please check your Client ID and Client Secret, then try again.";case 13003:case 13004:case 13005:return "There was an issue connecting your store. Please try again. If the issue continues, contact support.";case 13006:return "There was an issue when sending your request. Please try again.";case 13007:return "Please complete your seller profile by filling out all required fields in the Walmart.com Seller Center. Then try again.";case 13010:return "Looks like this Client ID is already in use. Please use a different Client ID or reset your credentials.";case 13011:return "We we\u2019re unable to authenticate your store. Please double-check the Client ID and Client Secret, then try again.";case 13013:return "Looks like some required access rights were not granted in the Walmart Seller Center. In order to successfully connect your store, publish products, and import orders, you must grant Printify full access to all Key Permissions.  Review permissions in Walmart";case 13018:return 'Please set permissions for the Printify credentials as "Full" for every option in the Walmart Developer Center.';case 13019:return "There was an issue verifying your credentials. Please generate new credentials and try again.";case 13020:return 'Your current credentials are not using "Printify" as a solution provider. Please return to the Walmart Developer Center to generate new credentials using "Printify" as a solution provider and try again.';case 13025:return "The shipping template cannot be assigned to this item because the ship price exceeds the threshold for this item. Please reduce the ship price.";default:return super.getMessage(l)}}getProductPublishingErrorDetails(){switch(this.code){case 13012:return Ro$1({statusBadge:{text:"UPC error",tooltip:"We were unable to publish this product on Walmart due to a missing UPC exemption for this category. Please contact Walmart support to add an exemption for the category and try publishing again."}});case 13014:return Ro$1({statusBadge:{text:"Listing error",tooltip:"Walmart is currently unable to process and publish this product. Please try again."}});case 13015:return Ro$1({statusBadge:{text:"Shipping error",tooltip:"A maximum of 60 shipping templates are allowed for your Walmart seller account. Please choose an existing shipping template to continue publishing or delete a template to create a new one."}});case 13016:return Ro$1({banner:{text:"Walmart only accepts products fulfilled within the US. Please choose a different product or print provider."},statusBadge:{text:"Listing error",tooltip:"Walmart only accepts products fulfilled within the US. Please choose a different product or print provider."}});case 13017:return Ro$1({statusBadge:{text:"Listing error",tooltip:"You have exceeded the amount of published products allowed on the Walmart Marketplace within this timeframe. Please wait at least 15 minutes and try again."}});case 13101:return Ro$1({banner:{title:"UPC exemption is missing",text:P$7.text`UPC exemption is required to publish the products. To request an exemption, submit a support ticket from your Walmart seller center explaining your circumstances. ${P$7.link("Read more","https://sellerhelp.walmart.com/s/guide?article=000007879")}`,button:{title:"Go to Walmart seller center",link:"https://sellerhelp.walmart.com/seller/s/contact"}},statusBadge:{text:"UPC error",tooltip:"UPC exemption is missing. Please apply for UPC exemption from Walmart seller center."}});case 13021:return Ro$1({});default:return super.getProductPublishingErrorDetails()}}};var Xn$2=i=>({id:i.shipping_template_id,title:i.title,shippingMethod:i.shipping_method,shippingMethods:i.shipping_methods});var Di$2=(()=>{class i{constructor(t,e){this.httpClient=t,this.salesChannelApiService=e,this.salesChannel="walmart",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel);}initConnection(t){return this.salesChannelApiService.initConnection(this.salesChannel,t).pipe(oe$4(Be$4))}getConnectionState(t){return this.salesChannelApiService.getConnectionState(this.salesChannel,t).pipe(ie$b(e=>({hasCredentials:e.wm_credentials,requestedToSellAt:e.wm_request_to_sell_confirmed_at,completedSellerProfileAt:e.wm_complete_seller_profile_confirmed_at})),oe$4(Be$4))}requestToSell(t){return this.salesChannelApiService.completeConnectionStep({salesChannel:this.salesChannel,step:"request-to-sell-confirmation",storeId:t.storeId}).pipe(oe$4(Be$4))}authorize(t){return this.salesChannelApiService.completeConnectionStep({salesChannel:this.salesChannel,step:"authorize",storeId:t.storeId,payload:{client_id:t.payload.clientId,secret:t.payload.clientSecret}}).pipe(oe$4(Be$4))}completeSellerProfile(t){return this.salesChannelApiService.completeConnectionStep({salesChannel:this.salesChannel,step:"complete-seller-profile-confirmation",storeId:t.storeId}).pipe(oe$4(Be$4))}getShippingProfiles(t){return this.salesChannelApiService.getShippingProfiles(this.salesChannel,t).pipe(ie$b(e=>e.map(Xn$2)),oe$4(Be$4))}getListedShippingProfiles(t,e){return this.httpClient.get(`${this.baseUrl}/${t}/product-shipping-profiles/${e}`).pipe(oe$4(Be$4))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var to$1=60,io$1=(()=>{class i{constructor(t,e,r){this.featureTogglesService=t,this.customErrorHandler=e,this.walmartApiService=r,this.storeAndProductId$=new In$7(1),this.listedShippingProfilesResponse$=this.storeAndProductId$.pipe(Dh$2("productId")).pipe(Ac$3(({storeId:n,productId:s})=>this.walmartApiService.getListedShippingProfiles(n,s).pipe(ie$b(m=>({response:m})),yi$5(m=>{let y;switch(m.code){case 13022:{y=this.shippingProfileNotAssignedToAllVariantsOnWalmart();break}default:this.customErrorHandler.handleError(m),y=de$5();}return hi$7({errorConfig:y,response:[]})}))),_c$3(1));}getConfig(t,e,r,n,{id:s}){let m,y;t.external&&(m=t.external.id,y=t.external.shipping_template_id?.toString());let b={},C,k=t.publishing_status==="failed"&&t.log?.publisher?.error_last_code===13015,$=n.length>=to$1;if(k||$)return hi$7(this.shippingProfilesLimitReached(k));let Q=r.includes(r$5.Express),qt=e!==Q;return n.length&&(Q&&(b.hasAutoCreationOption=false),qt?b.selectedShippingProfile=fe$5(n[0]):(C=n.find(ce=>ce.id===y),C&&(b.selectedShippingProfile=fe$5(C)))),this.featureTogglesService.isFeatureEnabled(jt$2.PrintifyExpressProject1Feature)?hi$7(this.defaultShippingProfileConfig(b,Q)):!m||!y?hi$7(de$5(b)):(this.storeAndProductId$.next({storeId:s,productId:t._id}),this.listedShippingProfilesResponse$.pipe(ie$b(({errorConfig:ce,response:Ut})=>ce||(Ut.length&&!C?this.deletedShippingProfileReplacedOnWalmart():Ut.length>1&&C?this.existingShippingProfileMismatchWithWalmart():de$5())),ie$b(ce=>Object.assign(ce,b))))}defaultShippingProfileConfig(t,e){return de$5(w$9({banner:e?{status:ot$a.Info,title:"Increase your views by offering free shipping on Walmart",content:"To increase the visibility of your products in search results on Walmart, we recommend offering free shipping to your customers. Learn more about how free shipping works",link:{text:"here",url:"https://help.printify.com/hc/en-us/articles/13261806625937"}}:undefined},t))}shippingProfilesLimitReached(t){return de$5({selectedShippingProfile:pe$5,hasAutoCreationOption:false,placeholder:"Please choose an existing profile",banner:{status:t?ot$a.Error:ot$a.Info,content:`A maximum of ${to$1} shipping templates are allowed for your Walmart seller account. Please choose an existing shipping template to continue publishing or delete a template to create a new one.`}})}deletedShippingProfileReplacedOnWalmart(){return de$5({banner:{status:ot$a.Warning,content:"A shipping profile for this product already exists on Walmart. Please match an existing shipping profile or create a new one, then republish (this will not impact SEO)."}})}existingShippingProfileMismatchWithWalmart(){return de$5({banner:{status:ot$a.Warning,content:"The shipping profile for this product does not match with Walmart. Please match an existing shipping profile or create a new one, then republish (this will not impact SEO)."}})}shippingProfileNotAssignedToAllVariantsOnWalmart(){return de$5({banner:{status:ot$a.Error,content:"The shipping profile was not assigned to all variants. Please select to sync 'Shipping profile' details before publishing the product with a new or existing shipping profile."}})}static{this.\u0275fac=function(e){return new(e||i)(pe$9(te$5),pe$9(Cr$2),pe$9(Di$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var ro$1=(()=>{class i extends U$8{constructor(t,e,r){super(),this.walmartApiService=t,this.walmartShippingProfileConfigService=e,this.featureTogglesService=r;}getGeneralDetails(){return ae$5(b$9.Walmart,"Walmart",{connectionWarning:"Walmart accepts only products that can be fulfilled from US. Please select a product and Print Provider that is US based.",type:O$6.Marketplace,aboutUrl:"https://printify.com/walmart/",affiliateUrl:"https://seller.walmart.com/signup",hasPrintifyExpress:true,hasExpressDelivery:this.featureTogglesService.isFeatureEnabled(jt$2.PrintifyExpressProject1Feature),hasAutoCreationOption:false,hasNewConnectionFlow:true,personalizationAvailable:true,personalizationDetailsAvailable:false,setupComplexity:f$8.RequiresEffort,audience:m$4.SmallBusinesses,biggestMarkets:["US"],pricing:{level:h$4.Medium,tooltip:"Free to start. Between 6-20% transaction fee per order."},mockupsGuidelines:["50 mockup limit per variant","The main image should not contain additional graphics, illustrations, logos, watermarks, overlays or text."],product:{hasKeyFeatures:true,hasShippingProfile:true,allowsSelectionOfMockupsForPublishing:true,hasMockupLibraryFeature:true,publishing:{disabled:true,tooltip:"Starting October 1st, 2024, Printify will be transitioning away from our Walmart Marketplace integration.",steps:{[u$4.Shipping]:{label:"Configuring shipping",tooltip:"This product was sent to Walmart.com and is waiting to be assigned a shipping template (may take up to 1 day)."}}},validationRules:{mockupsSelectedForPublishingCount:{min:1,max:1/0}}},description:"Walmart is great for small businesses. As one of the top marketplaces in the US, it attracts 406 million monthly visitors.",catalogName:"Walmart US",keyHighlights:["Large audience and infrastructure","Easy and secure transactions","Advanced analytics tools"],complexity:c$9.Advanced})}parsePublishingError(t,e,r){return new Be$4(t,e,r)}getShippingProfiles(t){return this.walmartApiService.getShippingProfiles(t)}getShippingProfileConfig(t,e,r,n,s){return this.walmartShippingProfileConfigService.getConfig(t,s.initialProductExpressDeliveryEnabled,e,r,n)}getComponentForSlot(t){switch(t){case g$6.Banners:return ye$7(import('./chunk-CMmpOuyb.js').then(e=>e.WalmartProductDetailsBannersComponent));case g$6.VariantsBanners:return ye$7(import('./chunk-CXX-JfwU.js').then(e=>e.WalmartProductDetailsVariantsBannersComponent));case g$6.PrintexShippingOptions:return ye$7(import('./chunk-XYuGNQGX.js').then(e=>e.WalmartPrintexShippingOptionsComponent));case I$5.BulkEditShippingProfileBanner:return ye$7(import('./chunk-BKMQmxSv.js').then(e=>e.WalmartHowToRequestTwoDaysDeliveryBannerComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case I$5.Banners:return ye$7(import('./chunk-Ba5jVFiJ.js').then(e=>e.WalmartUpcomingChangesBannerComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Di$2),pe$9(io$1),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var no$1=function(i){return i[i.MultipleStoresConnected=31003]="MultipleStoresConnected",i}(no$1||{}),Ee$6=class Ee extends Ei$6{getName(){return "WixError"}getConnectionErrorDetails(){switch(this.code){case no$1.MultipleStoresConnected:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};default:return}}};var Mi$3=(()=>{class i{constructor(t,e){this.httpClient=t,this.salesChannelApiService=e,this.salesChannel="wix",this.baseUrl=this.salesChannelApiService.getBaseUrl(this.salesChannel);}getStoreState(t){return this.salesChannelApiService.getStoreState(this.salesChannel,t).pipe(ie$b(e=>({basePath:e.base_path,isWixStoresApplicationInstalled:e.is_wix_stores_application_installed})),oe$4(Ee$6))}checkWixStoresApplicationStatus(t){return this.httpClient.get(`${this.baseUrl}/${t}/healthcheck`).pipe(ie$b(e=>e.is_wix_stores_application_installed),oe$4(Ee$6))}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>Xp$2(new Ee$6(Re$2.ConnectionUrlRequestFailed,e))))}getConsentUrl({token:t}){let e={token:t};return this.salesChannelApiService.getConsentUrl(this.salesChannel,e).pipe(yi$5(r=>Xp$2(new Ee$6(Re$2.ConsentUrlRequestFailed,r))))}installStore(t){let e="storeName"in t?{title:t.storeName}:{store_id:t.storeId};return this.salesChannelApiService.installStore(this.salesChannel,x$d(w$9({},e),{instance_id:t.instanceId,origin:t.origin,code:t.code})).pipe(yi$5(r=>Xp$2(new Ee$6(r.error?.code,r))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(_u$3),pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var ao$1=(()=>{class i{constructor(t,e,r){this.salesChannelPopupService=t,this.salesChannelLegacyConnectionService=e,this.wixApiService=r;}connect(t,e){let r=this.wixApiService.getConnectionUrl({existingStore:e});return this.openConnectionPopup(r).pipe(Ac$3(n=>this.connectExternalStore(t,n,e)),yi$5(n=>n instanceof Mt?be$8:Xp$2(n)))}connectFromSalesChannel(t,e){return this.salesChannelLegacyConnectionService.connect({required:true,salesChannel:t,steps:[Ne$2(r=>{if(!Aa$1(e))return Xp$2(new Ee$6(Re$2.InvalidConsentUrlOptions));let n=this.wixApiService.getConsentUrl(e);return this.openConnectionPopup(n).pipe(Ac$3(s=>this.wixApiService.installStore(x$d(w$9({},r),{code:s.code,instanceId:s.instanceId,origin:0}))),ie$b(()=>{}))},{isInitiatedBySalesChannel:true})]})}connectExternalStore(t,e,r){let n=!!e.state;return this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:r,steps:[Ne$2(s=>this.wixApiService.installStore(x$d(w$9({},s),{code:e.code,instanceId:e.instanceId,origin:n?1:0})).pipe(ie$b(()=>{})))]})}openConnectionPopup(t){return this.salesChannelPopupService.open(t).pipe(ie$b(e=>{if(!e.code)throw new Error("Access denied");return e}),yi$5(e=>{if(e instanceof Mt)return Xp$2(e);let r=e instanceof Ee$6?e:new Ee$6(Re$2.InstallationFailed,e);return Xp$2(r)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(se$4),pe$9(ne$2),pe$9(Mi$3))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Aa$1(i){return typeof i.token=="string"}var so$2=(()=>{class i extends U$8{constructor(t,e,r,n,s,m){super(),this.toastService=t,this.customErrorHandler=e,this.wixApiService=r,this.salesChannelPatcherService=n,this.wixLegacyConnectionService=s,this.featureTogglesService=m;}getGeneralDetails(){return ae$5(b$9.Wix,"Wix",{type:O$6.Platform,aboutUrl:"https://printify.com/wix/",affiliateUrl:"https://wixstats.com/?a=34782&c=2197&s1=",audience:m$4.SmallBusinesses,biggestMarkets:["US","GB","BR"],hasSubscriptionFee:true,personalizationAvailable:true,personalizationDetailsAvailable:false,pricing:{level:h$4.Medium,tooltip:"14-day free trial. Plans starting at $26/mo + 1.9-2.9% transaction fee per order."},description:"Wix allows you to create a beautifully designed online store with their easy-to-use drag & drop website builder.",extras:{basePath:"",isWixStoresApplicationInstalled:true},mockupsGuidelines:["up to 7 images for each option choice","Currently, it is possible to link unique images to a maximum of 15 product option choices. For example, if a product comes in 16 different colors, you can link unique images to only 15 colors. ","For best results, upload images of at least 2560 X 1440 pixels in resolution."],product:{hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection)}})}getStoreSpecificDetails(t){return this.wixApiService.getStoreState(t).pipe(ie$b(e=>({extras:e})))}getStoreAction(t){return t.extras.isWixStoresApplicationInstalled?super.getStoreAction(t):{text:"Review",type:Ze$5.Secondary,tooltip:"Review your installation of the Wix Store App",handler:()=>this.checkWixStoresApplicationStatus(t),hint:{text:"Connection error",status:ot$a.Error}}}getStoreDomain(t,e){return e.extras.basePath}getProductUrl(t,e){return e.extras.basePath+t}checkWixStoresApplicationStatus(t){return this.wixApiService.checkWixStoresApplicationStatus(t.storeId).pipe(kc$2(e=>{let r=e?"The Wix Stores App is installed successfully":"The Wix Stores App is not installed";this.salesChannelPatcherService.patch(t,{extras:{isWixStoresApplicationInstalled:e}}),this.toastService.info({content:r});}),ie$b(()=>{}),yi$5(e=>(this.customErrorHandler.handleError(e),this.toastService.info({content:"Failed to retrieve the Wix Stores App status"}),be$8)))}getComponentForSlot(t){switch(t){case I$5.Banners:return ye$7(import('./chunk-BQ1GwQ9U.js').then(e=>e.WixProductsBannersComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));case N$6.Banners:return ye$7(import('./chunk-BbqV6OEe.js').then(e=>e.WixOrdersBannersComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));default:return super.getComponentForSlot(t)}}legacyConnect(t,e){return this.wixLegacyConnectionService.connect(t,e)}connectFromSalesChannel(t,e){return this.wixLegacyConnectionService.connectFromSalesChannel(t,e)}parsePublishingError(t,e,r){return new Ee$6(t,e,r)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(rO),pe$9(Cr$2),pe$9(Mi$3),pe$9(Se$3),pe$9(ao$1),pe$9(te$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var lo$1=function(i){return i[i.MultipleStoresConnected=3001]="MultipleStoresConnected",i}(lo$1||{}),it$5=class it extends Ei$6{getName(){return "WooCommerceError"}getConnectionErrorDetails(){switch(this.code){case lo$1.MultipleStoresConnected:return {title:"Whoops!",subTitle:"This store cannot be connected, as it is already linked to either another Printify account or a different store name within this account.",content:P$7.text`
                    Please ensure you don't have multiple Printify accounts with the same store. Alternatively, check if the store is already connected to this account under the ${P$7.routerLink("Manage Your Store","/account/my-stores")} page.
                    `};default:return}}};var co$1=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-legacy-connection-store-url-hint"]],standalone:false,decls:5,vars:2,consts:[["name","help",1,"icon"],[1,"hint"],["href","https://help.printify.com/hc/en-us/articles/4483644382865",3,"newTab","external"]],template:function(e,r){e&1&&(ME(0,"pfy-icon",0),Kf$2(1,"small",1),fP(2," Be sure to setup your store settings "),Kf$2(3,"pfy-link",2),fP(4," according to instructions "),Xf$2()()),e&2&&(xR(3),lE("newTab",true)("external",true));},dependencies:[Vu$2,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:.5rem}.hint[_ngcontent-%COMP%]{color:#64634a}pfy-icon.icon[_ngcontent-%COMP%]{font-size:16px;max-height:16px;line-height:1.25rem}'],changeDetection:0});}}return i})();var po$1=(()=>{class i{constructor(t){this.salesChannelApiService=t,this.salesChannel="woo";}getConnectionUrl(t){return this.salesChannelApiService.getConnectionUrl(this.salesChannel,t).pipe(yi$5(e=>Xp$2(new it$5(Re$2.ConnectionUrlRequestFailed,e))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Z$4))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var uo$2=(()=>{class i{constructor(t,e,r){this.salesChannelPopupService=t,this.salesChannelLegacyConnectionService=e,this.wooCommerceApiService=r;}connect(t,e){return this.salesChannelLegacyConnectionService.connect({salesChannel:t,store:e,steps:[Ct$3(({url:r})=>this.openConnectionPopup(r,e),{hint:co$1})]})}openConnectionPopup(t,e){let r=this.wooCommerceApiService.getConnectionUrl({existingStore:e,storeUrl:t});return this.salesChannelPopupService.open(r).pipe(ie$b(Fa$1),ie$b(n=>{if(!n.isSuccess)throw new Error("Access denied")}),yi$5(n=>{let s=n instanceof it$5?n:new it$5(Re$2.InstallationFailed,n);return Xp$2(s)}))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(se$4),pe$9(ne$2),pe$9(po$1))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Fa$1(i){return {userId:Number.parseInt(i.user_id,10),storeUrl:i.woo,isSuccess:!!JSON.parse(i.success)}}var ho=(()=>{class i extends U$8{constructor(t,e){super(),this.featureTogglesService=t,this.wooCommerceLegacyConnectionService=e;}getGeneralDetails(){return ae$5(b$9.WooCommerce,"WooCommerce",{type:O$6.Platform,aboutUrl:"https://printify.com/woocommerce/",affiliateUrl:"https://www.hostg.xyz/aff_c?offer_id=6&aff_id=134533&url_id=1003",setupComplexity:f$8.RequiresEffort,audience:m$4.LargeRetailers,personalizationAvailable:true,personalizationDetailsAvailable:false,biggestMarkets:["US","IN","GB"],pricing:{level:h$4.Low,tooltip:"Transaction fee % based on payment method + website hosting."},mockupsGuidelines:["No mockup limit","We recommend a minimum size of 800 x 800 pixels, width, and height. This renders well for the main/featured image, catalog image, and thumbnail image. Images that are larger are even better, especially if you\u2019re selling items with great detail."],product:{hasMockupLibraryFeature:true,hasTitleMockupSelectionFeature:this.featureTogglesService.isFeatureEnabled(jt$2.MockupsTitleImageSelection),publishing:{steps:{[u$4.ImageUpload]:{label:"Uploading images",tooltip:"This product was sent to your WooCommerce store and is currently waiting for the mockup images to upload (this can take a while)."}}}},description:"WooCommerce specializes in WordPress plug-ins that give you complete control over the design and functionality of your store."})}getComponentForSlot(t){switch(t){case g$6.PersonalisationSection:return ye$7(import('./chunk-DBfJhZaT.js').then(e=>e.ProductPersonalizationSwitcherComponent));case g$6.MockupImagesGuidelines:return ye$7(import('./chunk-ByvHUyfU.js').then(e=>e.MockupImageGuidelinesContentComponent));case N$6.OtherOrdersBanners:return ye$7(import('./chunk-amG4neKP.js').then(e=>e.OtherOrderPersonalizationBannerComponent));default:return super.getComponentForSlot(t)}}legacyConnect(t,e){return this.wooCommerceLegacyConnectionService.connect(t,e)}parsePublishingError(t,e,r){return new it$5(t,e,r)}static{this.\u0275fac=function(e){return new(e||i)(pe$9(te$5),pe$9(uo$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var mo$1=new k$5("SALES_CHANNELS_ADAPTERS_MAP",{providedIn:"root",factory:()=>({[b$9.Shopify]:N$8(Hn$2),[b$9.Printify]:N$8(Nn$3),[b$9.WooCommerce]:N$8(ho),[b$9.Etsy]:N$8(Mn$2),[b$9.API]:N$8(Sn$2),[b$9.Ebay]:N$8(In$2),[b$9.PrestaShop]:N$8($n$2),[b$9.Wix]:N$8(so$2),[b$9.BigCommerce]:N$8(wn$2),[b$9.Squarespace]:N$8(Yn$3),[b$9.Walmart]:N$8(ro$1),[b$9.Storefront]:N$8(Qn$2),[b$9.TikTok]:N$8(Zn$1),[b$9.Amazon]:N$8(an$2)})});var Rt$2=function(i){return i[i.Update=0]="Update",i[i.Delete=1]="Delete",i}(Rt$2||{}),Da=new k$5("Configures connection params of SalesChannelsCatalogService. Resolves storeId from query params by default.",{providedIn:"root",factory:()=>({route:i})=>{let{storeId:l}=i.queryParams;return {storeId:l?Number.parseInt(l,10):undefined}}}),Pt$2=(()=>{class i{constructor(t,e,r,n,s,m,y,b){this.salesChannelsAdaptersMap=t,this.router=e,this.authStorageService=r,this.storesService=n,this.customErrorHandler=s,this.eventDispatcherService=m,this.featureTogglesService=y,this.salesChannelPatcherService=b,this.salesChannelOfSwitchedStore$=this.storesService.id$.pipe(Nc$2(1),Rc$2(this.storesService.salesChannelId$),Ac$3(([C,k])=>this.getById(k,C))),this.patchedSalesChannel$=this.salesChannelPatcherService.patchedSalesChannel$,this.salesChannelsMap$=this.authStorageService.isAuthorized$.pipe(Ye$b(Boolean),Ac$3(()=>this.featureTogglesService.featuresReady$.pipe(mt$8(1))),Ac$3(()=>this.storesService.stores$.pipe(Sc$2([]),Tc$2(),ie$b(Ma$1),Ye$b(C=>!!C.length),Ac$3(C=>this.storesService.id$.pipe(mt$8(1),ie$b(k=>[C,k]))),Ac$3(([C,k])=>$p$1(...C.map($=>this.handleStoreChangeAction($,k)),$p$1(this.salesChannelOfSwitchedStore$,this.patchedSalesChannel$).pipe(ie$b($=>[$.storeId,$])))),Qc$3((C,[k,$])=>($?C.set(k,$):C.delete(k),C),new Map),Oc$2(this.authStorageService.isAuthorized$.pipe(Ye$b(C=>!C))))),_c$3(1)),this.getByStoreId$=this.salesChannelsMap$.pipe(ie$b(C=>k=>C.get(k)),_c$3(1)),this.getByStoreIdOrCurrent$=this.storesService.id$.pipe(Ac$3(C=>this.getByStoreId$.pipe(ie$b(k=>[k,C]))),ie$b(([C,k])=>$=>C($??k)),_c$3(1)),this.currentSalesChannel$=this.getByStoreIdOrCurrent$.pipe(ie$b(C=>C()),Ye$b(C=>!!C),_c$3(1)),this.currentSalesChannelId$=this.currentSalesChannel$.pipe(ie$b(C=>C.id),_c$3(1)),this.salesChannelMockupsLimits$=this.currentSalesChannel$.pipe(ie$b(C=>C.product.validationRules.mockupsSelectedForPublishingCount),_c$3(1));}getById(t,e,r=true){let n=this.getAdapterFor(t);if(e){let s=this.storesService.findStoreById(e),m=this.authStorageService.isAuthorized$.pipe(Ye$b(Boolean));return (0, Ot.assert)(!!s,"Store is required to get store specific details"),m.pipe(mt$8(1),Ac$3(()=>r?n.getStoreSpecificDetails(e):hi$7({})),yi$5(y=>(this.customErrorHandler.handleError(y),hi$7({}))),ie$b(y=>x$d(w$9({},y),{loaded:true})),Sc$2(x$d(w$9({},n.getGeneralDetails()),{storeId:s.id,connected:s.connected,loaded:false})),Qc$3((y,b)=>Cc$4({},y,b),{}))}return hi$7(x$d(w$9({},n.getGeneralDetails()),{loaded:true}))}getByStoreId(t){return this.getByStoreId$.pipe(ie$b(e=>e(t)),Ye$b(e=>!!e))}connect(t,{storeId:e,connectionFlowBasePath:r="sales-channels"}={}){this.eventDispatcherService.dispatch(new Rr$1);let n=e?this.storesService.findStoreById(e):undefined;if(t.hasNewConnectionFlow){let s;e||(s={isNew:true}),n&&this.storesService.switchStore(n.id),r=t.shouldRedirectToNewFlow&&t.id===b$9.Storefront?`${r}/${vi$2}`:r,this.router.navigate([r,t.id,"connection","create-store"],{queryParams:s});return}this.executeMethod(t.id,"legacyConnect",t,n).pipe(mt$8(1)).subscribe();}connectFromSalesChannel(t,e){this.eventDispatcherService.dispatch(new Rr$1);let r=this.getAdapterFor(t),n=r.getGeneralDetails();return r.connectFromSalesChannel(n,e)}executeMethod(t,e,...r){let n=this.getAdapterFor(t),s=n[e];try{return s.apply(n,r)}catch(m){throw m instanceof Te$4?new Error(`Method "${e}" is not supported by the sales channel adapter`):m}}executeAdapterMethod(t,e,r=this.storesService.getId()){(0, Ot.assert)(!!r,"Store id is required to pick adapter");let n=this.storesService.getSalesChannelIdForStore(r);(0, Ot.assert)(!!n,"Sales channel id is required to pick adapter");let s=this.getAdapterFor(n),m=s.getGeneralDetails(),y=s[t];return (0, Ot.assert)(!!y,`The method "${t}" is not supported by ${m.name} adapter`),y.apply(s,e({storeId:r}))}getAdapterFor(t){let e=this.salesChannelsAdaptersMap[t];return (0, Ot.assert)(!!e,`Sales channel adapter missing for sales channel with ID ${t}`),e}handleStoreChangeAction({type:t,storeId:e,salesChannelId:r},n){let s=e===n||!this.featureTogglesService.isFeatureEnabled(jt$2.StoreConnectionSettingsRefactoring);return t===Rt$2.Update?this.getById(r,e,s).pipe(ie$b(m=>[e,m])):hi$7([e,null])}static{this.\u0275fac=function(e){return new(e||i)(pe$9(mo$1),pe$9(ve$8),pe$9(we$5),pe$9(Ro$2),pe$9(Cr$2),pe$9(X$6),pe$9(te$5),pe$9(Se$3))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})(),Ma$1=([i,l])=>{if(!i.length)return l.map(r=>({type:Rt$2.Update,storeId:r.id,salesChannelId:r.salesChannelId}));if(i.length===l.length)return l.reduce((r,n,s)=>n.connected!==i[s].connected?[...r,{type:Rt$2.Update,storeId:n.id,salesChannelId:n.salesChannelId}]:r,[]);let t=Object.fromEntries([...i,...l].map(r=>[r.id,r.salesChannelId])),[e]=Ah$3(i.map(r=>r.id),l.map(r=>r.id));return [{type:i.length>l.length?Rt$2.Delete:Rt$2.Update,storeId:e,salesChannelId:t[e]}]};var Ba$1=(()=>{class i{constructor(){this.salesChannelService=N$8(Pt$2),this.salesChannelApiService=N$8(Z$4),this.userService=N$8(J$5),this.blueprintsPublishingRestrictionsCache$=new yn$7({}),this.blueprintsPublishingRestrictions$=this.userService.id$.pipe(Nc$2(1),ie$b(()=>({})),Mr$6({connector:()=>this.blueprintsPublishingRestrictionsCache$,resetOnRefCountZero:false})),this.salesChannelBlueprintsPublishingRestrictions$=this.blueprintsPublishingRestrictions$.pipe(Rc$2(this.salesChannelService.currentSalesChannel$),ie$b(([t,{id:e}])=>t[e]));}getAndUpdateBlueprintsRestrictions(t,e){return this.salesChannelApiService.getPublishingRestrictedBlueprints(t.storeId,e).pipe(ie$b(r=>{let n=this.blueprintsPublishingRestrictionsCache$.value,s=n[t.id]||new Map;r.forEach(({id:y,restricted:b})=>s.set(y,b));let m=x$d(w$9({},n),{[t.id]:s});return this.blueprintsPublishingRestrictionsCache$.next(m),s}),yi$5(()=>hi$7(undefined)))}checkSalesChannelBlueprintsPublishingRestrictions(t){return this.blueprintsPublishingRestrictions$.pipe(mt$8(1),Rc$2(this.salesChannelService.currentSalesChannel$),Ac$3(([e,r])=>{let n=e[r.id];return n&&(t=t.filter(s=>!n.has(s))),t.length?this.getAndUpdateBlueprintsRestrictions(r,t):hi$7(n)}))}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Oa$1=(()=>{class i{constructor(t,e){this.customErrorHandler=t,this.salesChannelService=e,this.requestParams=new Z$a,this.limit$=this.salesChannelService.currentSalesChannel$.pipe(Dh$2("storeId"),Ac$3(r=>!r.connected||!r.sellingLimit.supported?hi$7(null):this.requestParams.pipe(Sc$2({skipLocalCache:false,skipApiCache:false}),Ac$3(({skipLocalCache:n,skipApiCache:s})=>this.salesChannelService.executeAdapterMethod("getSellingLimit",({storeId:m})=>[m,n,s]).pipe(ie$b(m=>m.isApplicable?m:null),yi$5(()=>hi$7(null)))))),_c$3(1)),this.limitPanel$=this.limit$.pipe(Ac$3(r=>r?import('./chunk-BpDmqBGe.js').then(n=>n.SellingLimitPanelComponent):hi$7(null))),this.loading$=$p$1(this.requestParams.pipe(ie$b(()=>true)),this.limit$.pipe(ie$b(()=>false))).pipe(Sc$2(false),Dr$5());}refresh(t=false){this.requestParams.next({skipLocalCache:true,skipApiCache:t});}checkLimitFit(t){return this.limit$.pipe(Ac$3(e=>!t.length||!e?hi$7(null):ih$1(t.map(le$6).map(r=>r.isExternal?this.getListedProductVariantsQuantity(r.id).pipe(ie$b(n=>x$d(w$9({},r),{quantity:r.quantity-n}))):hi$7(r))).pipe(ie$b(i.calculateTotalProductsQuantityAndPrice),ie$b(r=>{let n=e.remainingQuantity-r.quantity,s=e.remainingAmount-r.price,m=n<0,y=s<0,b=m||y;return {quantity:r.quantity,isExceeded:b,isAmountExceeded:y,isQuantityExceeded:m,remainingAmount:s,remainingQuantity:n}}))))}getListedProductVariantsQuantity(t){return this.salesChannelService.executeAdapterMethod("getListedProductVariantsQuantity",({storeId:e})=>[e,t]).pipe(yi$5(e=>(this.customErrorHandler.handleError(e),hi$7(0))))}static calculateTotalProductsQuantityAndPrice(t){return t.reduce((e,r)=>({quantity:e.quantity+r.quantity,price:e.price+r.price}),{quantity:0,price:0})}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Cr$2),pe$9(Pt$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var wt$1=function(i){return i[i.Loading=0]="Loading",i[i.Loaded=1]="Loaded",i[i.Error=2]="Error",i}(wt$1||{}),Ra$1=(()=>{class i{constructor(t,e){this.salesChannelService=t,this.storesService=e,this.loadCriteriaPool$=new yn$7(be$8),this.loadCriteria$=this.loadCriteriaPool$.pipe(Ac$3(r=>r),Sc$2(false)),this.shippingProfilesState$=new In$7(1),this.markAsOutdated$=new Z$a,this.supportedSalesChannel$=this.salesChannelService.currentSalesChannel$.pipe(Dr$5((r,n)=>r.storeId===n.storeId&&(r.product.hasShippingProfile&&!n.product.hasShippingProfile||r.product.hasShippingProfile===n.product.hasShippingProfile)),_c$3({bufferSize:1,refCount:true})),this.destroyConfig$=new Z$a,this.shouldLoadShippingProfiles$=this.supportedSalesChannel$.pipe(Ac$3(({product:r})=>r.hasShippingProfile?this.markAsOutdated$.pipe(Sc$2(true),kc$2(()=>this.destroyConfig$.next()),Ac$3(()=>r.hasShippingProfileLoadCriteria?this.loadCriteria$.pipe(Yc$3(n=>!n,true)):hi$7(true))):be$8)),this.shippingProfilesByType$=this.shouldLoadShippingProfiles$.pipe(Ac$3(r=>r?this.getShippingProfiles():hi$7(A$b()).pipe(kc$2(()=>{this.shippingProfilesState$.next({status:wt$1.Loaded});})))),this.isExpressDeliveryEnabledPool$=new yn$7(be$8),this.isExpressDeliveryEnabled$=this.isExpressDeliveryEnabledPool$.pipe(Ac$3(r=>r),Sc$2(false)),this.isEconomyDeliveryEnabledPool$=new yn$7(be$8),this.isEconomyDeliveryEnabled$=this.isEconomyDeliveryEnabledPool$.pipe(Ac$3(r=>r),Sc$2(false)),this.shippingProfiles$=Hp$2([this.isExpressDeliveryEnabled$,this.isEconomyDeliveryEnabled$,this.shippingProfilesByType$]).pipe(ie$b(ue$3),_c$3(1)),this.shippingProfilesStatus$=this.shippingProfilesState$.pipe(ie$b(r=>r.status)),this.shippingProfilesAsDropdownItems$=this.shippingProfiles$.pipe(ie$b(([r])=>r.map(n=>fe$5(n))));}markAsOutdated(){this.loadCriteriaPool$.next(be$8),this.markAsOutdated$.next(true);}bypassConfig(t=hi$7(false),e=hi$7(true)){this.loadCriteriaPool$.next(e),this.isExpressDeliveryEnabledPool$.next(t);}getConfig(t,e,r,n,s){let m=hi$7(false);r&&(m=r.pipe(Cc$3()),this.isExpressDeliveryEnabledPool$.next(r));let y=hi$7(false);n&&(y=n.pipe(Cc$3()),this.isEconomyDeliveryEnabledPool$.next(n));let b=hi$7(false);return s&&(b=s.pipe(Cc$3())),this.loadCriteriaPool$.next(e),Hp$2([this.shippingProfiles$,s||hi$7(false)]).pipe(Rc$2(this.shippingProfilesStatus$),Ye$b(([,C])=>C!==wt$1.Loading),Rc$2(m,y,b,this.storesService.selectedStore$),Ac$3(([[[[C,k=[r$5.Standard]],$]],Q,qt,ce,Ut])=>this.salesChannelService.executeMethod(Ut.salesChannelId,"getShippingProfileConfig",t,k,C,Ut,{initialProductExpressDeliveryEnabled:Q,initialProductEconomyDeliveryEnabled:qt,initialProductFreeShippingDeliveryEnabled:ce,freeShippingEnabled:$})),Oc$2(this.destroyConfig$))}getShippingProfiles(){return this.shippingProfilesState$.next({status:wt$1.Loading}),this.storesService.selectedStore$.pipe(mt$8(1),Ac$3(t=>this.salesChannelService.executeMethod(t.salesChannelId,"getShippingProfiles",t.id).pipe(ie$b(ce$7),kc$2(()=>{this.shippingProfilesState$.next({status:wt$1.Loaded});}),yi$5(e=>(this.shippingProfilesState$.next({status:wt$1.Error,error:e}),hi$7(A$b()))))))}static{this.\u0275fac=function(e){return new(e||i)(pe$9(Pt$2),pe$9(Ro$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();
var y$3=(()=>{class r{constructor(i,o){this.featureTogglesService=i,this.salesChannelService=o,this.salesChannels$=ih$1([b$9.Etsy,b$9.Shopify,b$9.TikTok,...this.featureTogglesService.isFeatureEnabled(jt$2.AmazonSalesChannel)?[b$9.Amazon]:[],b$9.Storefront,b$9.Ebay,b$9.Squarespace,b$9.Wix,b$9.WooCommerce,b$9.BigCommerce,b$9.PrestaShop,b$9.API].map(m=>this.salesChannelService.getById(m)));}static{this.\u0275fac=function(o){return new(o||r)(pe$9(te$5),pe$9(Pt$2))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Xn$1=D$a(Kc$2());var ft$3=D$a(Kc$2());var Ze$3=(()=>{class t{constructor(e){this.elementRef=e,this.isMediaLoaded=new In$7(1),this.loaded$=this.isMediaLoaded.asObservable();}ngOnInit(){this.elementRef.nativeElement.onload=()=>this.isMediaLoaded.next();}ngOnDestroy(){this.isMediaLoaded.complete();}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaBlurhashMedia",""]],standalone:false});}}return t})();var ni$1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Ce$5=t=>{let a=0;for(let e=0;e<t.length;e++){let n=t[e],o=ni$1.indexOf(n);a=a*83+o;}return a};var ht$2=t=>{let a=t/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)},gt$4=t=>{let a=Math.max(0,Math.min(1,t));return a<=.0031308?Math.trunc(a*12.92*255+.5):Math.trunc((1.055*Math.pow(a,.4166666666666667)-.055)*255+.5)},ii$1=t=>t<0?-1:1,wt=(t,a)=>ii$1(t)*Math.pow(Math.abs(t),a),Qn$1=class Qn extends Error{constructor(t){super(t),this.name="ValidationError",this.message=t;}},oi$1=t=>{if(!t||t.length<6)throw new Qn$1("The blurhash string must be at least 6 characters");let a=Ce$5(t[0]),e=Math.floor(a/9)+1,n=a%9+1;if(t.length!==4+2*n*e)throw new Qn$1(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*n*e}`)};var ri$2=t=>{let a=t>>16,e=t>>8&255,n=t&255;return [ht$2(a),ht$2(e),ht$2(n)]},si$1=(t,a)=>{let e=Math.floor(t/361),n=Math.floor(t/19)%19,o=t%19;return [wt((e-9)/9,2)*a,wt((n-9)/9,2)*a,wt((o-9)/9,2)*a]},ai$2=(t,a,e,n)=>{oi$1(t),n=n|1;let o=Ce$5(t[0]),s=Math.floor(o/9)+1,c=o%9+1,w=(Ce$5(t[1])+1)/166,K=new Array(c*s);for(let D=0;D<K.length;D++)if(D===0){let L=Ce$5(t.substring(2,6));K[D]=ri$2(L);}else {let L=Ce$5(t.substring(4+D*2,6+D*2));K[D]=si$1(L,w*n);}let Y=a*4,ae=new Uint8ClampedArray(Y*e);for(let D=0;D<e;D++)for(let L=0;L<a;L++){let yt=0,It=0,At=0;for(let Ae=0;Ae<s;Ae++)for(let Oe=0;Oe<c;Oe++){let st=Math.cos(Math.PI*L*Oe/a)*Math.cos(Math.PI*D*Ae/e),at=K[Oe+Ae*c];yt+=at[0]*st,It+=at[1]*st,At+=at[2]*st;}let Jn=gt$4(yt),Zn=gt$4(It),ei=gt$4(At);ae[4*L+0+D*Y]=Jn,ae[4*L+1+D*Y]=Zn,ae[4*L+2+D*Y]=ei,ae[4*L+3+D*Y]=255;}return ae},Dn$1=ai$2;var li$1=["canvas"],ci$1=["*"],Nn$2=(()=>{class t{get resolutionWidth(){return this._width}set resolutionWidth(e){this._width=e;}get resolutionHeight(){return this._height}set resolutionHeight(e){this._height=e;}constructor(e,n){this.destroyRef=e,this.changeDetector=n,this._width=32,this._height=32,this.shouldHideCanvas=false;}ngAfterViewInit(){(0, ft$3.assert)(!!this.mediaRef,"mediaRef is missing in BlurhashComponent"),(0, ft$3.assert)(!!this.hash,"hash is missing in BlurhashComponent"),this.mediaRef.loaded$.pipe(X$7(this.destroyRef)).subscribe(()=>{this.shouldHideCanvas=true,this.changeDetector.detectChanges();});let n=this.canvasRef.nativeElement.getContext("2d"),o=n?.createImageData(this.resolutionWidth,this.resolutionHeight),s=Dn$1(this.hash,this.resolutionWidth,this.resolutionHeight);n&&o&&(o.data.set(s),n.putImageData(o,0,0));}static{this.\u0275fac=function(n){return new(n||t)(Yo$4(mn$6),Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-blurhash"]],contentQueries:function(n,o,s){if(n&1&&oP(s,Ze$3,5),n&2){let c;sP(c=aP())&&(o.mediaRef=c.first);}},viewQuery:function(n,o){if(n&1&&iP(li$1,5),n&2){let s;sP(s=aP())&&(o.canvasRef=s.first);}},inputs:{hash:"hash",resolutionWidth:"resolutionWidth",resolutionHeight:"resolutionHeight"},standalone:false,ngContentSelectors:ci$1,decls:3,vars:3,consts:[["canvas",""],["data-testid","canvas",1,"blurhash-canvas",3,"hidden","width","height"]],template:function(n,o){n&1&&(nP(),ME(0,"canvas",1,0),rP(2)),n&2&&lE("hidden",o.shouldHideCanvas)("width",o.resolutionWidth)("height",o.resolutionHeight);},styles:["[_nghost-%COMP%]{width:100%;height:100%}"],changeDetection:0});}}return t})();var kn$2=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({imports:[Gs$2]});}}return t})();var r$4=function(t){return t.TestId="test-id",t.WhatBringsYou="what-brings-you",t.InexperiencedWhatDescribesYou="inexperienced-what-describes-you",t.ExperiencedWhatDescribesYou="experienced-what-describes-you",t.ExperiencedSocialMedia="experienced-social-media",t.ExperiencedFollowersNumber="experienced-followers-number",t.Experience="experience",t.ExperienceNoPODExperience="experience-no-pod-experience",t.Source="source",t.TellMore="tell-more",t.SocialMedia="social-media",t.FollowersNumber="followers-number",t.PODExperience="pod-experience",t.PODRevenue="pod-revenue",t.ProductsNumberPlan="products-number-plan",t.SellingInCountries="selling-country",t.CurrentSalesChannel="current-sales-channel",t.KnowWhereToSell="know-where-to-sell",t.IntendedSalesChannel="intended-sales-channel",t}(r$4||{}),i$2=function(t){return t.Inexperienced="inexperienced",t.Experienced="experienced",t.Consumer="consumer",t.Artist="artist",t.ContentCreator="content-creator",t.Agency="agency",t.Business="business",t.Individual="individual",t.NGO="ngo",t.Other="other",t.DesigningProducts="designing-products",t.SEO="seo",t.Marketing="marketing",t.Targeting="targeting",t.Beginner="beginner",t.YouTube="youtube",t.FBInsta="facebook-instagram",t.Shopify="shopify",t.TikTok="tik-tok",t.GoogleSearch="google-search",t.Friend="friend",t.AITools="ai-tools",t.SMTikTok="social-media-tik-tok",t.SMFacebook="social-media-facebook",t.SMInstagram="social-media-instagram",t.SMYoutube="social-media-youtube",t.SMTwitch="social-media-witch",t.SMX="social-media-x",t.SMSnapchat="social-media-snapchat",t.SMLinkedin="social-media-linkedin",t.SMTumblr="social-media-tumblr",t.SMClubhouse="social-media-clubhouse",t.Below50K="below-50k",t.From50to500K="50-500k",t.From500kto1M="500k-1m",t.From1Mto10M="1-10m",t.Over10M="over-10m",t.PODYes="pod-yes",t.PODNo="pod-no",t.PODLess800="pod-less-800",t.POD800to3K="pod-800-to-3K",t.POD3Kto50K="pod-3K-to-50K",t.POD50Kto250K="pod-50K-to-250K",t.PODMoreThan250K="pod-more-than-250K",t.ShoppingForMyself="shopping-for-myself",t.CompanyMerch="company-merch",t.NGOMerch="ngo-merch",t.OneOrFew="one-or-few",t.LargeQuantities="large-quantities",t.NotDefinedYet="not-defined-yet",t.Explorer="explorer",t.SellingInCountries="selling-country",t.SellingGlobally="selling-globally",t.PreferredSalesChannel="preferred-sales-channel",t.OtherSalesChannel="other-sales-channel",t.SalesChannelIntentKnown="sales-channel-intent-known",t.SalesChannelIntentNotKnown="sales-channel-intent-not-known",t.SalesChannelIntentExploring="sales-channel-intent-exploring",t.Skip="skip",t}(i$2||{}),g$5=function(t){return t.Checkbox="checkbox",t.RadioButton="radiobutton",t.DropdownMultiCountrySelect="dropdown-multi-country-select",t.SalesChannel="sales-channel",t.Card="card",t}(g$5||{}),v$4=function(t){return t.Motivation="motivation",t.Identity="identity",t.Experience="experience",t.Specifications="specifications",t}(v$4||{});function Fn$1(t,a){let e=[g$5.RadioButton,g$5.Card,g$5.SalesChannel].includes(t.viewType),n=!a||!a.find(o=>o.id===i$2.Other);return e&&n}var f$5=function(t){return t.Inexperienced="Inexperienced Merchant",t.Experienced="Experienced Merchant",t.Consumer="Consumer",t.Business="Business",t.Explorer="Explorer",t}(f$5||{}),re$3={[i$2.Artist]:{blurHash:"LEHKwn9Htl-j~ojD-psqRo%3WBE1",url:"/assets/img/onboarding/questionnaire/artist.png"},[i$2.ContentCreator]:{blurHash:"LJG[ilnnc;$v*F01$*9ts*9Y-YxV",url:"/assets/img/onboarding/questionnaire/content-creator.png"},[i$2.Agency]:{blurHash:"LNK,ywIA~p015?R*t6E1]}M{IVxa",url:"/assets/img/onboarding/questionnaire/agency.png"},[i$2.Individual]:{blurHash:"L6J@{}00zUG[5300K$^+u*.7B=}Y",url:"/assets/img/onboarding/questionnaire/individual.png"},[i$2.Consumer]:{blurHash:"LML4W+j2rU%3.l-=Xm.8ve-okro|",url:"/assets/img/onboarding/questionnaire/consumer.png"},defaultImg:{blurHash:"LLM%.e8^$~9$S$tnxu%L~Vx]XU$|",url:"/assets/img/onboarding/questionnaire/default.png"}};var di$1=["*"],et$3=(()=>{class t{constructor(){this.showInput=false,this.answer="",this.answerChange=new Xe$5,this.inputAppearance=mt$6;}onAnswerChange(e){this.answerChange.emit(e.target?.value||"");}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-other-answer-option-input"]],inputs:{showInput:"showInput",answer:"answer"},outputs:{answerChange:"answerChange"},ngContentSelectors:di$1,decls:2,vars:4,consts:[["placeholder","Type it here, please?","name","other","data-testid","otherAnswerInput",3,"onblur","appearance","value"]],template:function(n,o){n&1&&(nP(),rP(0),Kf$2(1,"pfy-input",0),VE("onblur",function(c){return o.onAnswerChange(c)}),Xf$2()),n&2&&(xR(),dE("hidden",!o.showInput),lE("appearance",o.inputAppearance.UltraCompact)("value",o.answer));},dependencies:[Gs$2,dT,In$5],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem}pfy-input[_ngcontent-%COMP%]{max-width:320px;width:100%}.hidden[_ngcontent-%COMP%]{display:none}'],changeDetection:0});}}return t})();function pi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-checkbox",3),VE("stateChange",function(o){nR(e);let s=tP().$implicit,c=tP();return rR(c.onAnswerSelect(s.id,o))}),Xf$2();}if(t&2){let e=tP().$implicit,n=tP();lE("name",e.id)("label",e.title)("checked",n.selectedAnswersIds.includes(e.id)),GI("data-onboarding-answer-id","onboardingQuestionAnswer-"+e.id);}}function mi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-other-answer-option-input",4),VE("answerChange",function(o){nR(e);let s=tP(2);return rR(s.onOtherAnswerChange(o))}),Kf$2(1,"pfy-checkbox",3),VE("stateChange",function(o){nR(e);let s=tP().$implicit,c=tP();return rR(c.onAnswerSelect(s.id,o))}),Xf$2()();}if(t&2){let e=tP().$implicit,n=tP();lE("showInput",n.isOtherSelected)("answer",n.otherCustomAnswer),xR(),lE("name",e.id)("label",e.title)("checked",n.selectedAnswersIds.includes(e.id)),GI("data-onboarding-answer-id","onboardingQuestionAnswer-"+e.id);}}function hi$2(t,a){if(t&1&&(ep$2(0),kI(1,pi$1,1,4,"pfy-checkbox",2)(2,mi$1,2,6,"ng-template",null,0,OP),tp$2()),t&2){let e=a.$implicit,n=dP(3),o=tP();xR(),lE("ngIf",e.id!==o.answerIds.Other)("ngIfElse",n);}}var Rn$1=(()=>{class t{constructor(){this.answerProvided=null,this.selectAnswers=new Xe$5,this.questionViewType=g$5,this.answerIds=i$2,this.selectedAnswers=[],this.selectedAnswersIds=[];}get columnsCount(){return this.question.columnsCount}ngOnInit(){this.selectedAnswersIds=this.answerProvided?.map(e=>(this.selectedAnswers.push(e),e.id))||[];}get isOtherSelected(){return !!this.selectedAnswers.find(({id:e})=>e===i$2.Other)}get otherCustomAnswer(){let e=this.answerProvided?.find(({id:n})=>n===i$2.Other);return e&&e.customAnswer||""}onAnswerSelect(e,n){n?this.selectedAnswers.push(this.question.answer.values.find(({id:o})=>o===e)):this.selectedAnswers=this.selectedAnswers.filter(({id:o})=>o!==e),this.selectAnswers.emit(this.selectedAnswers);}onOtherAnswerChange(e){let n=this.selectedAnswers.findIndex(({id:o})=>o===i$2.Other);n>-1&&(this.selectedAnswers[n].customAnswer=e),this.selectAnswers.emit(this.selectedAnswers);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-multiple-answer-selection"]],hostVars:2,hostBindings:function(n,o){n&2&&uE("--columns-count",o.columnsCount);},inputs:{question:"question",answerProvided:"answerProvided"},outputs:{selectAnswers:"selectAnswers"},decls:1,vars:1,consts:[["otherAnswerInput",""],[4,"ngFor","ngForOf"],["data-testid","checkboxAnswer",3,"name","label","checked","stateChange",4,"ngIf","ngIfElse"],["data-testid","checkboxAnswer",3,"stateChange","name","label","checked"],[3,"answerChange","showInput","answer"]],template:function(n,o){n&1&&kI(0,hi$2,4,2,"ng-container",1),n&2&&lE("ngForOf",o.question.answer.values);},dependencies:[Gs$2,kd$2,xd$2,dT,Ti$7,et$3],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns-count, 1),1fr);grid-gap:1.5rem}.card-view[_nghost-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(238px,1fr));grid-gap:.5rem}.card-view[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:span 1}.card-view[_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:-1/1}'],changeDetection:0});}}return t})();var tt$2=class tt{constructor(a){this.question=a;}};var Bn$1=()=>({myFavorites:{path:"favorite-products",label:"My favorites"},search:{path:"search-catalog?searchKey=",label:"Search Result"},landingPage:{path:"s",label:"Landing Page"},printProviders:{path:"print-providers",label:"Print providers"},brands:{path:"brands",label:"Brands"},suggestedBlueprints:{path:"suggested",label:"Suggested blueprints"},brandProducts:null,providerProducts:null,mainCategory:null,subCategory:null,promotionalCategory:null,catalogHome:null,sandbox:null,salesChannelTopPicks:null,salesChannelNewArrivals:null}),qo$1=["_bt"];var Vn$1=(()=>{class t{constructor(e,n,o,s,c){this.router=e,this.window=n,this.env=o,this.eventDispatcherService=s,this.http=c,this.firstLandingPage=pe$7("localStorage")?this.window.localStorage.getItem("firstLandingPage"):null,this.pathToDefaultCatalogPage="/products",this.pathToSearchResultsPage=`${this.pathToDefaultCatalogPage}/${Bn$1().search?.path}`,this.searchIntentMappings=Op$2(this.http.get(`${this.window.location.origin}/assets/seo/intent-matching-map.csv`,{responseType:"text"}).pipe(ie$b(w=>this.firstLandingPage?w:""),ie$b(w=>w?this.parseMatches(w):null),ie$b(w=>!w||!this.firstLandingPage?null:w.find(K=>this.firstLandingPage.includes(K[0].replace(/\//g,"")))),ie$b(w=>w?decodeURI(w[1]):null),yi$5(()=>be$8),_c$3({bufferSize:1,refCount:true}))),this.currentDestination=null;}get destination(){return this.currentDestination||null}set destination(e){this.setDestination(e);}applyDestination(){this.destination&&(this.router.navigateByUrl(this.destination),this.reset());}reset(){this.setDestination();}autoSetDestination(){return E$e(this,null,function*(){let e=yield this.searchIntentMappings;this.setDestination(this.getDestinationFromQueryParam()??e??undefined);})}initialize(){this.eventDispatcherService.on(kr$4).subscribe(()=>{this.autoSetDestination();});}setDestination(e){let n=e?.includes("/app/");if(!e||n||this.isInvalidDestinationValue(e)){this.currentDestination=null;return}let s=e?.startsWith("http")&&!e.includes("printify.com");if(e===this.pathToDefaultCatalogPage||s){this.currentDestination=e;return}this.currentDestination=`${this.pathToSearchResultsPage}${this.transformUrlToSearchQuery(e)}`;}isInvalidDestinationValue(e){return ["https://printify.com","https://printify.com/","printify.com","printify.com/"," ","/"].some(o=>o===e)}transformUrlToSearchQuery(e){return encodeURI(e.replace("http://","").replace("https://","").replace("printify.com","").replace("custom-","").replace(/-/g," ").replace(/\//g," ").replace("make your own","").replace(/^\s+/g,""))}getDestinationFromQueryParam(){return new URLSearchParams(this.window.location.search).get("redirectTo")}dispatchOnboardingRedirection(){this.destination&&this.eventDispatcherService.dispatch(new Ir$3(this.destination));}parseMatches(e){return e.split(/\r\n|\n/).map(n=>{let[o,s]=n.split(";");return [o,s]})}static{this.\u0275fac=function(n){return new(n||t)(pe$9(ve$8),pe$9(Q$9),pe$9(f$c),pe$9(X$6),pe$9(_u$3))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Xo$1=(()=>{class t{constructor(e){this.onboardingQuestionnaireService=e,this.shouldAskQuestions$=this.onboardingQuestionnaireService.shouldAskQuestions$;}getQuestionsUrl(){return this.onboardingQuestionnaireService.getLastUnAnsweredQuestionUrl()}getDashboardUrl(){return M$8}static{this.\u0275fac=function(n){return new(n||t)(pe$9(xe$5))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Si$1="onboarding",Ci$3="questionnaire";r$4.WhatBringsYou;var _e$6=`${Si$1}/${Ci$3}`,St$2="onboarding_questionnaire";var k$2=function(t){return t.Historical="1",t.Legacy="2",t.MonolithLatest="2.1",t.Latest="2.2",t}(k$2||{});function T$5({nextQuestionId:t,segment:a}={}){return {id:i$2.Skip,title:"Skip",nextQuestionId:t,segment:a}}function Ct$2({id:t,nextQuestionId:a,shuffleAnswers:e}){return {id:t,title:"What do you have experience with?",description:"Choose any specific skills you already have experience working with.",viewType:g$5.Checkbox,progressStep:v$4.Experience,routeAnalytics:{name:"What Is Your Selling Experience",subCategory:"Step 3 - Experience"},skip:T$5({nextQuestionId:a}),answer:{values:e([{id:i$2.DesigningProducts,title:"Designing products",nextQuestionId:a},{id:i$2.SEO,title:"Search engine optimization (SEO)",nextQuestionId:a},{id:i$2.Marketing,title:"Social media marketing & advertising",nextQuestionId:a},{id:i$2.Targeting,title:"Identifying and targeting customers online",nextQuestionId:a},{id:i$2.Beginner,title:"I'm just starting out",nextQuestionId:a}])}}}function xt$2({nextQuestionId:t}){return [{id:i$2.PreferredSalesChannel,title:"Preferred Sales Channel",nextQuestionId:t},{id:i$2.OtherSalesChannel,title:"Other Sales Channel",nextQuestionId:t}]}var W$4={question:"Welcome! What brings you to Printify?",answers:{[i$2.Inexperienced]:"I'm new to selling online and want to start.",[i$2.Experienced]:"I'm already selling online and want to add Printify.",[i$2.Consumer]:"I'm ordering products for myself"}},M$4={question:"What best describes you?",answers:{[i$2.Artist]:"Artist/Designer",[i$2.ContentCreator]:"Content creator",[i$2.Business]:"Business",[i$2.Individual]:"Individual",[i$2.Agency]:"Agency",[i$2.NGO]:"NGO",[i$2.Other]:"Nothing from above applies to me"}},we$3={question:"Where would you like to sell?",answers:{[i$2.SellingInCountries]:"Selling in countries",[i$2.SellingGlobally]:"I want to sell globally."}},S$6={question:"What social media do you use?",answers:{[i$2.SMTikTok]:"TikTok",[i$2.SMFacebook]:"Facebook",[i$2.SMInstagram]:"Instagram",[i$2.SMYoutube]:"YouTube",[i$2.SMTwitch]:"Twitch",[i$2.SMX]:"X",[i$2.SMSnapchat]:"Snapchat",[i$2.SMLinkedin]:"Linkedin",[i$2.SMTumblr]:"Tumblr",[i$2.SMClubhouse]:"Clubhouse"}},$$3={question:"What was your revenue from selling POD products within the last 6 months?",answers:{[i$2.PODLess800]:"Less than $800",[i$2.POD800to3K]:"$800 to $3,000",[i$2.POD3Kto50K]:"$3,001 to $50,000",[i$2.POD50Kto250K]:"$50,001 to $250,000",[i$2.PODMoreThan250K]:"More than $250,000"}},Q$5={question:"How many social media followers do you have?",answers:{[i$2.Below50K]:"Below 50K",[i$2.From50to500K]:"50K to 500K",[i$2.From500kto1M]:"500K to 1M",[i$2.From1Mto10M]:"1M to 10M",[i$2.Over10M]:"Over 10M"}},nt$5={question:"Where are you currently selling your products?"},it$4={question:"Choose where you plan to sell your products"};var _t$1=(()=>{class t{constructor(){this.window=N$8(Q$9);}createOnboardingQuestions(){let e=this.createAnswersShuffler({shouldShuffle:false});return hi$7({version:k$2.Latest,questions:_i$2({shuffleAnswers:e})})}createAnswersShuffler({shouldShuffle:e}){return "Cypress"in this.window||!e?o=>o:o=>{let s=o.filter(w=>w.id!==i$2.Other),c=o.find(w=>w.id===i$2.Other);return [...uh$2(s),...c?[c]:[]]}}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function _i$2({shuffleAnswers:t}){return {[r$4.WhatBringsYou]:{id:r$4.WhatBringsYou,title:W$4.question,description:"To guide and support you to a successful online business, please let us know what you're looking to achieve.",img:re$3.defaultImg,viewType:g$5.RadioButton,progressStep:v$4.Motivation,routeAnalytics:{name:"What Brings You To Printify",subCategory:"Step 1 - Motivation"},skip:T$5({nextQuestionId:r$4.Source,segment:f$5.Explorer}),answer:{values:t([{id:i$2.Inexperienced,title:W$4.answers[i$2.Inexperienced],nextQuestionId:r$4.InexperiencedWhatDescribesYou},{id:i$2.Experienced,title:W$4.answers[i$2.Experienced],nextQuestionId:r$4.CurrentSalesChannel},{id:i$2.Consumer,title:W$4.answers[i$2.Consumer],nextQuestionId:r$4.TellMore}])}},[r$4.InexperiencedWhatDescribesYou]:{id:r$4.InexperiencedWhatDescribesYou,canSkipQuestionnaire:true,title:M$4.question,description:"Choose the option that best describes your current experience and situation.",img:re$3.defaultImg,viewType:g$5.Card,progressStep:v$4.Identity,routeAnalytics:{name:"What Best Describes You",subCategory:"Step 2 - Identity",label:"Inexperienced"},skip:T$5({nextQuestionId:r$4.Experience,segment:f$5.Explorer}),answer:{values:t([{id:i$2.Artist,title:M$4.answers[i$2.Artist],description:"I design my own products or crafts",img:"/assets/img/onboarding/questionnaire/artist-designer-icon.svg",nextQuestionId:r$4.Experience,segment:f$5.Inexperienced},{id:i$2.ContentCreator,title:M$4.answers[i$2.ContentCreator],description:"I create content for social media",img:"/assets/img/onboarding/questionnaire/content-creator-icon.svg",nextQuestionId:r$4.SocialMedia,segment:f$5.Inexperienced},{id:i$2.Business,title:M$4.answers[i$2.Business],description:"I'm a company that sells products",img:"/assets/img/onboarding/questionnaire/business-icon.svg",nextQuestionId:r$4.Experience,segment:f$5.Inexperienced},{id:i$2.Individual,title:M$4.answers[i$2.Individual],description:"I make money selling online",img:"/assets/img/onboarding/questionnaire/individual-icon.svg",nextQuestionId:r$4.Experience,segment:f$5.Inexperienced},{id:i$2.Agency,title:M$4.answers[i$2.Agency],description:"I am designing for others",img:"/assets/img/onboarding/questionnaire/agency-icon.svg",nextQuestionId:r$4.Experience,segment:f$5.Inexperienced},{id:i$2.NGO,title:M$4.answers[i$2.NGO],description:"I represent an organization",img:"/assets/img/onboarding/questionnaire/ngo-icon.svg",nextQuestionId:r$4.Experience,segment:f$5.Inexperienced},{id:i$2.Other,title:M$4.answers[i$2.Other],nextQuestionId:r$4.Experience,segment:f$5.Inexperienced}])}},[r$4.Experience]:Ct$2({id:r$4.Experience,nextQuestionId:r$4.KnowWhereToSell,shuffleAnswers:t}),[r$4.ExperienceNoPODExperience]:Ct$2({id:r$4.ExperienceNoPODExperience,nextQuestionId:r$4.SellingInCountries,shuffleAnswers:t}),[r$4.SellingInCountries]:{id:r$4.SellingInCountries,title:we$3.question,description:"Choose the main country of the target market where you plan to sell your products.",viewType:g$5.DropdownMultiCountrySelect,progressStep:v$4.Specifications,routeAnalytics:{name:"Where Do You Want To Sell",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.Source}),answer:{values:[{id:i$2.SellingInCountries,title:we$3.answers[i$2.SellingInCountries],nextQuestionId:r$4.Source},{id:i$2.SellingGlobally,title:we$3.answers[i$2.SellingGlobally],nextQuestionId:r$4.Source}]}},[r$4.Source]:{id:r$4.Source,title:"How did you hear about us?",description:"One last question, where did you first hear of Printify?",viewType:g$5.RadioButton,progressStep:v$4.Specifications,routeAnalytics:{name:"Where Did You Hear About Printify",subCategory:"Step 4 - Specifications"},skip:T$5(),answer:{values:t([{id:i$2.YouTube,title:"YouTube"},{id:i$2.FBInsta,title:"Facebook or Instagram"},{id:i$2.Shopify,title:"Shopify"},{id:i$2.TikTok,title:"TikTok"},{id:i$2.GoogleSearch,title:"Google Search"},{id:i$2.Friend,title:"Friend or family"},{id:i$2.AITools,title:"AI Tools - Chat GPT, Gemini, etc."},{id:i$2.Other,title:"Nothing from above applies to me"}])}},[r$4.SocialMedia]:{id:r$4.SocialMedia,title:S$6.question,description:"Select which social media platforms you currently use.",viewType:g$5.Checkbox,progressStep:v$4.Experience,columnsCount:2,routeAnalytics:{name:"What Social Media Do You Use",subCategory:"Step 3 - Experience",label:"Inexperienced"},skip:T$5({nextQuestionId:r$4.FollowersNumber}),answer:{values:t([{id:i$2.SMTikTok,title:S$6.answers[i$2.SMTikTok],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMFacebook,title:S$6.answers[i$2.SMFacebook],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMInstagram,title:S$6.answers[i$2.SMInstagram],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMYoutube,title:S$6.answers[i$2.SMYoutube],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMTwitch,title:S$6.answers[i$2.SMTwitch],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMX,title:S$6.answers[i$2.SMX],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMSnapchat,title:S$6.answers[i$2.SMSnapchat],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMLinkedin,title:S$6.answers[i$2.SMLinkedin],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMTumblr,title:S$6.answers[i$2.SMTumblr],nextQuestionId:r$4.FollowersNumber},{id:i$2.SMClubhouse,title:S$6.answers[i$2.SMClubhouse],nextQuestionId:r$4.FollowersNumber},{id:i$2.Other,title:"Nothing from above applies to me",nextQuestionId:r$4.FollowersNumber}])}},[r$4.FollowersNumber]:{id:r$4.FollowersNumber,title:Q$5.question,description:"This allows us to recommend optimal products and sales channels based on your number of followers.",viewType:g$5.RadioButton,progressStep:v$4.Experience,routeAnalytics:{name:"How Many Followers Do You Have",subCategory:"Step 3 - Experience",label:"Inexperienced"},skip:T$5({nextQuestionId:r$4.Experience}),answer:{values:[{id:i$2.Below50K,title:Q$5.answers[i$2.Below50K],nextQuestionId:r$4.Experience},{id:i$2.From50to500K,title:Q$5.answers[i$2.From50to500K],nextQuestionId:r$4.Experience},{id:i$2.From500kto1M,title:Q$5.answers[i$2.From500kto1M],nextQuestionId:r$4.Experience},{id:i$2.From1Mto10M,title:Q$5.answers[i$2.From1Mto10M],nextQuestionId:r$4.Experience},{id:i$2.Over10M,title:Q$5.answers[i$2.Over10M],nextQuestionId:r$4.Experience}]}},[r$4.ExperiencedWhatDescribesYou]:{id:r$4.ExperiencedWhatDescribesYou,canSkipQuestionnaire:true,title:M$4.question,description:"Choose the option that best describes your current experience and situation.",img:re$3.defaultImg,viewType:g$5.Card,progressStep:v$4.Identity,routeAnalytics:{name:"What Best Describes You",subCategory:"Step 2 - Identity",label:"Experienced"},skip:T$5({nextQuestionId:r$4.SellingInCountries,segment:f$5.Explorer}),answer:{values:t([{id:i$2.Artist,title:M$4.answers[i$2.Artist],description:"I design my own products or crafts",img:"/assets/img/onboarding/questionnaire/artist-designer-icon.svg",nextQuestionId:r$4.PODExperience},{id:i$2.ContentCreator,title:M$4.answers[i$2.ContentCreator],description:"I create content for social media",img:"/assets/img/onboarding/questionnaire/content-creator-icon.svg",nextQuestionId:r$4.ExperiencedSocialMedia},{id:i$2.Business,title:M$4.answers[i$2.Business],description:"I'm a company that sells products",img:"/assets/img/onboarding/questionnaire/business-icon.svg",nextQuestionId:r$4.PODExperience},{id:i$2.Individual,title:M$4.answers[i$2.Individual],description:"I make money selling online",img:"/assets/img/onboarding/questionnaire/individual-icon.svg",nextQuestionId:r$4.PODExperience},{id:i$2.Agency,title:M$4.answers[i$2.Agency],description:"I am designing for others",img:"/assets/img/onboarding/questionnaire/agency-icon.svg",nextQuestionId:r$4.PODExperience},{id:i$2.NGO,title:M$4.answers[i$2.NGO],description:"I represent an organization",img:"/assets/img/onboarding/questionnaire/ngo-icon.svg",nextQuestionId:r$4.PODExperience},{id:i$2.Other,title:M$4.answers[i$2.Other],nextQuestionId:r$4.PODExperience}])}},[r$4.ExperiencedSocialMedia]:{id:r$4.ExperiencedSocialMedia,title:S$6.question,description:"Select which social media platforms you currently use.",viewType:g$5.Checkbox,progressStep:v$4.Experience,columnsCount:2,routeAnalytics:{name:"What Social Media Do You Use",subCategory:"Step 3 - Experience",label:"Experienced"},skip:T$5({nextQuestionId:r$4.ExperiencedFollowersNumber}),answer:{values:t([{id:i$2.SMTikTok,title:S$6.answers[i$2.SMTikTok],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMFacebook,title:S$6.answers[i$2.SMFacebook],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMInstagram,title:S$6.answers[i$2.SMInstagram],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMYoutube,title:S$6.answers[i$2.SMYoutube],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMTwitch,title:S$6.answers[i$2.SMTwitch],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMX,title:S$6.answers[i$2.SMX],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMSnapchat,title:S$6.answers[i$2.SMSnapchat],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMLinkedin,title:S$6.answers[i$2.SMLinkedin],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMTumblr,title:S$6.answers[i$2.SMTumblr],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.SMClubhouse,title:S$6.answers[i$2.SMClubhouse],nextQuestionId:r$4.ExperiencedFollowersNumber},{id:i$2.Other,title:"Nothing from above applies to me",nextQuestionId:r$4.ExperiencedFollowersNumber}])}},[r$4.ExperiencedFollowersNumber]:{id:r$4.ExperiencedFollowersNumber,title:"How many social media followers do you have?",description:"This allows us to recommend optimal products and sales channels based on your number of followers.",viewType:g$5.RadioButton,progressStep:v$4.Experience,routeAnalytics:{name:"How Many Followers Do You Have",subCategory:"Step 3 - Experience",label:"Experienced"},skip:T$5({nextQuestionId:r$4.PODExperience}),answer:{values:[{id:i$2.Below50K,title:Q$5.answers[i$2.Below50K],nextQuestionId:r$4.PODExperience},{id:i$2.From50to500K,title:Q$5.answers[i$2.From50to500K],nextQuestionId:r$4.PODExperience},{id:i$2.From500kto1M,title:Q$5.answers[i$2.From500kto1M],nextQuestionId:r$4.PODExperience},{id:i$2.From1Mto10M,title:Q$5.answers[i$2.From1Mto10M],nextQuestionId:r$4.PODExperience},{id:i$2.Over10M,title:Q$5.answers[i$2.Over10M],nextQuestionId:r$4.PODExperience}]}},[r$4.PODExperience]:{id:r$4.PODExperience,title:"Do you have experience selling print-on-demand products?",description:"Tell us if you have any experience selling POD (print-on-demand) products.",viewType:g$5.RadioButton,progressStep:v$4.Experience,routeAnalytics:{name:"What Is Your POD Experience",subCategory:"Step 3 - Experience"},skip:T$5({nextQuestionId:r$4.SellingInCountries,segment:f$5.Explorer}),answer:{values:t([{id:i$2.PODYes,title:"Yes",nextQuestionId:r$4.PODRevenue},{id:i$2.PODNo,title:"No",nextQuestionId:r$4.ExperienceNoPODExperience,segment:f$5.Inexperienced}])}},[r$4.PODRevenue]:{id:r$4.PODRevenue,title:$$3.question,description:"",viewType:g$5.RadioButton,progressStep:v$4.Experience,routeAnalytics:{name:"What Is Your POD Revenue",subCategory:"Step 3 - Experience"},skip:T$5({nextQuestionId:r$4.SellingInCountries,segment:f$5.Explorer}),answer:{values:[{id:i$2.PODLess800,title:$$3.answers[i$2.PODLess800],nextQuestionId:r$4.SellingInCountries,segment:f$5.Inexperienced},{id:i$2.POD800to3K,title:$$3.answers[i$2.POD800to3K],nextQuestionId:r$4.SellingInCountries,segment:f$5.Experienced},{id:i$2.POD3Kto50K,title:$$3.answers[i$2.POD3Kto50K],nextQuestionId:r$4.SellingInCountries,segment:f$5.Experienced},{id:i$2.POD50Kto250K,title:$$3.answers[i$2.POD50Kto250K],nextQuestionId:r$4.SellingInCountries,segment:f$5.Experienced},{id:i$2.PODMoreThan250K,title:$$3.answers[i$2.PODMoreThan250K],nextQuestionId:r$4.SellingInCountries,segment:f$5.Experienced}]}},[r$4.TellMore]:{id:r$4.TellMore,title:"Can you tell us more?",description:"Please let us know what you plan to do with Printify.",viewType:g$5.RadioButton,progressStep:v$4.Specifications,routeAnalytics:{name:"Tell Us More About Why You're Here",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.Source,segment:f$5.Consumer}),answer:{values:t([{id:i$2.ShoppingForMyself,title:"I'm shopping for myself",nextQuestionId:r$4.ProductsNumberPlan,segment:f$5.Consumer},{id:i$2.CompanyMerch,title:"I'm ordering merchandise on behalf of company",nextQuestionId:r$4.Source,segment:f$5.Business},{id:i$2.NGOMerch,title:"I'm ordering merchandise on behalf of an NGO",nextQuestionId:r$4.Source,segment:f$5.Business}])}},[r$4.ProductsNumberPlan]:{id:r$4.ProductsNumberPlan,title:"How many products do you plan to order?",description:"Please let us know the quantity you're thinking of ordering.",viewType:g$5.RadioButton,progressStep:v$4.Specifications,routeAnalytics:{name:"How Many Products Do You Want To Order",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.Source}),answer:{values:t([{id:i$2.OneOrFew,title:"One or only a few",nextQuestionId:r$4.Source},{id:i$2.LargeQuantities,title:"I plan to order in large quantities",nextQuestionId:r$4.Source},{id:i$2.NotDefinedYet,title:"I don't know yet",nextQuestionId:r$4.Source}])}},[r$4.CurrentSalesChannel]:{id:r$4.CurrentSalesChannel,title:nt$5.question,description:"We will help you connect & publish faster.",viewType:g$5.SalesChannel,progressStep:v$4.Motivation,routeAnalytics:{name:"What Is Your Current Sales Channel",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.ExperiencedWhatDescribesYou}),answer:{values:xt$2({nextQuestionId:r$4.ExperiencedWhatDescribesYou})}},[r$4.KnowWhereToSell]:{id:r$4.KnowWhereToSell,title:"Do you already know where you\u2019ll sell your products?",description:"We\u2019ll help you connect faster or guide you in choosing a sales channel that works for you.",viewType:g$5.RadioButton,progressStep:v$4.Specifications,routeAnalytics:{name:"Do You Know Where To Sell",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.SellingInCountries}),answer:{values:t([{id:i$2.SalesChannelIntentKnown,title:"Yes, I have a sales channel in mind.",nextQuestionId:r$4.IntendedSalesChannel},{id:i$2.SalesChannelIntentNotKnown,title:"No, I don\u2019t know where to sell.",nextQuestionId:r$4.SellingInCountries},{id:i$2.SalesChannelIntentExploring,title:"I\u2019m exploring different options.",nextQuestionId:r$4.SellingInCountries}])}},[r$4.IntendedSalesChannel]:{id:r$4.IntendedSalesChannel,title:it$4.question,description:"We will help you connect & publish faster.",viewType:g$5.SalesChannel,progressStep:v$4.Specifications,routeAnalytics:{name:"Where Do You Plan To Sell",subCategory:"Step 4 - Specifications"},skip:T$5({nextQuestionId:r$4.SellingInCountries}),answer:{values:xt$2({nextQuestionId:r$4.SellingInCountries})}}}}var ve$4=(()=>{class t{constructor(){this.http=N$8(_u$3),this.errorHandler=N$8(it$a),this.userService=N$8(J$5),this.environment=N$8(f$c),this.onboardingQuestionsFactory=N$8(_t$1);}saveOnboardingAnswers(e,n){return this.userService.id$.pipe(mt$8(1),Ac$3(o=>this.http.post(`${this.environment.segmentationApiURL}/onboarding-questionnaire/${o}${n?`/${n}`:""}`,e).pipe(kc$2(()=>this.saveToMonolithApi(e,n).subscribe()),yi$5(s=>(this.errorHandler.handleError(s),hi$7(null))))))}getOnboardingAnswers(){return this.userService.id$.pipe(mt$8(1),Ac$3(e=>this.http.get(`${this.environment.segmentationApiURL}/onboarding-questionnaire/${e}`)))}shouldAskQuestions(){return this.userService.id$.pipe(mt$8(1),Ac$3(e=>this.http.get(`${this.environment.segmentationApiURL}/onboarding-questionnaire/${e}`)),ie$b(()=>false),yi$5(e=>e.status===Fu$2.NotFound?hi$7(true):hi$7(false)))}getOnboardingQuestions(){return this.onboardingQuestionsFactory.createOnboardingQuestions()}saveToMonolithApi(e,n){let o=this.fixVersionForMonolith(n),s=`${this.environment.apiURL}v1/onboarding-v2/answers`+(o?`/${o}`:"");return this.http.post(s,e).pipe(yi$5(()=>hi$7(null)))}fixVersionForMonolith(e){return [k$2.Historical,k$2.Legacy,k$2.MonolithLatest,undefined].includes(e)?e:k$2.MonolithLatest}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var be$4={id:i$2.Explorer,title:"I am just exploring",segment:f$5.Explorer};var ot$5=(()=>{class t{constructor(){this.savedAnswers=[],this.savedAnswersV2={},this.errorHandler=N$8(it$a),this.userService=N$8(J$5),this.onboardingQuestionsRepository=N$8(ve$4),this.userService.id$.pipe(Ac$3(()=>this.getAnswers())).subscribe(({savedAnswers:e,savedAnswersV2:n,version:o})=>{this.savedAnswers=e??[],this.savedAnswersV2=n??{},this.onboardingVersion=o;});}getAnswers(){return this.onboardingQuestionsRepository.getOnboardingAnswers().pipe(ie$b(({version:e,answers:n})=>w$9({version:e},e===k$2.Historical?{savedAnswers:n}:{savedAnswersV2:n})),yi$5(e=>(this.errorHandler.handleError(e),hi$7({savedAnswers:undefined,savedAnswersV2:undefined,version:undefined}))))}setSavedAnswers(e){if(Array.isArray(e)){this.savedAnswers=e;return}this.savedAnswersV2=e;}getOnboardingVersion(){return this.getAnswer(W$4.question)?this.onboardingVersion??k$2.Latest:k$2.Legacy}getAnswer(e){return this.getAnsweredQuestion(e)?.answer??""}getCustomAnswer(e){return this.getAnsweredQuestion(e)?.customAnswer??""}hasAnsweredFor(e,n){let o=this.getCombinedOnboardingQuestionsAnswers(),s=typeof n=="string"?[n]:n;return o.some(c=>c.question===e&&s.includes(c.answer))}getCombinedOnboardingQuestionsAnswers(){let n=this.savedAnswers.flatMap(({question:c,answer:w,subQuestion:K,subAnswer:Y})=>K&&Y?[{question:c,answer:w},{question:K,answer:Y}]:[{question:c,answer:w}]),o=this.savedAnswersV2,s=Object.values(o).flatMap(c=>c.answers.map(w=>({question:c.title,answer:w.title,customAnswer:w.customAnswer?.value})));return [...n,...s]}getAnsweredQuestion(e){return this.getCombinedOnboardingQuestionsAnswers().find(o=>o.question===e)}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var se$3={question:"What describes you best?",answers:{entrepreneur:"Ecommerce entrepreneur",creator:"Digital content creator or influencer",nonProfit:"Nonprofit or charity",designer:"Designer or visual artist",organization:"Enterprise or organization",other:"Other"}},j$3={question:"What is your main objective?",answers:{isNonMerchant:"Shopping for myself",isInterestedInSellingOnline:"Start my first online business",isSelling:"Grow my business",orderMerch:"Order merchandise for an project/event/company",justExploring:"I am not sure / Just exploring"}},ye$4={question:"How much do you sell per month?",answers:{upTo5000:"Up to $5000",upTo50000:"Up to $50000",more:"More"}},rt$4={question:"What is your main objective?",answers:{orderForEvent:"Order for an event/project",companyMerch:"Order company merch for internal use (company swag or promotional use)"}},vt$1={question:"Would you want to try selling?",answers:{interested:"I'm interested"}};var ce$4={question:"What describes you best?",answers:{entrepreneur:"I have my own e-commerce store",creator:"I'm a social media influencer",nonProfit:"I represent a non-profit organisation",organization:"I represent a company",other:"Other"}},H$2={question:"What is your main objective?",answers:{isNonMerchant:"Order products for myself",isInterestedInSellingOnline:"Start my first online business",isSelling:"Grow my current business",orderMerch:"Order merchandise for a company or organization"}},Ie$3={question:"What are your current monthly sales?",answers:{upTo50000:"$3,001 - $50,000",upTo250000:"$50,001 - $250,000",more:"more than $250,000"}};var hs=(()=>{class t{constructor(e,n,o){this.userService=e,this.storesService=n,this.answeredQuestionsService=o,this.hasAnsweredFor=this.answeredQuestionsService.hasAnsweredFor.bind(this.answeredQuestionsService),this.getAnswer=this.answeredQuestionsService.getAnswer.bind(this.answeredQuestionsService),this.getCustomAnswer=this.answeredQuestionsService.getCustomAnswer.bind(this.answeredQuestionsService),this.isInterestedInSellingOnline$=this.userService.authenticatedUser$.pipe(ie$b(()=>this.isInterestedInSellingOnline()));}isNonMerchant(){let e=this.storesService.store?.connected;return (this.hasAnsweredFor("What brought you to Printify?","non-merchant")||this.hasAnsweredFor(H$2.question,H$2.answers.isNonMerchant)||this.hasAnsweredFor(j$3.question,j$3.answers.isNonMerchant))&&!this.isInterestedInSellingOnline()&&!e}isSelfIdentifiedPWS(){return this.isSellingOnline()&&this.hasPWSRevenue()}isSellingOnline(){return this.hasAnsweredFor("Are you already selling?","Yes, I have an online store")||this.hasAnsweredFor(H$2.question,H$2.answers.isSelling)||this.hasAnsweredFor(j$3.question,j$3.answers.isSelling)||this.hasAnsweredFor(W$4.question,W$4.answers[i$2.Experienced])||this.hasAnsweredFor(W$4.question,"I'm already selling online and want to expand.")}isSelling(){return this.hasAnsweredFor("Are you already selling?",["Yes, I have an online store","Yes, I sell offline"])||this.hasAnsweredFor(H$2.question,H$2.answers.isSelling)||this.hasAnsweredFor(j$3.question,j$3.answers.isSelling)}getUserOccupation(){let e={[ce$4.answers.entrepreneur]:"entrepreneur",[ce$4.answers.creator]:"creator",[ce$4.answers.nonProfit]:"non_profit",[ce$4.answers.organization]:"organization",[ce$4.answers.other]:"other",[se$3.answers.entrepreneur]:"entrepreneur",[se$3.answers.creator]:"creator",[se$3.answers.nonProfit]:"non_profit",[se$3.answers.designer]:"designer",[se$3.answers.organization]:"organization",[se$3.answers.other]:"other"},n=this.getAnswer(ce$4.question)||this.getAnswer(se$3.question);return e[n]??n}getUserGroup(){let e=[H$2.answers.orderMerch,H$2.answers.isNonMerchant,j$3.answers.orderMerch,j$3.answers.isNonMerchant,j$3.answers.justExploring],n=[rt$4.answers.orderForEvent,rt$4.answers.companyMerch],o=e.includes(this.getAnswer(H$2.question))||e.includes(this.getAnswer(j$3.question)),s=n.includes(this.getAnswer(rt$4.question)),c=o||s?"non-merchant":"merchant";return this.getAnswer("What brought you to Printify?")||c}getUserOnboardingQuestionnaireAttributes(){let e=this.answeredQuestionsService.getOnboardingVersion();return e===k$2.Legacy?{onboardingVersion:k$2.Legacy}:{onboardingVersion:e,isExperienced:this.isExperienced(),persona:this.getUserPersona(),platform:this.getUserSocialMedia(),location:this.getUserLocation(),isInfluencer:this.isInfluencer(),preferredSalesChannelId:this.getPreferredSalesChannelId()}}isInterestedInSellingOnline(){return this.hasAnsweredFor(vt$1.question,vt$1.answers.interested)||this.hasAnsweredFor(H$2.question,H$2.answers.isInterestedInSellingOnline)||this.hasAnsweredFor(j$3.question,j$3.answers.isInterestedInSellingOnline)}hasPWSRevenue(){return this.hasAnsweredFor("What is your current monthly revenue?",["$5,000 USD - $50,000 USD","More than $50,000 USD"])||this.hasAnsweredFor(Ie$3.question,[Ie$3.answers.upTo50000,Ie$3.answers.upTo250000,Ie$3.answers.more])||this.hasAnsweredFor(ye$4.question,[ye$4.answers.upTo5000,ye$4.answers.upTo50000,ye$4.answers.more])}isExperienced(){return this.hasAnsweredFor($$3.question,[$$3.answers[i$2.POD800to3K],$$3.answers[i$2.POD3Kto50K],"$3,000 to $50,000",$$3.answers[i$2.POD50Kto250K],"$50,000 to $250,000",$$3.answers[i$2.PODMoreThan250K]])}getUserPersona(){return this.getAnswer(be$4.title)?i$2.Explorer:this.hasAnsweredFor(W$4.question,W$4.answers[i$2.Consumer])?i$2.Consumer:[i$2.Artist,i$2.ContentCreator,i$2.Business,i$2.Individual,i$2.Agency,i$2.NGO].find(e=>this.hasAnsweredFor(M$4.question,M$4.answers[e]||""))}getUserSocialMedia(){return [i$2.SMTikTok].find(e=>this.hasAnsweredFor(S$6.question,S$6.answers[e]||""))}getUserLocation(){return this.getCustomAnswer(we$3.question)}isInfluencer(){return this.hasAnsweredFor(Q$5.question,[Q$5.answers[i$2.From50to500K],Q$5.answers[i$2.From500kto1M],Q$5.answers[i$2.From1Mto10M],Q$5.answers[i$2.Over10M]])}getPreferredSalesChannelId(){let e=this.getCustomAnswer(nt$5.question)||this.getCustomAnswer(it$4.question);return Tc$3(e)?undefined:Number(e)}static{this.\u0275fac=function(n){return new(n||t)(pe$9(J$5),pe$9(Ro$2),pe$9(ot$5))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var Ln$1=D$a(Kc$2());var xe$5=(()=>{class t{constructor(e,n,o,s,c,w,K,Y){this.router=e,this.browserStorage=n,this.userService=o,this.onboardingQuestionsRepository=s,this.redirectToSearchResultsService=c,this.answeredQuestionsService=w,this.eventDispatcherService=K,this.state=new yn$7(this.getLocalState()||{}),this.savingAnswers=new yn$7(false),this.questions$=new yn$7(undefined),this.state$=this.state.asObservable(),this.savingAnswers$=this.savingAnswers.asObservable();let ae=this.userService.id$.pipe(Ac$3(()=>this.onboardingQuestionsRepository.shouldAskQuestions())),D=this.eventDispatcherService.events$.pipe(G$6(Ur$1));this.shouldAskQuestions$=$p$1(ae,D.pipe(ie$b(()=>false))).pipe(ie$b(L=>L&&!Y.isFeatureEnabled(jt$2.SkipQuestionnaire)),_c$3(1)),this.shouldAskQuestions$.subscribe();}loadQuestions(){return this.onboardingQuestionsRepository.getOnboardingQuestions().pipe(kc$2(e=>this.questions$.next(e)))}getQuestionById(e){let n=this.getQuestions().questions[e];if(n)return this.getQuestionWithImageSet(n)}getLastUnAnsweredQuestionUrl(){return `${_e$6}/${this.getLastUnAnsweredQuestionId()}`}static getFirstQuestionId(){return r$4.WhatBringsYou}getLastUnAnsweredQuestionId(){if(!Object.keys(this.state.value).length)return t.getFirstQuestionId();let e;return Object.keys(this.state.value).find(n=>{let o=this.getNextQuestionId(this.state.value[n]);if(!!!this.state.value[o])return e=o,true}),e||t.getFirstQuestionId()}isFirstQuestion(e){return e===t.getFirstQuestionId()}navigateToNextQuestion(e,n){let o=this.setSelectedAnswersForQuestion(e,n),s=this.convertQuestionUIModelToState(o);this.updateState(s),this.setStateLocally();let c=this.getNextQuestionId(s);if(c){this.router.navigate([_e$6,c]);return}this.saveOnboardingAnswers();}navigateToPreviousQuestion(e){let n=w$9({},this.state.value),o=Object.values(n).find(s=>s.answer.values.find(c=>c.nextQuestionId===e));o&&delete n[e],this.state.next(w$9({},n)),this.setStateLocally(),this.router.navigate([_e$6,o?o.id:t.getFirstQuestionId()]);}getQuestionWithImageSet(e){let n=e.img||this.getImageForQuestionByAnswerIdFromState();return x$d(w$9({},e),{img:n})}getImageForQuestionByAnswerIdFromState(){let n=Object.keys(this.state.value).map(o=>{if(this.state.value[o])return this.state.value[o]?.answer.values.map(({id:s})=>s)}).flat().find(o=>!!re$3[o]);return n?re$3[n]:re$3.defaultImg}setSelectedAnswersForQuestion(e,n){return x$d(w$9({},e),{answer:{values:n}})}updateState(e){this.state.next(x$d(w$9({},this.state.value),{[e.id]:e}));}getNextQuestionId(e){return e.answer.values.map(({nextQuestionId:n})=>n).find(n=>!!n)||null}convertQuestionUIModelToState(e){return {id:e.id,title:e.title,answer:{values:e.answer.values.map(n=>({id:n.id,title:n.title,nextQuestionId:n.nextQuestionId,customAnswer:n.customAnswer,segment:n.segment}))}}}notifyAboutAnswersSubmission(e){this.eventDispatcherService.dispatch(new Ur$1(e));}setStateLocally(){this.browserStorage.set(St$2,this.state.value,{storageType:I$8.Local,clearOnAuth:true});}getLocalState(){try{return this.browserStorage.get(St$2,{},I$8.Local)}catch(e){return console.error(e),{}}}saveOnboardingAnswers(){let e=this.getQuestions(),n=this.convertToLegacyDataFormat(this.state.value);this.savingAnswers.next(true),this.onboardingQuestionsRepository.saveOnboardingAnswers(n,e.version).pipe(xc$2(()=>{this.state.next({}),this.savingAnswers.next(false),this.setStateLocally(),this.answeredQuestionsService.setSavedAnswers(n),this.notifyAboutAnswersSubmission(n),this.redirectToSearchResultsService.dispatchOnboardingRedirection();let o=this.redirectToSearchResultsService.destination||M$8;this.router.navigateByUrl(o,{replaceUrl:true});})).subscribe();}convertToLegacyDataFormat(e){let n={};return Object.keys(e).forEach((o,s)=>{n[o]={title:e[o]?.title||"",index:s,answers:e[o]?.answer.values.map((c,w)=>w$9({id:w,title:c.title,nextQuestionId:c.nextQuestionId||null,customAnswer:{required:false,value:c.customAnswer}},c.segment?{segment:c.segment}:null))||[]};}),n}getQuestions(){let e=this.questions$.getValue();return (0, Ln$1.assert)(!!e,"Questions accessed before they were loaded"),e}static{this.\u0275fac=function(n){return new(n||t)(pe$9(ve$8),pe$9(Y$4),pe$9(J$5),pe$9(ve$4),pe$9(Vn$1),pe$9(ot$5),pe$9(X$6),pe$9(te$5))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();function Oi$1(t,a){if(t&1&&(ep$2(0),Kf$2(1,"div",1),fP(2),Xf$2(),Kf$2(3,"i",2),fP(4,"chevron_right"),Xf$2(),tp$2()),t&2){let e=a.$implicit,n=tP();xR(),dE("active",e===n.currentStep),xR(),ip$2(" ",e," ");}}var Wn$2=(()=>{class t{constructor(){this.questionProgressSteps=Object.values(v$4);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-progress-stepper"]],inputs:{currentStep:"currentStep"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"step"],[1,"material-icons-outlined","icon"]],template:function(n,o){n&1&&kI(0,Oi$1,5,3,"ng-container",0),n&2&&lE("ngForOf",o.questionProgressSteps);},dependencies:[Gs$2,kd$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:none;align-items:center;gap:1rem;padding:2rem 2rem 1rem}.step[_ngcontent-%COMP%]{border-radius:24px;padding:.25rem 1rem;color:#a8a794;text-transform:capitalize;font-size:.875rem;line-height:1.25rem}.step.active[_ngcontent-%COMP%]{background:#64634a;color:#f5f5f0}.icon[_ngcontent-%COMP%]{color:#2f2e0c}.icon[_ngcontent-%COMP%]:last-child{display:none}'],changeDetection:0});}}return t})();function Mi$2(t,a){if(t&1&&ME(0,"img",1),t&2){let e=tP();op$1("alt","",e.name()," logo"),lE("src",a,sy$2);}}function Ei$4(t,a){t&1&&ME(0,"pfy-icon",2);}var $n$1=(()=>{class t{constructor(){this.name=cR.required(),this.logoUrl=cR(),this.analyticsId=cR(),this.isActive=cR(),this.buttonClick=aR();}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-sales-channel-button"]],inputs:{name:[1,"name"],logoUrl:[1,"logoUrl"],analyticsId:[1,"analyticsId"],isActive:[1,"isActive"]},outputs:{buttonClick:"buttonClick"},decls:4,vars:5,consts:[["type","secondary","size","large","data-testid","salesChannelButton",1,"sales-channel-button",3,"buttonClick"],["height","38","width","38",3,"src","alt"],["name","store","data-testid","logoFallback",1,"logo-fallback"]],template:function(n,o){if(n&1&&(Kf$2(0,"pfy-button",0),VE("buttonClick",function(){return o.buttonClick.emit()}),kI(1,Mi$2,1,3,"img",1)(2,Ei$4,1,0,"pfy-icon",2),fP(3),Xf$2()),n&2){let s;dE("active",o.isActive()),GI("data-analyticsid",o.analyticsId()),xR(),QR((s=o.logoUrl())?1:2,s),xR(2),ip$2(" ",o.name(),`
`);}},dependencies:[dT,We$8,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]   .sales-channel-button[_ngcontent-%COMP%]     button{padding:.25rem 1rem;font-weight:400}[_nghost-%COMP%]   .sales-channel-button.active[_ngcontent-%COMP%]     button{background-color:#e0e0d7;border-color:#a8a794}'],changeDetection:0});}}return t})();var jn$2=D$a(Kc$2());var Ti$3=(t,a)=>a.id;function Pi$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-sales-channel-button",1),VE("buttonClick",function(){let o=nR(e).$implicit,s=tP();return rR(s.onOptionSelected(o))}),Xf$2();}if(t&2){let e=a.$implicit,n=tP();lE("name",e.name)("logoUrl",e.logoUrl)("analyticsId","onboardingQuestionSalesChannel"+e.analyticsId)("isActive",e===n.selectedOption()),GI("data-testid","onboardingQuestionSalesChannel"+e.id);}}var bt$2={id:"other",name:"Other",analyticsId:"Other"},Hn$1=(()=>{class t{constructor(){this.salesChannelsSelectionService=N$8(y$3),this.question=cR.required(),this.answerProvided=cR(null),this.selectAnswer=aR(),this.salesChannels=Wn$4(this.salesChannelsSelectionService.salesChannels$.pipe(ie$b(e=>e.filter(n=>n.id!==b$9.API))),{requireSync:true}),this.options=HP(()=>[...this.salesChannels().map(({id:n,name:o,logoUrl:s,analyticsId:c})=>({id:n.toString(),name:o,logoUrl:s,analyticsId:c})),bt$2]),this.selectedOption=HP(()=>{let e=this.answerProvided()?.[0];if(e?.id===i$2.OtherSalesChannel)return bt$2;if(e?.id===i$2.PreferredSalesChannel)return this.options().find(({id:n})=>n===e.customAnswer)});}onOptionSelected(e){let n=this.question().answer.values.find(s=>s.id===i$2.PreferredSalesChannel),o=this.question().answer.values.find(s=>s.id===i$2.OtherSalesChannel);(0, jn$2.assert)(!!(n&&o),"Sales channel answer not found"),this.selectAnswer.emit([e===bt$2?o:x$d(w$9({},n),{customAnswer:e.id})]);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-sales-channel-answer-selection"]],inputs:{question:[1,"question"],answerProvided:[1,"answerProvided"]},outputs:{selectAnswer:"selectAnswer"},decls:2,vars:0,consts:[[3,"name","logoUrl","analyticsId","isActive"],[3,"buttonClick","name","logoUrl","analyticsId","isActive"]],template:function(n,o){n&1&&JR(0,Pi$2,1,5,"pfa-sales-channel-button",0,Ti$3),n&2&&KR(o.options());},dependencies:[$n$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem .5rem}'],changeDetection:0});}}return t})();var Qi$1=()=>({standalone:true});function Di$1(t,a){t&1&&(Kf$2(0,"p",0),fP(1," We see you're located in the "),Kf$2(2,"strong"),fP(3),Xf$2(),fP(4," . Use the dropdown below if you'd like to select a different locations. "),Xf$2()),t&2&&(xR(3),WE(a.name));}var Kn$1=(()=>{class t{constructor(){this.answerOptions=[],this.selectAnswer=new Xe$5,this.actualAnswer$=new yn$7(null),this.countryService=N$8(Ce$7),this.userService=N$8(J$5),this.detectedCountry$=this.userService.userCountry$.pipe(Ye$b(Boolean),Ac$3(e=>this.countryService.findCountryByCode(e))),this.isFirstChange=true,this.selectedCountries$=Hp$2([this.actualAnswer$.pipe(Ye$b(e=>!e||e.id===i$2.SellingInCountries)),this.detectedCountry$]).pipe(ie$b(([e,n])=>{let o=[];return e?.customAnswer&&o.push(...e.customAnswer.split(",")),!e&&n&&this.isFirstChange&&(o.push(n.code),this.updateCountries(o),this.isFirstChange=false),this.latestSelectedCountries=o,o}),_c$3(1));}set answerProvided(e){this.actualAnswer$.next(e?.[0]||null);}get isMerchantSellingGlobally(){return this.actualAnswer$.value?.id===i$2.SellingGlobally}updateCountries(e){let n=this.answerOptions.find(o=>o.id===i$2.SellingInCountries);if(!(!n||this.actualAnswer$.value===null&&!e.length)){if(!e.length){this.selectAnswer.emit([]);return}this.selectAnswer.emit([x$d(w$9({},n),{customAnswer:e.join(",")})]);}}toggleIsSellingGlobally(e){if(!e){this.updateCountries(this.latestSelectedCountries||[]);return}let n=this.answerOptions.find(o=>o.id===i$2.SellingGlobally);n&&this.selectAnswer.emit([w$9({},n)]);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-selling-country"]],inputs:{questionId:"questionId",answerProvided:"answerProvided",answerOptions:"answerOptions"},outputs:{selectAnswer:"selectAnswer"},decls:6,vars:13,consts:[[1,"title"],["placeholder","Select...","data-testid","questionnaire.countries",3,"ngModelChange","multiple","label","disabled","ngModel","ngModelOptions","resetSearchQueryAfterSelection"],[1,"checkbox-container"],["label","I want to sell globally.",3,"stateChange","checked"]],template:function(n,o){if(n&1&&(kI(0,Di$1,5,1,"p",0),TP(1,"async"),Kf$2(2,"pfa-country-select",1),TP(3,"async"),VE("ngModelChange",function(c){return o.updateCountries(c)}),Xf$2(),Kf$2(4,"div",2)(5,"pfy-checkbox",3),VE("stateChange",function(c){return o.toggleIsSellingGlobally(c)}),Xf$2()()),n&2){let s;QR((s=_P(1,8,o.detectedCountry$))?0:-1,s),xR(2),lE("multiple",true)("label",undefined)("disabled",o.isMerchantSellingGlobally)("ngModel",_P(3,10,o.selectedCountries$))("ngModelOptions",vP(12,Qi$1))("resetSearchQueryAfterSelection",true),xR(3),lE("checked",o.isMerchantSellingGlobally);}},dependencies:[Gs$2,zd$1,eb,Vt$6,jt$3,Br,dT,Ti$7,Ki$4],styles:['@charset "UTF-8";.title[_ngcontent-%COMP%]{margin-bottom:1rem}.checkbox-container[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0});}}return t})();var Ni$2=(t,a)=>({value:t,name:a}),Yn$2=(()=>{class t{constructor(){this.answerSelected=new Xe$5;}onAnswerSelect(e){this.answerSelected.emit(e);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-card-answer"]],inputs:{answerOption:"answerOption",questionId:"questionId",isSelected:"isSelected"},outputs:{answerSelected:"answerSelected"},decls:7,vars:13,consts:[["data-testid","radioAnswer","small","true",1,"answer",3,"click","checked","id","option"],[1,"image",3,"src"],[1,"label"],[1,"description"]],template:function(n,o){if(n&1){let s=XR();ew$1(0),Kf$2(1,"pfy-radio",0),VE("click",function(){nR(s);let w=mP(0);return rR(o.onAnswerSelect(w))}),ME(2,"img",1),Kf$2(3,"div",2),fP(4),Xf$2(),Kf$2(5,"p",3),fP(6),Xf$2()();}if(n&2){let s=hP(EP(10,Ni$2,o.answerOption.id,o.questionId));xR(),dE("selected",o.isSelected),lE("checked",o.isSelected)("id",o.questionId)("option",s),GI("data-onboarding-answer-id","onboardingQuestionAnswer-"+o.answerOption.id),xR(),lE("src",o.answerOption.img,sy$2),xR(2),WE(o.answerOption.title),xR(2),WE(o.answerOption.description);}},dependencies:[Gs$2,dT,ml$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center}.answer[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0d7;border-radius:6px}.answer[_ngcontent-%COMP%]     .control{width:100%;margin:0}.answer[_ngcontent-%COMP%]     .radio-container{flex-direction:column;padding:.5rem .5rem 1rem;align-items:flex-start!important;justify-content:center!important;gap:.5rem!important;width:100%}.answer[_ngcontent-%COMP%]     .radio-radio{margin:.5rem}.answer.selected[_ngcontent-%COMP%]{border-color:#64634a;border-width:2px;margin:-1px}.answer.selected[_ngcontent-%COMP%]     .radio-radio{margin-left:.5rem}.image[_ngcontent-%COMP%]{align-self:center;margin-top:.5rem;margin-bottom:.5rem}.label[_ngcontent-%COMP%]{text-align:center;font-weight:700;width:100%}.description[_ngcontent-%COMP%]{font-size:.875rem;color:#2f2e0c;text-align:center;width:100%}'],changeDetection:0});}}return t})();var Gn$1=(t,a)=>({value:t,name:a});function ki$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-onboarding-card-answer",3),VE("answerSelected",function(o){nR(e);let s=tP(3);return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP(2).$implicit,n=tP();dE("full-width",e.fullWidth),lE("isSelected",n.selectedOptionId===e.id)("questionId",n.question.id)("answerOption",e);}}function Fi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-radio",4),VE("click",function(){nR(e);let o=tP(2).$implicit,s=tP();return rR(s.onAnswerSelect({value:o.id,name:s.question.id}))}),Xf$2();}if(t&2){let e=tP(2).$implicit,n=tP();lE("option",EP(4,Gn$1,e.id,n.question.id))("label",e.title)("checked",n.selectedOptionId===e.id),GI("data-onboarding-answer-id","onboardingQuestionAnswer-"+e.id);}}function qi$1(t,a){if(t&1&&kI(0,ki$1,1,5,"pfa-onboarding-card-answer",1)(1,Fi$1,1,7,"pfy-radio",2),t&2){let e,n=tP(2);QR((e=n.question.viewType)===n.questionViewType.Card?0:e===n.questionViewType.RadioButton?1:-1);}}function Ri$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-other-answer-option-input",5),VE("answerChange",function(o){nR(e);let s=tP(2);return rR(s.onAnswerSelect({value:s.answerIds.Other,name:s.question.id},o))}),Kf$2(1,"pfy-radio",6),VE("stateChanged",function(o){nR(e);let s=tP(2);return rR(s.onAnswerSelect(o))}),Xf$2()();}if(t&2){let e=tP().$implicit,n=tP();lE("showInput",n.selectedOptionId===n.answerIds.Other)("answer",n.selectedOptionId===n.answerIds.Other?n.selectedOptionCustomAnswer:""),xR(),lE("option",EP(6,Gn$1,e.id,n.question.id))("label",e.title)("checked",n.selectedOptionId===e.id),GI("data-onboarding-answer-id","onboardingQuestionAnswer-"+e.id);}}function Bi$1(t,a){if(t&1&&kI(0,qi$1,2,1)(1,Ri$1,2,9,"pfa-other-answer-option-input",0),t&2){let e=a.$implicit,n=tP();QR(e.id!==n.answerIds.Other?0:1);}}var zn$1=(()=>{class t{constructor(){this.answerProvided=null,this.selectAnswer=new Xe$5,this.questionViewType=g$5,this.answerIds=i$2,this.selectedOptionId="",this.selectedOptionCustomAnswer="";}get isCardView(){return this.question.viewType===g$5.Card}get columnsCount(){return this.question.columnsCount}ngOnInit(){this.answerProvided&&this.answerProvided.length&&(this.selectedOptionId=this.answerProvided.map(({id:e})=>e)[0],this.selectedOptionCustomAnswer=this.answerProvided[0].customAnswer||"");}onAnswerSelect(e,n){let o=this.question.answer.values.find(({id:s})=>s===e.value);n&&(o.customAnswer=n,this.selectedOptionCustomAnswer=n),this.selectedOptionId=o.id,this.selectAnswer.emit([o]);}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-single-answer-selection"]],hostVars:4,hostBindings:function(n,o){n&2&&(uE("--columns-count",o.columnsCount),dE("card-view",o.isCardView));},inputs:{question:"question",answerProvided:"answerProvided"},outputs:{selectAnswer:"selectAnswer"},decls:2,vars:0,consts:[["data-testid","otherAnswer",1,"full-width",3,"showInput","answer"],["data-testid","cardAnswer",3,"full-width","isSelected","questionId","answerOption"],["data-testid","radioAnswer",3,"option","label","checked"],["data-testid","cardAnswer",3,"answerSelected","isSelected","questionId","answerOption"],["data-testid","radioAnswer",3,"click","option","label","checked"],["data-testid","otherAnswer",1,"full-width",3,"answerChange","showInput","answer"],["data-testid","radioAnswer",3,"stateChanged","option","label","checked"]],template:function(n,o){n&1&&JR(0,Bi$1,2,1,null,null,YR),n&2&&KR(o.question.answer.values);},dependencies:[dT,ml$1,et$3,Yn$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns-count, 1),1fr);grid-gap:1.5rem}.card-view[_nghost-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(238px,1fr));grid-gap:.5rem}.card-view[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:span 1}.card-view[_nghost-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:-1/1}'],changeDetection:0});}}return t})();function Ui$2(t,a){if(t&1&&(Kf$2(0,"pfa-blurhash",15)(1,"div",16),ME(2,"img",17)(3,"pfy-logo",18),Xf$2()()),t&2){let e=a;tP();let n=dP(1),o=tP();lE("hash",e.blurHash)("resolutionHeight",n.offsetHeight)("resolutionWidth",n.offsetWidth),xR(2),lE("srcset",e.url)("alt",o.question().title),xR(),lE("fullLogo",false)("color",o.logoColor.Negative);}}function Vi$1(t,a){if(t&1&&(Kf$2(0,"div",1,0),kI(2,Ui$2,4,7,"pfa-blurhash",15),Xf$2()),t&2){let e,n=tP();xR(2),QR((e=n.question().img)?2:-1,e);}}function Li$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-button",19),VE("buttonClick",function(){nR(e);let o=tP();return rR(o.previousQuestion())}),Kf$2(1,"i",20),fP(2,"arrow_back"),Xf$2(),fP(3," Previous question "),Xf$2();}if(t&2){let e=tP();lE("type",e.buttonType.Ghost)("disabled",e.savingAnswers());}}function Wi$1(t,a){if(t&1&&(Kf$2(0,"p",7),fP(1),Xf$2()),t&2){let e=tP();xR(),WE(e.question().description);}}function $i$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-onboarding-multiple-answer-selection",21),VE("selectAnswers",function(o){nR(e);let s=tP();return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP();lE("question",e.question())("answerProvided",e.answerProvided());}}function ji$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-onboarding-single-answer-selection",22),VE("selectAnswer",function(o){nR(e);let s=tP();return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP();lE("question",e.question())("answerProvided",e.answerProvided());}}function Hi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-onboarding-single-answer-selection",22),VE("selectAnswer",function(o){nR(e);let s=tP();return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP();lE("question",e.question())("answerProvided",e.answerProvided());}}function Ki$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-onboarding-selling-country",23),VE("selectAnswer",function(o){nR(e);let s=tP();return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP();lE("questionId",e.question().id)("answerOptions",e.question().answer.values)("answerProvided",e.answerProvided());}}function Yi$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfa-sales-channel-answer-selection",22),VE("selectAnswer",function(o){nR(e);let s=tP();return rR(s.onAnswerSelect(o))}),Xf$2();}if(t&2){let e=tP();lE("question",e.question())("answerProvided",e.answerProvided());}}function Gi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-button",24),VE("buttonClick",function(){nR(e);let o=tP();return rR(o.skipQuestion())}),fP(1," Skip "),Xf$2();}if(t&2){let e=tP();lE("type",e.buttonType.Secondary)("size",e.buttonSize.Large)("disabled",e.savingAnswers());}}function zi$1(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-button",25),VE("buttonClick",function(){nR(e);let o=tP();return rR(o.finishQuestionnaire())}),fP(1," I am just exploring "),Xf$2();}if(t&2){let e=tP();lE("type",e.buttonType.Secondary)("size",e.buttonSize.Large)("disabled",e.savingAnswers());}}function Xi$2(t,a){if(t&1){let e=XR();Kf$2(0,"pfy-button",26),VE("buttonClick",function(){nR(e);let o=tP();return rR(o.nextQuestion())}),fP(1),Xf$2();}if(t&2){let e=tP();lE("size",e.buttonSize.Large)("disabled",e.nextActionDisabled()),xR(),ip$2(" ",e.buttonName()," ");}}var Ji$2=200,bi$2=(()=>{class t{constructor(){this.route=N$8(Ge$9),this.onboardingQuestionnaireService=N$8(xe$5),this.viewportService=N$8(nn$6),this.eventDispatcherService=N$8(X$6),this.autoSubmitAnswerProvided=new Z$a,this.questionViewType=g$5,this.buttonType=Ze$5,this.buttonSize=lt$7,this.logoColor=Ml$1,this.savingAnswers=Wn$4(this.onboardingQuestionnaireService.savingAnswers$),this.question=Wn$4(this.route.paramMap.pipe(ie$b(n=>n.get("questionId")),Ye$b(Boolean),ie$b(n=>this.onboardingQuestionnaireService.getQuestionById(n)),Ye$b(Boolean)),{requireSync:true}),this.answerProvided=oI(null),this.nextActionDisabled=HP(()=>!this.answerProvided()||this.savingAnswers()),this.isFirstQuestion=HP(()=>this.onboardingQuestionnaireService.isFirstQuestion(this.question().id)),this.isLastQuestion=HP(()=>!this.onboardingQuestionnaireService.getNextQuestionId(this.question())),this.buttonName=HP(()=>this.isLastQuestion()?"Complete":"Next"),this.skipOption=HP(()=>{}),this.shouldAutoSubmitQuestion=HP(()=>this.isLastQuestion()?false:Fn$1(this.question(),this.answerProvided())),this.showImage=Wn$4(this.viewportService.match(gt$7.L));let e=Wn$4(this.onboardingQuestionnaireService.state$,{requireSync:true});Pw$1(()=>{let n=this.question(),o=e();if(n&&o[n.id]){let s=o[n.id]?.answer.values||[],c=this.getAnswerOptionUIById(s,n.answer.values);this.answerProvided.set(c);}}),this.autoSubmitAnswerProvided.pipe(Wc$3(Ji$2),X$7()).subscribe(()=>this.nextQuestion());}nextQuestion(){this.onboardingQuestionnaireService.navigateToNextQuestion(this.question(),this.answerProvided()),this.answerProvided.set(null);}skipQuestion(){let e=this.question();this.eventDispatcherService.dispatch(new tt$2(e)),this.onboardingQuestionnaireService.navigateToNextQuestion(e,[e.skip]);}finishQuestionnaire(){this.onboardingQuestionnaireService.navigateToNextQuestion(this.question(),[be$4]);}onAnswerSelect(e){let n=e.length?e:null;this.answerProvided.set(n),this.shouldAutoSubmitQuestion()&&((0, Xn$1.assert)(!!e.length,"Answer must be provided"),this.autoSubmitAnswerProvided.next(n));}previousQuestion(){this.onboardingQuestionnaireService.navigateToPreviousQuestion(this.question().id),this.answerProvided.set(null);}getAnswerOptionUIById(e,n){return e.map(o=>{let s=n.find(({id:c})=>c===o.id);if(s)return s.customAnswer=o.customAnswer,s}).filter(Boolean)}static{this.\u0275fac=function(n){return new(n||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-onboarding-question"]],decls:18,vars:13,consts:[["imgEl",""],["data-testid","imageWrapper",1,"image-wrapper"],[1,"content"],[1,"stepper",3,"currentStep"],[1,"question"],["data-testid","previousQuestion",1,"back-button",3,"type","disabled"],[1,"question-header"],[1,"question-description"],["data-testid","answersContainer",1,"answers-container"],[3,"question","answerProvided"],[3,"questionId","answerOptions","answerProvided"],[1,"actions"],["data-testid","onboardingQuestionSkipButton","data-analyticsid","onboardingQuestionSkipButton",3,"type","size","disabled"],["data-testid","onboardingQuestionDropOffButton","data-analyticsid","onboardingQuestionDropOffButton",3,"type","size","disabled"],["data-testid","nextActionButton","data-analyticsid","onboardingQuestionNextActionButton",3,"size","disabled"],[3,"hash","resolutionHeight","resolutionWidth"],[1,"inner-container"],["pfaBlurhashMedia","","loading","lazy","data-testid","questionImage",1,"image",3,"srcset","alt"],[1,"logo",3,"fullLogo","color"],["data-testid","previousQuestion",1,"back-button",3,"buttonClick","type","disabled"],[1,"material-icons","icon-back"],[3,"selectAnswers","question","answerProvided"],[3,"selectAnswer","question","answerProvided"],[3,"selectAnswer","questionId","answerOptions","answerProvided"],["data-testid","onboardingQuestionSkipButton","data-analyticsid","onboardingQuestionSkipButton",3,"buttonClick","type","size","disabled"],["data-testid","onboardingQuestionDropOffButton","data-analyticsid","onboardingQuestionDropOffButton",3,"buttonClick","type","size","disabled"],["data-testid","nextActionButton","data-analyticsid","onboardingQuestionNextActionButton",3,"buttonClick","size","disabled"]],template:function(n,o){if(n&1&&(kI(0,Vi$1,3,1,"div",1),Kf$2(1,"div",2),ME(2,"pfa-onboarding-progress-stepper",3),Kf$2(3,"div",4),kI(4,Li$2,4,2,"pfy-button",5),Kf$2(5,"h3",6),fP(6),Xf$2(),kI(7,Wi$1,2,1,"p",7),Kf$2(8,"div",8),kI(9,$i$2,1,2,"pfa-onboarding-multiple-answer-selection",9)(10,ji$2,1,2,"pfa-onboarding-single-answer-selection",9)(11,Hi$1,1,2,"pfa-onboarding-single-answer-selection",9)(12,Ki$1,1,3,"pfa-onboarding-selling-country",10)(13,Yi$2,1,2,"pfa-sales-channel-answer-selection",9),Xf$2(),Kf$2(14,"div",11),kI(15,Gi$1,2,3,"pfy-button",12)(16,zi$1,2,3,"pfy-button",13)(17,Xi$2,2,3,"pfy-button",14),Xf$2()()()),n&2){let s;QR(o.showImage()?0:-1),xR(2),lE("currentStep",o.question().progressStep),xR(),dE("wrap",o.question().viewType===o.questionViewType.Card),GI("data-onboarding-question-id","onboardingQuestion-"+o.question().id),xR(),QR(o.isFirstQuestion()?-1:4),xR(2),WE(o.question().title),xR(),QR(o.question().description?7:-1),xR(),dE("disabled",o.savingAnswers()),xR(),QR((s=o.question().viewType)===o.questionViewType.Checkbox?9:s===o.questionViewType.RadioButton?10:s===o.questionViewType.Card?11:s===o.questionViewType.DropdownMultiCountrySelect?12:s===o.questionViewType.SalesChannel?13:-1),xR(6),QR(o.skipOption()?15:o.question().canSkipQuestionnaire?16:-1),xR(2),QR(o.shouldAutoSubmitQuestion()?-1:17);}},dependencies:[Gs$2,dT,We$8,gx,Tn$4,kn$2,Nn$2,Ze$3,Rn$1,Wn$2,zn$1,Kn$1,Hn$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;height:100vh;height:100svh}[_nghost-%COMP%]     svg{width:40px;height:49px}.image-wrapper[_ngcontent-%COMP%]{width:45%;height:100%;display:none;background:#fff}@media (min-width: 960px){.image-wrapper[_ngcontent-%COMP%]{display:block}}.image-wrapper[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.image-wrapper[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover}.image-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;margin-left:1rem;margin-top:1.25rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;overflow-y:auto}@media (min-width: 960px){.content[_ngcontent-%COMP%]{width:55%}}.content[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{display:none;align-self:flex-end}@media (min-width: 1168px){.content[_ngcontent-%COMP%]   .stepper[_ngcontent-%COMP%]{display:flex}}.question[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;max-width:min(520px,100%);gap:1rem;padding:3rem 1rem;margin-top:auto;margin-bottom:auto}.question-header[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.125rem;font-family:Ambit,sans-serif}.question-description[_ngcontent-%COMP%]{color:#64634a}.back-button[_ngcontent-%COMP%]{display:flex;align-self:flex-start}.back-button[_ngcontent-%COMP%]     .button{appearance:none;position:relative;left:-.5rem;padding:.25rem .5rem!important;font-weight:400}.back-button[_ngcontent-%COMP%]     .button .custom-content{display:flex;align-items:center;gap:.5rem}.icon-back[_ngcontent-%COMP%]{font-size:16px;max-height:16px}.answers-container[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.answers-container.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}'],changeDetection:0});}}return t})();var p$5="auth",R$a=function(i){return i.Login="login",i.Register="register",i.Recover="recover",i.Reset="reset/:token",i}(R$a||{});var O$5=(()=>{class i{constructor(e,r,s,o,g){this.router=e,this.location=r,this.featureTogglesService=s,this.onboardingService=o,this.window=g,this.isApiAccessRequested=new URL(this.window.location.href).searchParams.has("request_api_access"),this.redirectUrisToSkipQuestionnaire=["https://sellersclub.printify.com/oauth2/callback"];}setRedirect(e=this.location.path(),r=false){this.isAuthenticationPage(e)||(this.redirectConfig={url:e,isForced:r});}isRedirectForced(){return !!this.redirectConfig?.isForced}shouldRedirectTo(e){return !!this.redirectConfig?.url.includes(e)}performRedirect(){this.isApiAccessRequested||this.featureTogglesService.featuresReady$.pipe(Ac$3(()=>this.onboardingService.shouldAskQuestions$),mt$8(1),Ac$3(e=>{if(this.shouldRedirectToSso())return this.redirect();let r=this.matchRedirectUri(this.redirectUrisToSkipQuestionnaire);return e&&!r?this.router.navigateByUrl(this.onboardingService.getQuestionsUrl(),{replaceUrl:true}):this.isAuthenticationPage()?this.redirect(this.onboardingService.getDashboardUrl()):be$8})).subscribe();}redirect(e){let r=this.redirectConfig?.url??e;return this.redirectConfig=undefined,r?this.router.navigateByUrl(r,{replaceUrl:true}):Promise.resolve(false)}matchRedirectUri(e){let r=this.window.location.search.startsWith("?")?this.window.location.search:this.getSearchString(this.redirectConfig?.url),s=this.getRedirectUriQueryParam(r);return !!s&&e.some(o=>o===s)}getSearchString(e){return e?.includes("?")?e.substring(e.lastIndexOf("?")):""}getRedirectUriQueryParam(e){return new URLSearchParams(e).get("redirect_uri")}shouldRedirectToSso(){return this.shouldRedirectTo("learn-worlds/sso")||this.shouldRedirectTo("zendesk/sso")}isAuthenticationPage(e=this.location.path()){return e.startsWith(`/${p$5}/`)}static{this.\u0275fac=function(r){return new(r||i)(pe$9(ve$8),pe$9(Xe$4),pe$9(te$5),pe$9(Xo$1),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();
var m$2={firstReferrer:"firstReferrer",lastReferrer:"lastReferrer",firstLandingPage:"firstLandingPage",firstQuery:"firstQuery",lastQuery:"lastQuery"};var F$5=(()=>{class r{constructor(e,t,o){this.storage=e,this.window=t,this.document=o,this.referralKeys=Object.values(m$2);}getReferralOrigins(){let e=this.getReferralOrigin();this.deleteReferralData();let t=this.window.tap?.vid??null;return {referral:e,visitor_id:t}}collectAnalytics(){if(this.document.referrer){let e=new URLSearchParams(this.document.referrer.split("?")[1]);this.addAmccItem({channel:e.get("amcc_channel"),campaign:e.get("amcc_campaign")});}this.setReferralOrigins(),this.setFirstLandingPage();}setReferralOrigins(){let e=this.document.referrer;(!e||e.includes(this.window.location.origin))&&(e="direct");let t=this.storage.get(m$2.firstReferrer,null,I$8.Local),o=this.window.location.search;t||(this.storage.setString(m$2.firstReferrer,e,{storageType:I$8.Local,clearOnAuth:true}),o&&this.storage.setString(m$2.firstQuery,o,{storageType:I$8.Local,clearOnAuth:true})),this.storage.setString(m$2.lastReferrer,e,{storageType:I$8.Local,clearOnAuth:true}),o&&this.storage.set(m$2.lastQuery,o,{storageType:I$8.Local,clearOnAuth:true});}setFirstLandingPage(){this.storage.get(m$2.firstLandingPage,null,I$8.Local)||this.storage.setString(m$2.firstLandingPage,this.document.URL,{storageType:I$8.Local,clearOnAuth:true});}addAmccItem(e){let t=this.storage.get("amcc",[],I$8.Local);Array.isArray(t)||(t=[]);let o=t[t.length-1],c=o&&o.channel===e.channel&&o.campaign===e.campaign;e.channel&&e.campaign&&!c&&(t.push(e),this.storage.set("amcc",t.slice(-20),{storageType:I$8.Local,clearOnAuth:false}));}getReferralOrigin(){return this.referralKeys.reduce((e,t)=>x$d(w$9({},e),{[t]:this.storage.get(t,null,I$8.Local)}),{})}deleteReferralData(){this.referralKeys.forEach(e=>{this.storage.remove(e,I$8.Local);});}getMetaInformation(){let e={ga_id:this.getGaId(),referrer:this.document.referrer},t=this.getGclid();return t&&(e.gclid=t),e}getGaId(){let e="";try{typeof this.window.ga=="function"&&(e=this.window.ga.getAll()[0].get("clientId"));}catch{}return e}getGclid(){return this.storage.getString("gclid","",I$8.Local).replace(/['"]+/g,"")}addGclidToLocalStorage(){let e=new URLSearchParams(this.window.location.search).get("gclid");e&&this.storage.set("gclid",e,{storageType:I$8.Local,clearOnAuth:false});}getAmccCampaigns(){let e=this.storage.get("amcc",[],I$8.Local);if(!(!Array.isArray(e)||!e.length))return {first:e[0],last:e[e.length-1],all:e}}static{this.\u0275fac=function(t){return new(t||r)(pe$9(Y$4),pe$9(Q$9),pe$9(L$8))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Ee$5=(()=>{class r{constructor(e,t){this.browserStorage=e,this.productImageService=t;}hasProductBackup(){return !!this.getProductBackup()}getProductBackup(){return this.browserStorage.get(r$9,undefined,I$8.Session)}getProductPreview(){let e=this.getProductBackup();return e?this.productImageService.fetchPreview({productId:e._id,blueprintId:e.blueprint_id,decorator:e.decorators.find(t=>e.decorator_id===t.id),renderSettings:e.render_settings,size:1200}):hi$7(null)}destroyProductPreview(){this.productImageService.ngOnDestroy();}static{this.\u0275fac=function(t){return new(t||r)(pe$9(Y$4),pe$9(qm$1))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var ke$4=D$a(Kc$2());var De$6=(()=>{class r{constructor(e,t,o){this.scriptLoaderService=e,this.window=t,this.environment=o,this.apiUrl="https://accounts.google.com/gsi/client",this.token=new Z$a,this.token$=this.token.asObservable(),this.isLoaded$=gi$4(()=>ye$7(this.loadScript())).pipe(kc$2(c=>this.googleId=c),Ei$9(true),Sc$2(false),_c$3({refCount:true,bufferSize:1}));}loadScript(){return E$e(this,null,function*(){return yield this.scriptLoaderService.loadLib(this.apiUrl,()=>this.window.google?.accounts?.id,{skipAnonymous:true}),this.window.google?.accounts?.id.initialize({client_id:this.environment.drive_client_id,callback:this.handleCredentialResponse.bind(this)}),this.window.google?.accounts?.id})}handleCredentialResponse(e){this.token.next(e.credential);}renderButton(e){(0, ke$4.assert)(!!this.googleId,"Google Identity Service should be loaded"),this.googleId?.renderButton(e,{type:"standard",text:"continue_with",logo_alignment:"center",size:"large"});}signOut(){this.googleId?.disableAutoSelect(),this.token.next(undefined);}static{this.\u0275fac=function(t){return new(t||r)(pe$9(le$8),pe$9(Q$9),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Be$3=(()=>{class r{constructor(e,t,o,c,g,j,L,T){this.httpClient=e,this.router=t,this.eventDispatcherService=o,this.authenticationAnalyticsService=c,this.browserStorageService=g,this.sessionService=j,this.window=L,this.environment=T,this.requests={loginShopify:`${this.environment.apiURL}v1/accounts/login-shopify`,loginShopifyConnect:`${this.environment.apiURL}v1/accounts/login-shopify-connect`,registerShopifyConnect:`${this.environment.apiURL}v1/accounts/register-shopify-connect`},this.query=this.window.location.search;}isShopify(){return new URLSearchParams(this.query).has("shop")}checkAuth(){this.authenticationAnalyticsService.addAmccItem({channel:"Shopify",campaign:"App"});let e=this.httpClient.post(this.requests.loginShopify,w$9({query:this.query,campaigns:this.authenticationAnalyticsService.getAmccCampaigns()},this.authenticationAnalyticsService.getMetaInformation()));return e.subscribe(t=>{if(this.eventDispatcherService.dispatch(new $r$2),t.access_token){this.browserStorageService.clear(t.user_id),this.eventDispatcherService.dispatch(new Or$3),this.sessionService.startAuthenticatedSession({accessToken:t.access_token,userId:t.user_id,storeId:t.shop_id,embedded:t.embedded,loginType:"shopifyLogin"});return}this.sessionService.startAnonymousSession(),this.router.navigateByUrl(t.exists?`/${p$5}/${R$a.Login}?emailPrefill=${t.email}`:`/${p$5}/${R$a.Register}`);},t=>{let o=t.error?.url;if(o&&this.window.top){this.window.top.location.href=o;return}this.sessionService.startAnonymousSession();}),e}loginAndConnect(e){return this.authenticateAndConnect(this.requests.loginShopifyConnect,e).pipe(kc$2(()=>this.eventDispatcherService.dispatch(new Ue$5)))}registerAndConnect(e){return this.authenticateAndConnect(this.requests.registerShopifyConnect,e).pipe(kc$2(t=>this.eventDispatcherService.dispatch(new ke$6({id:t.user_id,email:e.email}))))}authenticateAndConnect(e,t){return this.httpClient.post(e,x$d(w$9(w$9({},t),this.authenticationAnalyticsService.getMetaInformation()),{campaigns:this.authenticationAnalyticsService.getAmccCampaigns(),query:this.query})).pipe(kc$2(o=>{this.browserStorageService.clear(o.user_id),this.sessionService.startAuthenticatedSession({accessToken:o.access_token,userId:o.user_id,storeId:o.shop_id,embedded:o.embedded});}),yi$5(o=>{let c=o.error?.url;return c&&this.window.top&&(this.window.top.location.href=c),Xp$2(()=>o)}))}static{this.\u0275fac=function(t){return new(t||r)(pe$9(_u$3),pe$9(ve$8),pe$9(X$6),pe$9(F$5),pe$9(Y$4),pe$9(M$3),pe$9(Q$9),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var X$3="SKIP_LOGGED_OUT_GUARD",Pt$1=(()=>{class r{constructor(e,t){this.router=e,this.authStorageService=t;}canActivate(){return this.router.getCurrentNavigation()?.extras.state?.[X$3]?hi$7(true):this.authStorageService.isAuthorized$.pipe(ie$b(e=>e?(this.router.navigateByUrl("welcome",{replaceUrl:true}),false):true))}static{this.\u0275fac=function(t){return new(t||r)(pe$9(ve$8),pe$9(we$5))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var $e$5=(()=>{class r{constructor(e,t,o,c,g,j,L,T,N,W,H,K){this.httpClient=e,this.router=t,this.authenticationShopifyService=o,this.authenticationRedirectService=c,this.authenticationAnalyticsService=g,this.productBackupService=j,this.eventDispatcherService=L,this.browserStorageService=T,this.googleIdentityService=N,this.sessionService=W,this.environment=H,this.window=K,this.queryParams=new URLSearchParams(this.window.location.search),this.requests={login:`${this.environment.apiURL}v1/accounts/login`,loginCreateProduct:`${this.environment.apiURL}v1/accounts/login-create-product`,loginUserToken:`${this.environment.apiURL}v1/accounts/login-user-token`,loginGoogle:`${this.environment.apiURL}v1/accounts/login-google`,loginGoogleShopify:`${this.environment.apiURL}v1/accounts/login-google-shopify`,register:`${this.environment.apiURL}v1/accounts/register`,registerCreateProduct:`${this.environment.apiURL}v1/accounts/register-create-product`,onbordingForceSegment:`${this.environment.apiURL}v1/onboarding/force-end-customer-user-segment`,logout:`${this.environment.apiURL}v1/accounts/logout`};}checkAuth(){return this.authenticationAnalyticsService.addGclidToLocalStorage(),this.authenticationShopifyService.isShopify()?this.authenticationShopifyService.checkAuth():this.sessionService.restoreSessionFromStorage(),this.sessionService.sessionReady}login(e){if(this.authenticationShopifyService.isShopify())return this.authenticationShopifyService.loginAndConnect(e);let t=this.productBackupService.getProductBackup(),o=t?this.requests.loginCreateProduct:this.requests.login;return this.httpClient.post(o,x$d(w$9(w$9({},this.authenticationAnalyticsService.getMetaInformation()),e),{product:t})).pipe(kc$2(c=>this.onAuthenticated(c,e.email)))}register(e){if(this.authenticationShopifyService.isShopify())return this.authenticationShopifyService.registerAndConnect(e);let t=this.productBackupService.getProductBackup(),o=t?this.requests.registerCreateProduct:this.requests.register;return this.httpClient.post(o,x$d(w$9(w$9(w$9({},this.authenticationAnalyticsService.getReferralOrigins()),this.authenticationAnalyticsService.getMetaInformation()),e),{product:t})).pipe(kc$2(c=>this.onAuthenticated(c,e.email)))}authenticateWithGoogle(e,t){let{url:o,extras:c}=this.authenticationShopifyService.isShopify()?{url:this.requests.loginGoogleShopify,extras:{shopifyQuery:this.authenticationShopifyService.query,campaigns:this.authenticationAnalyticsService.getAmccCampaigns()}}:{url:this.requests.loginGoogle,extras:{}};return this.httpClient.post(o,x$d(w$9(w$9(w$9({},this.authenticationAnalyticsService.getReferralOrigins()),this.authenticationAnalyticsService.getMetaInformation()),c),{product:this.productBackupService.getProductBackup(),token:e})).pipe(kc$2(g=>this.onAuthenticated(g,t)))}logout(e=false){return E$e(this,null,function*(){e&&this.authenticationRedirectService.setRedirect(),yield this.router.navigateByUrl(`${p$5}/${R$a.Login}`,{state:{[X$3]:true}}),this.httpClient.post(this.requests.logout,{}).pipe(yi$5(()=>be$8)).subscribe(),this.googleIdentityService.signOut(),this.browserStorageService.clear(),this.eventDispatcherService.dispatch(new ii$3),this.sessionService.startAnonymousSession();})}onAuthenticated(e,t){e.product_id&&this.handleAuthenticationWithProductCreation(e.product_id),this.eventDispatcherService.dispatch(e.first_time_authentication?new ke$6({id:e.user_id,email:t}):new Ue$5),this.browserStorageService.clear(e.user_id),this.sessionService.startAuthenticatedSession({accessToken:e.access_token,userId:e.user_id,storeId:e.shop_id,embedded:e.embedded});}handleAuthenticationWithProductCreation(e){this.eventDispatcherService.dispatch(new Ae$5({productId:e})),this.authenticationRedirectService.setRedirect(`product-details/${e}`);}static{this.\u0275fac=function(t){return new(t||r)(pe$9(_u$3),pe$9(ve$8),pe$9(Be$3),pe$9(O$5),pe$9(F$5),pe$9(Ee$5),pe$9(X$6),pe$9(Y$4),pe$9(De$6),pe$9(M$3),pe$9(f$c),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Z$3="session",M$3=(()=>{class r{constructor(e,t,o,c,g,j,L,T,N,W,H,K){this.userService=e,this.storesService=t,this.eventDispatcherService=o,this.browserStorageService=c,this.sessionDetailsService=g,this.authenticationRedirectService=j,this.errorHandler=L,this.injector=T,this.dialogService=N,this.productService=W,this.featureTogglesService=H,this.window=K,this.searchParams=new URLSearchParams(this.window.location.search),this.sessionChange=new In$7,this.session$=this.sessionChange.pipe(Ac$3(a=>{let y=ih$1([this.userService.reload(),this.storesService.reloadStores()]);return this.sessionDetailsService.set(a),a.isAuthenticated?(this.errorHandler.setUser({id:a.userId.toString()}),y.pipe(kc$2(([S,Q])=>{this.validateUserDataLoaded(S,Q),this.eventDispatcherService.dispatch(new ri$4),this.authenticationRedirectService.performRedirect();}),Ac$3(()=>this.sessionDetailsService.storeId$.pipe(Ye$b(S=>!!S),Qc$3((S,Q)=>x$d(w$9({},S),{storeId:Q}),a),Sc$2(a))),Dr$5(au$4),kc$2(this.storeSessionDataInStorage),yi$5(S=>(this.errorHandler.handleError(S),this.browserStorageService.clear(),this.eventDispatcherService.dispatch(new ii$3),this.startAnonymousSession(),be$8)))):(this.errorHandler.setUser(null),y.pipe(ie$b(()=>a),yi$5(()=>hi$7(a))))}),kc$2(()=>this.sessionDetailsService.sessionUpdated.next()),_c$3(1)),this.isAuthenticated$=this.session$.pipe(ie$b(a=>a.isAuthenticated),Dr$5()),this.sessionReady=th$2(this.session$.pipe(ie$b(()=>{}))),this.storeSessionDataInStorage=a=>{let y={access_token:a.accessToken,embedded:a.embedded,user_id:a.userId,shop_id:a.storeId};this.browserStorageService.set(Z$3,y,{storageType:I$8.Local,clearOnAuth:true});},this.handleStorageEvent=a=>{this.isAuthenticated$.pipe(mt$8(1),Ye$b(y=>y),Ye$b(()=>a.key===Z$3&&a.newValue===null)).subscribe(()=>{this.productService.storeUnsavedProduct(),this.startAnonymousSession(),this.openReloadSessionModal();});},this.setupEventListeners();}ngOnDestroy(){this.sessionChange.complete();}restoreSessionFromStorage(){let e=this.getSessionDataFromStorage();return e?.accessToken&&e?.userId&&e?.storeId?this.startAuthenticatedSession(x$d(w$9({},e),{loginType:"autoLogin"})):this.startAnonymousSession()}startAnonymousSession(){this.sessionChange.next({isAuthenticated:false,embedded:this.isEmbedded(),accessToken:null,userId:null,storeId:null,loginType:null});}startAuthenticatedSession(e){this.sessionChange.next(x$d(w$9({isAuthenticated:true,loginType:null},e),{embedded:e.embedded||this.isEmbedded()}));}getSessionDataFromStorage(){let e=this.browserStorageService.get(Z$3,null,I$8.Local);return e?{embedded:e.embedded,accessToken:e.access_token,userId:e.user_id,storeId:e.shop_id}:null}isEmbedded(){let e=this.searchParams.has("shop"),t=this.searchParams.has("woo");return e||t}validateUserDataLoaded(e,t){if(yc$4(e)||yc$4(t))throw new Error("API returned empty user or stores data")}setupEventListeners(){this.featureTogglesService.featuresReady$.pipe(mt$8(1),ie$b(()=>{this.featureTogglesService.isFeatureEnabled(jt$2.MultipleTabsLogout)&&this.window.addEventListener("storage",this.handleStorageEvent);})).subscribe();}openReloadSessionModal(){this.dialogService.open(Fo$1,{pinToTop:true,required:true,hideCloseButton:true,title:"User session expired",message:"You have been logged out. Please log in again.",primaryAction:"Login",primaryActionButtonType:Ze$5.Primary}).afterPrimaryAction().subscribe(()=>{this.injector.get($e$5).logout();});}static{this.\u0275fac=function(t){return new(t||r)(pe$9(J$5),pe$9(Ro$2),pe$9(X$6),pe$9(Y$4),pe$9(Fi$3),pe$9(O$5),pe$9(Cr$2),pe$9(_e$8),pe$9(zu$1),pe$9(Em$1),pe$9(te$5),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();
var _$4="launch-success",C$9="products-selection/:productsGroup",S$5="product-published",U$7="product-recommendations",o$7="product-created",E$9="use-recent-product",t$9="sample-order";var t$8="product-collections",L$5=`/${o$9}/${t$8}`,o$6="blueprint-collections",e$5=`${L$5}/${o$6}`,E$8="collections",T$4=`${L$5}/${E$8}`,_$3="active",C$8=`${T$4}/${_$3}`,R$9="start",r$3=`${T$4}/${R$9}`,I$4="product-created",U$6="completed",p$4=`${C$8}/${U$6}`;var M$2=(()=>{class r{constructor(t,e,s){this.environment=t,this.userService=e,this.httpClient=s;}getBaseUrl({userId:t,shopId:e,productId:s}){return `${this.environment.apiURL}v1/users/${t}/shops/${e}/products/${s}`}withUserId(t){return this.userService.id$.pipe(mt$8(1),Ac$3(t))}getGeneratedMockupsR3({shopId:t,productId:e}){return this.withUserId(s=>this.httpClient.get(`${this.getBaseUrl({shopId:t,productId:e,userId:s})}/generated-mockups-map`))}getSelectedMockupsListR3({shopId:t,productId:e}){return this.withUserId(s=>this.httpClient.get(`${this.getBaseUrl({shopId:t,productId:e,userId:s})}/list-selected-mockups`))}getSelectedMockupsForProductDetailsR3({shopId:t,productId:e}){return this.withUserId(s=>this.httpClient.get(`${this.getBaseUrl({shopId:t,productId:e,userId:s})}/details/list-selected-mockups`))}getSelectedMockupsR3({shopId:t,productId:e}){return this.withUserId(s=>this.httpClient.get(`${this.getBaseUrl({shopId:t,productId:e,userId:s})}/mockup-library-layout`))}saveSelectedMockups({shopId:t,productId:e,selectedMockups:s}){return this.withUserId(i=>this.httpClient.put(`${this.getBaseUrl({shopId:t,productId:e,userId:i})}/mockups`,s))}saveSelectedMockupsR3(i){var o=i,{shopId:t,productId:e}=o,s=A$f(o,["shopId","productId"]);return this.withUserId(n=>this.httpClient.put(`${this.getBaseUrl({shopId:t,productId:e,userId:n})}/selected-mockups`,s))}downloadMockupAsBlob(t){return this.httpClient.get(t,{responseType:"blob"})}getUploadedMockups(t){let{shopId:e,productId:s,page:i,itemsPerPage:o}=t,n=new URLSearchParams;return i!==undefined&&n.set("page",i.toString()),o!==undefined&&n.set("itemsPerPage",o.toString()),this.withUserId(g=>this.httpClient.get(`${this.getBaseUrl({shopId:e,productId:s,userId:g})}/mockup?${n}`))}deleteUploadedMockup({shopId:t,productId:e,mockupId:s}){return this.withUserId(i=>this.httpClient.delete(`${this.getBaseUrl({shopId:t,productId:e,userId:i})}/mockup/${s}`))}getUploadedMockupsRequirements({shopId:t,salesChannelId:e}){return this.withUserId(s=>this.httpClient.get(`${this.environment.apiURL}v1/users/${s}/shops/${t}/uploaded-mockup-requirements?salesChannel=${e}`))}static{this.\u0275fac=function(e){return new(e||r)(pe$9(f$c),pe$9(J$5),pe$9(_u$3))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var i$1=3,u$3=500;function f$4(t){return !t||!(t instanceof gn$3)?false:t.status>0&&t.status<ie$9.BadGateway}function c$7(){return Gc$3({delay:(t,s)=>f$4(t)?Xp$2(()=>t):de$7(s*u$3),count:i$1})}var Oe$5=[1501,1506],me$2=99,$e$4="Printify Choice";var De$5=[Ut$4.USA,Ut$4.AllMarkets],He$6=[b$9.Etsy];var g$4=function(a){return a.TikTok="tiktok",a.Amazon="amazon",a}(g$4||{}),Me$3=function(a){return a.Rebrand="Rebrand",a.Scrub="Scrub",a.Hover="Hover Feature",a}(Me$3||{});var We$3=6,Ve$1=1,pe$3={label:"Embroidery",topLevelTag:nt$9.Embroidery,link:["embroidery"],analyticsId:"goToEmbroideryCategoryPage"},Ye$5=[{label:"Drinkware",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Mugs,link:["home-and-living/mugs","home-and-living/bottles-and-tumblers"],analyticsId:"goToDrinkwareCategoryPage"},{label:"Wall Decorations",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Posters,link:["home-and-living/posters","home-and-living/canvas"],analyticsId:"goToWallDecorationsCategoryPage"},{label:"Blankets",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Blankets,link:["home-and-living/blankets"],analyticsId:"goToBlanketsCategoryPage"},{label:"Bags",topLevelTag:Dt$1.Accessories,subLevelTag:Ft$2.Bags,link:["accessories/bags"],analyticsId:"goToBagsCategoryPage"},{label:"Magnets and Stickers",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.MagnetsAndStickers,link:["home-and-living/magnets-and-stickers"],analyticsId:"goToMagnetsAndStickersCategoryPage"},{label:"Tank Tops",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.TankTops,link:["mens-clothing/tank-tops","womens-clothing/tank-tops"],analyticsId:"goToTankTopsCategoryPage"},{label:"Home Decor",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.HomeDecor,link:["home-and-living/home-decor"],analyticsId:"goToHomeDecorCategoryPage"},{label:"Phone Cases",topLevelTag:Dt$1.Accessories,subLevelTag:Ft$2.PhoneCases,link:["accessories/phone-cases"],analyticsId:"goToPhoneCasesCategoryPage"},{label:"Journals",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.JournalsAndNotebooks,link:["home-and-living/journals-and-notebooks"],analyticsId:"goToJournalsAndNotebooksCategoryPage"},{label:"Baby Clothing",topLevelTag:Dt$1.KidsClothing,subLevelTag:Ft$2.BabyClothing,link:["kids-clothing/baby-clothing"],analyticsId:"goToBabyClothingCategoryPage"}],qe$2=[{label:"Supplements",topLevelTag:Dt$1.FoodHealthBeauty,subLevelTag:Ft$2.Supplements,link:["food-health-beauty/supplements"],badge:kt(S$9.NewArrivals)||undefined,analyticsId:"goToSupplementsCategoryPage"}];({label:"Early Access",topLevelTag:nt$9.EarlyAccess,link:["early-access"],badge:kt(S$9.NewArrivals)||undefined,analyticsId:"goToEarlyAccessCategoryPage"});var Je$3=[pe$3,{label:"T-shirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.TShirts,link:["mens-clothing/t-shirts","womens-clothing/t-shirts"],analyticsId:"goToTshirtsCategoryPage"},{label:"Sweatshirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Sweatshirts,link:["mens-clothing/sweatshirts","womens-clothing/sweatshirts"],analyticsId:"goToSweatshirtsCategoryPage"},{label:"Hoodies",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Hoodies,link:["mens-clothing/hoodies","womens-clothing/hoodies"],analyticsId:"goToHoodiesCategoryPage"}],ue$1=[{label:"T-shirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.TShirts,link:["mens-clothing/t-shirts","womens-clothing/t-shirts"],analyticsId:"goToTshirtsCategoryPage"},{label:"Phone Cases",topLevelTag:Dt$1.Accessories,subLevelTag:Ft$2.PhoneCases,link:["accessories/phone-cases"],analyticsId:"goToPhoneCasesCategoryPage"},{label:"Sweatshirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Sweatshirts,link:["mens-clothing/sweatshirts","womens-clothing/sweatshirts"],analyticsId:"goToSweatshirtsCategoryPage"},{label:"Hoodies",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Hoodies,link:["mens-clothing/hoodies","womens-clothing/hoodies"],analyticsId:"goToHoodiesCategoryPage"},{label:"Magnets and Stickers",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.MagnetsAndStickers,link:["home-and-living/magnets-and-stickers"],analyticsId:"goToMagnetsAndStickersCategoryPage"},{label:"Bottles & Tumblers",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.BottlesAndTumblers,link:["home-and-living/bottles-and-tumblers"],analyticsId:"goToBottlesTumblersCategoryPage"}],Se$2=[pe$3,{label:"T-shirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.TShirts,link:["mens-clothing/t-shirts","womens-clothing/t-shirts"],analyticsId:"goToTshirtsCategoryPage"},{label:"Sweatshirts",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Sweatshirts,link:["mens-clothing/sweatshirts","womens-clothing/sweatshirts"],analyticsId:"goToSweatshirtsCategoryPage"},{label:"Wall Decorations",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Posters,link:["home-and-living/posters","home-and-living/canvas"],analyticsId:"goToWallDecorationsCategoryPage"},{label:"Ornaments",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Ornaments,link:["home-and-living/ornaments"],analyticsId:"goToOrnamentsCategoryPage"},{label:"Hoodies",topLevelTag:Dt$1.WomensClothing,subLevelTag:Ft$2.Hoodies,link:["mens-clothing/hoodies","womens-clothing/hoodies"],analyticsId:"goToHoodiesCategoryPage"},{label:"Mugs",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Mugs,link:["home-and-living/mugs"],analyticsId:"goToMugsCategoryPage"},{label:"Blankets",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.Blankets,link:["home-and-living/blankets"],analyticsId:"goToBlanketsCategoryPage"},{label:"Magnets and Stickers",topLevelTag:Dt$1.HomeLiving,subLevelTag:Ft$2.MagnetsAndStickers,link:["home-and-living/magnets-and-stickers"],analyticsId:"goToMagnetsAndStickersCategoryPage"},{label:"Phone Cases",topLevelTag:Dt$1.Accessories,subLevelTag:Ft$2.PhoneCases,link:["accessories/phone-cases"],analyticsId:"goToPhoneCasesCategoryPage"}];var B$3={[b$9.TikTok]:g$4.TikTok,[b$9.Amazon]:g$4.Amazon},W$3={[g$4.TikTok]:b$9.TikTok,[g$4.Amazon]:b$9.Amazon},V$3={[g$4.TikTok]:[Ut$4.USA],[g$4.Amazon]:[Ut$4.USA]},it$3={[g$4.TikTok]:ue$1,[g$4.Amazon]:Se$2},ot$4={[g$4.TikTok]:[nt$9.AllOverPrint,nt$9.EcoFriendly,nt$9.USAAssembled,nt$9.NewArrivals,nt$9.Bestsellers],[g$4.Amazon]:undefined},de$3={[g$4.TikTok]:undefined,[g$4.Amazon]:undefined},Te$3={[g$4.TikTok]:{name:"TikTok",logoUrl:"/assets/svg/store/tiktok.svg"},[g$4.Amazon]:{name:"Amazon",logoUrl:"/assets/svg/store/amazon.svg"}},nt$4={[g$4.TikTok]:1,[g$4.Amazon]:0};[g$4.Amazon];var Ce$4=({catalogSalesChannel:a,targetMarket:l})=>({target_market:l,filters_v2:{sales_channel:[a]}}),gt$3=({salesChannelId:a,isSalesChannelFilter:l})=>{let e=a&&B$3[a];return e?w$9({},l?Ec$1({sales_channel:[e]}):gc$1("sales_channel",[e])):{}};var ve$3=[b$9.Walmart,b$9.SwapClub,b$9.API];function dt$3(a){return ve$3.includes(a)}function be$3(a){return a in W$3?W$3[a]??a:a}var fe$3=[b$9.TikTok,b$9.Amazon];var ke$3=(()=>{class a{setSalesChannelSelectorState(e){e!==this.salesChannelSelectorState.value&&this.salesChannelSelectorState.next(e);}constructor(){this.featureTogglesService=N$8(te$5),this.storesService=N$8(Ro$2),this.routingService=N$8(Ya$1),this.catalogCategoriesService=N$8(Jc$2),this.route=N$8(Ge$9),this.selectedSalesChannel$=this.storesService.salesChannelId$.pipe(Sc$2(undefined)),this.salesChannelSelectorState=new yn$7(false),this.salesChannelSelectorState$=this.salesChannelSelectorState.asObservable(),this.isSalesChannelSelectorEnabled$=this.routingService.url$.pipe(Ac$3(e=>this.catalogCategoriesService.isPromotionalCategory(this.getUrlFromPath(e))),Rc$2(this.featureTogglesService.isFeatureEnabled$(jt$2.SalesChannelSelector),this.selectedSalesChannel$,this.route.params,this.routingService.data$),ie$b(([e,t,r,n,c])=>{let d=r!==undefined&&fe$3.includes(be$3(r)),$=c?.showSalesChannelSelector||n?.productId||e,Y=t&&$&&d;return Y||this.setSalesChannelSelectorState(false),Y})),this.initializeTikTokDefaultToggleState();}initializeTikTokDefaultToggleState(){Hp$2([this.selectedSalesChannel$.pipe(kc$2(()=>this.setSalesChannelSelectorState(false))),this.isSalesChannelSelectorEnabled$,this.featureTogglesService.isFeatureEnabled$(jt$2.TikTokToggleDefaultStateExperiment)]).pipe(Dr$5(([e,t,r],[n,c,d])=>e===n&&t===c&&r===d),Ye$b(([e,t,r])=>e===b$9.TikTok&&t&&r),X$7()).subscribe(()=>{this.setSalesChannelSelectorState(true);});}getUrlFromPath(e){if(!e)return "";let t=e.split("/").filter(Boolean).pop();return t?t.replace(/[^a-zA-Z0-9]/g," ").trim():""}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var Ie$2=(()=>{class a{constructor(){this.authStorageService=N$8(we$5),this.environment=N$8(f$c),this.httpClient=N$8(_u$3),this.errorHandler=N$8(it$a),this.featureTogglesService=N$8(te$5),this.userService=N$8(J$5),this.apiPath=`${this.environment.catalogServiceURL}merchant`,this.requestMerchantSettingUpdate=new yn$7(undefined),this.userSettings=new In$7,this.userSettings$=this.userSettings.asObservable(),this.hasAccessToFreemium$=Hp$2([this.userSettings$,this.featureTogglesService.isFeatureEnabled$(jt$2.FreemiumDiscount)]).pipe(ie$b(([e,t])=>{if(!t)return  false;let r=e?.freemium?.isAccepted,n=e?.freemium?.expiresAt?new Date(e.freemium.expiresAt)<new Date:false;return !!(r&&!n)}),Dr$5()),this.init();}ngOnDestroy(){this.requestMerchantSettingUpdate.complete(),this.userSettings.complete();}updateUserSettings(e){return this.authStorageService.getAuthorized()?this.httpClient.post(this.apiPath+"/settings",this.mapUserSettingsToResponse(e)).pipe(yi$5(()=>hi$7()),kc$2(()=>{this.userSettings.next(e);})):hi$7()}sendAcceptFreemiumIfHasAccessToFeature(){this.authStorageService.getAuthorized()&&this.featureTogglesService.isFeatureEnabled$(jt$2.FreemiumDiscount).pipe(mt$8(1),Ye$b(e=>e),Ac$3(()=>this.httpClient.post(this.apiPath+"/freemium/accept",null).pipe(c$7(),yi$5(e=>(this.errorHandler.handleError(e),hi$7(null))),kc$2(e=>{e&&(this.requestMerchantSettingUpdate.next(),this.userService.reload().pipe(mt$8(1)).subscribe());})))).subscribe();}init(){Hp$2([this.authStorageService.isAuthorized$.pipe(Dr$5()),this.requestMerchantSettingUpdate]).pipe(Ac$3(([e])=>e?this.fetchUserSettings():hi$7(null))).subscribe(this.userSettings);}fetchUserSettings(){let e=this.apiPath+"/settings";return this.httpClient.get(e).pipe(c$7(),yi$5(()=>hi$7(null)),ie$b(t=>t&&this.mapResponseUserSettingsToState(t)))}mapResponseUserSettingsToState(r){var n=r,{target_market:e}=n,t=A$f(n,["target_market"]);let c={isAccepted:t.freemium?.is_accepted??false,expiresAt:t.freemium?.expires_at};return x$d(w$9({},t),{targetMarket:e,freemium:c})}mapUserSettingsToResponse(r){var n=r,{targetMarket:e}=n,t=A$f(n,["targetMarket"]);let c=t.freemium?{is_accepted:t.freemium.isAccepted??false,expires_at:t.freemium.expiresAt}:undefined;return x$d(w$9({},t),{target_market:e,freemium:c})}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var ye$3=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"];var Le$4=Ut$4.USA,xe$4=a=>Array.isArray(a),Ee$4=(()=>{class a{getTargetMarkets(e=new Ie$6){return this.httpClient.get(this.targetMarketsUrl,{params:e}).pipe(ie$b(t=>xe$4(t)?t:Object.keys(t)))}constructor(){this.featureTogglesService=N$8(te$5),this.httpClient=N$8(_u$3),this.storageService=N$8(Y$4),this.localisationService=N$8(du$1),this.catalogUserSettings=N$8(Ie$2),this.environment=N$8(f$c),this.targetMarketsUrl=`${this.environment.catalogServiceURL}blueprints/search-target-markets`,this.currentTargetMarket=new yn$7(this.readTargetMarketFromStorage()),this.currentTargetMarket$=this.currentTargetMarket.pipe(ie$b(e=>e||Le$4)),this.currentTargetMarket.value||this.preselectTargetMarket();}setCurrentTargetMarket(e,t){e!==this.currentTargetMarket.value&&(this.currentTargetMarket.next(e),t||this.catalogUserSettings.updateUserSettings({targetMarket:e}).pipe(mt$8(1)).subscribe()),this.saveTargetMarketToStorage(e);}preselectTargetMarket(){Hp$2([this.catalogUserSettings.userSettings$,this.localisationService.userCountry$,this.featureTogglesService.isFeatureEnabled$(jt$2.CatalogUSExperience)]).pipe(mt$8(1)).subscribe(([e,t,r])=>{let n=r?Ut$4.USA:undefined,c=this.getTargetMarketBasedOnUserLocation(t),d=e?.targetMarket;this.readTargetMarketFromStorage()||this.saveTargetMarketToStorage(d||n||c);let $=this.readTargetMarketFromStorage();this.setCurrentTargetMarket(d||n||$||c,true);});}getTargetMarketBasedOnUserLocation(e){switch(true){case e==="US":return Ut$4.USA;case e==="CA":return Ut$4.Canada;case(e==="GB"||e==="UK"):return Ut$4.UK;case(e==="AU"||e==="NZ"):return Ut$4.AustraliaNZ;case e==="CN":return Ut$4.China;case(e&&ye$3.includes(e)):return Ut$4.Europe;default:return Le$4}}saveTargetMarketToStorage(e){this.storageService.setString("target_market",e,{storageType:I$8.Local,clearOnAuth:false});}readTargetMarketFromStorage(){return this.storageService.get("target_market",undefined,I$8.Local)}static getAbbreviatedMarket(e){return e&&Ni$4[e]}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var Ae$3=(()=>{class a{constructor(){this.storesService=N$8(Ro$2),this.targetMarketsService=N$8(Ee$4),this.featureTogglesService=N$8(te$5),this.salesChannelProductsRestrictionsService=N$8(ke$3),this.selectedCatalogSalesChannel$=this.storesService.salesChannelId$.pipe(Sc$2(undefined),ie$b(e=>this.getCatalogSalesChannel(e))),this.allowedTargetMarkets$=this.selectedCatalogSalesChannel$.pipe(ie$b(e=>{if(e)return V$3[e]})),this.selectedCatalogSalesChannelCategoryFilters$=Hp$2([this.selectedCatalogSalesChannel$,this.allowedTargetMarkets$,this.salesChannelProductsRestrictionsService.salesChannelSelectorState$]).pipe(ie$b(([e,t,r])=>{if(!(!e||!t?.length||!r))return {sales_channel:e,target_market:t[0]}})),this.hasMerchantSwitchedToCatalogSalesChannelStore$=Hp$2([this.targetMarketsService.currentTargetMarket$,this.allowedTargetMarkets$,this.storesService.selectedStoreUpdates$]).pipe(kc$2(([e,t,r])=>{let n=!!t?.length&&!t.includes(e),c=!!r?.salesChannelId&&!!B$3[r.salesChannelId];n&&c&&this.targetMarketsService.setCurrentTargetMarket(t[0]);}),Dr$5()),this.initialiseTargetMarketRestrictions();}getSalesChannelGeneralDetails(e){return Te$3[e]||{name:"",logoUrl:""}}getSelectedCatalogSalesChannel(){return this.getCatalogSalesChannel(this.storesService.getSalesChannelID())}static getCatalogSalesChannelBlueprintRequestParams(e){let t=e?V$3[e]?.[0]:undefined;return !e||!t?{}:Ce$4({catalogSalesChannel:e,targetMarket:t})}static isEligibleForSalesChannel(e,t){return !!t?.includes(e)}initialiseTargetMarketRestrictions(){this.setDefaultTargetMarketForSalesChannel$().subscribe(),this.hasMerchantSwitchedToCatalogSalesChannelStore$.subscribe();}setDefaultTargetMarketForSalesChannel$(){return this.allowedTargetMarkets$.pipe(Ye$b(Boolean),Dr$5(),kc$2(e=>{e.length&&this.targetMarketsService.setCurrentTargetMarket(e[0]);}))}getCatalogSalesChannel(e){if(!e)return;let t=B$3[e],r=t?de$3[t]:undefined;if(!(r&&!this.featureTogglesService.isFeatureEnabled(r)))return t}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var Re$1=a=>!(a.length&&a[0].hasOwnProperty("tags")),Ue$3=a=>a.map(l=>({id:l.id,label:l.label,type:l.type,badgeText:l.badge_text,visibleItems:l.visible_items,weight:l.weight,expanded:l.expanded,enabled:l.enabled,filters:l.filters})),Pe$5=a=>Re$1(a)?Ue$3(a):a.map(({type:l,label:e,filters:t,tags:r})=>({type:l,label:e,tags:r,id:0,enabled:true,expanded:true,visibleItems:5,badgeText:null,weight:10,filters:t.map(n=>_e$5(n))})),_e$5=({search_key:a,label:l,secondary_label:e})=>w$9({searchKey:a,label:l},e?{secondaryLabel:e}:{});var Fe$3=(a,l,e)=>a.map(t=>t.type!==l?t:x$d(w$9({},t),{filters:t.filters.map(r=>r.searchKey!==e?r:x$d(w$9({},r),{enabled:false}))}));var ya$1=(()=>{class a{constructor(){this.dataStorage=N$8(_o$2),this.httpClient=N$8(_u$3),this.searchService=N$8(Dc$1),this.currencyCodeProvider=N$8(Vo$3),this.environment=N$8(f$c),this.catalogSalesChannelRestrictionsService=N$8(Ae$3),this.destroy$=new Z$a,this.unsubscribeFromGettingSearchPageFilters$=new Z$a,this.filtersChange=new In$7(1),this.filters$=this.filtersChange.asObservable(),this.filtersParamChange=new In$7(1),this.filtersParamChange$=this.filtersParamChange.asObservable(),this.getFiltersOnParamChange();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.unsubscribeFromGettingSearchPageFilters$.next(),this.unsubscribeFromGettingSearchPageFilters$.complete(),this.filtersChange.complete(),this.filtersParamChange.complete();}setFilterTags(e){this.filtersParamChange.next({tags:e});}setFilterParams(e){this.filtersParamChange.next(e);}setBrandId(e){this.filtersParamChange.next({brandId:e});}setPrintProviderId(e){this.filtersParamChange.next({printProviderId:e});}getFiltersOnParamChange(){Hp$2([this.filtersParamChange$,this.currencyCodeProvider.currencyCode$,this.catalogSalesChannelRestrictionsService.selectedCatalogSalesChannelCategoryFilters$]).pipe(Oc$2(this.destroy$)).subscribe(([e,t,r])=>{let n=new Ie$6({fromObject:w$9(w$9(w$9(w$9(w$9(w$9(w$9({},e.tags?.length&&{"tags[]":e.tags}),e.brandId&&{brandId:e.brandId}),e.printProviderId&&{printProviderId:e.printProviderId}),e.searchKey&&{searchKey:e.searchKey}),r),e.targetMarket&&{target_market:e.targetMarket}),e.salesChannel&&{sales_channel:e.salesChannel})});this.getFilters(n,`${n.toString()}-${t}`,t);});}unsubscribeFromGettingSearchPageFilters(){this.unsubscribeFromGettingSearchPageFilters$.next();}getFiltersOnSearchKeyChange(){this.searchService.searchKeyInput$.pipe(Oc$2(this.unsubscribeFromGettingSearchPageFilters$)).subscribe(e=>{this.filtersParamChange.next({searchKey:e});});}getFilters(e,t,r){let n={[ES]:r};this.dataStorage.cacheObservable({storageKey:this.getFiltersUrl(),innerKey:t,observable:()=>this.httpClient.get(this.getFiltersUrl(),{params:e,headers:n})}).subscribe(c=>{if(!c.length){this.filtersChange.next([]);return}let d=Pe$5(c);d=Fe$3(d,"print_provider",`${me$2}`),this.filtersChange.next(this.orderFiltersByWeight(d));},c=>{console.error("Failed to fetch catalog filters.",c),this.filtersChange.next([]);});}orderFiltersByWeight(e){return e.sort((t,r)=>t.weight===r.weight?t.label.localeCompare(r.label):r.weight-t.weight)}getFiltersUrl(){return `${this.environment.catalogServiceURL}filters`}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var Q$4=[],F$4="filters",le$3=(()=>{class a{constructor(e,t,r,i){this.searchService=e,this.storageService=t,this.catalogFiltersService=r,this.router=i,this.options=this.getInitial(),this.destroy$=new Z$a,this.unsubscribeFromClearingOnSearchKeyChange$=new Z$a,this.changeOnUpdate=true,this.optionsChange=new Z$a,this.options$=this.optionsChange.pipe(Sc$2(undefined),ie$b(()=>this.options),_c$3(1)),this.numOfSelectedOptions$=this.options$.pipe(ie$b(s=>{let n=0;return s.forEach(h=>n+=h.size),n})),this.clearOnFilterTagsChange(),this.saveToQueryParam(),this.matchOptionsToFiltersOnFilterChange();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.unsubscribeFromClearingOnSearchKeyChange$.next(),this.unsubscribeFromClearingOnSearchKeyChange$.complete(),this.optionsChange.complete();}initialiseWithSessionStorage(){let e=this.getMemorizedFilterOptions();e&&(this.options=e,e.forEach((t,r)=>{t.forEach(i=>{this.add(r,i);});}));}initialiseWithQueryParams(){this.options=this.getInitial();}change(){this.optionsChange.next();}get catalogFilterOptions(){return this.options}has(e,t){let r=this.options.get(e);return !!r&&Array.from(r).some(i=>i.searchKey===t.searchKey)}add(e,t){this.options.has(e)||this.options.set(e,new Set),this.saveOptionToSessionStorage(e,t),this.addToOptions(e,t);}addToOptions(e,t){this.options.get(e)?.add(t),this.changeOnUpdate&&this.change();}remove(e,t){let r=this.options.get(e);if(!r)return;let i=Array.from(r).find(s=>s.searchKey===t.searchKey);if(i)r.delete(i);else throw new Error(`Option with searchKey ${t.searchKey} not found in filter type ${e}`);this.removeOptionFromSessionStorage(e,t),r.size||this.removeFilterTypeOptions(e),this.changeOnUpdate&&this.change();}removeFilterTypeOptions(e){this.options.delete(e);}clear(e={onlyClearOptions:false,userInitiated:true}){this.options.size&&(this.options.clear(),e.userInitiated?this.clearSessionStorage():(this.options=this.getMemorizedFilterOptions()||new Map,this.refreshMatchOptionsToFiltersOnFilterChange()),!e.onlyClearOptions&&this.changeOnUpdate&&this.change());}clearSessionStorage(){let e=this.getMemorizedFilterOptions();e&&Array.from(e.keys()).forEach(t=>{this.storageService.remove(t,I$8.Session);});}getAsFilterOptionParams(){if(!this.options.size)return null;let e={};for(let[t,r]of this.options)e[t]=Array.from(r).map(i=>i.searchKey);return e}getAsQueryParam(){let e=this.getAsFilterOptionParams();return e?JSON.stringify(e):""}getFromQueryParam(e){try{let t=JSON.parse(e),r=new Map;return Object.entries(t).forEach(([i,s])=>{let n=s.map(h=>({searchKey:h,label:""})).reduce((h,p)=>(h.add(p),h),new Set);r.set(i,n);}),r}catch{return new Map}}getInitial(){let e=new URLSearchParams(window.location.search).get(F$4);return e?this.getFromQueryParam(e):new Map}saveOptionToSessionStorage(e,t){if(!Q$4.includes(e))return;let r=this.storageService.get(e,[],I$8.Session);r.find(s=>s.searchKey===t.searchKey)||(r.push(t),this.storageService.set(e,r,{storageType:I$8.Session,clearOnAuth:true}));}removeOptionFromSessionStorage(e,t){if(!Q$4.includes(e))return;let r=this.storageService.get(e,[],I$8.Session);if(!r.find(s=>s.searchKey===t.searchKey)){this.storageService.remove(e,I$8.Session);return}this.storageService.set(e,r.filter(s=>s.searchKey!==t.searchKey),{storageType:I$8.Session,clearOnAuth:true});}getMemorizedFilterOptions(){let e=Q$4.flatMap(r=>{let i=this.storageService.get(r,[],I$8.Session);return i?.length?[{filterType:r,options:i}]:[]});if(!e.length)return;let t=new Map;return e.forEach(({filterType:r,options:i})=>{t.set(r,new Set(i));}),t}saveToQueryParam(){this.options$.pipe(Oc$2(this.destroy$)).subscribe(()=>{let e=new URLSearchParams(window.location.search);if(this.options.size){let i=e.get(F$4),s=this.getAsQueryParam();if(i===s)return;e.set(F$4,s);}else e.delete(F$4);let t=e.get(F$4),r={[F$4]:t};this.router.navigate([],{queryParams:r,queryParamsHandling:"merge",replaceUrl:true});});}clearOnFilterTagsChange(){this.catalogFiltersService.filtersParamChange$.pipe(Oc$2(this.destroy$),Dr$5((e,t)=>!e.tags||!t.tags?false:e.tags.length===t.tags.length&&e.tags.every((r,i)=>r===t.tags?.[i])),Nc$2(1)).subscribe(()=>this.clear({userInitiated:false,onlyClearOptions:false}));}unsubscribeFromClearingOnSearchKeyChange(){this.unsubscribeFromClearingOnSearchKeyChange$.next();}clearOnSearchKeyChange(){this.searchService.searchKeyInput$.pipe(Nc$2(1),Oc$2(this.unsubscribeFromClearingOnSearchKeyChange$)).subscribe(()=>this.clear({userInitiated:false,onlyClearOptions:false}));}matchOptionsToFiltersOnFilterChange(){this.catalogFiltersService.filters$.subscribe(e=>this.matchOptionsToFilters(e));}refreshMatchOptionsToFiltersOnFilterChange(){this.catalogFiltersService.filters$.pipe(mt$8(1)).subscribe(e=>this.matchOptionsToFilters(e));}matchOptionsToFilters(e){this.options.forEach((t,r)=>{let i=e.find(n=>n.type===r);if(!i)return;new Set(t).forEach(n=>{let h=i.filters.find(p=>p.searchKey===n.searchKey);h&&(t.delete(n),t.add(h));});}),this.change();}cloneInto(e){a.clone(this.options,e);}cloneFrom(e){a.clone(e,this.options);}static clone(e,t){t.clear(),e.forEach((r,i)=>{t.set(i,new Set(r));});}static{this.\u0275fac=function(t){return new(t||a)(pe$9(Dc$1),pe$9(Y$4),pe$9(ya$1),pe$9(ve$8))};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var ce$3=(()=>{class a{constructor(){this.targetMarketsService=N$8(Ee$4),this.catalogFilterOptionsService=N$8(le$3),this.catalogFiltersService=N$8(ya$1),this.salesChannelSelectorService=N$8(ke$3),this.salesChannelsFilter$=this.catalogFilterOptionsService.options$.pipe(ie$b(e=>this.getSalesChannelsFilter(e))),this.hasTiktokSalesChannel$=Hp$2([this.salesChannelsFilter$]).pipe(ie$b(([e])=>e.includes(g$4.TikTok)));}tiktokCategoryCustomBlueprintParams(){return this.setFilterParams(),x$d(w$9({},this.getTiktokFiltersV2CustomBlueprintParams()),{show_other_sales_channels:false})}getTiktokBlueprintRequestParams$(e){let{isSalesChannelFilter:t}=e||{};return Hp$2([this.salesChannelsFilter$,this.targetMarketsService.currentTargetMarket$]).pipe(ie$b(([r,i])=>{if(!(!r.includes(g$4.TikTok)||![Ut$4.USA,Ut$4.AllMarkets].includes(i)))return x$d(w$9({},gt$3({salesChannelId:b$9.TikTok,isSalesChannelFilter:t})),{target_market:i,show_other_sales_channels:false})}))}getTiktokFiltersV2CustomBlueprintParams(){return Ce$4({catalogSalesChannel:g$4.TikTok,targetMarket:Ut$4.USA})}clearTiktokLinkFilters(){let e=this.getSalesChannelOptions(this.catalogFilterOptionsService.catalogFilterOptions).find(t=>t.searchKey===g$4.TikTok);e&&this.catalogFilterOptionsService.remove("sales_channel",e);}getTiktokBlueprintLinkFilters(){return {sales_channel:[g$4.TikTok]}}setFilterParams(){this.catalogFiltersService.setFilterParams({salesChannel:[g$4.TikTok],targetMarket:[Ut$4.USA]});}getSalesChannelOptions(e){return Array.from(e.get("sales_channel")||[])}getSalesChannelsFilter(e){return this.getSalesChannelOptions(e).map(({searchKey:t})=>t)}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var R$8=function(a){return a.Tiktok="tiktok",a.Embroidery="embroidery",a}(R$8||{}),B$2=function(a){return a.Filters="filters",a.DecorationMethod="decoration_method",a}(B$2||{});var he$3=(()=>{class a{constructor(){this.customQueryParamFilters=null,this.decorationMethodQueryParam=null,this.tiktokBlueprintFiltersService=N$8(ce$3);}definePageSource(e){this.pageSource=e;}clearPageSource(){this.pageSource=undefined;}defineFilters(e){this.customQueryParamFilters=e;}defineDecorationMethodQueryParams(){this.decorationMethodQueryParam=this.pageSource===R$8.Embroidery?{decoration_method:"embroidery"}:null;}clearFilters(){this.customQueryParamFilters=null;}getProductCardUrlSearchParams(){let e=this.mapSourceToFilters(this.pageSource);e&&this.defineFilters(w$9(w$9({},this.customQueryParamFilters),e));let t=new URLSearchParams;return this.customQueryParamFilters&&t.append(B$2.Filters,this.getStringifiedFilters()),this.decorationMethodQueryParam&&t.append(B$2.DecorationMethod,this.decorationMethodQueryParam?.decoration_method),this.customQueryParamFilters||this.decorationMethodQueryParam?`?${t.toString()}`:""}getStringifiedFilters(){return JSON.stringify(this.customQueryParamFilters||"")}mapSourceToFilters(e){switch(e){case R$8.Tiktok:return this.tiktokBlueprintFiltersService.getTiktokBlueprintLinkFilters();default:return null}}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var ge$5=(()=>{class a extends Io$2{constructor(e,t,r){super(e,t,r),this.blueprintQueryParamsService=N$8(he$3),this.environment=N$8(f$c),this.storesService=N$8(Ro$2),this.featureTogglesService=N$8(te$5),this.customErrorHandler=N$8(Cr$2),this.destroy$=new Z$a,this.salesChannelId$=this.storesService.salesChannelId$.pipe(Sc$2(undefined)),this.isHoverFeatureImage=i=>i.catalogPreview.includes(Me$3.Hover),this.isImageMatchingSelectedCategory=i=>{let s=this.storedParams?.tags?.[0];return s!==undefined?i.catalogPreview.includes(s):false},this.setApiPath(`${this.environment.catalogServiceURL}blueprints/search`);}ngOnDestroy(){this.completeStreams(),this.destroy$.next(),this.destroy$.complete();}loadBlueprints(e){return this.loadBlueprintsThroughStorage(e)}loadBlueprintsThroughStorage(r){var i=r,{currencyCode:e}=i,t=A$f(i,["currencyCode"]);let s=w$9({},t);s.page=this.getPage(s.page),this.storedParams=s;let n={[ES]:e},h=`${this.requestURL()}.${e}.${this.storesService.getId()}`,p=ue=>e===ue.headers.get(ES);return this.loadThroughStorage(s.page,h,{headers:n,cacheIf:p})}mapBlueprintsToProductCardsData(e,t){return e.map(r=>this.mapBlueprintToProductCardData(r,t))}mapBlueprintToProductCardData(e,t){return new ai$4(x$d(w$9({id:e.blueprintId,url:this.getUrl({blueprintId:e.blueprintId,name:e.name,brandName:e.brandName}),image:this.getBlueprintImage(e.blueprintId,e.images),hoverImage:this.getBlueprintHoverImage(e.blueprintId,e.images),name:e.name,brandName:e.brandName,model:e.model||"",price:e.minPrice,badge:this.getBadge(e.hiddenTags,e.tags,e.version==="future",t),premiumPrice:e.minPriceSubscription,printProviders:e.printProviderCount,sizes:e.sizesCount},this.getBlueprintTagBadges(e)),{colors:e.colorsCount,printProviderName:e.printProviderName||"",analytics:{reviewScore:e.analytics?.review_score||null,trendingScore:e.analytics?.trending_score||null,profitMarginScore:e.analytics?.profit_margin_score||null},targetMarkets:e.targetMarkets??[t],eligibleSalesChannels:e.eligibleSalesChannels??null,isPrintifyChoiceEligible:e.hiddenTags?.includes($e$4),endBuyerReviews:this.getEndBuyerReviews(e.end_buyer_reviews),isPromoted:!!e.isPromoted}))}getEndBuyerReviews(e){return !e||!this.featureTogglesService.isFeatureEnabled(jt$2.CatalogEndBuyerReviews)?null:{rating:e.rating,reviewsCount:e.reviews_count}}getBlueprintTagBadges(e){return {isFeatured:false,isPrintifyExpress:e.hiddenTags.includes(S$9.PrintifyExpress),isNew:e.hiddenTags.includes(S$9.NewArrivals),isBestseller:e.hiddenTags.includes(S$9.BestSellers),isSale:e.hiddenTags.includes(S$9.Sale),isEcoFriendly:e.hiddenTags.includes(S$9.EcoFriendly),isUsAndCaOnly:e.hiddenTags.includes(S$9.UsAndCaOnly),isDraft:e.version==="future",isPresell:e.tags.includes(S$9.Presell)}}getBadge(e,t,r=false,i){return hc$2(e,t,r,i)}getUrl(e){let t=yc$1(e),r=this.blueprintQueryParamsService.getProductCardUrlSearchParams();return `${this.environment.appRoot}products/${t}${r}`}getBlueprintImage(e,t){try{let r=t.filter(a.isImage);return r.length?this.imagesReadyForRebranding(r)?this.handleGetBlueprintImageForRebrand(r):this.handleGetBlueprintImage(r):null}catch(r){return this.customErrorHandler.handleError(r,{message:`Error parsing blueprint media for blueprint id: "${e}"`,domain:"catalog.blueprints"}),null}}imagesReadyForRebranding(e){let t=e.some(n=>n.catalogPreview.includes(Me$3.Rebrand)),r=e.some(n=>n.catalogPreview.includes(Me$3.Scrub)),i=e.every(n=>n.catalogPreview.includes(Me$3.Rebrand)),s=e.every(n=>n.catalogPreview.includes(Me$3.Scrub));return r&&t||i||s}handleGetBlueprintImageForRebrand(e){let t=e.filter(n=>!n.catalogPreview.includes(Me$3.Scrub)),r=t.find(n=>n.catalogPreview.includes(Me$3.Rebrand)),s=t.find(n=>n.catalogPreview.includes(Me$3.Rebrand)&&this.isImageMatchingSelectedCategory(n)&&!n.catalogPreview.includes(Me$3.Hover))||r||t[0];return s?this.environment.catalogImagesURL+s.src+".jpg":null}handleGetBlueprintImage(e){let t=e.filter(s=>!s.catalogPreview.includes(Me$3.Rebrand)),i=t.find(this.isImageMatchingSelectedCategory)||t[0];return i?this.environment.catalogImagesURL+i.src+".jpg":null}getBlueprintHoverImage(e,t){try{let r=t.filter(a.isImage).filter(this.isHoverFeatureImage);return r.length?this.imagesReadyForRebranding(r)?this.handleGetRebrandingBlueprintHoverImage(r):this.handleGetBlueprintHoverImage(r):null}catch(r){return this.customErrorHandler.handleError(r,{message:`Error parsing blueprint hover media for blueprint id: "${e}"`,domain:"catalog.blueprints"}),null}}handleGetBlueprintHoverImage(e){let t=e.filter(s=>!s.catalogPreview.includes(Me$3.Rebrand)),i=t.find(this.isImageMatchingSelectedCategory)||t[0];return i?this.environment.catalogImagesURL+i.src+".jpg":null}handleGetRebrandingBlueprintHoverImage(e){let t=e.find(s=>s.catalogPreview.includes(Me$3.Rebrand)&&s.catalogPreview.includes(Me$3.Hover)),i=e.find(s=>s.catalogPreview.includes(Me$3.Rebrand)&&s.catalogPreview.includes(Me$3.Hover)&&this.isImageMatchingSelectedCategory(s))||t||e[0];return i?this.environment.catalogImagesURL+i.src+".jpg":null}static isImage(e){return e.hasOwnProperty("src")}static{this.\u0275fac=function(t){return new(t||a)(pe$9(_u$3),pe$9(ve$8),pe$9(_o$2))};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac});}}return a})();var ft$2=(()=>{class a extends ge$5{constructor(){super(...arguments),this.catalogSalesChannelRestrictionsService=N$8(Ae$3);}customQueryParams(){let e=this.buildCustomParams();return this.generateBlueprintQueryParams(e)}getFiltersParams(){let{filters_v2:e}=this.getSalesChannelParams();return w$9(w$9(w$9({},e),this.blueprintQueryParamsService.customQueryParamFilters),this.storedParams?.filters_v2)}buildCustomParams(){let e=A$f(this.getSalesChannelParams(),[]),t=this.getFiltersParams();return x$d(w$9(w$9({searchKey:"",limit:4,show_other_target_markets:true},e),this.storedParams),{filters_v2:yc$4(t)?undefined:t})}generateBlueprintQueryParams(e){return Object.keys(e).reduce((r,i)=>{let s=e[i];if(s===undefined||s==="")return r;if(i==="tags")r=w$9(w$9({},r),gc$1("tags",s));else if(i==="ids")r=w$9(w$9({},r),gc$1("ids",s));else if(i==="sort"){let n=`${Object.keys(s).toString()}`;r=x$d(w$9({},r),{[n]:`${Object.values(s).toString()}`});}else i==="filters_v2"?r=w$9(w$9({},r),Ec$1(s)):r=x$d(w$9({},r),{[i]:s});return r},{})}loadAsProductCardData(e,t,r){return this.skipNavigation=!!t,this.loadBlueprints(e).pipe(ie$b(s=>s.filter(({hiddenTags:n,tags:h})=>!r?.length||![...h,...n].some(p=>r.includes(p)))),ie$b(s=>this.mapBlueprintsToProductCardsData(s,e.target_market)),kc$2(()=>this.blueprintQueryParamsService.clearFilters()))}getSalesChannelParams(){let e=this.catalogSalesChannelRestrictionsService.getSelectedCatalogSalesChannel();return e?w$9({show_other_sales_channels:true},Ae$3.getCatalogSalesChannelBlueprintRequestParams(e)):{}}static{this.\u0275fac=(()=>{let e;return function(r){return (e||(e=sR(a)))(r||a)}})();}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();function h$3(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return "'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P$6(e){return !!e&&!!e[l$2]}function b$4(e){var t;return !!e&&(function(r){if(!r||typeof r!="object")return  false;var n=Object.getPrototypeOf(r);if(n===null)return  true;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===de$2}(e)||Array.isArray(e)||!!e[ne$1]||!!(!((t=e.constructor)===null||t===undefined)&&t[ne$1])||K$4(e)||U$5(e))}function j$2(e,t,r){r===undefined&&(r=false),O$4(e)===0?(r?Object.keys:X$2)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e);}):e.forEach(function(n,o){return t(o,n,e)});}function O$4(e){var t=e[l$2];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:K$4(e)?2:U$5(e)?3:0}function M$1(e,t){return O$4(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ce$2(e,t){return O$4(e)===2?e.get(t):e[t]}function oe$1(e,t,r){var n=O$4(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r;}function fe$2(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function K$4(e){return he$2&&e instanceof Map}function U$5(e){return ve$2&&e instanceof Set}function g$3(e){return e.o||e.t}function W$2(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ye$2(e);delete t[l$2];for(var r=X$2(t),n=0;n<r.length;n++){var o=r[n],a=t[o];a.writable===false&&(a.writable=true,a.configurable=true),(a.get||a.set)&&(t[o]={configurable:true,writable:true,enumerable:a.enumerable,value:e[o]});}return Object.create(Object.getPrototypeOf(e),t)}function J$2(e,t){return t===undefined&&(t=false),$$2(e)||P$6(e)||!b$4(e)||(O$4(e)>1&&(e.set=e.add=e.clear=e.delete=se$2),Object.freeze(e),t&&j$2(e,function(r,n){return J$2(n,true)},true)),e}function se$2(){h$3(2);}function $$2(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function d$2(e){var t=ge$4[e];return t||h$3(18,e),t}function H$1(){return A$7}function I$3(e,t){t&&(d$2("Patches"),e.u=[],e.s=[],e.v=t);}function D$5(e){F$3(e),e.p.forEach(le$2),e.p=null;}function F$3(e){e===A$7&&(A$7=e.l);}function L$4(e){return A$7={p:[],l:A$7,h:e,m:true,_:0}}function le$2(e){var t=e[l$2];t.i===0||t.i===1?t.j():t.g=true;}function R$7(e,t){t._=t.p.length;var r=t.p[0],n=e!==undefined&&e!==r;return t.h.O||d$2("ES5").S(t,e,n),n?(r[l$2].P&&(D$5(t),h$3(4)),b$4(e)&&(e=N$3(t,e),t.l||S$4(t,e)),t.u&&d$2("Patches").M(r[l$2].t,e,t.u,t.s)):e=N$3(t,r,[]),D$5(t),t.u&&t.v(t.u,t.s),e!==ae$3?e:undefined}function N$3(e,t,r){if($$2(t))return t;var n=t[l$2];if(!n)return j$2(t,function(u,f){return Q$3(e,n,t,u,f,r)},true),t;if(n.A!==e)return t;if(!n.P)return S$4(e,n.t,true),n.t;if(!n.I){n.I=true,n.A._--;var o=n.i===4||n.i===5?n.o=W$2(n.k):n.o,a=o,i=false;n.i===3&&(a=new Set(o),o.clear(),i=true),j$2(a,function(u,f){return Q$3(e,n,o,u,f,r,i)}),S$4(e,o,false),r&&e.u&&d$2("Patches").N(n,r,e.u,e.s);}return n.o}function Q$3(e,t,r,n,o,a,i){if(P$6(o)){var u=N$3(e,o,a&&t&&t.i!==3&&!M$1(t.R,n)?a.concat(n):undefined);if(oe$1(r,n,u),!P$6(u))return;e.m=false;}else i&&r.add(o);if(b$4(o)&&!$$2(o)){if(!e.h.D&&e._<1)return;N$3(e,o),t&&t.A.l||S$4(e,o);}}function S$4(e,t,r){r===undefined&&(r=false),!e.l&&e.h.D&&e.m&&J$2(t,r);}function k$1(e,t){var r=e[l$2];return (r?g$3(r):e)[t]}function Z$2(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r);}}function C$7(e){e.P||(e.P=true,e.l&&C$7(e.l));}function z$5(e){e.o||(e.o=W$2(e.t));}function T$3(e,t,r){var n=K$4(t)?d$2("MapSet").F(t,r):U$5(t)?d$2("MapSet").T(t,r):e.O?function(o,a){var i=Array.isArray(o),u={i:i?1:0,A:a?a.A:H$1(),P:false,I:false,R:{},l:a,t:o,k:null,o:null,j:null,C:false},f=u,c=V$2;i&&(f=[u],c=w$4);var s=Proxy.revocable(f,c),m=s.revoke,v=s.proxy;return u.k=v,u.j=m,v}(t,r):d$2("ES5").J(t,r);return (r?r.A:H$1()).p.push(n),n}function pe$2(e){return P$6(e)||h$3(22,e),function t(r){if(!b$4(r))return r;var n,o=r[l$2],a=O$4(r);if(o){if(!o.P&&(o.i<4||!d$2("ES5").K(o)))return o.t;o.I=true,n=ee$4(r,a),o.I=false;}else n=ee$4(r,a);return j$2(n,function(i,u){o&&ce$2(o.t,i)===u||oe$1(n,i,t(u));}),a===3?new Set(n):n}(e)}function ee$4(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return W$2(e)}var te$2,A$7,G$3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",he$2=typeof Map<"u",ve$2=typeof Set<"u",re$2=typeof Proxy<"u"&&Proxy.revocable!==undefined&&typeof Reflect<"u",ae$3=G$3?Symbol.for("immer-nothing"):((te$2={})["immer-nothing"]=true,te$2),ne$1=G$3?Symbol.for("immer-draftable"):"__$immer_draftable",l$2=G$3?Symbol.for("immer-state"):"__$immer_state";var de$2=""+Object.prototype.constructor,X$2=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==undefined?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ye$2=Object.getOwnPropertyDescriptors||function(e){var t={};return X$2(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r);}),t},ge$4={},V$2={get:function(e,t){if(t===l$2)return e;var r=g$3(e);if(!M$1(r,t))return function(o,a,i){var u,f=Z$2(a,i);return f?"value"in f?f.value:(u=f.get)===null||u===undefined?undefined:u.call(o.k):undefined}(e,r,t);var n=r[t];return e.I||!b$4(n)?n:n===k$1(e.t,t)?(z$5(e),e.o[t]=T$3(e.A.h,n,e)):n},has:function(e,t){return t in g$3(e)},ownKeys:function(e){return Reflect.ownKeys(g$3(e))},set:function(e,t,r){var n=Z$2(g$3(e),t);if(n?.set)return n.set.call(e.k,r),true;if(!e.P){var o=k$1(g$3(e),t),a=o?.[l$2];if(a&&a.t===r)return e.o[t]=r,e.R[t]=false,true;if(fe$2(r,o)&&(r!==undefined||M$1(e.t,t)))return  true;z$5(e),C$7(e);}return e.o[t]===r&&(r!==undefined||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=true),true},deleteProperty:function(e,t){return k$1(e.t,t)!==undefined||t in e.t?(e.R[t]=false,z$5(e),C$7(e)):delete e.R[t],e.o&&delete e.o[t],true},getOwnPropertyDescriptor:function(e,t){var r=g$3(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:true,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){h$3(11);},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){h$3(12);}},w$4={};j$2(V$2,function(e,t){w$4[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)};}),w$4.deleteProperty=function(e,t){return w$4.set.call(this,e,t,undefined)},w$4.set=function(e,t,r){return V$2.set.call(this,e[0],t,r,e[0])};var be$2=function(){function e(r){var n=this;this.O=re$2,this.D=true,this.produce=function(o,a,i){if(typeof o=="function"&&typeof a!="function"){var u=a;a=o;var f=n;return function(y){var ie=this;y===undefined&&(y=u);for(var x=arguments.length,q=Array(x>1?x-1:0),_=1;_<x;_++)q[_-1]=arguments[_];return f.produce(y,function(ue){var B;return (B=a).call.apply(B,[ie,ue].concat(q))})}}var c;if(typeof a!="function"&&h$3(6),i!==undefined&&typeof i!="function"&&h$3(7),b$4(o)){var s=L$4(n),m=T$3(n,o,undefined),v=true;try{c=a(m),v=!1;}finally{v?D$5(s):F$3(s);}return typeof Promise<"u"&&c instanceof Promise?c.then(function(y){return I$3(s,i),R$7(y,s)},function(y){throw D$5(s),y}):(I$3(s,i),R$7(c,s))}if(!o||typeof o!="object"){if((c=a(o))===undefined&&(c=o),c===ae$3&&(c=undefined),n.D&&J$2(c,true),i){var E=[],Y=[];d$2("Patches").M(o,c,E,Y),i(E,Y);}return c}h$3(21,o);},this.produceWithPatches=function(o,a){if(typeof o=="function")return function(c){for(var s=arguments.length,m=Array(s>1?s-1:0),v=1;v<s;v++)m[v-1]=arguments[v];return n.produceWithPatches(c,function(E){return o.apply(undefined,[E].concat(m))})};var i,u,f=n.produce(o,a,function(c,s){i=c,u=s;});return typeof Promise<"u"&&f instanceof Promise?f.then(function(c){return [c,i,u]}):[f,i,u]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze);}var t=e.prototype;return t.createDraft=function(r){b$4(r)||h$3(8),P$6(r)&&(r=pe$2(r));var n=L$4(this),o=T$3(this,r,undefined);return o[l$2].C=true,F$3(n),o},t.finishDraft=function(r,n){var o=r&&r[l$2],a=o.A;return I$3(a,n),R$7(undefined,a)},t.setAutoFreeze=function(r){this.D=r;},t.setUseProxies=function(r){r&&!re$2&&h$3(20),this.O=r;},t.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var a=n[o];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}o>-1&&(n=n.slice(o+1));var i=d$2("Patches").$;return P$6(r)?i(r,n):this.produce(r,function(u){return i(u,n)})},e}(),p$3=new be$2,me$1=p$3.produce;p$3.produceWithPatches.bind(p$3);var Oe$4=p$3.setAutoFreeze.bind(p$3);p$3.setUseProxies.bind(p$3);p$3.applyPatches.bind(p$3);p$3.createDraft.bind(p$3);p$3.finishDraft.bind(p$3);
var ge$3=(()=>{class o{constructor(){this.collections$=this.getCollections().pipe(_c$3(1));}getCollectionById(e){return this.collections$.pipe(ie$b(t=>t.find(r=>r.id===e)),Ye$b(Boolean),mt$8(1))}getCollections(){return hi$7([{id:1,title:"Clothing & Apparel",shortName:"Clothing & Apparel",analyticsName:"Clothing & Apparel",imageUrl:"/assets/img/product-collections/clothing-and-apparel.png",badge:{color:ds$3.Yellow,text:"Bestsellers"},blueprintIds:[6,145,77,49,1382,1128,88,80],labels:[]},{id:2,title:"Drinkware & Kitchen",shortName:"Drinkware & Kitchen",analyticsName:"Drinkware & Kitchen",imageUrl:"/assets/img/product-collections/drinkware-and-kitchen.png",blueprintIds:[478,635,68,479,887],labels:[]},{id:3,title:"Home Decor",shortName:"Home Decor",analyticsName:"Home Decor",imageUrl:"/assets/img/product-collections/home-decor.png",blueprintIds:[282,1048,1220,522,241,1159,284],labels:[]},{id:4,title:"Kids & Babies",shortName:"Kids & Babies",analyticsName:"Kids & Babies",imageUrl:"/assets/img/product-collections/kids-and-babies.png",blueprintIds:[157,1149,420,33,580,81,561],labels:[]},{id:5,title:"Paper, Stationary & Office",shortName:"Paper, Stationary & Office",analyticsName:"Paper, Stationary & Office",imageUrl:"/assets/img/product-collections/paper-stationary-office.png",blueprintIds:[1094,486,400,485,1367,1268,1100],labels:[]},{id:6,title:"Phone Cases & Accessories",shortName:"Phone Cases & Accessories",analyticsName:"Phone Cases & Accessories",imageUrl:"/assets/img/product-collections/phone-cases-and-accessories.png",blueprintIds:[421,269,1313,1389,598,1157],labels:[]},{id:7,title:"Sportswear",shortName:"Sportswear",analyticsName:"Sportswear",imageUrl:"/assets/img/product-collections/sportswear.png",badge:{color:ds$3.Gray,text:"New"},blueprintIds:[1121,1129,1338,788],labels:[]}])}static{this.\u0275fac=function(t){return new(t||o)};}static{this.\u0275prov=H$9({token:o,factory:o.\u0275fac,providedIn:"root"});}}return o})();var C$6=class C extends ai$4{constructor(l){super(l),this.blueprintId=l.blueprintId,this.isCompleted=l.isCompleted;}};var ve$1=(()=>{class o{constructor(){this.injector=N$8(_e$8),this.router=N$8(ve$8),this.mockupsApiService=N$8(M$2),this.currencyCodeProvider=N$8(Vo$3),this.errorHandler=N$8(it$a),this.environment=N$8(f$c),this.routingService=N$8(Ya$1),this.featureTogglesService=N$8(te$5);}create({blueprintCollection:e,productCollectionItemIds:t,storeId:r}){let i=Object.keys(t).map(Number),n=Object.values(t).filter(a=>!!a);return Hp$2([this.getBlueprints(i),this.getProductsMockups(r,n)]).pipe(ie$b(([a,S])=>this.mapProductCollectionItems(a,t,S)),ie$b(a=>{let S=a.filter(Se=>Se.isCompleted).length,M=a.length;return x$d(w$9({},e),{blueprintCollectionId:e.id,items:a,progress:{current:S,total:M,percentage:o$b.from(M?S/M*100:0)}})}))}getBlueprints(e){return this.currencyCodeProvider.currencyCode$.pipe(Ac$3(t=>this.injector.get(ft$2).loadAsProductCardData({currencyCode:t,ids:e,limit:e.length})))}getProductsMockups(e,t){return t.length?ih$1(t.map(r=>this.getProductMockup(e,r).pipe(ie$b(i=>[r,i]),yi$5(()=>(this.errorHandler.handleError(new Error(`Product collections: Failed to load mockup for product ${r}`)),hi$7([r,null])))))).pipe(ie$b(r=>Object.fromEntries(r))):hi$7({})}getProductMockup(e,t){return this.mockupsApiService.getGeneratedMockupsR3({shopId:e.toString(),productId:t}).pipe(ie$b(({mockups:r})=>l$6(r)))}mapProductCollectionItems(e,t,r){return e.map(i=>{let n=t[i.id];if(!n){let a=this.router.createUrlTree([i.isPrintifyChoiceEligible?`${this.environment.appRoot}editor/${i.id}/${me$2}`:i.url],{queryParams:this.routingService.withRedirectedFromQueryParam(t$8)}).toString();return new C$6(x$d(w$9({},i),{url:a,blueprintId:i.id,badge:null,isCompleted:false}))}return new C$6(x$d(w$9({},i),{blueprintId:i.id,url:this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2)?this.getLaunchSuccessUseRecentProductUrl(n):`${this.environment.appRoot}product-details/${n}`,image:r[n]?r$b(r[n]):i.image,hoverImage:null,badge:null,isCompleted:true}))})}getLaunchSuccessUseRecentProductUrl(e){return this.router.createUrlTree([this.environment.appRoot,o$9,_$4,E$9],{queryParams:this.routingService.withRedirectedFromQueryParam(t$8,{productId:e})}).toString()}static{this.\u0275fac=function(t){return new(t||o)};}static{this.\u0275prov=H$9({token:o,factory:o.\u0275fac,providedIn:"root"});}}return o})();var O$3=class O{constructor(l){this.collection=l;}},R$6=class R{constructor(l){this.collection=l;}};var Ce$3="product-collections",Pe$4=(()=>{class o{constructor(){this.widgetMetadataApiService=N$8(U$c),this.blueprintCollectionsService=N$8(ge$3),this.events=N$8(H$7),this.sessionService=N$8(M$3),this.storesService=N$8(Ro$2),this.productCollectionFactoryService=N$8(ve$1),this.eventDispatcherService=N$8(X$6),this.routingService=N$8(Ya$1),this.activeCollection=new yn$7(null),this.patchMetadataOnCollectionChange=new Z$a,this.accountLevelProductCollectionsMetadata$=this.sessionService.isAuthenticated$.pipe(Dr$5(),Ac$3(e=>e?this.getAccountLevelProductCollectionsMetadata().pipe(Ac$3(t=>$p$1(this.patchMetadataOnProductCreation(),this.patchMetadataOnProductDeletion(),this.patchMetadataOnCollectionChange).pipe(Rc$2(this.storesService.id$),Qc$3((r,[i,n])=>me$1(r,a=>{a.stores[n]=i(a.stores[n]??L$3());}),t),Sc$2(t),Dr$5(au$4)))):hi$7(null)),_c$3(1)),this.storeLevelProductCollectionsMetadata$=Hp$2([this.storesService.id$,this.accountLevelProductCollectionsMetadata$]).pipe(ie$b(([e,t])=>t?.stores[e]??L$3()),_c$3(1)),this.blueprintCollection$=this.storeLevelProductCollectionsMetadata$.pipe(ie$b(e=>e.activeCollectionId),Dr$5(),Ac$3(e=>e?this.blueprintCollectionsService.getCollectionById(e):hi$7(null)),_c$3(1)),this.activeCollection$=this.blueprintCollection$.pipe(Ac$3(e=>e?this.storeLevelProductCollectionsMetadata$.pipe(ie$b(({collections:t})=>Ie$1(e,t[e.id]??{})),Dr$5(au$4),Rc$2(this.storesService.id$),Ac$3(([t,r])=>this.productCollectionFactoryService.create({blueprintCollection:e,productCollectionItemIds:t,storeId:r}).pipe(Sc$2(null)))):hi$7(null)),kc$2(e=>this.activeCollection.next(e)),_c$3(1));}setActiveCollection(e){this.patchMetadataOnCollectionChange.next(me$1(t=>{t.activeCollectionId=e.id;})),this.eventDispatcherService.dispatch(new O$3(e));}initialize(){$p$1(this.accountLevelProductCollectionsMetadata$.pipe(Nc$2(1),Ye$b(Boolean),Ac$3(e=>this.saveAccountLevelProductCollectionsMetadata(e))),this.trackCollectionProgressUpdates()).subscribe();}trackCollectionProgressUpdates(){return this.activeCollection.pipe(Ye$b(Boolean),Tc$2(),Ye$b(([e,t])=>e.id===t.id?!au$4(e.progress,t.progress):false),kc$2(([,e])=>this.eventDispatcherService.dispatch(new R$6(e))))}patchMetadataOnProductCreation(){return this.events.pipe(G$6(Ae$5),Ye$b(()=>this.routingService.isRedirectedFrom(t$8)),ie$b(e=>e.payload),ie$b(({blueprintId:e,productId:t})=>e?me$1(r=>{let i=r.activeCollectionId;if(i){if(!r.collections[i]){r.collections[i]={[e]:[t]};return}r.collections[i][e]?r.collections[i][e].push(t):r.collections[i][e]=[t];}}):null),Ye$b(Boolean))}patchMetadataOnProductDeletion(){return this.events.pipe(G$6(ee$8),ie$b(({productId:e})=>me$1(t=>{Object.values(t.collections).forEach(r=>{Object.values(r).forEach(i=>zc$4(i,e));});})))}saveAccountLevelProductCollectionsMetadata(e){return this.widgetMetadataApiService.saveMetadata(Ce$3,e)}getAccountLevelProductCollectionsMetadata(){return this.widgetMetadataApiService.getMetadata(Ce$3,{stores:{[-1]:L$3()}})}static{this.\u0275fac=function(t){return new(t||o)};}static{this.\u0275prov=H$9({token:o,factory:o.\u0275fac,providedIn:"root"});}}return o})();function Ie$1(o,l){return Object.fromEntries(o.blueprintIds.map(e=>{let t=l[e];return [e,t?t[t.length-1]:undefined]}))}function L$3(){return {activeCollectionId:null,collections:{[-1]:{[-1]:[]}}}}var pt$3=qR(()=>N$8(Pe$4).initialize());var s$8=class s{};var R$5=(()=>{class e{constructor(){this.events=N$8(H$7),this.wizardService=N$8(pn$3),this.routingService=N$8(Ya$1);}initialize(){this.handleProductCreatedWizard().subscribe();}getBlueprintCollectionsWizardPath(){return [t$8,o$6]}getProductCollectionWizardPath(){return [t$8,E$8,_$3]}handleProductCreatedWizard(){let s=this.events.pipe(G$6(Ae$5),ie$b(({payload:t})=>t.productId)),o=this.events.pipe(G$6(Er$3),Ye$b(({payload:t})=>t.updatedFrom===so$4.Designer),ie$b(({payload:t})=>t.productId));return $p$1(s,o).pipe(Ye$b(()=>this.routingService.isRedirectedFrom(t$8)),kc$2(t=>this.wizardService.open([t$8,E$8,_$3,I$4],{queryParams:{productId:t}})),Ii$4())}static{this.\u0275fac=function(o){return new(o||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})(),y$2=qR(()=>N$8(R$5).initialize());var t$7=class t{},c$6=class c{},x$7=class x{},r$2=class r{constructor(s){this.payload=s;}},y$1=class y{constructor(s){this.payload=s;}},p$2=class p{constructor(s){this.payload=s;}},a$2=class a{constructor(s){this.payload=s;}},l$1=class l{constructor(s){this.payload=s;}},f$3=class f{constructor(s){this.payload=s;}};var t$6=function(e){return e.All="all",e.MostPopular="mostPopular",e.BeginnerFriendly="beginnerFriendly",e.LowestCost="lowestCost",e.EasySetup="easySetup",e.Marketplaces="marketplaces",e.Platforms="platforms",e}(t$6||{}),x$6=(()=>{class e{constructor(){this.activatedRoute=N$8(Ge$9),this.salesChannelsSelectionService=N$8(y$3),this.salesChannelService=N$8(Pt$2),this.salesChannelsConnectionParamsFactory=N$8(Da),this.filterOptions=[s$7(t$6.All,"All"),s$7(t$6.MostPopular,"Most popular"),s$7(t$6.BeginnerFriendly,"Beginner friendly"),s$7(t$6.LowestCost,"Lowest cost"),s$7(t$6.EasySetup,"Easy setup"),s$7(t$6.Marketplaces,"Marketplaces"),s$7(t$6.Platforms,"Platforms")],this.selectedFilterOption=new yn$7(this.filterOptions[0]),this.selectedFilterOption$=this.selectedFilterOption.asObservable(),this.salesChannels$=Hp$2([this.salesChannelsSelectionService.salesChannels$,this.selectedFilterOption$]).pipe(ie$b(([r,o])=>this.applySelectedFilterOption(r,o)));}selectFilterOption(r){this.selectedFilterOption.next(r);}connect(r){this.salesChannelService.connect(r,this.salesChannelsConnectionParamsFactory({route:this.activatedRoute.snapshot}));}applySelectedFilterOption(r,o){return r.filter(i=>{switch(o.value){case t$6.All:return  true;case t$6.MostPopular:return i.isPopular;case t$6.BeginnerFriendly:return i.audience===m$4.Beginners;case t$6.LowestCost:return [h$4.Free,h$4.Low].includes(i.pricing.level);case t$6.EasySetup:return i.setupComplexity===f$8.Easy;case t$6.Marketplaces:return i.type===O$6.Marketplace;case t$6.Platforms:return i.type===O$6.Platform;default:throw new Error("Unsupported filter")}})}static{this.\u0275fac=function(o){return new(o||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac});}}return e})();function s$7(e,c){return {value:e,name:c,analyticsId:ze$7(Hp$3(c))}}var E$7="setup",e$4="sample-order",_$2="product-created",o$5="sales-channel-recommendations",t$5="salesChannelId",n$4="categories",A$6="sales-channel-promo",S$3="sales-channel-connection",c$5="completed",R$4="recommended-categories",s$6="recommended-blueprints/:topLevel/:subLevel",T$2="product-selection",r$1="printify-choice/:blueprintId";var z$4=(()=>{class s{constructor(){this.userSegmentationService=N$8(hs),this.eventDispatcherService=N$8(X$6),this.featureTogglesService=N$8(te$5);}getSalesChannelRecommendationWizardParams(){if(this.shouldShowChannelCategorySelection())return this.salesChannelSelectCategoryWizardParams();let e=this.getRecommendedSalesChannel();return e?this.salesChannelPromoWizardParams(e):this.salesChannelRecommendationListWizardParams(this.getRecommendedSalesChannelsFilter())}salesChannelSelectCategoryWizardParams(){return {wizardPath:[E$7,o$5,n$4]}}salesChannelPromoWizardParams(e){return {wizardPath:[E$7,o$5,A$6,e]}}salesChannelRecommendationListWizardParams(e){return {wizardPath:[E$7,o$5],queryParams:{filters:e}}}getRecommendedSalesChannelsFilter(){let{persona:e,isInfluencer:n,isExperienced:r}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();if(r)return t$6.All;switch(e){case i$2.Business:return t$6.Platforms;case i$2.ContentCreator:return n?null:t$6.EasySetup;default:return null}}getRecommendedSalesChannel(){let e=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();return this.getRecommendedSalesChannelByPreference(e)??this.getContentCreatorInfluencerRecommendation(e)??this.getRecommendedSalesChannelByPersona(e)??this.getDefaultSalesChannelRecommendation()}getRecommendedSalesChannelByPreference({preferredSalesChannelId:e}){return e||null}getRecommendedSalesChannelByPersona({persona:e}){switch(e){case i$2.Artist:case i$2.Individual:case i$2.Agency:case i$2.Explorer:case i$2.Consumer:return b$9.Etsy;case i$2.NGO:return b$9.Storefront}return null}getContentCreatorInfluencerRecommendation({persona:e,isInfluencer:n,platform:r,location:d}){return this.isContentCreatorInfluencer(e,n)?this.isTikTokUser(r)&&this.isGoingToSellInUS(d)?b$9.TikTok:b$9.Etsy:null}isTikTokUser(e){return e===i$2.SMTikTok}isGoingToSellInUS(e=""){return e?.includes(m$9.USA)}isContentCreatorInfluencer(e,n){return e===i$2.ContentCreator&&!!n}getDefaultSalesChannelRecommendation(){return this.getRecommendedSalesChannelsFilter()?null:b$9.Etsy}shouldShowChannelCategorySelection(){let{preferredSalesChannelId:e}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();return !e&&this.featureTogglesService.isFeatureEnabled(jt$2.EngagementFirstSalesChannelRecommendations)}dispatchShownEvent(e,n){let{persona:r,onboardingVersion:d}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();this.eventDispatcherService.dispatch(new p$2({salesChannels:e,persona:r,onboardingVersion:d,filterOption:n}));}dispatchClickedEvent(e){let{persona:n,onboardingVersion:r}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();this.eventDispatcherService.dispatch(new a$2({salesChannel:e,persona:n,onboardingVersion:r}));}dispatchOtherSalesChannelsClickedEvent(){let{persona:e,onboardingVersion:n}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();this.eventDispatcherService.dispatch(new l$1({persona:e,onboardingVersion:n}));}dispatchSalesChannelsFilterClickedEvent(e){let{persona:n,onboardingVersion:r}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();this.eventDispatcherService.dispatch(new f$3({filter:e,persona:n,onboardingVersion:r}));}static{this.\u0275fac=function(n){return new(n||s)};}static{this.\u0275prov=H$9({token:s,factory:s.\u0275fac,providedIn:"root"});}}return s})();var u$2=class g{static create(t){return new g(t.widgetName,t.initialMetadata)}constructor(t,w){this.widgetName=t,this.initialMetadata=w,this.widgetMetadataApiService=N$8(U$c),this.updateMetadataFn=new Z$a,this.metadata$=gi$4(()=>this.getMetadata()).pipe(Ac$3(e=>this.updateMetadataFn.pipe(Qc$3((a,o)=>o(a),e),kc$2(a=>this.saveMetadata(a)),Sc$2(e))),_c$3({refCount:true,bufferSize:1}));}update(t){this.updateMetadataFn.next(t);}getMetadata(){return this.widgetMetadataApiService.getMetadata(this.widgetName,this.initialMetadata)}saveMetadata(t){this.widgetMetadataApiService.saveMetadata(this.widgetName,t).pipe(mt$8(1)).subscribe();}};function x$5(o,{maxAttempts:l=1/0,pollingInterval:m=3e3}={}){return de$7(0,m).pipe(Uc$2(()=>{let t=o();return (eh$3(t)?t:hi$7(t)).pipe(mt$8(1))}),mt$8(l),Eh$2(Xp$2(()=>new e$3)))}var e$3=class e extends Error{constructor(){super("Exceeded maximum polling attempts."),this.name="PollingTimeoutError";}};var _e$4=(()=>{class r{getStoreQuickViewWidgetComponent(){}whileActive(t,e){return be$8}transformSteps(t){return t}getCompletionNotification(t){return hi$7(undefined)}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac});}}return r})();var De$4=(()=>{class r{constructor(t){this.checklistAdapters=t;}getAdapter(t){return this.checklistAdapters.find(e=>e.getChecklistType()===t)||null}static{this.\u0275fac=function(e){return new(e||r)(pe$9(_e$4))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Be$2=class Be{},Q$2=class Q{constructor(n){this.payload=n;}},Y$1=class Y{constructor(n){this.payload=n;}},rt$3=function(r){return r.ChecklistWidgetStep="checklist_widget_step",r.ChecklistWidgetCta="checklist_widget_cta",r.StoreQuickViewCta="store_quick_view_cta",r}(rt$3||{});var v$3=function(r){return r.CouponPremium="coupon_premium",r.CouponFixed="coupon_fixed",r}(v$3||{}),P$5=class P{constructor(n,t,e){this.id=n,this.type=t,this.readyToClaim=e;}};var K$3=class K extends P$5{constructor(n,t,e,i){super(n,v$3.CouponFixed,t),this.amount=e,this.expiresInDays=i;}},J$1=class J extends P$5{constructor(n,t,e,i,s){super(n,v$3.CouponFixed,t),this.amount=e,this.promoCode=i,this.expiresAt=s;}};var X$1=class X extends P$5{constructor(n,t,e){super(n,v$3.CouponPremium,t),this.premiumPeriod=e;}get premiumPeriodUnitLabel(){return this.premiumPeriod===1?"day":"days"}};var Z$1=(()=>{class r{constructor(){this.http=N$8(_u$3),this.errorHandler=N$8(it$a),this.userService=N$8(J$5),this.environment=N$8(f$c);}getReward(t){return this.buildRewardUrl(t).pipe(Ac$3(e=>this.http.get(e).pipe(ie$b(i=>i?this.mapResponseToReward(t,i):null),yi$5(i=>(this.errorHandler.handleError(i),hi$7(null))))))}buildRewardUrl(t){return this.userService.id$.pipe(Ye$b(Boolean),ie$b(e=>`${this.environment.dashboardApiURL}/${e}/rewards/${t}`),mt$8(1))}mapResponseToReward(t,e){switch(e.type){case v$3.CouponPremium:return new X$1(t,e.ready_to_claim,e.metadata.premium_period);case v$3.CouponFixed:return e.already_claimed?new J$1(t,e.ready_to_claim,e.metadata.amount,e.metadata.promo_code,new Date(e.metadata.expires_at)):new K$3(t,e.ready_to_claim,e.metadata.amount,e.metadata.expires_in_days);default:throw new Error("Invalid reward type")}}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var ee$3=(()=>{class r{constructor(t,e,i,s,l){this.http=t,this.errorHandler=e,this.userService=i,this.checklistRewardApiService=s,this.environment=l;}getActiveChecklist(){let t=`${this.environment.dashboardApiURL}/${this.userService.getId()}/widgets/checklists`;return this.http.get(t).pipe(ie$b(e=>e[0]||null),yi$5(e=>(this.errorHandler.handleError(e),hi$7(null))))}getChecklist(t){let e=this.buildRequestUrl(t,"steps");return this.http.get(e).pipe(yi$5(i=>(this.errorHandler.handleError(i),hi$7(i.status===ie$9.NotFound?{steps:[],errorType:"checklistNotFound"}:{steps:[],errorType:"unknown"}))))}markStepAsFinished(t,e){let i=this.buildRequestUrl(t,`steps/${e}/finish`);return this.http.post(i,null).pipe(yi$5(s=>(this.errorHandler.handleError(s),Xp$2(s))))}hasOnlySetupChecklistEnabled(){let t=`${this.environment.dashboardApiURL}/${this.userService.getId()}/widgets/checklists/setup_checklist_only`;return this.http.get(t).pipe(ie$b(({enabled:e})=>e),yi$5(e=>(this.errorHandler.handleError(e),hi$7(false))))}getAutoClaimedReward(){return this.getAutoClaimedRewardId().pipe(Ac$3(t=>t?this.checklistRewardApiService.getReward(t):hi$7(null)),yi$5(t=>(this.errorHandler.handleError(t),hi$7(null))))}getAutoClaimedRewardId(){let t=`${this.environment.dashboardApiURL}/${this.userService.getId()}/widgets/checklists/auto-claimed-rewards`;return this.http.get(t).pipe(ie$b(e=>e.length?e[0].rewardId:null),yi$5(e=>(this.errorHandler.handleError(e),hi$7(null))))}markAutoClaimedRewardAsNotified(t){let e=`${this.environment.dashboardApiURL}/${this.userService.getId()}/widgets/checklists/auto-claimed-rewards/notify`;return this.http.post(e,[t.id]).pipe(yi$5(i=>(this.errorHandler.handleError(i),hi$7(undefined))))}buildRequestUrl(t,e){return `${this.environment.dashboardApiURL}/${this.userService.getId()}/widgets/checklist/${t}/${e}`}static{this.\u0275fac=function(e){return new(e||r)(pe$9(_u$3),pe$9(it$a),pe$9(J$5),pe$9(Z$1),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Oe$3=(()=>{class r{constructor(){this.router=N$8(ve$8),this.checklistApiService=N$8(ee$3),this.sessionService=N$8(M$3),this.intermediaryProgressRepository=u$2.create({widgetName:"checklist_intermediary_progress",initialMetadata:{}}),this.intermediaryProgressMetadata$=this.sessionService.isAuthenticated$.pipe(Ye$b(Boolean),Ac$3(()=>this.intermediaryProgressRepository.metadata$),_c$3(1)),this.dashboardVisited$=this.router.events.pipe(Ye$b(t=>t instanceof ie$a&&t.url===`/${M$8}`));}getStepInitialProgress({checklistType:t,stepName:e,progress:i}){return this.intermediaryProgressMetadata$.pipe(mt$8(1),ie$b(s=>{let l=s[t]?.[e]??o$b.none;return o$b.from(Math.max(i,l))}))}updateStepProgress(t,e,i){switch(i.type){case "IncreaseProgressTo":return this.increaseProgress(t,e,i);case "PollUntilUpdated":return this.pollApiUntilProgressUpdated(t,e,i);default:return be$8}}increaseProgress(t,e,i){return e.progress>=i.newProgress?be$8:i.newProgress===o$b.finished?this.checklistApiService.markStepAsFinished(t.getChecklistType(),e.name).pipe(ie$b(()=>i.newProgress),yi$5(()=>be$8)):(this.increaseIntermediaryProgress(t.getChecklistType(),e.name,i.newProgress),hi$7(i.newProgress))}increaseIntermediaryProgress(t,e,i){return this.intermediaryProgressRepository.update(me$1(s=>{if(s[t]){s[t][e]=i;return}s[t]={[e]:i};}))}pollApiUntilProgressUpdated(t,e,i){return x$5(()=>this.checklistApiService.getChecklist(t.getChecklistType()),{maxAttempts:i.maxAttempts,pollingInterval:i.pollingInterval}).pipe(ie$b(s=>"errorType"in s&&s.errorType==="checklistNotFound"?e.setProgress(o$b.finished):s.steps.find(({name:l})=>l===e.name)),Ye$b(Boolean),Yc$3(s=>s.progress===e.progress,true),Th$2(),ie$b(({progress:s})=>s),Gc$3({delay:()=>this.dashboardVisited$}),yi$5(()=>be$8))}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var C$5=function(r){return r.Loaded="loaded",r.NoChecklist="no-checklist",r.NotLoaded="not-loaded",r}(C$5||{}),te$1=class r{constructor(n){this.name=n.name,this.label=n.label,this.progress=n.progress,this.analyticsName=n.analyticsName,this.action=n.action,this.e2eId=n.e2eId??n.name,this.totalSubtasks=n.totalSubtasks;}get isCompleted(){return this.progress===o$b.finished}get isInProgress(){return this.progress>o$b.none&&this.progress<o$b.finished}get doneSubtasks(){if(this.totalSubtasks)return Math.floor(this.progress/100*this.totalSubtasks)}setProgress(n){return this.clone({progress:n})}clone(n={}){return new r(w$9({name:this.name,label:this.label,progress:this.progress,analyticsName:this.analyticsName,action:this.action,e2eId:this.e2eId,totalSubtasks:this.totalSubtasks},n))}},ie$5=function(r){return r.InternalLink="internalLink",r.ExternalLink="externalLink",r.Callback="callback",r}(ie$5||{});var qe$1=(()=>{class r{constructor(){this.router=N$8(ve$8),this.window=N$8(Q$9),this.location=N$8(Xe$4);}execute(t){switch(t.type){case ie$5.InternalLink:return this.handleStepInternalLinkAction(t);case ie$5.ExternalLink:return this.handleStepExternalLinkAction(t)}}handleStepInternalLinkAction(t){if(!t.newTab){this.router.navigate([t.path],{queryParams:t.queryParams});return}let e=this.router.serializeUrl(this.router.createUrlTree([t.path],{queryParams:t.queryParams}));this.window.open(this.location.prepareExternalUrl(e),"_blank");}handleStepExternalLinkAction(t){this.window.open(t.url,t.newTab?"_blank":undefined);}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Ge$3=(()=>{class r{constructor(){this.errorHandler=N$8(it$a),this.sessionService=N$8(M$3),this.eventDispatcherService=N$8(X$6),this.checklistApiService=N$8(ee$3),this.checklistRewardApiService=N$8(Z$1),this.checklistAdapterFactory=N$8(De$4),this.featureTogglesService=N$8(te$5),this.checklistStepActionService=N$8(qe$1),this.checklistProgressService=N$8(Oe$3),this.router=N$8(ve$8),this.defaultChecklistState=Object.freeze({checklistId:null,createdAt:null,steps:[],isCompleted:false,reward:null,type:null,analyticsName:""}),this.latestState=new yn$7(this.defaultChecklistState),this.reload=new Z$a,this.reset=new Z$a,this.stepActionClick=new Z$a,this.dashboardVisited$=this.router.events.pipe(Ye$b(i=>i instanceof ie$a&&i.url===`/${M$8}`)),this.dashboardVisitedAfterSignUp$=this.eventDispatcherService.events$.pipe(G$6(ke$6),Ac$3(()=>this.dashboardVisited$.pipe(mt$8(1)))),this.checklistStatus$=$p$1(this.sessionService.isAuthenticated$,this.dashboardVisitedAfterSignUp$.pipe(ie$b(()=>true)),this.reload.pipe(ie$b(()=>true)),this.reset.pipe(ie$b(()=>false))).pipe(Ac$3(i=>i?this.checklistApiService.getActiveChecklist().pipe(Ac$3(s=>{let l=s?this.checklistAdapterFactory.getAdapter(s.type):null;return !l||!s?hi$7({status:C$5.NoChecklist}):this.featureTogglesService.featuresReady$.pipe(Ac$3(()=>this.checklistApiService.getChecklist(l.getChecklistType())),ie$b(({steps:m})=>m.length?{data:x$d(w$9({},s),{stepsDTO:m,adapter:l}),status:C$5.Loaded}:{status:C$5.NoChecklist}))})):hi$7({status:C$5.NotLoaded})),_c$3({refCount:true,bufferSize:1})),this.checklist$=this.checklistStatus$.pipe(ie$b(i=>i.status===C$5.Loaded?i.data:null)),this.steps$=this.checklist$.pipe(Ac$3(i=>{if(!i)return hi$7([]);let{adapter:s,stepsDTO:l}=i;return Hp$2(l.map(m=>{let w=s.getStepConfigFactory(m.name)({actionClick$:this.stepActionClick.pipe(Ye$b(({name:y})=>y===m.name))}),Xe=this.checklistProgressService.getStepInitialProgress({checklistType:s.getChecklistType(),stepName:m.name,progress:m.progress}).pipe(ie$b(y=>new te$1({name:m.name,label:w.label,analyticsName:w.analyticsName,progress:y,action:w.action,totalSubtasks:w.totalSubtasks})),Ac$3(y=>w.progress$.pipe(Bt$7(J$7),zc$3((T,et)=>this.checklistProgressService.updateStepProgress(s,T,et).pipe(Oc$2(this.checklistGotCompleted$),kc$2(re=>this.dispatchStepProgressUpdate({adapter:s,step:T,oldProgress:T.progress,newProgress:re})),ie$b(re=>T.setProgress(re))),y),Sc$2(y))),_c$3({refCount:true,bufferSize:1})),Ze=w.untilCompleted$??be$8;return $p$1(Xe,Ze.pipe(Ii$4())).pipe(Yc$3(y=>y.progress!==o$b.finished,true))})).pipe(ie$b(m=>s.transformSteps(m)))}),_c$3({refCount:true,bufferSize:1})),this.isChecklistCompleted$=this.steps$.pipe(ie$b(i=>i.every(s=>s.isCompleted)),Dr$5()),this.reward$=this.checklist$.pipe(Ye$b(Boolean),ie$b(({rewardId:i})=>i),Dr$5(),Ac$3(i=>i?this.checklistRewardApiService.getReward(i):hi$7(null))),this.loadingStatus$=this.checklistStatus$.pipe(ie$b(({status:i})=>i)),this.state$=this.checklist$.pipe(Ac$3(i=>i?Hp$2([this.steps$,this.isChecklistCompleted$,this.reward$,i.adapter.getWidgetComponent()]).pipe(ie$b(([s,l,m,w])=>({steps:s,isCompleted:l,reward:m,widgetComponent:l?undefined:w,type:i.adapter.getChecklistType(),analyticsName:i.adapter.getChecklistAnalyticsName(),createdAt:new Date(i.createdAt),checklistId:i.id})),yi$5(s=>(this.errorHandler.handleError(s),hi$7(this.defaultChecklistState)))):hi$7(this.defaultChecklistState)),Dr$5(au$4),kc$2(i=>this.latestState.next(i)),_c$3({refCount:true,bufferSize:1})),this.isCompleted$=this.state$.pipe(ie$b(i=>i.isCompleted),Dr$5()),this.hasSteps$=this.state$.pipe(ie$b(i=>!!i.steps.length),Dr$5()),this.checklistGotCompleted$=this.hasSteps$.pipe(Ac$3(i=>i?this.isCompleted$.pipe(Tc$2(),Ye$b(([,s])=>s),kc$2(()=>this.eventDispatcherService.dispatch(new c$6)),ie$b(()=>{})):be$8),_c$3({refCount:true,bufferSize:1})),this.storeQuickViewWidgetComponent$=this.checklistStatus$.pipe(Ye$b(i=>i.status!==C$5.NotLoaded),ie$b(i=>i.status===C$5.Loaded?i.data.adapter.getStoreQuickViewWidgetComponent():null)),this.checklistCompletionNotification$=this.state$.pipe(Rc$2(this.checklist$),Ac$3(([i,s])=>s?s.adapter.getCompletionNotification(i):be$8),_c$3({refCount:true,bufferSize:1}));let t=this.checklist$.pipe(ie$b(i=>i?.adapter),Ac$3(i=>{if(!i)return be$8;let s=this.state$.pipe(Ye$b(({type:l})=>l===i.getChecklistType()));return i.whileActive(s,this.checklistGotCompleted$)})),e=this.checklistGotCompleted$.pipe(kc$2(()=>this.reloadActiveChecklist()));$p$1(t,e).pipe(X$7()).subscribe();}triggerStepAction(t,e){return E$e(this,null,function*(){let{action:i,isCompleted:s}=t;if(s||!i)return;let l=yield th$2(this.state$),m=new Y$1({checklistAnalyticsName:l.analyticsName,stepAnalyticsName:t.analyticsName,trigger:e});this.stepActionClick.next(t),this.eventDispatcherService.dispatch(m),this.checklistStepActionService.execute(i);})}isStepCompleted(t){return !!this.latestState.value.steps.find(e=>e.name===t&&e.isCompleted)}hasStep(t){return !!this.latestState.value.steps.find(e=>e.name===t)}reloadActiveChecklist(){let t=this.latestState.getValue(),e=this.state$.pipe(Zc$4(i=>!i.type||t.type===i.type));x$5(()=>this.reload.next(),{maxAttempts:5,pollingInterval:2e3}).pipe(Oc$2(e),yi$5(()=>be$8)).subscribe();}dispatchStepProgressUpdate({adapter:t,step:e,oldProgress:i,newProgress:s}){this.eventDispatcherService.dispatch(new Q$2({isFirstChange:i===o$b.none,checklistAnalyticsName:t.getChecklistAnalyticsName(),stepName:e.name,stepAnalyticsName:e.analyticsName,progress:s}));}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Pi$1=r=>r?.steps.find(n=>!n.isCompleted&&!!n.action)||null,Ei$3=(r,n)=>r.steps.find(t=>t.name===n)||null;var Ke$2=D$a(Kc$2());var Qe$1="dashboardChecklistWidget",Ye$4=(()=>{class r{constructor(){this.browserStorageService=N$8(Y$4);}setViewVariant(t,e){this.updateEntry(t,{viewVariant:e});}getViewVariant(t){return this.getEntry(t).viewVariant}setWasAutoMinimized(t){this.updateEntry(t,{wasAutoMinimized:true});}wasAutoMinimized(t){return !!this.getEntry(t).wasAutoMinimized}updateEntry(t,e){let i=this.getState(),s=this.getEntry(t);this.browserStorageService.set(Qe$1,x$d(w$9({},i),{[t]:w$9(w$9({},s),e)}),{storageType:I$8.Local,clearOnAuth:false});}getEntry(t){return this.getState()[t]??{}}getState(){return this.browserStorageService.getNonPrimitive(Qe$1,{},I$8.Local)}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Je$2=(()=>{class r{static{this.checklistAutoMinimizeDaysThreshold=7;}constructor(){this.checklistWidgetStorageService=N$8(Ye$4),this.checklistService=N$8(Ge$3),this.checklistId$=new yn$7(null),this.viewVariantChange$=new Z$a,this.minimizationToggled=new Z$a,this.minimizationToggled$=this.minimizationToggled.asObservable(),this.checklistService.state$.pipe(X$7()).subscribe(e=>{this.checklistId$.next(e.checklistId),this.handleChecklistAutoMinimalization(e);});let t=this.checklistId$.pipe(ie$b(e=>e==null?null:this.checklistWidgetStorageService.getViewVariant(e)??"expanded"),ie$b(e=>e??null));this.viewVariant$=$p$1(this.viewVariantChange$,t),this.isMinimized$=this.viewVariant$.pipe(ie$b(e=>e==="minimized"),Dr$5());}toggleMinimization(){this.viewVariant$.pipe(mt$8(1)).subscribe(t=>{let e=t==="minimized"?"expanded":"minimized";this.minimizationToggled.next(e==="minimized"),this.setViewVariant(e);});}handleChecklistAutoMinimalization(t){let e=t.checklistId;if(e==null||!t.createdAt)return;let i=this.checklistWidgetStorageService.wasAutoMinimized(e),s=new Date;s.setDate(s.getDate()-r.checklistAutoMinimizeDaysThreshold),!i&&t.createdAt<=s&&(this.checklistWidgetStorageService.setWasAutoMinimized(e),this.setViewVariant("minimized"));}setViewVariant(t){let e=this.checklistId$.getValue();(0, Ke$2.assert)(e!=null,"Checklist ID is not set"),this.checklistWidgetStorageService.setViewVariant(e,t),this.viewVariantChange$.next(t);}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();function ot$3(r,n){r&1&&(Kf$2(0,"span",1),fP(1,"Expand steps"),Xf$2(),ME(2,"pfy-icon",2)),r&2&&(xR(2),lE("colorInherit",true));}function nt$3(r,n){r&1&&(Kf$2(0,"span",1),fP(1,"Minimize steps"),Xf$2(),ME(2,"pfy-icon",3)),r&2&&(xR(2),lE("colorInherit",true));}var Ji$1=(()=>{class r{constructor(){this.checklistWidgetViewVariantService=N$8(Je$2),this.isMinimized=Wn$4(this.checklistWidgetViewVariantService.isMinimized$);}toggleMinimization(){this.checklistWidgetViewVariantService.toggleMinimization();}static{this.\u0275fac=function(e){return new(e||r)};}static{this.\u0275cmp=LR({type:r,selectors:[["pfa-checklist-widget-minimize-toggle"]],hostAttrs:["data-analyticsid","checklistWidgetMinimizeToggle","data-testid","checklistWidgetMinimizeToggle"],hostBindings:function(e,i){e&1&&VE("click",function(){return i.toggleMinimization()});},decls:3,vars:1,consts:[[1,"minimize-toggle"],[1,"minimize-toggle-text"],["name","keyboard_arrow_down",3,"colorInherit"],["name","keyboard_arrow_up",3,"colorInherit"]],template:function(e,i){e&1&&(Kf$2(0,"div",0),kI(1,ot$3,3,1)(2,nt$3,3,1),Xf$2()),e&2&&(xR(),QR(i.isMinimized()?1:2));},dependencies:[dT,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{cursor:pointer}.minimize-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.minimize-toggle-text[_ngcontent-%COMP%]{width:100%;text-align:left}'],changeDetection:0});}}return r})();var R$3="wizardReturnUrl";var x$4=class x{constructor(o){this.cardData=o;}};var D$4=class D{constructor(o){this.payload=o;}};var W$1=(()=>{class s{constructor(){this.userService=N$8(J$5),this.userApiService=N$8(Rt$5),this.eventDispatcherService=N$8(X$6),this.statsPatch$=new Z$a,this.stats$=this.userService.id$.pipe(Ac$3(t=>this.userApiService.getUserProductsStats(t).pipe(Ac$3(e=>this.statsPatch$.pipe(Qc$3((_,j)=>w$9(w$9({},_),j),e),Sc$2(e))))),Dr$5(),_c$3(1)),this.productCreated$=this.eventDispatcherService.events$.pipe(G$6(Ae$5),Rc$2(this.stats$),ie$b(([,t])=>({isFirst:!t.has_products})),_c$3(1)),this.productPublished$=this.eventDispatcherService.events$.pipe(G$6(br$3),Rc$2(this.stats$),ie$b(([{payload:t},e])=>({isFirst:!e.has_published_products,product:t.product})),_c$3(1)),this.hasProducts$=this.stats$.pipe(ie$b(t=>t.has_products),Dr$5()),this.synchronizeProducts();}synchronizeProducts(){$p$1(this.productCreated$.pipe(ie$b(()=>({has_products:true}))),this.productPublished$.pipe(ie$b(()=>({has_published_products:true})))).subscribe(t=>this.patchStats(t));}patchStats(t){this.statsPatch$.next(t);}static{this.\u0275fac=function(e){return new(e||s)};}static{this.\u0275prov=H$9({token:s,factory:s.\u0275fac,providedIn:"root"});}}return s})();var P$4=function(e){return e.ProductCreated="step_product_created",e.StoreConnected="step_store_connected",e.OrderCreated="step_order_created",e.SellersClubJoined="step_sellers_club_joined",e}(P$4||{}),F$2={salesChannelPromoSeen:o$b.from(10),connectionStarted:o$b.from(50)};var A$5=new k$5("Provides context to Store Quick-View Widget building blocks");function Xe$1(e,S){if(e&1&&(Kf$2(0,"a",0)(1,"span"),fP(2),Xf$2(),ME(3,"pfy-icon",2),Xf$2()),e&2){let t=tP();lE("href",t.storeDomain(),sy$2),xR(2),WE(t.store().branding.brand),xR(),lE("colorInherit",true);}}function Ye$3(e,S){if(e&1&&(Kf$2(0,"span",3),fP(1),Xf$2()),e&2){let t=tP();dE("not-connected",!t.store().connected),xR(),WE(t.store().branding.brand);}}var V$1=(()=>{class e{constructor(){this.salesChannelService=N$8(Pt$2),this.container=N$8(A$5),this.storeDomain=HP(()=>{let t=this.container.salesChannel();return this.salesChannelService.executeMethod(t.id,"getStoreDomain",this.store(),t)||undefined});}get store(){return this.container.store}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-store-quick-view-widget-store-name"]],decls:2,vars:1,consts:[["data-testid","link","data-analyticsid","storeQuickViewWidgetStoreLink","target","_blank",1,"store-domain-link",3,"href"],["data-testid","plainText",3,"not-connected"],["name","open_in_new",1,"link-icon",3,"colorInherit"],["data-testid","plainText"]],template:function(i,n){i&1&&kI(0,Xe$1,4,3,"a",0)(1,Ye$3,2,3,"span",1),i&2&&QR(n.storeDomain()?0:1);},dependencies:[ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;color:#64634a}.store-domain-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .15s ease;display:flex;align-items:center}.store-domain-link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{transition:all .15s ease;margin-left:0;opacity:0;width:0;font-size:1rem}.store-domain-link[_ngcontent-%COMP%]:hover{color:#572f99}.store-domain-link[_ngcontent-%COMP%]:hover   .link-icon[_ngcontent-%COMP%]{margin-left:.25rem;opacity:1;width:1rem}.not-connected[_ngcontent-%COMP%]{color:#a8a794}'],changeDetection:0});}}return e})();var et$2=[[["","pfy-store-quick-view-widget-header-text",""]],[["","pfy-store-quick-view-widget-sub-content",""]]],tt$1=["[pfy-store-quick-view-widget-header-text]","[pfy-store-quick-view-widget-sub-content]"];function it$2(e,S){e&1&&ME(0,"pfa-store-quick-view-widget-store-name",5);}function nt$2(e,S){e&1&&(Kf$2(0,"span",6),fP(1,"Let\u2019s set up your store for success"),Xf$2());}function ot$2(e,S){if(e&1&&kI(0,it$2,1,0,"pfa-store-quick-view-widget-store-name",5)(1,nt$2,2,0,"span",6),e&2){let t=tP();QR(t.store().branding.brand?0:1);}}var Ke$1=(()=>{class e{constructor(){this.storesService=N$8(Ro$2),this.salesChannelService=N$8(Pt$2),this.store=Wn$4(this.storesService.selectedStore$,{requireSync:true}),this.salesChannel=Wn$4(this.storesService.selectedStore$.pipe(Ac$3(t=>this.salesChannelService.getByStoreId(t.id))),{requireSync:true});}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-store-quick-view-widget"]],hostAttrs:["data-testid","storeQuickViewWidget"],features:[gP([{provide:A$5,useExisting:e}])],ngContentSelectors:tt$1,decls:8,vars:2,consts:[[1,"logo-wrapper"],[1,"sales-channel-logo",3,"src","alt"],["pfaImpressionId","storeQuickViewWidget",1,"main-content"],[1,"header-text"],[1,"sub-content"],[1,"store-name"],["data-testid","storeNameFallback"]],template:function(i,n){i&1&&(nP(et$2),Kf$2(0,"div",0),ME(1,"img",1),Xf$2(),Kf$2(2,"div",2)(3,"h4",3),rP(4,0,null,ot$2,2,1),Xf$2(),Kf$2(6,"small",4),rP(7,1),Xf$2()()),i&2&&(xR(),lE("src",n.salesChannel().logoUrl,sy$2)("alt",n.salesChannel().name));},dependencies:[V$1,ts],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;gap:.5rem}.logo-wrapper[_ngcontent-%COMP%]{flex:0 0 auto;height:40px;display:flex;align-items:center}.logo-wrapper[_ngcontent-%COMP%]   .sales-channel-logo[_ngcontent-%COMP%]{width:34px;height:34px}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1}.header-text[_ngcontent-%COMP%]{min-height:40px;display:flex;align-items:center}.sub-content[_ngcontent-%COMP%]{color:#64634a}.sub-content[_ngcontent-%COMP%]:empty{display:none}.store-name[_ngcontent-%COMP%]{color:inherit}.store-stats[_ngcontent-%COMP%], .store-stats-item[_ngcontent-%COMP%]{display:flex;gap:.25rem}.store-stats-item[_ngcontent-%COMP%]:not(:first-of-type):before{content:"\\2022";padding:0 .25rem}.store-stats-item-label[_ngcontent-%COMP%]{order:1}@media (min-width: 960px){.sub-content[_ngcontent-%COMP%]{min-height:1.25rem}}'],changeDetection:0});}}return e})();var $$1=class ${};var Ze$2=(()=>{class e{constructor(){this.environment=N$8(f$c),this.welcomeUrl=`${this.environment.sellersClubBaseUrl}/c/welcome/?automatic_login=true`,this.generalUrl=`${this.environment.sellersClubBaseUrl}/c/general`,this.checkoutUrl=`${this.environment.sellersClubBaseUrl}/checkout/printify-sellers-club/?automatic_login=true`,this.mentorMeganUrl=`${this.environment.sellersClubBaseUrl}/c/mentor-megan/?automatic_login=true`,this.mentorTrentUrl=`${this.environment.sellersClubBaseUrl}/c/mentor-trent/?automatic_login=true`,this.mentorGeorgeEtsyCourseUrl=`${this.environment.sellersClubBaseUrl}/c/george-etsy-million-dollar-network/?automatic_login=true`,this.mentorEssenceTikTokCourseUrl=`${this.environment.sellersClubBaseUrl}/c/essence-mastering-tiktok-shop/?automatic_login=true`,this.mentorAmazonCourseUrl=`${this.environment.sellersClubBaseUrl}/c/amazon-bootcamp-how-to-sell-on-amazon-with-pod/?automatic_login=true`,this.pod101CourseUrl=`${this.environment.sellersClubBaseUrl}/c/pod-101/?automatic_login=true`,this.wpLandingPage=`${this.environment.homepageURL}sellers-club`,this.freeTrialUrl=`${this.environment.sellersClubBaseUrl}/join?invitation_token=2030e347e156265d59cac6d60678c729f6020487-32e4315a-bc29-4450-9dec-8d214f501333`;}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function f$2(e){return {type:"IncreaseProgressTo",newProgress:e}}function Ge$2(e={}){return w$9({type:"PollUntilUpdated",maxAttempts:5,pollingInterval:1e3},e)}function rt$2(e,S){if(e&1&&(Kf$2(0,"span"),fP(1),Xf$2()),e&2){tP(2);let t=mP(5);xR(),ip$2("\u2014get a ",t," gift");}}function st$3(e,S){if(e&1&&(Kf$2(0,"span"),fP(1," Set up "),ME(2,"pfa-store-quick-view-widget-store-name"),Xf$2(),kI(3,rt$2,2,1,"span")),e&2){tP();let t=mP(5);xR(3),QR(t?3:-1);}}function at$2(e,S){e&1&&(Kf$2(0,"span"),fP(1,"Let\u2019s set up your store for success"),Xf$2());}var He$5=(()=>{class e{constructor(){this.storesService=N$8(Ro$2),this.checklistService=N$8(Ge$3),this.store=Wn$4(this.storesService.selectedStore$,{requireSync:true}),this.reward=Wn$4(this.checklistService.state$.pipe(ie$b(t=>t.reward),Ye$b(t=>t?.type===v$3.CouponFixed)));}getTooltip(t,i){if(!t)return "Complete the steps below to setup your store.";let n=t?.expiresInDays?` Coupon expires ${t?.expiresInDays} days after being claimed.`:"";return `Complete the steps & earn a ${i} discount on your next order!${n}`}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-setup-store-quick-view-widget"]],decls:12,vars:9,consts:[["pfy-store-quick-view-widget-header-text",""],[1,"header-text-wrapper"],["name","info",1,"icon-info",3,"pfyTooltip","colorInherit"],["type","ghost",1,"minimize-button"]],template:function(i,n){if(i&1&&(Kf$2(0,"pfa-store-quick-view-widget"),ep$2(1,0),Kf$2(2,"div",1)(3,"span"),ew$1(4)(5),TP(6,"price"),kI(7,st$3,4,1)(8,at$2,2,0,"span"),ME(9,"pfy-icon",2),Xf$2(),Kf$2(10,"pfy-button",3),ME(11,"pfa-checklist-widget-minimize-toggle"),Xf$2()(),tp$2(),Xf$2()),i&2){let p,O=(p=n.reward())!==null&&p!==undefined?p:null;xR(5);let Je=hP(O&&AP$1(6,3,O.amount,"USD","symbol","1.0"));xR(2),QR(n.store().branding.brand?7:8),xR(2),lE("pfyTooltip",n.getTooltip(O,Je))("colorInherit",true);}},dependencies:[Ke$1,V$1,Ji$1,qp,Eu$2,dT,We$8,ft$6,ge$9],styles:['@charset "UTF-8";.header-text-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}@media (max-width: 839px){.minimize-button[_ngcontent-%COMP%]{display:none}}.icon-info[_ngcontent-%COMP%]{margin-left:.5rem}'],changeDetection:0});}}return e})();var ct$2=(()=>{class e extends _e$4{constructor(){super(...arguments),this.router=N$8(ve$8),this.events=N$8(H$7),this.wizardService=N$8(pn$3),this.featureTogglesService=N$8(te$5),this.userProductsStatsService=N$8(W$1),this.salesChannelRecommendationSetupWizardService=N$8(z$4),this.productCollectionsWizardService=N$8(R$5),this.routingService=N$8(Ya$1),this.sellersClubService=N$8(Ze$2),this.storesService=N$8(Ro$2),this.window=N$8(Q$9),this.eventDispatcherService=N$8(X$6);}static{this.type="setup";}getChecklistType(){return e.type}getChecklistAnalyticsName(){return "Setup Checklist"}whileActive(t,i){return t.pipe(Ye$b(n=>!Ei$3(n,P$4.OrderCreated)),Ac$3(()=>i),mt$8(1),kc$2(()=>{this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2)&&this.storesService.getSalesChannelID()===b$9.Etsy||this.wizardService.openOnce("setup.checklist-completed",[E$7,c$5]);}))}getStepConfigFactory(t){switch(t){case P$4.ProductCreated:return ({actionClick$:i})=>({label:"Create your first product",analyticsName:"Create Product",action:{type:ie$5.Callback},progress$:$p$1(this.events.pipe(G$6(Lr$2),ie$b(()=>f$2(o$b.from(50)))),this.events.pipe(G$6(Ae$5),ie$b(()=>Ge$2()))),untilCompleted$:this.userProductsStatsService.hasProducts$.pipe(mt$8(1),Ac$3(n=>n?this.handleActionClickBasedProductRecommendationsWizard(i):$p$1(this.handleProductCreatedWizard(),this.handleActionClickBasedProductRecommendationsWizard(i),this.handleCatalogVisitBasedProductRecommendationsWizard())))});case P$4.StoreConnected:return ({actionClick$:i})=>({label:"Connect to Etsy, Shopify, etc",analyticsName:"Connect Sales Channel",action:{type:ie$5.Callback},progress$:$p$1(this.router.events.pipe(Ye$b(n=>n instanceof ie$a&&n.url.includes(A$6)),ie$b(()=>f$2(F$2.salesChannelPromoSeen))),this.events.pipe(G$6(Rr$1),ie$b(()=>f$2(F$2.connectionStarted))),this.events.pipe(G$6(Ar$3),ie$b(()=>f$2(o$b.finished)))),untilCompleted$:this.handleSalesChannelRecommendationWizard(i)});case P$4.OrderCreated:return ({actionClick$:i})=>({label:"Order & track a sample",analyticsName:"Create Order",action:{type:ie$5.Callback},progress$:$p$1(this.events.pipe(G$6(hr$3),ie$b(()=>f$2(o$b.from(50)))),this.events.pipe(G$6(vr$3),ie$b(()=>f$2(o$b.finished)))),untilCompleted$:this.userProductsStatsService.hasProducts$.pipe(Ac$3(n=>n?this.handleSampleOrderWizard(i):this.handleActionClickBasedProductRecommendationsWizard(i)))});case P$4.SellersClubJoined:return ({actionClick$:i})=>({label:"Connect with mentors in the Sellers Club",analyticsName:"Join Sellers Club",action:{type:ie$5.Callback},progress$:i.pipe(ie$b(()=>f$2(o$b.finished))),untilCompleted$:$p$1(i.pipe(ie$b(()=>this.isEligibleForSellersClubFreeTrial()?this.sellersClubService.freeTrialUrl:this.sellersClubService.welcomeUrl),kc$2(n=>this.window.open(n,"_blank"))),this.events.pipe(G$6(Ar$3),Ye$b(()=>this.isEligibleForSellersClubFreeTrial()),kc$2(()=>this.eventDispatcherService.dispatch(new $$1))))});default:throw new Error(`Unknown step name: ${t}`)}}isEligibleForSellersClubFreeTrial(){return this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2)&&this.storesService.getSalesChannelID()===b$9.Etsy}handleActionClickBasedProductRecommendationsWizard(t){return t.pipe(kc$2(()=>this.wizardService.open(this.getProductRecommendationsWizardPath())),Ii$4())}handleCatalogVisitBasedProductRecommendationsWizard(){return this.events.pipe(G$6(D$4),Ye$b(({payload:t})=>["catalogHome","mainCategory","subCategory"].includes(t.page)),kc$2(({payload:{mainCategorySlug:t,subCategorySlug:i}})=>{let n=this.router.url,p=s$6.split("/"),O=t&&i?[E$7,p[0],p[1].replace(":topLevel",t),p[2].replace(":subLevel",i)]:this.getProductRecommendationsWizardPath();return this.wizardService.openOnce("setup.product-created.catalog-visited",O,{state:{[R$3]:n}})}),Ii$4())}getProductRecommendationsWizardPath(){return this.productCollectionsWizardService.getBlueprintCollectionsWizardPath()}handleSalesChannelRecommendationWizard(t){return $p$1(t.pipe(kc$2(i=>{if(this.featureTogglesService.isFeatureEnabled(jt$2.SalesChannelAbandonmentFlow)&&i.progress>=F$2.salesChannelPromoSeen)this.wizardService.open([E$7,o$5],{queryParams:{filters:t$6.EasySetup}});else {let{wizardPath:n,queryParams:p}=this.salesChannelRecommendationSetupWizardService.getSalesChannelRecommendationWizardParams();this.wizardService.open(n,{queryParams:p});}}))).pipe(Ii$4())}handleProductCreatedWizard(){return this.events.pipe(G$6(Ae$5),Ye$b(()=>!this.routingService.isRedirectedFrom(t$8)),kc$2(({payload:t})=>this.wizardService.open([E$7,_$2],{queryParams:{productId:t.productId}})),Ii$4())}handleSampleOrderWizard(t){return t.pipe(kc$2(()=>this.wizardService.open([E$7,e$4])),Ii$4())}getWidgetComponent(){return ye$7(import('./chunk-IMV3HaVa.js').then(t=>t.StoreSetupChecklistWidgetComponent))}getStoreQuickViewWidgetComponent(){return He$5}static{this.\u0275fac=(()=>{let t;return function(n){return (t||(t=sR(e)))(n||e)}})();}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac});}}return e})(),Ti$2={provide:_e$4,useClass:ct$2,multi:true};var U$4=(()=>{class e{constructor(){this.environment=N$8(f$c),this.http=N$8(_u$3),this.storesService=N$8(Ro$2),this.baseSetupFlowPath=`/${o$9}/${r$7}/${D$7}/`;}getGuidedSetupFlowStepUrl(){let t=this.http.get(`${this.environment.schubApiUrl}etsy/store/${this.storesService.getId()}/setup/progress`).pipe(ie$b(i=>this.getGuidedSetupFlowPath(i.step)));return Op$2(t)}getGuidedSetupFlowPath(t){switch(t){case aa$1.CreateShop:return `${this.baseSetupFlowPath}${g$a}`;case aa$1.CreatePlaceholderListing:return `${this.baseSetupFlowPath}${F$a}`;case aa$1.AddPaymentDetails:return `${this.baseSetupFlowPath}${$$6}`;case aa$1.AddBillingDetails:return `${this.baseSetupFlowPath}${b$7}`}}updateGuidedSetupFlowStep(t){this.http.put(`${this.environment.schubApiUrl}etsy/store/${this.storesService.getId()}/setup/progress`,{step:t}).subscribe();}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var v$2=(()=>{class r{constructor(e){this.salesChannelService=e;}getDialog(){return this.salesChannelService.currentSalesChannel$.pipe(mt$8(1),Ac$3(e=>(e.merchantRequiresVerification$||hi$7(false)).pipe(ie$b(m=>({salesChannel:e,requiresVerification:m})))),Ac$3(({salesChannel:e,requiresVerification:t})=>t?this.salesChannelService.executeMethod(e.id,"getComponentForSlot",qe$3.MerchantAccountVerificationModal):hi$7(undefined)))}static{this.\u0275fac=function(t){return new(t||r)(pe$9(Pt$2))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var _$1="guided-flow",I$2="product-publishing",U$3="intro",O$2="mockups",D$3="intro",R$2="description",E$6="intro",T$1="details",t$4="loading",P$3="pricing",o$4="intro",G$2="details",L$2="publishing",N$2="etsy-setup-required";var U$2=class U{};function qe(r,F){if(r&1&&(Kf$2(0,"span"),fP(1),Xf$2()),r&2){tP(2);let e=mP(5);xR(),ip$2("\u2014get ",e," gift");}}function Ze$1(r,F){if(r&1&&(Kf$2(0,"span"),fP(1," Take "),ME(2,"pfa-store-quick-view-widget-store-name"),fP(3," further "),Xf$2(),kI(4,qe,2,1,"span")),r&2){tP();let e=mP(5);xR(4),QR(e?4:-1);}}function je$2(r,F){r&1&&(Kf$2(0,"span"),fP(1,"Let\u2019s set up your store for success"),Xf$2());}var He$4=(()=>{class r{constructor(){this.storesService=N$8(Ro$2),this.checklistService=N$8(Ge$3),this.store=Wn$4(this.storesService.selectedStore$,{requireSync:true}),this.reward=Wn$4(this.checklistService.state$.pipe(ie$b(e=>e.reward),Ye$b(e=>e?.type===v$3.CouponFixed)));}getTooltip(e,t){if(!e)return "Complete the steps below to increase your chances of selling.";let i=e?.expiresInDays?` Coupon expires ${e?.expiresInDays} days after being claimed.`:"";return `Complete the steps & earn a ${t} discount on your next order!${i}`}static{this.\u0275fac=function(t){return new(t||r)};}static{this.\u0275cmp=LR({type:r,selectors:[["pfa-launch-success-store-quick-view-widget"]],decls:12,vars:9,consts:[["pfy-store-quick-view-widget-header-text",""],[1,"header-text-wrapper"],["name","info",1,"icon-info",3,"pfyTooltip","colorInherit"],["type","ghost",1,"minimize-button"]],template:function(t,i){if(t&1&&(Kf$2(0,"pfa-store-quick-view-widget"),ep$2(1,0),Kf$2(2,"div",1)(3,"span"),ew$1(4)(5),TP(6,"price"),kI(7,Ze$1,5,1)(8,je$2,2,0,"span"),ME(9,"pfy-icon",2),Xf$2(),Kf$2(10,"pfy-button",3),ME(11,"pfa-checklist-widget-minimize-toggle"),Xf$2()(),tp$2(),Xf$2()),t&2){let s,v=(s=i.reward())!==null&&s!==undefined?s:null;xR(5);let Ge=hP(v&&AP$1(6,3,v.amount,"USD","symbol","1.0"));xR(2),QR(i.store().branding.brand?7:8),xR(2),lE("pfyTooltip",i.getTooltip(v,Ge))("colorInherit",true);}},dependencies:[Ke$1,V$1,Ji$1,dT,We$8,ft$6,Eu$2,ge$9],styles:['@charset "UTF-8";.header-text-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}@media (max-width: 839px){.minimize-button[_ngcontent-%COMP%]{display:none}}.icon-info[_ngcontent-%COMP%]{margin-left:.5rem}'],changeDetection:0});}}return r})();var Je$1=2e4,Ye$2=(()=>{class r extends _e$4{constructor(){super(...arguments),this.events=N$8(H$7),this.router=N$8(ve$8),this.wizardService=N$8(pn$3),this.storesService=N$8(Ro$2),this.sellersClubService=N$8(Ze$2),this.merchantAccountVerificationService=N$8(v$2),this.routingService=N$8(Ya$1),this.salesChannelService=N$8(Pt$2),this.productCollectionsService=N$8(Pe$4),this.productCollectionsWizardService=N$8(R$5),this.window=N$8(Q$9),this.featureTogglesService=N$8(te$5),this.etsyGuidedSetupFlowService=N$8(U$4);}static{this.type="launch-success";}getChecklistType(){return r.type}getChecklistAnalyticsName(){return "Launch Success Checklist"}getStepConfigFactory(e){switch(e){case d$8.PODRockStarsJoined:return ({actionClick$:t})=>({label:"Join Printify POD Rockstars",analyticsName:"Join POD Rockstars",action:{type:ie$5.ExternalLink,url:"https://www.facebook.com/groups/printifypodrockstars/",newTab:true},progress$:$p$1(t.pipe(ie$b(()=>f$2(o$b.finished))),this.events.pipe(G$6(s$c),ie$b(()=>f$2(o$b.finished))))});case d$8.BlogPostRead:return ({actionClick$:t})=>({label:"Read: 45 Summer Products to Sell in 2024",analyticsName:"Read Blog Post",action:{type:ie$5.ExternalLink,url:"https://printify.com/blog/summer-products-to-sell/",newTab:true},progress$:t.pipe(ie$b(()=>f$2(o$b.finished)))});case d$8.FiveProductsPublished:return ({actionClick$:t})=>({label:"Create & publish 5 products",analyticsName:"Publish Five Products",totalSubtasks:5,progress$:this.events.pipe(G$6(br$3),ie$b(()=>Ge$2())),action:{type:ie$5.Callback},untilCompleted$:this.storesService.productsTotalCount$.pipe(mt$8(1),Ac$3(i=>{let s=this.handleProductRecommendationsWizard(t).pipe(Ac$3(()=>$p$1(this.handleProductCreatedWizard(),this.handleProductPublishedWizard()).pipe(Oc$2(this.events.pipe(G$6(s$8)))))),v=$p$1(this.handleProductRecommendationsWizard(t),this.handleProductCreatedWizard(),this.handleProductPublishedWizard());return i>=5?s:v}))});case d$8.FiveProductsCreated:return ({actionClick$:t})=>({label:"Create 5 products",analyticsName:"Create Five Products",totalSubtasks:5,progress$:this.events.pipe(G$6(Ae$5),ie$b(()=>Ge$2())),action:{type:ie$5.Callback},untilCompleted$:t.pipe(Rc$2(this.productCollectionsService.activeCollection$),kc$2(([,i])=>this.wizardService.open(i?this.productCollectionsWizardService.getProductCollectionWizardPath():this.productCollectionsWizardService.getBlueprintCollectionsWizardPath())))});case d$8.OrderCreated:return ({actionClick$:t})=>({label:"Order a Sample Product",analyticsName:"Create Order",action:{type:ie$5.Callback},progress$:$p$1(this.events.pipe(G$6(hr$3),ie$b(()=>f$2(o$b.from(50)))),this.events.pipe(G$6(vr$3),ie$b(()=>f$2(o$b.finished)))),untilCompleted$:t.pipe(kc$2(()=>this.wizardService.open([_$4,t$9])))});case d$8.SellersClubJoined:return ({actionClick$:t})=>({label:"Connect with mentors in the Sellers Club",analyticsName:"Join Sellers Club",action:{type:ie$5.ExternalLink,url:this.sellersClubService.welcomeUrl,newTab:true},progress$:t.pipe(ie$b(()=>f$2(o$b.finished)))});case d$8.EtsySetupCompleted:return ({actionClick$:t})=>({label:"Set up your Etsy shop",analyticsName:"Complete Etsy Setup",action:{type:ie$5.Callback},progress$:this.handleEtsySetupProgress(),untilCompleted$:this.handleEtsySetupWizard(t)});default:throw new Error(`Unknown step name: ${e}`)}}handleEtsySetupProgress(){let e=this.router.events.pipe(Ye$b(i=>i instanceof ie$a&&i.url.startsWith(`/${M$8}`))),t=this.router.events.pipe(Ye$b(i=>i instanceof ie$a&&!i.url.startsWith(`/${M$8}`)));return $p$1(this.events.pipe(G$6(U$2)),e.pipe(Ac$3(()=>de$7(0,Je$1).pipe(Oc$2(t))))).pipe(ie$b(()=>f$2(o$b.finished)))}handleEtsySetupWizard(e){return e.pipe(Rc$2(this.salesChannelService.currentSalesChannel$),Ai$5(i=>E$e(this,[i],function*([,t]){let s="/account/my-stores";if(t.id!==b$9.Etsy||!t.extras.isSetupRequired)return s;try{return yield this.etsyGuidedSetupFlowService.getGuidedSetupFlowStepUrl()}catch{return s}})),kc$2(t=>this.router.navigateByUrl(t)),Ii$4())}handleProductRecommendationsWizard(e){return e.pipe(Rc$2(this.productCollectionsService.activeCollection$),kc$2(([,t])=>this.wizardService.open(t?this.productCollectionsWizardService.getProductCollectionWizardPath():[_$4,U$7])),ie$b(()=>{}))}handleProductCreatedWizard(){let e=this.events.pipe(G$6(Ae$5)),t=this.events.pipe(G$6(Er$3),Rc$2(this.routingService.previousUrl$),Ye$b(([{payload:i},s])=>i.updatedFrom===so$4.Designer&&!!s?.includes(E$9)),ie$b(([i])=>i));return $p$1(e,t).pipe(Ye$b(()=>!this.routingService.isRedirectedFrom(t$8)),kc$2(i=>this.wizardService.open([_$4,o$7],{queryParams:{productId:i.payload.productId}})),Ii$4())}handleProductPublishedWizard(){return this.events.pipe(G$6(br$3),Ye$b(({payload:e})=>e.publishedFrom!=="my_store_bulk"),Wc$3(0),Rc$2(this.merchantAccountVerificationService.getDialog(),this.storesService.id$,this.salesChannelService.currentSalesChannel$),Ye$b(([,e])=>!e),kc$2(([{payload:e},,t,i])=>{let s=e.product._id;return this.featureTogglesService.isFeatureEnabled(jt$2.EtsyGuidedConnectionFlowIteration2)&&i.extras.isSetupRequired?this.wizardService.open([_$1,I$2,"shops",t,"products",s,N$2]):this.wizardService.open([_$4,S$5],{queryParams:{productId:s}})}),Ii$4())}getWidgetComponent(){return ye$7(import('./chunk-BxUtAYg8.js').then(e=>e.LaunchSuccessChecklistWidgetComponent))}getStoreQuickViewWidgetComponent(){return He$4}getCompletionNotification(e){return e.reward?hi$7({text:"You have successfully completed the Launch Success Checklist!"}):this.getNoRewardNotificationMessage()}getNoRewardNotificationMessage(){return this.storesService.selectedStore$.pipe(Ac$3(e=>Hp$2([hi$7(e),this.salesChannelService.getByStoreId(e.id)])),ie$b(([e,t])=>{let i=this.salesChannelService.executeMethod(t.id,"getStoreDomain",e,t);return {text:"Awesome work! You've unlocked more potential for your store!",action:i?{text:"View store",onAction:()=>this.window.open(i,"_blank")}:undefined}}))}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=sR(r)))(i||r)}})();}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac});}}return r})(),Vt={provide:_e$4,useClass:Ye$2,multi:true};
var e$2=function(n){return n.Experienced="experienced",n.Inexperienced="inexperienced",n.Unknown="unknown",n}(e$2||{});var bt$1=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e}(bt$1||{});var _t=class{constructor(s){this.payload=s;}};var he$1=function(e){return e.Init="root/INIT",e.FetchMessagesPending="inbox/FETCH_MESSAGES/PENDING",e.FetchMessagesDone="inbox/FETCH_MESSAGES/DONE",e.NewMessage="inbox/NEW_MESSAGE",e.UnreadMessageCountDone="inbox/FETCH_UNREAD_MESSAGE_COUNT/DONE",e.MarkAllRead="inbox/MARK_ALL_READ",e.MarkMessageArchived="inbox/MARK_MESSAGE_ARCHIVED",e.MarkMessageRead="inbox/MARK_MESSAGE_READ",e.All="*",e}(he$1||{}),h$2=function(e){return e.All="All",e.Saved="Saved",e.Orders="Orders",e.Products="Products",e.Stores="Stores",e.Wallet="Wallet",e}(h$2||{}),Tt=function(e){return e.Info="info",e.Warning="warning",e.Error="error",e.Promotion="promotion",e}(Tt||{}),ae$2=1e4,Le$3=30;var G$1=(()=>{class e{constructor(){this.destroyRef=N$8(mn$6),this.toastService=N$8(rO),this.archivingMessage=new yn$7(null),this.notificationArchiveTrigger=new Z$a,this.notificationArchiveTrigger$=this.notificationArchiveTrigger.asObservable(),this.archivingMessage$=this.archivingMessage.asObservable(),this.toastMessageData={status:ot$a.Success,content:"Notification deleted",action:"Undo",timeoutWithAction:true};}ngOnDestroy(){this.archivingMessage.complete(),this.notificationArchiveTrigger.complete();}markMessageForArchiving(t){this.archivingMessage.next(t);}archiveMessages(t){t.forEach(i=>this.archiveMessage(i.messageId));}subscribeToArchivingMessages(){this.archivingMessage.pipe(Tc$2(),Ye$b(([,t])=>!!t),Ac$3(([t])=>{this.archivePreviousToastMessage(t);let{confirmed$:i,dismissed$:n}=this.toastService.success(this.toastMessageData);return $p$1(i.pipe(ie$b(()=>false)),n.pipe(ie$b(()=>true))).pipe(mt$8(1))}),Rc$2(this.archivingMessage),X$7(this.destroyRef)).subscribe(([t,i])=>{t&&i&&this.archiveMessage(i),this.archivingMessage.next(null);});}archivePreviousToastMessage(t){t&&(this.toastService.removeToast(this.toastMessageData),this.archiveMessage(t));}archiveMessage(t){this.notificationArchiveTrigger.next(t);}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var x$3=(()=>{class e{constructor(){this.eventDispatcherService=N$8(X$6),this.notificationArchivingService=N$8(G$1),this.messages=new yn$7([]),this.markAllAsReadTrigger=new Z$a,this.selectedTab=new yn$7(h$2.All),this.isNotificationPageOpen=new yn$7(false),this.isNotificationDrawerOpen=new yn$7(false),this.showUnreadMessages=new yn$7(true),this.initialTab$=this.selectedTab.pipe(ie$b((t,i)=>i===0),Yc$3(t=>!!t,true)),this.stopPolling$=new Z$a,this.messagesLoading=new yn$7(true),this.toggleSavedStateTrigger=new Z$a,this.markAsReadTrigger=new Z$a,this.loadMoreMessagesTrigger=new Z$a,this.selectedTab$=this.selectedTab.asObservable(),this.messages$=this.messages.asObservable(),this.tabs$=hi$7([{id:h$2.All,name:"All"},{id:h$2.Saved,name:"Saved"},{id:h$2.Orders,name:"Orders"},{id:h$2.Products,name:"Products"},{id:h$2.Stores,name:"Stores"},{id:h$2.Wallet,name:"Wallet"}]),this.showFilters$=Hp$2([this.initialTab$,this.messages$]).pipe(ie$b(([t,i])=>!t||i.length>0||i.length>0),Mr$6({connector:()=>new In$7(1),resetOnRefCountZero:false})),this.notificationDateUpdateInterval$=fh$2(ae$2).pipe(Sc$2(0),Oc$2(this.stopPolling$),Mr$6({connector:()=>new In$7(1)})),this.isNotificationPageOpen$=this.isNotificationPageOpen.asObservable(),this.isNotificationDrawerOpen$=this.isNotificationDrawerOpen.asObservable(),this.messagesLoading$=this.messagesLoading.asObservable(),this.markAllAsReadTrigger$=this.markAllAsReadTrigger.asObservable(),this.markAsReadTrigger$=this.markAsReadTrigger.asObservable(),this.toggleSavedStateTrigger$=this.toggleSavedStateTrigger.asObservable(),this.loadMoreMessagesTrigger$=this.loadMoreMessagesTrigger.asObservable(),this.showUnreadMessages$=this.showUnreadMessages.asObservable();}ngOnDestroy(){this.messages.complete(),this.markAllAsReadTrigger.complete(),this.selectedTab.complete(),this.isNotificationPageOpen.complete(),this.isNotificationDrawerOpen.complete(),this.stopPolling$.complete(),this.messagesLoading.complete(),this.toggleSavedStateTrigger.complete(),this.markAsReadTrigger.complete(),this.loadMoreMessagesTrigger.complete();}initialize(){this.notificationArchivingService.subscribeToArchivingMessages();}updateMessages(t){this.messages.next(t);}toggleSavedState(t,i){this.toggleSavedStateTrigger.next({message:t,location:i});}setNotificationPageOpen(t){this.isNotificationPageOpen.next(t);}setNotificationDrawerOpen(t){this.isNotificationDrawerOpen.next(t);}setSelectedTab(t){this.selectedTab.getValue()!==t&&(this.selectedTab.next(t),this.eventDispatcherService.dispatch(new _t({type:t})));}setShowUnreadMessages(t){this.showUnreadMessages.next(t);}markAllAsRead(){this.markAllAsReadTrigger.next();}markAsRead(t){this.markAsReadTrigger.next(t);}loadMoreMessages(){this.loadMoreMessagesTrigger.next();}setMessagesLoading(t){this.messagesLoading.next(t);}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function ge$2(e,s){if(e&1&&(ME(0,"pfa-empty-list",0),TP(1,"async")),e&2){let t=s,i=tP();lE("image",_P(1,4,i.image$))("title",t.title)("description",t.subtitle)("showCatalogLink",t.showLinks);}}var fi$1=(()=>{class e{constructor(){this.notificationService=N$8(x$3),this.type$=new In$7,this.content$=Hp$2([this.type$,this.notificationService.selectedTab$]).pipe(ie$b(([t,i])=>{switch(i){case h$2.All:return t===bt$1.Menu?{title:"No notifications in sight!",subtitle:"We'll keep you up-to-date with important notifications here."}:{title:"Looks quiet around here... no notifications in sight!",subtitle:"You can rest easy... we'll notify you of any important updates as they arrive.",showLinks:true};case h$2.Saved:return {title:"No saved notifications yet...",subtitle:"Use the bookmark icon in your notifications to save them here.",icon:{name:"bookmark",type:cs$2.Outlined}};case h$2.Products:return {title:"All is quiet with product notifications...",subtitle:"Why not check out any other notifications for updates?"};case h$2.Orders:return {title:"All is quiet with order notifications...",subtitle:"Why not check out any other notifications for updates?"};case h$2.Stores:return {title:"All is quiet with stores notifications...",subtitle:"Why not check out any other notifications for updates?"};case h$2.Wallet:return {title:"All is quiet with wallet notifications...",subtitle:"Why not check out any other notifications for updates?"}}})),this.image$=this.notificationService.selectedTab$.pipe(ie$b(t=>t===h$2.Saved?"/assets/svg/empty-saved-notifications-rebrand.svg":"/assets/svg/empty-notifications-rebrand.svg"),Dr$5());}set type(t){this.type$.next(t);}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-empty-notifications"]],inputs:{type:"type"},decls:2,vars:3,consts:[["data-testid","emptyListImage",1,"empty-list",3,"image","title","description","showCatalogLink"]],template:function(i,n){if(i&1&&(kI(0,ge$2,2,6,"pfa-empty-list",0),TP(1,"async")),i&2){let o;QR((o=_P(1,1,n.content$))?0:-1,o);}},dependencies:[eb,Yx,zd$1,dT],encapsulation:2,changeDetection:0});}}return e})();var re$1=class re{};var R$1=function(e){return e.Body="body",e.PrimaryCta="primary_cta",e.SecondaryCta="secondary_cta",e}(R$1||{}),H=function(e){return e.Page="notification page",e.Sidebar="vertical menu sidebar",e}(H||{}),K$2=function(e){return e.Read="read",e.Unread="unread",e}(K$2||{});var yt$1=class yt{constructor(s){this.payload=s;}};var Ct$1=class Ct{constructor(s){this.payload=s;}};function ue(e,s){if(e&1){let t=XR();Kf$2(0,"pfy-button",3),VE("buttonClick",function(n){nR(t);let o=tP(3);return rR(o.onActionClick(n,o.notificationClickTargets.PrimaryCta))}),fP(1),Xf$2();}if(e&2){let t=tP(3);lE("type",t.primaryActionButtonType)("size",t.actionButtonSize),xR(),ip$2(" ",s.content," ");}}function ve(e,s){if(e&1){let t=XR();Kf$2(0,"pfy-button",4),VE("buttonClick",function(n){nR(t);let o=tP(3);return rR(o.onActionClick(n,o.notificationClickTargets.SecondaryCta))}),fP(1),Xf$2();}if(e&2){let t=tP(3);lE("type",t.secondaryActionButtonType)("size",t.actionButtonSize),xR(),ip$2(" ",s.content," ");}}function _e$3(e,s){if(e&1&&(Kf$2(0,"div",0),kI(1,ue,2,3,"pfy-button",1)(2,ve,2,3,"pfy-button",2),Xf$2()),e&2){let t,i,n=tP(2);xR(),QR((t=n.message.actions==null?null:n.message.actions[0])?1:-1,t),xR(),QR((i=n.message.actions==null?null:n.message.actions[1])?2:-1,i);}}function ye$1(e,s){if(e&1&&kI(0,_e$3,3,2,"div",0),e&2){let t=tP();QR((t.message.actions==null?null:t.message.actions.length)>0?0:-1);}}function Ce$2(e,s){if(e&1){let t=XR();Kf$2(0,"pfy-link",6),VE("click",function(n){nR(t);let o=tP(2);return rR(o.onActionClick(n,o.notificationClickTargets.SecondaryCta))}),fP(1),Xf$2();}if(e&2){let t=tP(2);lE("type",t.secondaryActionLinkType),xR(),ip$2(" ",s.content," ");}}function ke$2(e,s){if(e&1&&kI(0,Ce$2,2,2,"pfy-link",5),e&2){let t,i=tP();QR((t=i.message.actions==null?null:i.message.actions[1])?0:-1,t);}}var ce$1=(()=>{class e{constructor(){this.viewportService=N$8(nn$6),this.actionClick=new Xe$5,this.notificationClickTargets=R$1,this.primaryActionButtonType=Ze$5.Secondary,this.secondaryActionButtonType=Ze$5.Ghost,this.secondaryActionLinkType=Ol$1.Primary,this.actionButtonSize=lt$7.Small,this.isMobile$=this.viewportService.matchBelow(gt$7.ML);}onActionClick(t,i){t.preventDefault(),t.stopPropagation(),this.actionClick.emit(i);}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification-action-links"]],inputs:{message:"message"},outputs:{actionClick:"actionClick"},decls:3,vars:3,consts:[["data-testid","actions",1,"actions"],["data-testid","primaryActionButton",1,"action",3,"type","size"],["data-testid","secondaryActionButton",1,"action",3,"type","size"],["data-testid","primaryActionButton",1,"action",3,"buttonClick","type","size"],["data-testid","secondaryActionButton",1,"action",3,"buttonClick","type","size"],["data-testid","secondaryActionLink",1,"secondary-action-link",3,"type"],["data-testid","secondaryActionLink",1,"secondary-action-link",3,"click","type"]],template:function(i,n){i&1&&(kI(0,ye$1,1,1),TP(1,"async"),kI(2,ke$2,1,1)),i&2&&QR(_P(1,1,n.isMobile$)?0:2);},dependencies:[zd$1,dT,We$8,Vu$2],styles:['@charset "UTF-8";.secondary-action-link[_ngcontent-%COMP%]{margin-left:.25rem}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.action[_ngcontent-%COMP%]{flex-grow:1}@media (min-width: 480px){.action[_ngcontent-%COMP%]{flex-grow:0}}'],changeDetection:0});}}return e})();var pe$1=(()=>{class e{constructor(){this.notificationService=N$8(x$3),this.notificationArchivingService=N$8(G$1),this.message$=new In$7(1),this.compact=false,this.location=H.Page,this.notificationSaved$=this.message$.pipe(ie$b(t=>t.tags?.includes(h$2.Saved))),this.bookmarkIconType$=this.notificationSaved$.pipe(ie$b(t=>t?cs$2.Filled:cs$2.Outlined)),this.bookmarkTooltip$=this.notificationSaved$.pipe(ie$b(t=>t?"Remove from saved":"Save notification")),this.iconType=cs$2,this.actionButtonType=Ze$5.Ghost,this.actionButtonSize=lt$7.Medium;}set message(t){this.message$.next(t);}ngOnDestroy(){this.message$.complete();}onSaveClick(t){return E$e(this,null,function*(){t.preventDefault(),t.stopPropagation();let i=yield th$2(this.message$);this.notificationService.toggleSavedState(i,this.location);})}onArchiveClick(t){return E$e(this,null,function*(){t.preventDefault(),t.stopPropagation();let i=yield th$2(this.message$);this.notificationArchivingService.markMessageForArchiving(i.messageId);})}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification-actions"]],inputs:{message:"message",compact:"compact",location:"location"},decls:9,vars:25,consts:[[1,"action-icons"],["pfyTooltip","Delete notification","data-testid","archiveButton",3,"click","type","size","isIconOnly","isRound"],["name","delete",3,"type"],["data-testid","bookmarkButton",3,"click","type","size","isIconOnly","isRound","pfyTooltip"],["name","bookmark","data-testid","bookmarkIcon",3,"type"]],template:function(i,n){i&1&&(Kf$2(0,"div",0)(1,"pfy-button",1),VE("click",function(l){return n.onArchiveClick(l)}),ME(2,"pfy-icon",2),TP(3,"async"),Xf$2(),Kf$2(4,"pfy-button",3),TP(5,"async"),VE("click",function(l){return n.onSaveClick(l)}),ME(6,"pfy-icon",4),TP(7,"async"),TP(8,"async"),Xf$2()()),i&2&&(dE("compact",n.compact),xR(),lE("type",n.actionButtonType)("size",n.actionButtonSize)("isIconOnly",true)("isRound",true),xR(),dE("saved",_P(3,17,n.notificationSaved$)),lE("type",n.iconType.Outlined),xR(2),lE("type",n.actionButtonType)("size",n.actionButtonSize)("isIconOnly",true)("isRound",true)("pfyTooltip",_P(5,19,n.bookmarkTooltip$)),xR(2),dE("saved",_P(7,21,n.notificationSaved$)),lE("type",_P(8,23,n.bookmarkIconType$)));},dependencies:[zd$1,dT,We$8,ft$6,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:contents}.action-icons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-left:auto}.action-icons.compact[_ngcontent-%COMP%]{gap:.25rem}@media (min-width: 840px){.action-icons[_ngcontent-%COMP%]{margin-left:0}}'],changeDetection:0});}}return e})();var A$4=function(e){return e.Plaintext="plaintext",e.Bold="bold",e.Italic="italic",e.Strike="strike",e.Link="link",e}(A$4||{});var St$1=(()=>{class e{constructor(){this.environment=N$8(f$c),this.window=N$8(Q$9),this.router=N$8(ve$8),this.baseURL=this.environment.domain+this.environment.appRoot;}navigate(t){let{internalLink:i,href:n}=this.getActionLinkMetadata(t);if(i){this.router.navigateByUrl(this.removeTrailingSlash(n));return}this.window.open(n,"_blank");}getActionLinkMetadata(t){let i=t,n=t.includes(this.baseURL);if(n){let o=i.indexOf(this.baseURL);o!==-1&&(i="/"+i.slice(o+this.baseURL.length));}return {href:i,internalLink:n}}removeTrailingSlash(t){return t.replace(/\/$/,"")}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var xt$1=e=>({$implicit:e});function Se$1(e,s){if(e&1&&TE(0,1),e&2){let t=s.$implicit;tP();let i=dP(4);lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(2,xt$1,t));}}function Me$2(e,s){if(e&1&&fP(0),e&2){let t=tP().$implicit;ip$2(" ",t.content," ");}}function we$2(e,s){if(e&1&&TE(0,1),e&2){let t=s.$implicit;tP(3);let i=dP(4);lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(2,xt$1,t));}}function be$1(e,s){if(e&1){let t=XR();Kf$2(0,"pfy-link",4),VE("click",function(n){nR(t);let o=tP().$implicit,l=tP();return rR(l.onLinkClick(n,o.href))}),JR(1,we$2,1,4,"ng-container",1,YR),Xf$2();}if(e&2){let t=tP().$implicit;lE("href",t.href),xR(),KR(t.content);}}function Te$2(e,s){if(e&1&&TE(0,1),e&2){let t=s.$implicit;tP(3);let i=dP(4);lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(2,xt$1,t));}}function xe$3(e,s){if(e&1&&(Kf$2(0,"span"),JR(1,Te$2,1,4,"ng-container",1,YR),Xf$2()),e&2){let t=tP().$implicit;WR(t.type),xR(),KR(t.content);}}function Ae$2(e,s){if(e&1&&kI(0,Me$2,1,1)(1,be$1,3,1,"pfy-link",2)(2,xe$3,3,2,"span",3),e&2){let t,i=s.$implicit,n=tP();QR((t=i.type)===n.objectTypes.Plaintext?0:t==="link"?1:2);}}var le$1=(()=>{class e{constructor(){this.message$=new In$7(1),this.notificationService=N$8(x$3),this.notificationNavigationService=N$8(St$1),this.dropdownOverlayService=N$8(Io$3),this.content$=this.message$.pipe(ie$b(t=>t.preview)),this.parsedContent$=this.content$.pipe(ie$b(t=>this.parseMarkdown(t))),this.objectTypes=A$4,this.patterns={bold:/\*\*(.*?)\*\*/g,italic:/_(.*?)_/g,strike:/~~(.*?)~~/g,link:/\[(.*?)]\((.*?)\)/g};}set message(t){this.message$.next(t);}ngOnDestroy(){this.message$.complete();}onLinkClick(t,i){return E$e(this,null,function*(){t.preventDefault(),t.stopPropagation();let n=yield th$2(this.message$);this.dropdownOverlayService.hide(),this.notificationService.markAsRead(n),this.notificationNavigationService.navigate(i);})}parseMarkdown(t){let i=[],n=t;for(;n.length>0;){let o=this.getClosestMatch(n);if(!o){i.push(this.getFormattedObject(A$4.Plaintext,n)),n="";continue}let l=o.match?.index||0,[w,L,Q]=o.match;if(l>0){let Mt=n.slice(0,l);i.push(this.getFormattedObject(A$4.Plaintext,Mt)),n=n.slice(Mt.length);}else i.push(this.getFormattedObject(o.type,L,Q)),n=n.slice(w.length);}return i}getMatches(t){return Object.entries(this.patterns).reduce((i,[n,o])=>{let w=new RegExp(o).exec(t);return w&&(i[n]=w),i},{})}getClosestMatch(t){let i=this.getMatches(t),n=Object.entries(i);if(!n.length)return null;let[o,l]=Object.entries(i).reduce((w,[L,Q])=>(w[1].index||0)>(Q.index||0)?[L,Q]:w,n[0]);return {type:o,match:l}}getFormattedObject(t,i,n){switch(t){case A$4.Bold:case A$4.Italic:case A$4.Strike:return {type:t,content:this.parseMarkdown(i)};case A$4.Plaintext:return {type:t,content:i};case A$4.Link:return {type:t,content:this.parseMarkdown(i),href:n||""}}}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification-markdown"]],inputs:{message:"message"},decls:5,vars:2,consts:[["dynamicToken",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"href"],[3,"class"],[3,"click","href"]],template:function(i,n){i&1&&(JR(0,Se$1,1,4,"ng-container",1,YR),TP(2,"async"),kI(3,Ae$2,3,1,"ng-template",null,0,OP)),i&2&&KR(_P(2,0,n.parsedContent$));},dependencies:[dT,Vu$2,zd$1,Gs$2,$d$2],styles:['@charset "UTF-8";.italic[_ngcontent-%COMP%]{font-style:italic}.strike[_ngcontent-%COMP%]{text-decoration:line-through}.bold[_ngcontent-%COMP%]{font-weight:700}'],changeDetection:0});}}return e})();var me=D$a(Kc$2());function Oe$2(e,s){e&1&&(Kf$2(0,"pfy-badge",9),fP(1,"Promotional"),Xf$2());}function Ne$1(e,s){if(e&1&&(ME(0,"pfy-icon",8),kI(1,Oe$2,2,0,"pfy-badge",9)),e&2){let t=s;WR("icon-type "+t),lE("name",t==="promotion"?"campaign":t||""),xR(),QR(t==="promotion"?1:-1);}}function $e$3(e,s){if(e&1&&(Kf$2(0,"div",3),fP(1),Xf$2()),e&2){let t=s;lE("pfyTooltip",t.date),xR(),ip$2(" ",t.distance," ");}}function Pe$3(e,s){if(e&1&&(ME(0,"pfa-notification-actions",4),TP(1,"async")),e&2){let t=tP();lE("message",_P(1,3,t.message$))("compact",t.compact)("location",t.location);}}function De$3(e,s){if(e&1&&(ME(0,"pfa-notification-actions",4),TP(1,"async")),e&2){let t=tP();lE("message",_P(1,3,t.message$))("compact",t.compact)("location",t.location);}}var Nn$1=(()=>{class e{constructor(){this.notificationNavigationService=N$8(St$1),this.dropdownOverlayService=N$8(Io$3),this.viewportService=N$8(nn$6),this.notificationService=N$8(x$3),this.notificationArchivingService=N$8(G$1),this.eventDispatcherService=N$8(X$6),this.impressionsService=N$8(Mo$2),this.elementRef=N$8(Uo$5),this.destroyRef=N$8(mn$6),this.compact=false,this.location=H.Page,this.isArchiving=oI(false),this.message$=new In$7,this.notificationReadStatus$=this.message$.pipe(ie$b(t=>t.read?K$2.Read:K$2.Unread)),this.creationDate$=Hp$2([this.message$,this.notificationService.notificationDateUpdateInterval$]).pipe(ie$b(([t])=>{let i=new Date,n=new Date(t.created),o=pa$1(n,i)?i:n;return {date:na$1(o,"Pp"),distance:da$1(o,{addSuffix:true})}}),Dr$5((t,i)=>t.distance===i.distance)),this.isMobile$=this.viewportService.matchBelow(gt$7.ML),this.notificationIconName$=this.message$.pipe(ie$b(t=>t.data.icon||Tt.Info)),this.notificationClickTargets=R$1;}set message(t){this.message$.next(t);}get archivingClass(){return this.isArchiving()}ngAfterViewInit(){this.subscribeToNotificationViewed(),this.notificationArchivingService.archivingMessage$.pipe(Rc$2(this.message$),X$7(this.destroyRef)).subscribe(([t,i])=>{this.isArchiving.set(i.messageId===t);});}ngOnDestroy(){this.message$.complete(),this.impressionsService.removeElement(this.elementRef.nativeElement);}onBodyClick(t,i){return E$e(this,null,function*(){t.preventDefault(),t.stopPropagation(),yield this.handleNotificationLinkAction(i);})}handleNotificationLinkAction(t){return E$e(this,null,function*(){let i=yield th$2(this.message$);(0, me.assert)(!!i.title,"Message title is required for NotificationClicked event"),this.handleNotificationEvents(i,t);let n=yield this.getNotificationClickAction(i,t);n&&(this.dropdownOverlayService.hide(),this.notificationNavigationService.navigate(n.href));})}handleNotificationEvents(t,i){this.notificationService.markAsRead(t),this.eventDispatcherService.dispatch(new yt$1({target:i,messageId:t.messageId,title:t.title,notificationBody:t.preview,origin:this.location}));}getNotificationClickAction(t,i){return E$e(this,null,function*(){let n,o=yield th$2(this.isMobile$),l=t.actions;if(!l||o&&i===R$1.Body)return null;let w=l[0],L=l[1];return o?n=i===R$1.PrimaryCta?w:L:n=i===R$1.Body?w:L,n||null})}subscribeToNotificationViewed(){this.impressionsService.addElement(this.elementRef.nativeElement,()=>E$e(this,null,function*(){let t=yield th$2(this.message$);this.eventDispatcherService.dispatch(new Ct$1({messageId:t.messageId,title:t.title,notificationBody:t.preview,status:t.read?K$2.Read:K$2.Unread,origin:this.location})),this.impressionsService.removeElement(this.elementRef.nativeElement);}));}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification"]],hostVars:2,hostBindings:function(i,n){i&2&&dE("archiving",n.archivingClass);},inputs:{message:"message",compact:"compact",location:"location"},decls:17,vars:23,consts:[["data-testid","notification",1,"notification",3,"click","ngClass"],[1,"description"],[1,"header"],["data-testid","creationDate",1,"creation-date",3,"pfyTooltip"],[3,"message","compact","location"],[1,"content"],["data-testid","content",3,"message"],["data-testid","actionLinks",1,"action-links",3,"actionClick","message"],["data-testid","notificationTypeIcon",3,"name"],["data-testid","notificationTypeBadge"]],template:function(i,n){if(i&1&&(Kf$2(0,"div",0),TP(1,"async"),VE("click",function(l){return n.onBodyClick(l,n.notificationClickTargets.Body)}),Kf$2(2,"div",1)(3,"div",2),kI(4,Ne$1,2,4),TP(5,"async"),kI(6,$e$3,2,2,"div",3),TP(7,"async"),kI(8,Pe$3,2,5,"pfa-notification-actions",4),TP(9,"async"),Xf$2(),Kf$2(10,"div",5),ME(11,"pfa-notification-markdown",6),TP(12,"async"),Kf$2(13,"pfa-notification-action-links",7),TP(14,"async"),VE("actionClick",function(l){return n.handleNotificationLinkAction(l)}),Xf$2()()(),kI(15,De$3,2,5,"pfa-notification-actions",4),TP(16,"async"),Xf$2()),i&2){let o,l;dE("compact",n.compact),lE("ngClass",_P(1,9,n.notificationReadStatus$)),xR(4),QR((o=_P(5,11,n.notificationIconName$))?4:-1,o),xR(2),QR((l=_P(7,13,n.creationDate$))?6:-1,l),xR(2),QR(_P(9,15,n.isMobile$)===true?8:-1),xR(3),lE("message",_P(12,17,n.message$)),xR(2),lE("message",_P(14,19,n.message$)),xR(2),QR(_P(16,21,n.isMobile$)===false?15:-1);}},dependencies:[Gs$2,Ld$1,zd$1,dT,hl$1,ft$6,ge$9,le$1,pe$1,ce$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{opacity:1;display:block}.archiving[_nghost-%COMP%]{animation:_ngcontent-%COMP%_archiving .15s forwards}.notification[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;border:1px solid transparent;padding:.25rem 1rem 1rem;align-items:center;gap:.5rem;transition:background-color .15s}@media (min-width: 840px){.notification[_ngcontent-%COMP%]{padding:1rem}}.notification.compact[_ngcontent-%COMP%]{padding:.5rem 1rem}.notification[_ngcontent-%COMP%]:hover, .notification.unread[_ngcontent-%COMP%]:hover{background:#e0e0d7}.notification.unread[_ngcontent-%COMP%]{background:#f5f5f0}.notification.unread[_ngcontent-%COMP%]   .icon-type.warning[_ngcontent-%COMP%]{color:#ff993c}.notification.unread[_ngcontent-%COMP%]   .icon-type.error[_ngcontent-%COMP%]{color:#d12c2c}.notification.unread[_ngcontent-%COMP%]   .icon-type.info[_ngcontent-%COMP%], .notification.unread[_ngcontent-%COMP%]   .icon-type.promotion[_ngcontent-%COMP%]{color:#5fd0f4}.notification.unread[_ngcontent-%COMP%]   .creation-date[_ngcontent-%COMP%], .notification.unread[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-weight:700}.notification.read[_ngcontent-%COMP%]:not(.compact){border-color:#e0e0d7}.notification.read[_ngcontent-%COMP%]   .icon-type[_ngcontent-%COMP%]{color:#a8a794}.notification.read[_ngcontent-%COMP%]   .header-separator[_ngcontent-%COMP%], .notification.read[_ngcontent-%COMP%]   .creation-date[_ngcontent-%COMP%]{color:#64634a;font-weight:400}.description[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:.25rem}@media (min-width: 840px){.description[_ngcontent-%COMP%]{gap:.5rem}}.header[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;width:100%;padding:1rem 0}@media (min-width: 840px){.header[_ngcontent-%COMP%]{padding:0}}.icon-type[_ngcontent-%COMP%]{display:flex}@media (max-width: 839px){.action-links[_ngcontent-%COMP%]{display:block;margin-top:.75rem}}@keyframes _ngcontent-%COMP%_archiving{0%{opacity:1}to{opacity:0}to{display:none}}'],changeDetection:0});}}return e})();var Ee$3=["notificationEndSentinel"],jn$1=(()=>{class e{constructor(){this.notificationService=N$8(x$3),this.eventDispatcherService=N$8(X$6),this.impressionsService=N$8(Mo$2),this.tabs$=this.notificationService.tabs$,this.selectedTab$=this.notificationService.selectedTab$,this.showFilters$=this.notificationService.showFilters$,this.messages$=this.notificationService.messages$,this.messagesLoading$=this.notificationService.messagesLoading$,this.showMarkAllAsRead$=this.messages$.pipe(ie$b(t=>t.some(i=>!i.read)));}ngAfterViewInit(){this.subscribeToLoadMoreMessages();}ngOnDestroy(){this.notificationEndSentinelRef&&this.impressionsService.removeElement(this.notificationEndSentinelRef.nativeElement);}selectTab(t){this.notificationService.setSelectedTab(t);}onMarkAsReadClick(){this.notificationService.markAllAsRead();}subscribeToLoadMoreMessages(){this.notificationEndSentinelRef&&this.impressionsService.addElement(this.notificationEndSentinelRef.nativeElement,()=>this.notificationService.loadMoreMessages());}static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification-list"]],viewQuery:function(i,n){if(i&1&&iP(Ee$3,5,Uo$5),i&2){let o;sP(o=aP())&&(n.notificationEndSentinelRef=o.first);}},decls:0,vars:0,template:function(i,n){},encapsulation:2,changeDetection:0});}}return e})();var Wn$1=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-notification-skeleton"]],decls:2,vars:0,consts:[["data-testid","notificationSkeleton",1,"title"],[1,"line"]],template:function(i,n){i&1&&ME(0,"pfy-skeleton",0)(1,"pfy-skeleton",1);},dependencies:[dT,hu$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;padding:1rem}.title[_ngcontent-%COMP%]{height:2.125rem;width:200px}.line[_ngcontent-%COMP%]{height:1.25rem;width:100%;margin-top:.5rem}'],changeDetection:0});}}return e})();function e$1(t){return "product-details/"+t}function o$3(t=1){return "store/products/"+t}var P$2=(()=>{class s{constructor(e,t,r){this.window=e,this.userService=t,this.userSegmentationService=r,this.attributes$=this.userService.id$.pipe(Rc$2(this.userService.user$),ie$b(([i,a])=>[i,this.filterInvalidUserAttributes(this.getAllUserAttributes(a))])),this.onboardingQuestionnaireAttributes$=this.attributes$.pipe(ie$b(()=>this.userSegmentationService.getUserOnboardingQuestionnaireAttributes()));}filterInvalidUserAttributes(e){let t=["Merchant Address 2"];return Object.fromEntries(Object.entries(e).filter(([,r])=>r!==undefined).filter(([r,i])=>i!==""||t.includes(r)))}getAllUserAttributes(e){let{fullname:t,phone:r}=e?.contacts??{},i=e.legal??{},a=i.address??{},p=i.legal_name??"",f=e.orders??{};return w$9(w$9(w$9({email:e.details.email,phone:r??"",occupation:this.userSegmentationService.getUserOccupation(),isSelling:this.userSegmentationService.isSelling(),businessName:p,isPWS:!!e.power_seller_tag,orderCount:f.total??0,isSelfIdentifiedPWS:this.userSegmentationService.isSelfIdentifiedPWS(),subscriptionPlan:this.getSubscriptionPlan(e),referrer:this.getUserReferrer(),group:this.userSegmentationService.getUserGroup(),createdAt:this.getCreatedAtTimestamp(e)},this.getNames(t)),this.getAgreements(e)),this.getFormattedAddress(a))}getSubscriptionPlan(e){let t=e.subscription??{};return t.active?t.billing_frequency:""}getNames(e){let t=(e||"").split(" "),r=t[0]||"",i=t.slice(1).join(" ");return {firstName:r,lastName:i}}getAgreements(e){let t=e.consents??{};return {agreeIP:!!t.intellectual_property?.agreed,agreePrivacyPolicy:!!t.privacy_policy?.agreed,agreeTOS:!!t.terms_of_service?.agreed}}getFormattedAddress(e){return {address:{country:e?.country,state:e?.region,street:e?.address1,city:e?.city,postalCode:e?.zip}}}getCreatedAtTimestamp(e){let t=e.created_at;if(!t)return;let r=t.replace(" ","T");return new Date(r).toISOString()}getUserReferrer(){if(this.window.document.referrer)return this.window.document.referrer;let e=this.window.location.ancestorOrigins;return e&&e.length?e[0]:this.window.location.origin}static{this.\u0275fac=function(t){return new(t||s)(pe$9(Q$9),pe$9(J$5),pe$9(hs))};}static{this.\u0275prov=H$9({token:s,factory:s.\u0275fac,providedIn:"root"});}}return s})();var A$3=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({imports:[dT]});}}return e})(),F$1=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)};}static{this.\u0275mod=EI({type:e});}static{this.\u0275inj=qh$2({providers:[{provide:Vf$2,multi:true,deps:[Q$9,Pt$2,we$5],useFactory:(o,t,u)=>()=>{let n=new URLSearchParams(o.location.search);n.has("prestashopConnectionCode")&&u.isAuthorized$.pipe(Ye$b(Boolean),Ac$3(()=>t.connectFromSalesChannel(b$9.PrestaShop,{connectionResponseCode:n.get("prestashopConnectionCode")})),mt$8(1)).subscribe();}}]});}}return e})();var _e$2=(()=>{class o{constructor(){this.cancelled=new Xe$5;}onCancelClicked(){this.cancelled.emit();}static{this.\u0275fac=function(e){return new(e||o)};}static{this.\u0275cmp=LR({type:o,selectors:[["pfa-bulk-download"]],inputs:{bulkDownload:"bulkDownload",labelText:"labelText"},outputs:{cancelled:"cancelled"},decls:7,vars:3,consts:[[1,"status-label"],[1,"loader"],["data-testid","progressItemLoader",1,"progress-item-loader",3,"small"],["type","secondary",3,"buttonClick"]],template:function(e,n){e&1&&(Kf$2(0,"div",0)(1,"div",1),ME(2,"pfy-loader-circular",2),Xf$2(),Kf$2(3,"span"),fP(4),Xf$2()(),Kf$2(5,"pfy-button",3),VE("buttonClick",function(){return n.onCancelClicked()}),fP(6,"Cancel"),Xf$2()),e&2&&(xR(2),lE("small",true),xR(2),zE("",n.bulkDownload.total," ",n.labelText,""));},dependencies:[dT,We$8,du$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.loader[_ngcontent-%COMP%]{position:relative;width:1.5rem;height:1.5rem;margin-right:1rem}.status-label[_ngcontent-%COMP%]{display:inherit}'],changeDetection:0});}}return o})();var Be$1=["accordionItemContainerEl"];function Se(o,c){o&1&&(Kf$2(0,"div",5),ME(1,"pfy-loader-circular",14),Xf$2()),o&2&&(xR(),lE("small",true));}function $e$2(o,c){o&1&&ME(0,"pfy-icon",7);}function Ee$2(o,c){o&1&&ME(0,"pfy-icon",8);}function Me$1(o,c){if(o&1){let t=XR();Kf$2(0,"pfa-bulk-download",15),TP(1,"lowercase"),VE("cancelled",function(){let n=nR(t).$implicit,i=tP(2);return rR(i.onCancelPerformed(n.id))}),Xf$2();}if(o&2){let t=c.$implicit,e=tP();lE("bulkDownload",t)("labelText",_P(1,2,e.contentLabelPlural));}}function Pe$2(o,c){if(o&1){let t=XR();Kf$2(0,"div",1,0)(2,"div",2),VE("click",function(){nR(t);let n=tP();return rR(n.toggle())}),Kf$2(3,"div",3)(4,"p",4),fP(5),TP(6,"lowercase"),Xf$2(),kI(7,Se,2,1,"div",5),Xf$2(),Kf$2(8,"div",6),kI(9,$e$2,1,0,"pfy-icon",7)(10,Ee$2,1,0,"pfy-icon",8),Xf$2()(),Kf$2(11,"div",9)(12,"div",10)(13,"p",11),fP(14," This process happens in the background, so feel free to continue using Printify. Once completed, we'll let you know via email. "),Xf$2(),Kf$2(15,"div",12),JR(16,Me$1,2,4,"pfa-bulk-download",13,YR),Xf$2()()()();}if(o&2){let t=c,e=tP();GI("aria-expanded",e.expanded),xR(5),ip$2("Preparing ",_P(6,6,t.contentLabelPlural)," for download..."),xR(2),QR(e.expanded?-1:7),xR(2),QR(e.expanded?-1:9),xR(),QR(e.expanded?10:-1),xR(),lE("@bodyExpansion",e.expanded?"expanded":"collapsed"),xR(5),KR(t.bulkDownloads);}}var ye=300,xe$2=(()=>{class o extends op{constructor(t,e,n,i,ke){super(e,n,i),this.bulkDownloadConfig$=t,this.accordion=e,this.changeDetectorRef=n,this.uniqueSelectionDispatcher=i,this.viewportService=ke,this.cancelled=new Z$a,this.cancelled$=this.cancelled.asObservable(),this.containerHeight$=$p$1(this.expandedChange,this.bulkDownloadConfig$).pipe(Bt$7(J$7,ye),ie$b(()=>this.accordionItemContainerEl?.nativeElement.clientHeight||0)),this.touchMove$=Hp$2([this.viewportService.match(gt$7.M),_i$7(window,"touchmove",{passive:true})]).pipe(Oc$2(this.destroyed),Wc$3(ye),Ye$b(([Oe])=>!Oe&&this.expanded)),this.state$=this.createState();}ngOnInit(){this.touchMove$.subscribe(()=>this.expand(false));}ngOnDestroy(){this.cancelled.complete(),this.destroyed.next(),this.destroyed.complete();}expand(t){this.expanded=t;}onCancelPerformed(t){this.cancelled.next(t);}createState(){return this.bulkDownloadConfig$.pipe(ie$b(t=>({bulkDownloads:t.data,contentLabelPlural:t.contentLabelPlural})),kc$2(()=>this.expand(true)))}static{this.\u0275fac=function(e){return new(e||o)(Yo$4(S$2),Yo$4(ip$1,8),Yo$4(bw$1,8),Yo$4(Tr$5,8),Yo$4(nn$6))};}static{this.\u0275cmp=LR({type:o,selectors:[["pfa-bulk-download-dialog"]],viewQuery:function(e,n){if(e&1&&iP(Be$1,5,Uo$5),e&2){let i;sP(i=aP())&&(n.accordionItemContainerEl=i.first);}},features:[bI],decls:2,vars:3,consts:[["accordionItemContainerEl",""],["size","small",1,"accordion-item-container"],["role","button",1,"header",3,"click"],[1,"title-container"],[1,"title-text"],[1,"loader"],[1,"expand-icon"],["name","keyboard_arrow_down"],["name","keyboard_arrow_up"],["role","region"],[1,"content"],[1,"download-hint"],[1,"downloads-container"],[3,"bulkDownload","labelText"],[3,"small"],[3,"cancelled","bulkDownload","labelText"]],template:function(e,n){if(e&1&&(kI(0,Pe$2,18,8,"div",1),TP(1,"async")),e&2){let i;QR((i=_P(1,1,n.state$))?0:-1,i);}},dependencies:[_e$2,eb,zd$1,Vd$2,dT,du$2,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 5px 22px #a8a7941a,0 12px 17px #a8a79426;bottom:1.5rem;right:1.5rem;left:1.5rem;position:absolute}@media (min-width: 600px){[_nghost-%COMP%]{width:360px;left:auto}}.loader[_ngcontent-%COMP%]{position:relative;width:1.5rem;height:1.5rem;margin-left:.5rem}.header[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;padding:1rem;justify-content:space-between;border-bottom:1px solid #e0e0d7}.header[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{height:1.25rem}.header[_ngcontent-%COMP%]:hover{background-color:#e0e0d7}.title-container[_ngcontent-%COMP%]{display:flex;align-items:center}.download-hint[_ngcontent-%COMP%]{padding:1rem}.downloads-container[_ngcontent-%COMP%]{display:grid;gap:.5rem;max-height:13.5rem;overflow-y:auto}'],data:{animation:[$r$3("bodyExpansion",[Br$4("collapsed",kn$6({height:"0px",overflow:"hidden"})),Br$4("expanded",kn$6({height:"*"})),so$5("expanded <=> collapsed",ro$4("150ms ease-in-out"))])]},changeDetection:0});}}return o})();var S$2=new k$5("BULK_DOWNLOAD_CONFIG");var Bt=(()=>{class o{constructor(t,e,n){this.overlay=t,this.injector=e,this.router=n,this.bulkDownloadConfig$=new yn$7(null),this.isLoading=new yn$7(false),this.isLoading$=this.isLoading.asObservable(),this.containerHeight=new Z$a,this.containerHeight$=this.containerHeight.asObservable();}ngOnDestroy(){this.overlayRef?.dispose();}open(t){this.updateBulkDownloadConfig(t),this.overlayRef=this.createOverlay();let e=this.attachDialogContainer(this.overlayRef);return e.cancelled$.pipe(Oc$2(this.overlayRef.detachments())).subscribe(n=>this.completeBulkDownload(n)),$p$1(e.destroyed.pipe(ie$b(()=>0)),e.containerHeight$).pipe(Oc$2(this.overlayRef.detachments())).subscribe(n=>this.containerHeight.next(n)),this.router.events.pipe(Ye$b(n=>n instanceof ie$a),Oc$2(this.overlayRef.detachments())).subscribe(()=>{e.expand(false);}),this.bulkDownloadConfig$.pipe(Oc$2(this.overlayRef.detachments()),Ye$b(n=>n?.data.length===0)).subscribe(()=>this.close()),e}close(){this.overlayRef?.detach(),this.overlayRef?.dispose(),this.isLoading.next(false);}addNewBulkDownload(t){let e=this.bulkDownloadConfig$.value;e?.data.unshift(t),this.bulkDownloadConfig$.next(e);}completeBulkDownload(t){if(!this.bulkDownloadConfig$.value)return;this.bulkDownloadConfig$.value.data.length===1&&this.close();let e=this.bulkDownloadConfig$.value;e.data=this.bulkDownloadConfig$.value?.data.filter(n=>n.id!==t),this.bulkDownloadConfig$.next(e);}updateBulkDownloadConfig(t){this.bulkDownloadConfig$.next(t);}get loading(){return this.isLoading.value}attachDialogContainer(t){let e=this.createInjector(),n=new Mn$5(xe$2,null,e),i=t.attach(n);return this.isLoading.next(true),i.instance}createInjector(){return _e$8.create({parent:this.injector,providers:[{provide:S$2,useValue:this.bulkDownloadConfig$}]})}createOverlay(){let t=this.getOverlayConfig();return this.overlay.create(t)}getOverlayConfig(){let t=this.overlay.position().global().bottom().right();return new Un$4({scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:t})}static{this.\u0275fac=function(e){return new(e||o)(pe$9(Jt$6),pe$9(_e$8),pe$9(ve$8))};}static{this.\u0275prov=H$9({token:o,factory:o.\u0275fac,providedIn:"root"});}}return o})();var A$2={enabled:true,logoutOnUnauthorized:true,captureRedirectUrlOnLogout:false},D$2=new Ys$2(()=>A$2),y=(()=>{class r extends di$3{constructor(t,e,n,i,c){super(c),this.injector=t,this.authStorageService=e,this.productService=n,this.bulkDownloadDialogService=i;}interceptInternal(t,e){let n=this.authStorageService.getToken(),i=this.resolveAuthConfig(t);return i.enabled?e.handle(n?t.clone({headers:t.headers.set("Authorization",`Bearer ${n}`)}):t).pipe(yi$5(c=>i.logoutOnUnauthorized&&this.authStorageService.getAuthorized()&&c.status===ie$9.Unauthorized?(this.productService.storeUnsavedProduct(),this.bulkDownloadDialogService.close(),this.injector.get($e$5).logout(i.captureRedirectUrlOnLogout),be$8):Xp$2(c))):e.handle(t)}resolveAuthConfig(t){let e=t.context.get(D$2);return w$9(w$9({},A$2),e)}static{this.\u0275fac=function(e){return new(e||r)(pe$9(_e$8),pe$9(we$5),pe$9(Em$1),pe$9(Bt),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac});}}return r})();var v$1=class v{setup(){}};var ee$2=new k$5("ANALYTICS_TOOL");var ie$4=()=>(i,s)=>{let e=i[b$3]??[];i[b$3]=[...e,s];},b$3="ANALYTICS_HANDLERS",fe$1=(()=>{class i{constructor(e){this.tools=e,this.initializeAnalyticsHandlers=t=>{if(!this.hasAnalyticsHandlers(t))return;t[b$3].forEach(p=>t[p].subscribe());},this.hasAnalyticsHandlers=t=>!!t[b$3];}setup(){this.tools.map(this.setupTool).forEach(this.initializeAnalyticsHandlers);}setupTool(e){return e.setup(),e}static{this.\u0275fac=function(t){return new(t||i)(pe$9(ee$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var se$1=(()=>{class i{constructor(){this.env=N$8(f$c),this.http=N$8(_u$3),this.userService=N$8(J$5);}getZendeskToken(){let e=this.userService.getId(),t=`${this.env.apiURL}v1/users/${e}/zendesk/sso`;return this.http.post(t,null).pipe(ie$b(({zendesk_jwt:n})=>n),yi$5(n=>n.status===ie$9.Forbidden?Xp$2(()=>n):hi$7("")))}getZendeskClassicWebWidgetToken(){let e=this.userService.getId(),t=`${this.env.apiURL}v1/users/${e}/zendesk/classic-web-widget-token`;return this.http.post(t,null,{context:new Fr$4().set(D$2,{logoutOnUnauthorized:false})}).pipe(ie$b(({zendesk_classic_jwt:n})=>n),yi$5(()=>hi$7("")))}getChatbotToken(){let e=`${this.env.supportApiUrl}/chatbot/access-token/generate`;return this.http.post(e,{}).pipe(ie$b(({token:t})=>t),yi$5(()=>hi$7("")))}static{this.\u0275fac=function(t){return new(t||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var re="hideChatBotOnPage",E$5=class i extends v$1{constructor(s,e,t,n,p,S,w,oe,ne,ae,de){super(),this.scriptLoaderService=s,this.userService=e,this.events=t,this.router=n,this.routingService=p,this.viewportService=S,this.zendeskService=w,this.window=oe,this.environment=ne,this.document=ae,this.authService=de,this.scriptUrl="https://static.ada.support/embed2.js",this.dataHandler=this.environment.adaDataHandler,this.scriptId="__ada",this.adaWidgetSelector="#ada-button-frame",this.isWidgetVisible$=new yn$7(false),this.widgetVisibility$=$p$1(this.events.pipe(G$6(tr$4),ie$b(({isVisible:r})=>!r)),this.events.pipe(G$6(er$4),ie$b(({isVisible:r})=>!r)),this.events.pipe(G$6(or$3),ie$b(({isVisible:r})=>!r)),Hp$2([this.router.events.pipe(Ye$b(r=>r instanceof ie$a)),this.viewportService.matchBelow(gt$7.L),this.routingService.data$]).pipe(ie$b(([{url:r},l,T])=>{let ce=l&&this.hideWidgetOnMobileView.some(A=>r.includes(A));return !(T.hasOwnProperty(re)?T[re]:this.hideWidgetOnPages.some(A=>r.includes(A)))&&!ce}))).pipe(yi$5(r=>(console.error(r),hi$7(false)))),this.logout$=this.events.pipe(G$6(ii$3),kc$2(()=>{this.window.adaEmbed?.stop().then(()=>{this.window.adaEmbed?.start(this.adaSettings);});})),this.hideWidgetOnMobileView=["login","register","sample-order","manual-order","edit-order","store/products","product-details","mockup-library"],this.hideWidgetOnPages=["editor","zendesk/help-center","zendesk/sso",Si$1],this.adaSettings={handle:this.dataHandler,align:"left",adaReadyCallback:()=>this.isWidgetVisible$.getValue()?this.showAdaWidget():this.hideAdaWidget(),zdChatterAuthCallback:r=>{this.userService.authenticatedUser$.pipe(mt$8(1),Ac$3(()=>this.zendeskService.getZendeskClassicWebWidgetToken()),Ye$b(l=>!!l)).subscribe(l=>r(l));},chatterTokenCallback:()=>{this.userService.authenticatedUser$.pipe(mt$8(1),Ac$3(()=>this.zendeskService.getChatbotToken())).subscribe(r=>this.window.adaEmbed?.setSensitiveMetaFields({access_token:r}));}},this.window.adaSettings=this.adaSettings;}isAvailable(){return !!this.window.adaEmbed}setup(){this.loadAda(),this.widgetVisibility$.subscribe(this.isWidgetVisible$);}loadAda(){this.scriptLoaderService.load(this.scriptUrl,{customAttr:[{name:"id",value:this.scriptId},{name:"data-handle",value:this.dataHandler}]}).then(()=>{this.isWidgetVisible$.subscribe({next:s=>s?this.showAdaWidget():this.hideAdaWidget()}),this.userService.authenticatedUser$.subscribe(s=>{let e=s?.details.id,t=s?.details.email,n=s?.details.name,p=this.userService.isToggleOn("priority_support"),S=s?.power_seller_tag;if(!e&&!t)return;let w=this.authService.getToken();this.window.adaEmbed?.setSensitiveMetaFields({user_id:e,jwt_token:w}),this.window.adaEmbed?.setMetaFields({email:t,name:n,priority_support:p,user_tag:S});});});}getAdaWidgetElement(){return this.document.querySelector(this.adaWidgetSelector)}hideAdaWidget(){let s=this.getAdaWidgetElement();s&&(s.parentElement.style.display="none");}showAdaWidget(){let s=this.getAdaWidgetElement();s&&(s.parentElement.style.display="block");}static{this.\u0275fac=function(e){return new(e||i)(pe$9(le$8),pe$9(J$5),pe$9(H$7),pe$9(ve$8),pe$9(Ya$1),pe$9(nn$6),pe$9(se$1),pe$9(Q$9),pe$9(f$c),pe$9(L$8),pe$9(we$5))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}};zD([ie$4(),QD("design:type",Object)],E$5.prototype,"logout$",undefined);
var u$1=class u{constructor(r){this.product=r;}};var m$1=class m{constructor(r){this.product=r;}};var h$1=class h{};var d$1=function(e){return e.Standard="standard",e.Sample="sample",e.Bulk="bulk",e}(d$1||{}),S$1=function(e){return e.ProductSelection="products",e.Shipping="shipping",e.SubmitOrder="submit-order",e}(S$1||{});function I$1(e){return {amount:e.remainingAmount,promo_code:e.campaignId,type:e.type,id:e.id}}var $=function(e){return e.Percent="percent",e.ProductionPercent="production_percent",e.FreeShipping="free_shipping",e.FreeSample="free_sample",e}($||{}),x$2=function(e){return e.Duplicate="duplicate",e.Personalised="personalised",e.WebsiteCreate="website_create",e}(x$2||{});var a$1=class a{constructor(r,s){this.errorTitle=r,this.orderId=s;}};var G=(()=>{class e{constructor(s){this.userService=s,this.userName$=this.userService.user$.pipe(ie$b(({contacts:t})=>t?.fullname??""),Dr$5()),this.name$=this.userName$.pipe(ie$b(t=>{let[l,v]=(t||" ").split(" ");return {firstName:l,lastName:v,fullName:t||""}})),this.email$=this.userService.user$.pipe(ie$b(({contacts:t})=>t?.email??""),Dr$5()),this.phoneNumber$=this.userService.user$.pipe(ie$b(({contacts:t})=>t?.phone??""),Dr$5()),this.additionalPhoneNumber$=this.userService.user$.pipe(ie$b(({contacts:t})=>t?.phone2??""),Dr$5()),this.address$=this.userService.user$.pipe(ie$b(({legal:t})=>t?.address),Dr$5(f$1)),this.productSamplesShippingAddress$=this.userService.user$.pipe(ie$b(({contacts:t})=>t?.address),Dr$5(f$1));}static{this.\u0275fac=function(t){return new(t||e)(pe$9(J$5))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function f$1(e,r){return !e||!r?e===r:Object.keys(e).every(s=>e[s]===r[s])}var c$4=()=>{let a=N$8(Ro$2);return ()=>({storeId:a.getId(),connectionFlowBasePath:`/${o$9}/${E$7}/${S$3}`})},C$4=new k$5("Configures connection params of SalesChannelsCatalogService to use wizard-embedded components",{providedIn:"root",factory:c$4});var b$2=(()=>{class e{constructor(){this.userService=N$8(J$5);}isAvailable(){return this.userService.userCountry$.pipe(ie$b(r=>!r||this.isAvailableForCountry(r)))}isAvailableForCountry(r){return Jd.includes(r)&&!Ce$7.isBlocklistedCountry(r)}static{this.\u0275fac=function(c){return new(c||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var C$3=t=>{let e=t.type===ct$2.type&&Ei$3(t,P$4.StoreConnected)?.progress;return e?e>=F$2.salesChannelPromoSeen&&e<o$b.finished:false};function c$3(n,e){let o=window.URL.createObjectURL(n);t$3(o,e),window.URL.revokeObjectURL(o);}function t$3(n,e){let o=document.createElement("a");o.href=n,o.download=e??"",document.body.appendChild(o),o.click(),document.body.removeChild(o);}var r=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function d(n,e){return Object.fromEntries(Object.entries(n).filter(([o])=>!e.includes(o)))}var q$2=(()=>{class p{constructor(e,t){this.httpClient=e,this.environment=t;}getLastCreatedProduct(e,t){return this.getProducts(e,t,{page:1,limit:1,sort:"created_at"}).pipe(ie$b(r=>r.data[0]))}getProducts(e,t,{page:r$1,searchKey:s,limit:n,filters:h,sort:l,salesChannel:d}){let{brands:$,print_providers:m,status:g,delivery_options:v}=h||{},L=new Ie$6({fromObject:w$9(w$9(w$9(w$9(w$9(w$9(w$9({page:r$1.toString(),limit:n},s?{searchKey:s}:{}),$?{"filters[brand][]":$}:{}),m?{"filters[pp][]":m}:{}),g?{"filters[status][]":g}:{}),v?{"filters[delivery_option][]":v}:{}),l?{sort:`-${l}`}:{}),d?{salesChannel:d}:{}),encoder:new r});return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products`,{params:L})}getPersonalizableProducts(e,t,{page:r,limit:s}){let n=new Ie$6({fromObject:{page:r,limit:s}});return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/personalisable`,{params:n})}getPublishedProductsCount(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/count-published`,{params:r?{start_from_ts:r}:{}})}getProductById(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products`,{params:{searchKey:r,limit:"1",page:"1"}}).pipe(ie$b(s=>s.data[0]))}deleteProduct(e,t,r){return this.httpClient.post(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/delete`,{products:r})}editPrices(e,t,r){return this.httpClient.post(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/change-price`,r)}duplicateProduct(e,t,r){return this.httpClient.post(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/${r}/duplicate`,null)}getProductsPublishingProcesses(e,t){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/publishing-processes`)}getExternalProducts(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/external-browser`,{params:w$9({},r)})}getExternalProductById(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/external-browser/${r}`)}getExternalProductsForImport(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/orders/import/products${r}`)}getExternalPreviousProductsForImport(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/orders/import/suggested-products/${r}`)}getExternalProductsForMigration(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/import/list${r}`)}getExternalProductsCategories(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/orders/import/blueprint/${r}`)}getFilters(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/filters`,{params:{type:r}}).pipe(ie$b(s=>s.data))}saveShippingMethod(e,t,r){return this.httpClient.post(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/shipping/save`,r)}publishShippingMethod(e,t,r){return this.httpClient.post(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/shipping/publish`,r)}getProductsCost(e,t,r){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/shipping/costs?products[]=${r.join("&products[]=")}`)}getChoicePrintAreaRequireActionProducts(e,t,{page:r,limit:s}){let n=new Ie$6({fromObject:{page:r,limit:s}});return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/require-action/choice-print-area`,{params:n})}getChoicePrintAreaRequireActionProductsCount(e,t){return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/require-action/choice-print-area/count`).pipe(ie$b(({data:r})=>r))}getFulfilmentStandardsDivergentProducts(e,t,{page:r,limit:s,salesChannel:n}){if(!n)return Xp$2(()=>new Error('getFulfilmentStandardsDivergentProducts: "salesChannel" param is required'));let h=new Ie$6({fromObject:{page:r,limit:s,salesChannel:n}});return this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/require-action/fulfillment`,{params:h})}getFulfilmentStandardsDivergentProductsCount(e,t,r){return r?this.httpClient.get(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/require-action/fulfillment/count?salesChannel=${r}`).pipe(ie$b(({data:s})=>s)):Xp$2(()=>new Error('getFulfilmentStandardsDivergentProductsCount: "salesChannelName" param is required'))}enableGlobalFulfilment(e,t,r){return this.httpClient.put(`${this.environment.apiURL}v1/users/${e}/shops/${t}/products/${r}/enable_global_fulfillment`,{})}static{this.\u0275fac=function(t){return new(t||p)(pe$9(_u$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:p,factory:p.\u0275fac,providedIn:"root"});}}return p})();var A$1=class A{};var ke$1=5,ze$1=(()=>{class i{constructor(){this.checklistService=N$8(Ge$3),this.checklistApiService=N$8(ee$3),this.userProductsStatsService=N$8(W$1),this.storesService=N$8(Ro$2),this.events=N$8(H$7),this.wizardService=N$8(pn$3),this.salesChannelMerchantVerificationService=N$8(v$2),this.routingService=N$8(Ya$1),this.hasNewEntrypointsFeature$=this.checklistService.loadingStatus$.pipe(Ac$3(e=>[C$5.Loaded,C$5.NoChecklist].includes(e)?this.checklistApiService.hasOnlySetupChecklistEnabled():hi$7(false)),_c$3(1)),this.hasWidgetEntrypoint$=Hp$2([this.userProductsStatsService.hasProducts$,this.hasNewEntrypointsFeature$]).pipe(ie$b(e=>e.every(Boolean)),_c$3(1));}initialize(){this.hasWidgetEntrypoint$.pipe(Ac$3(e=>e?this.handleProductCreationWizard():be$8)).subscribe();}handleProductCreationWizard(){let e=this.events.pipe(G$6(A$1),Ac$3(()=>$p$1(this.handleProductCreatedWizard(),this.handleProductPublishedWizard()).pipe(Oc$2(this.events.pipe(G$6(s$8)))))),t=$p$1(this.handleProductCreatedWizard(),this.handleProductPublishedWizard()),r=this.storesService.productsTotalCount$.pipe(mt$8(1),ie$b(f=>f>=ke$1)),a=this.storesService.productsTotalCount$.pipe(ie$b(f=>f>=ke$1),Ye$b(Boolean));return $p$1(r,a).pipe(Dr$5(),Ac$3(f=>f?e:t))}handleProductCreatedWizard(){let e=this.events.pipe(G$6(Ae$5)),t=this.events.pipe(G$6(Er$3),Rc$2(this.routingService.previousUrl$),Ye$b(([{payload:r},a])=>r.updatedFrom===so$4.Designer&&!!a?.includes(E$9)),ie$b(([r])=>r));return $p$1(e,t).pipe(kc$2(r=>this.wizardService.open([_$4,o$7],{queryParams:{productId:r.payload.productId}})),Ii$4())}handleProductPublishedWizard(){return this.events.pipe(G$6(br$3),Ye$b(({payload:e})=>e.publishedFrom!=="my_store_bulk"),Wc$3(0),Rc$2(this.salesChannelMerchantVerificationService.getDialog()),Ye$b(([,e])=>!e),ie$b(([{payload:e}])=>({productId:e.product._id})),kc$2(e=>this.wizardService.open([_$4,S$5],{queryParams:e})),Ii$4())}static{this.\u0275fac=function(t){return new(t||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})(),lt$3={provide:Vf$2,useFactory:i=>()=>i.initialize(),deps:[ze$1],multi:true};var Fe$2="minProductsToShowModal",It=(()=>{class i{constructor(){this.storefrontAvailabilityService=N$8(b$2),this.featureTogglesService=N$8(te$5),this.checklistService=N$8(Ge$3),this.salesChannelService=N$8(Pt$2),this.storesService=N$8(Ro$2),this.setupWizardSalesChannelConnectionParamsFactory=N$8(C$4),this.shouldRecommend$=Hp$2([this.featureTogglesService.isFeatureEnabled$(jt$2.SalesChannelAbandonmentFlow),this.checklistService.state$.pipe(ie$b(C$3)),this.storefrontAvailabilityService.isAvailable()]).pipe(ie$b(e=>e.every(Boolean))),this.shouldShowModal$=Hp$2([this.shouldRecommend$,this.storesService.selectedStore$,this.featureTogglesService.getFeatureVariable$(jt$2.SalesChannelAbandonmentFlow,Fe$2)]).pipe(ie$b(([e,t,r])=>!e||!r?false:t.products.count>=r));}startConnection(){this.salesChannelService.getById(b$9.Storefront).pipe(mt$8(1)).subscribe(e=>this.salesChannelService.connect(e,this.setupWizardSalesChannelConnectionParamsFactory()));}static{this.\u0275fac=function(t){return new(t||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var Le$2=3,je$1=Array.from({length:Le$2}).map((i,l)=>({name:`Placeholder Product ${l+1}`,image:`/assets/img/dashboard/storefront-recommendation/recent-product-preview-placeholder-${l+1}.png`})),Ge$1={name:"Preview Loading",image:undefined},$e$1=(()=>{class i{constructor(){this.productsListApiService=N$8(q$2),this.userService=N$8(J$5),this.storesService=N$8(Ro$2),this.mockupsApiService=N$8(M$2),this.previews$=this.fetchPreviews().pipe(_c$3({bufferSize:1,refCount:true}));}getPreviews({withLoading:e=true}={}){return e?this.previews$.pipe(Sc$2(Array.from({length:Le$2}).map(()=>Ge$1))):this.previews$}fetchPreviews(){return this.getRecentProductPreviews().pipe(ie$b(e=>e.length?e:je$1))}getRecentProductPreviews(){return Hp$2([this.userService.id$,this.storesService.id$]).pipe(Ac$3(([e,t])=>this.getRecentProducts(e,t).pipe(Ac$3(r=>r.length?this.withContextualMockups(r,t):hi$7([])))),yi$5(()=>hi$7([])))}getRecentProducts(e,t){return this.productsListApiService.getProducts(e,t,{page:1,limit:3,sort:"created_at"}).pipe(ie$b(r=>r.data))}withContextualMockups(e,t){return Hp$2(e.map(r=>this.getProductContextualMockup(t,r).pipe(ie$b(a=>x$d(w$9({},r),{image:a})),Sc$2(x$d(w$9({},r),{image:undefined})))))}getProductContextualMockup(e,t){return this.mockupsApiService.getGeneratedMockupsR3({shopId:e.toString(),productId:t._id}).pipe(ie$b(({mockups:r})=>l$6(r)),yi$5(()=>hi$7(t.image)))}static{this.\u0275fac=function(t){return new(t||i)};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();function Ve(i,l){if(i&1&&ME(0,"img",4),i&2){let e=tP().$implicit;lE("src",e.image,sy$2)("alt",e.name);}}function He$3(i,l){i&1&&ME(0,"pfy-skeleton",5);}function Ye$1(i,l){if(i&1&&(Kf$2(0,"li",2),kI(1,Ve,1,2,"img",4)(2,He$3,1,0,"pfy-skeleton",5),Kf$2(3,"div",6),ME(4,"div",7)(5,"div",8),Xf$2()()),i&2){let e=l.$implicit;xR(),QR(e.image?1:2);}}var Ze=422,Gt$1=(()=>{class i{constructor(){this.elementRef=N$8(Uo$5),this.resizeObserverService=N$8(fs$1),this.recentProductPreviewService=N$8($e$1),this.showLoading=cR(false),this.scale=Wn$4(this.resizeObserverService.observe(this.elementRef.nativeElement).pipe(ie$b(r=>Math.min(r.contentRect.width/Ze,1))));let t=Lr$3(this.showLoading).pipe(Ac$3(r=>this.recentProductPreviewService.getPreviews({withLoading:r})));this.previews=Wn$4(t);}static{this.\u0275fac=function(t){return new(t||i)};}static{this.\u0275cmp=LR({type:i,selectors:[["pfa-storefront-recent-products-preview"]],hostVars:4,hostBindings:function(t,r){if(t&2){let a;dE("no-padding",r.scale()<.72)("single-product",((a=r.previews())==null?null:a.length)===1);}},inputs:{showLoading:[1,"showLoading"]},decls:5,vars:4,consts:[[1,"wrapper"],[1,"product-preview-list"],[1,"product-preview"],["src","/assets/img/dashboard/storefront-recommendation/recent-product-preview-stickers.png","alt","Pop-Up Store Promo Stickers",1,"storefront-promo-stickers"],[1,"product-preview-image",3,"src","alt"],["data-testid","productPreviewImageSkeleton",1,"product-preview-image-skeleton"],[1,"product-preview-data"],[1,"product-preview-data-row","product-preview-data-row-1"],[1,"product-preview-data-row","product-preview-data-row-2"]],template:function(t,r){if(t&1&&(Kf$2(0,"div",0)(1,"ul",1),JR(2,Ye$1,6,1,"li",2,ZR),Xf$2(),ME(4,"img",3),Xf$2()),t&2){let a;uE("transform","scale("+r.scale()+")")("visibility",(a=r.previews())!=null&&a.length?undefined:"hidden"),xR(2),KR(r.previews());}},dependencies:[hu$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;max-width:422px;height:100%;display:grid;place-content:center;padding:2.5rem 0}.no-padding[_nghost-%COMP%]{padding:0}.wrapper[_ngcontent-%COMP%]{height:165px;width:422px;position:relative}.product-preview-list[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center}.product-preview[_ngcontent-%COMP%]{width:130px;height:165px;padding:.75rem;display:flex;flex-direction:column;justify-content:space-between;gap:.75rem;background-color:#fff;box-shadow:3px 3px 4.5px #a8a794;border-radius:4px;position:relative}.product-preview[_ngcontent-%COMP%]:nth-last-of-type(3){transform:rotate(-11.583deg);right:23px;z-index:20}.product-preview[_ngcontent-%COMP%]:nth-last-of-type(2){transform:rotate(17.385deg);top:14px;z-index:10}.product-preview[_ngcontent-%COMP%]:nth-last-of-type(1){transform:rotate(-8.283deg) scale(1.14);left:21px;top:6px}.product-preview-image[_ngcontent-%COMP%]{width:100%}.product-preview-image-skeleton[_ngcontent-%COMP%]{width:100%;padding-top:100%}.product-preview-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.product-preview-data-row[_ngcontent-%COMP%]{background-color:#e0e0d7;height:10.3px}.product-preview-data-row-1[_ngcontent-%COMP%]{width:80%}.product-preview-data-row-2[_ngcontent-%COMP%]{width:30%}.storefront-promo-stickers[_ngcontent-%COMP%]{width:212px;position:absolute;left:57%;top:-1%;transform:translate(-50%,-50%);z-index:20}.single-product[_nghost-%COMP%]   .product-preview[_ngcontent-%COMP%]{top:17px;left:-50px}.single-product[_nghost-%COMP%]   .storefront-promo-stickers[_ngcontent-%COMP%]{left:72%;top:68%}'],changeDetection:0});}}return i})();var Ne=class{constructor(l){this.product=l;}};var De$2=["Early Access","Supplements","Embroidery"],Ue$2=[],Be={badgeColor:ds$3.Blue,badgeText:"New"},We$2={badgeColor:ds$3.Blue,badgeText:"Beta"};var ri$1=(()=>{class i{constructor(e){this.catalogCategoriesService=e,this.standardNavigationItems$=this.catalogCategoriesService.standardCategories$.pipe(ie$b(t=>t.map(r=>i.toCatalogNavigationItem(r.topLevel)))),this.promotionalNavigationItems$=this.catalogCategoriesService.promotionalCategories$.pipe(ie$b(t=>t.map(r=>i.toCatalogNavigationItem(r.topLevel)))),this.navigationItems$=Hp$2([this.catalogCategoriesService.isLoading$,this.standardNavigationItems$,this.promotionalNavigationItems$]).pipe(ie$b(([t,r,a])=>t?[{type:bo$3.Action,text:"Loading...",iconLeft:"sync",disabled:true,handler:()=>{}}]:[{type:bo$3.InternalLink,text:"Catalog Home",path:"/products"},...i.addBadgesToSelectedNavigationItems([...r,...a]),{type:bo$3.Divider},{type:bo$3.InternalLink,text:"Print providers",path:"/print-providers"},{type:bo$3.InternalLink,text:"Brands",path:"/brands"},{type:bo$3.Divider},{type:bo$3.InternalLink,text:"My favorites",path:"/favorite-products",iconLeft:"favorite"}]));}static toCatalogNavigationItem(e){let t={type:bo$3.InternalLink,text:e.tag,path:i.buildCatalogNavigationItemUrl(e.tag)};return e.subLevel.length?{type:bo$3.Expandable,text:e.tag,items:[x$d(w$9({},t),{text:"See all"}),...e.subLevel.map(r=>({type:bo$3.InternalLink,text:r.tag,path:i.buildCatalogNavigationItemUrl(e.tag,r.tag)})),{type:bo$3.Divider}]}:t}static buildCatalogNavigationItemUrl(e,t){let r=t?`/products/${e}/${t}`:`/products/${e}`;return ae$6(r)}static addBadgesToSelectedNavigationItems(e){return e.map(t=>t.type===bo$3.Expandable&&t.items.length?x$d(w$9({},this.addBadgeToNavigationItem(t)),{items:t.items.map(r=>this.addBadgeToNavigationItem(r))}):this.addBadgeToNavigationItem(t))}static addBadgeToNavigationItem(e){return e.type===bo$3.Divider||!e.text?e:De$2.includes(e.text)?w$9(w$9({},e),Be):Ue$2.includes(e.text)?w$9(w$9({},e),We$2):e}static{this.\u0275fac=function(t){return new(t||i)(pe$9(Jc$2))};}static{this.\u0275prov=H$9({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var t$2=class t{constructor(s){this.numericReferenceType=s,this.productId=null,this.productName="";}};function n$3(t){return t[Math.floor(Math.random()*t.length)]}var o$2=(()=>{class a{constructor(){this.available=new yn$7(true),this.available$=this.available.asObservable(),this.displayError=new yn$7(false),this.displayError$=this.displayError.asObservable();}restore(){this.available.next(true),this.displayError.next(false);}setUnavailable(){this.available.next(false),this.displayError.next(true);}isAvailable(){return this.available.value}dismissError(){this.displayError.next(false);}static{this.\u0275fac=function(t){return new(t||a)};}static{this.\u0275prov=H$9({token:a,factory:a.\u0275fac,providedIn:"root"});}}return a})();var n$2="Varies according to product and print provider.",e="Package inserts enabled for all orders. With your current settings, an order may contain both a package insert and a gift message.";var t$1=function(r){return r.BrandingInsert="brandingInsert",r.GiftMessage="giftMessage",r}(t$1||{});var ga$1=B$a(hi=>{Object.defineProperty(hi,"__esModule",{value:true});function Aa(e,r){if(r==null||typeof e>"u"||!Object.prototype.isPrototypeOf.call(Object.getPrototypeOf(e),r)||r.constructor.name!=="Object"&&r.constructor.name!=="Array")return r;var t={};return Object.keys(r).forEach(function(n){var i=Object.prototype.hasOwnProperty.call(e,n);i&&typeof e[n]=="object"&&!Array.isArray(e[n])?t[n]=Aa(e[n],r[n]):t[n]=r[n];}),Object.keys(e).forEach(function(n){var i=Object.prototype.hasOwnProperty.call(r,n);i||(t[n]=e[n]);}),Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}hi.default=Aa;});var yi$1=B$a(er=>{Object.defineProperty(er,"__esModule",{value:true});er.SEPARATOR=er.PREFIX=undefined;er.PREFIX="APP";er.SEPARATOR="::";});var I=B$a(Et=>{Object.defineProperty(Et,"__esModule",{value:true});Et.ComponentType=Et.Group=undefined;(function(e){e.AuthCode="AuthCode",e.Button="Button",e.ButtonGroup="ButtonGroup",e.Cart="Cart",e.Client="Client",e.ContextualSaveBar="ContextualSaveBar",e.Error="Error",e.Features="Features",e.FeedbackModal="FeedbackModal",e.Fullscreen="Fullscreen",e.LeaveConfirmation="LeaveConfirmation",e.Link="Link",e.Loading="Loading",e.Menu="Menu",e.Modal="Modal",e.Navigation="Navigation",e.Performance="Performance",e.Pos="Pos",e.Print="Print",e.ResourcePicker="Resource_Picker",e.unstable_Picker="unstable_Picker",e.Scanner="Scanner",e.SessionToken="SessionToken",e.Share="Share",e.TitleBar="TitleBar",e.Toast="Toast",e.MarketingExternalActivityTopBar="MarketingExternalActivityTopBar",e.WebVitals="WebVitals";})(Et.Group||(Et.Group={}));(function(e){e.Button="Button",e.ButtonGroup="ButtonGroup";})(Et.ComponentType||(Et.ComponentType={}));});var M=B$a(F=>{var dp=F&&F.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F,"__esModule",{value:true});F.updateActionFromPayload=F.isValidOptionalString=F.isValidOptionalNumber=F.forEachInEnum=F.getMergedProps=F.findMatchInEnum=F.getEventNameSpace=F.NonSnakeCaseGroup=F.actionWrapper=undefined;var fp=dp(ga$1()),St=yi$1(),V=I();function hp(e){return e}F.actionWrapper=hp;F.NonSnakeCaseGroup=[V.Group.AuthCode,V.Group.Button,V.Group.ButtonGroup,V.Group.Cart,V.Group.Error,V.Group.Features,V.Group.Fullscreen,V.Group.Link,V.Group.Loading,V.Group.Menu,V.Group.Modal,V.Group.Navigation,V.Group.Pos,V.Group.Print,V.Group.ResourcePicker,V.Group.Scanner,V.Group.SessionToken,V.Group.Share,V.Group.TitleBar,V.Group.Toast,V.Group.unstable_Picker];function yp(e){return e.replace(/([A-Z])/g,function(r,t,n){return (n===0?"":"_")+r[0].toLowerCase()})}function vp(e){return F.NonSnakeCaseGroup.includes(e)?e.toUpperCase():yp(e).toUpperCase()}function _p(e,r,t){if(r.startsWith(""+St.PREFIX+St.SEPARATOR))return r;var n=vp(e);if(t){var i=t.subgroups,o=t.type;i&&i.length>0&&(n+=n.length>0?St.SEPARATOR:"",i.forEach(function(a,c){n+=""+a.toUpperCase()+(c<i.length-1?St.SEPARATOR:"");})),o!==e&&o&&(n+=""+(n.length>0?St.SEPARATOR:"")+o.toUpperCase());}return n&&(n+=""+(n.length>0?St.SEPARATOR:"")+r.toUpperCase()),""+St.PREFIX+St.SEPARATOR+n}F.getEventNameSpace=_p;function Pp(e,r){var t=Object.keys(e).find(function(n){return r===e[n]});return t?e[t]:undefined}F.findMatchInEnum=Pp;function ba(e,r){var t=fp.default(e,r);if(!t){var n=Object.assign(e,r);return n}return t}F.getMergedProps=ba;function Ap(e,r){Object.keys(e).forEach(function(t){r(e[t]);});}F.forEachInEnum=Ap;function gp(e){return e==null||typeof e=="number"}F.isValidOptionalNumber=gp;function bp(e){return e==null||typeof e=="string"}F.isValidOptionalString=bp;function mp(e,r){var t=e.id;return t===r.id?(Object.assign(e,ba(e,r)),true):false}F.updateActionFromPayload=mp;});var ma$1=B$a((bv,Op)=>{Op.exports={name:"@shopify/app-bridge",version:"3.7.9",types:"index.d.ts",main:"index.js",unpkg:"umd/index.js",jsdelivr:"umd/index.js",files:["/actions/","/client/","/umd/","/utilities/","/util/","/validate/","/development.d.ts","/development.js","/index.d.ts","/index.js","/MessageTransport.d.ts","/MessageTransport.js","/production.d.ts","/production.js"],private:false,publishConfig:{access:"public","@shopify:registry":"https://registry.npmjs.org"},repository:"git@github.com:Shopify/app-bridge.git",homepage:"https://shopify.dev/docs/api/app-bridge/previous-versions/app-bridge-from-npm/app-setup",author:"Shopify Inc.",license:"MIT",scripts:{build:"yarn build:tsc && yarn build:npm && yarn build:umd","build:tsc":"NODE_ENV=production tsc","build:umd":"NODE_ENV=production webpack -p","build:npm":"shx cp -r ./npm/index.js ./index.js",check:"tsc",clean:"yarn clean:tsc && yarn clean:npm && yarn clean:umd","clean:tsc":"NODE_ENV=production tsc --build --clean","clean:umd":"rm -rf ./umd","clean:npm":"rm -rf ./index.js",pack:"yarn pack",size:"size-limit"},sideEffects:false,"size-limit":[{limit:"10.5 KB",path:"production.js"}],dependencies:{"@shopify/app-bridge-core":"1.0.2",base64url:"^3.0.1","web-vitals":"^3.0.1"},devDependencies:{"@types/node":"^10.12.5",shx:"^0.3.3"}};});var Gt=B$a(G=>{Object.defineProperty(G,"__esModule",{value:true});G.getPackageName=G.getVersion=G.getMergedProps=G.updateActionFromPayload=G.isValidOptionalString=G.isValidOptionalNumber=G.NonSnakeCaseGroup=G.getEventNameSpace=G.forEachInEnum=G.findMatchInEnum=G.actionWrapper=undefined;var dt=M();Object.defineProperty(G,"actionWrapper",{enumerable:true,get:function(){return dt.actionWrapper}});Object.defineProperty(G,"findMatchInEnum",{enumerable:true,get:function(){return dt.findMatchInEnum}});Object.defineProperty(G,"forEachInEnum",{enumerable:true,get:function(){return dt.forEachInEnum}});Object.defineProperty(G,"getEventNameSpace",{enumerable:true,get:function(){return dt.getEventNameSpace}});Object.defineProperty(G,"NonSnakeCaseGroup",{enumerable:true,get:function(){return dt.NonSnakeCaseGroup}});Object.defineProperty(G,"isValidOptionalNumber",{enumerable:true,get:function(){return dt.isValidOptionalNumber}});Object.defineProperty(G,"isValidOptionalString",{enumerable:true,get:function(){return dt.isValidOptionalString}});Object.defineProperty(G,"updateActionFromPayload",{enumerable:true,get:function(){return dt.updateActionFromPayload}});Object.defineProperty(G,"getMergedProps",{enumerable:true,get:function(){return dt.getMergedProps}});var Oa=ma$1();function Ep(){return Oa.version}G.getVersion=Ep;function Sp(){return Oa.name}G.getPackageName=Sp;});var Sa$1=B$a(qt=>{Object.defineProperty(qt,"__esModule",{value:true});qt.app=qt.Action=undefined;var Tp=M(),Cp=I(),Ea;(function(e){e.APP="APP::PRINT::APP";})(Ea=qt.Action||(qt.Action={}));function Ip(){return Tp.actionWrapper({group:Cp.Group.Print,type:Ea.APP})}qt.app=Ip;});var vi$1=B$a(tr=>{Object.defineProperty(tr,"__esModule",{value:true});tr.app=tr.Action=undefined;var Ta=Sa$1();Object.defineProperty(tr,"Action",{enumerable:true,get:function(){return Ta.Action}});Object.defineProperty(tr,"app",{enumerable:true,get:function(){return Ta.app}});});var Nr=B$a(Y=>{Object.defineProperty(Y,"__esModule",{value:true});Y.permissionAction=Y.isErrorEventName=Y.throwError=Y.invalidOriginAction=Y.fromAction=Y.AppBridgeError=Y.AppActionType=Y.Action=undefined;var Ca=I(),_i=M(),jr;(function(e){e.INVALID_ACTION="APP::ERROR::INVALID_ACTION",e.INVALID_ACTION_TYPE="APP::ERROR::INVALID_ACTION_TYPE",e.INVALID_PAYLOAD="APP::ERROR::INVALID_PAYLOAD",e.INVALID_OPTIONS="APP::ERROR::INVALID_OPTIONS",e.UNEXPECTED_ACTION="APP::ERROR::UNEXPECTED_ACTION",e.PERSISTENCE="APP::ERROR::PERSISTENCE",e.UNSUPPORTED_OPERATION="APP::ERROR::UNSUPPORTED_OPERATION",e.NETWORK="APP::ERROR::NETWORK",e.PERMISSION="APP::ERROR::PERMISSION",e.FAILED_AUTHENTICATION="APP::ERROR::FAILED_AUTHENTICATION",e.INVALID_ORIGIN="APP::ERROR::INVALID_ORIGIN";})(jr=Y.Action||(Y.Action={}));(function(e){e.INVALID_CONFIG="APP::ERROR::INVALID_CONFIG",e.MISSING_CONFIG="APP::APP_ERROR::MISSING_CONFIG",e.MISSING_APP_BRIDGE_MIDDLEWARE="APP::APP_ERROR::MISSING_APP_BRIDGE_MIDDLEWARE",e.WINDOW_UNDEFINED="APP::APP_ERROR::WINDOW_UNDEFINED",e.REDUX_REINSTANTIATED="APP::APP_ERROR::REDUX_REINSTANTIATED",e.MISSING_LOCAL_ORIGIN="APP::APP_ERROR::MISSING_LOCAL_ORIGIN",e.MISSING_HOST_PROVIDER="APP::APP_ERROR::MISSING_HOST_PROVIDER",e.MISSING_ROUTER_CONTEXT="APP::APP_ERROR::MISSING_ROUTER_CONTEXT",e.MISSING_HISTORY_BLOCK="APP::APP_ERROR::MISSING_HISTORY_BLOCK";})(Y.AppActionType||(Y.AppActionType={}));var Pi=function(){function e(r){this.name="AppBridgeError",this.message=r,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack;}return e}();Y.AppBridgeError=Pi;Pi.prototype=Object.create(Error.prototype);function Ia(e,r,t){var n=e?r+": "+e:r,i=new Pi(n);return i.action=t,i.type=r,i}Y.fromAction=Ia;function Rp(e){return _i.actionWrapper({group:Ca.Group.Error,payload:{message:e,type:jr.INVALID_ORIGIN},type:jr.INVALID_ORIGIN})}Y.invalidOriginAction=Rp;function jp(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[0],n,i;throw typeof e[1]=="string"?n=e[1]:(i=e[1],n=e[2]||""),Ia(n,t,i)}Y.throwError=jp;function Np(e){var r=_i.findMatchInEnum(jr,e);return typeof r=="string"}Y.isErrorEventName=Np;function Lp(e,r,t){var n=r.payload;return _i.actionWrapper({type:e,group:Ca.Group.Error,payload:{action:r,message:t,type:e,id:n&&n.id?n.id:undefined}})}function Dp(e,r){return Lp(jr.PERMISSION,e,r||"Action is not permitted")}Y.permissionAction=Dp;});var Ft=B$a(rr=>{Object.defineProperty(rr,"__esModule",{value:true});rr.ComponentType=rr.Group=undefined;var Ma=I();Object.defineProperty(rr,"Group",{enumerable:true,get:function(){return Ma.Group}});Object.defineProperty(rr,"ComponentType",{enumerable:true,get:function(){return Ma.ComponentType}});});var An$2=B$a(E=>{Object.defineProperty(E,"__esModule",{value:true});E.networkAction=E.persistenceAction=E.unsupportedOperationAction=E.unexpectedAction=E.invalidAction=E.invalidActionType=E.invalidPayload=E.Message=E.fromAction=E.Action=E.permissionAction=E.isErrorEventName=E.throwError=E.invalidOriginAction=E.AppBridgeError=E.AppActionType=undefined;var Ue=Nr();Object.defineProperty(E,"Action",{enumerable:true,get:function(){return Ue.Action}});Object.defineProperty(E,"fromAction",{enumerable:true,get:function(){return Ue.fromAction}});var vn=Gt(),_n=Ft(),nr=Nr();Object.defineProperty(E,"AppActionType",{enumerable:true,get:function(){return nr.AppActionType}});Object.defineProperty(E,"AppBridgeError",{enumerable:true,get:function(){return nr.AppBridgeError}});Object.defineProperty(E,"invalidOriginAction",{enumerable:true,get:function(){return nr.invalidOriginAction}});Object.defineProperty(E,"throwError",{enumerable:true,get:function(){return nr.throwError}});Object.defineProperty(E,"isErrorEventName",{enumerable:true,get:function(){return nr.isErrorEventName}});Object.defineProperty(E,"permissionAction",{enumerable:true,get:function(){return nr.permissionAction}});function Pn(e,r,t){var n=r.payload;return vn.actionWrapper({type:e,group:_n.Group.Error,payload:{action:r,message:t,type:e,id:n&&n.id?n.id:undefined}})}(function(e){e.MISSING_PAYLOAD="Missing payload",e.INVALID_PAYLOAD_ID="Id in payload is missing or invalid";})(E.Message||(E.Message={}));function wp(e,r){return Pn(Ue.Action.INVALID_PAYLOAD,e,r||"The action's payload is missing required properties or has invalid properties")}E.invalidPayload=wp;function Up(e,r){return vn.actionWrapper({group:_n.Group.Error,payload:{action:e,message:r||"The action type is invalid or unsupported",type:Ue.Action.INVALID_ACTION_TYPE},type:Ue.Action.INVALID_ACTION_TYPE})}E.invalidActionType=Up;function Gp(e,r){return vn.actionWrapper({group:_n.Group.Error,payload:{action:e,message:r||"The action's has missing/invalid values for `group`, `type` or `version`",type:Ue.Action.INVALID_ACTION},type:Ue.Action.INVALID_ACTION})}E.invalidAction=Gp;function qp(e,r){return vn.actionWrapper({group:_n.Group.Error,payload:{action:e,message:r||"Action cannot be called at this time",type:Ue.Action.UNEXPECTED_ACTION},type:Ue.Action.UNEXPECTED_ACTION})}E.unexpectedAction=qp;function Fp(e,r){return Pn(Ue.Action.UNSUPPORTED_OPERATION,e,r||"The action type is unsupported")}E.unsupportedOperationAction=Fp;function kp(e,r){return Pn(Ue.Action.PERSISTENCE,e,r||"Action cannot be persisted on server")}E.persistenceAction=kp;function Wp(e,r){return Pn(Ue.Action.NETWORK,e,r||"Network error")}E.networkAction=Wp;});var ir$2=B$a(Qe=>{Object.defineProperty(Qe,"__esModule",{value:true});Qe.LifecycleHook=Qe.PermissionType=Qe.MessageType=undefined;(function(e){e.GetState="getState",e.Dispatch="dispatch",e.Subscribe="subscribe",e.Unsubscribe="unsubscribe";})(Qe.MessageType||(Qe.MessageType={}));(function(e){e.Dispatch="Dispatch",e.Subscribe="Subscribe";})(Qe.PermissionType||(Qe.PermissionType={}));(function(e){e.UpdateAction="UpdateAction",e.DispatchAction="DispatchAction";})(Qe.LifecycleHook||(Qe.LifecycleHook={}));});var Ai$2=B$a(Ge=>{Object.defineProperty(Ge,"__esModule",{value:true});Ge.isPermitted=Ge.getPermissionKey=Ge.isPerformanceOrWebVitalsAction=Ge.isAppMessage=Ge.isAppBridgeAction=undefined;var Kp=ir$2(),gn=yi$1(),zp=M();function Yp(e){return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"type")&&e.type.toString().startsWith(gn.PREFIX)}Ge.isAppBridgeAction=Yp;function Qp(e){if(typeof e!="object"||!e.data||typeof e.data!="object")return  false;var r=e.data;return Object.prototype.hasOwnProperty.call(r,"type")&&zp.findMatchInEnum(Kp.MessageType,r.type)!==undefined}Ge.isAppMessage=Qp;function $p(e){var r=e.type;return r.match(/^APP::(PERFORMANCE|WEB_VITALS)::/)}Ge.isPerformanceOrWebVitalsAction=$p;function Ra(e){return e.replace(new RegExp("^"+gn.PREFIX+gn.SEPARATOR+"\\w+"+gn.SEPARATOR),"")}Ge.getPermissionKey=Ra;function Xp(e,r,t){var n=r.group,i=r.type;if(!n||!Object.prototype.hasOwnProperty.call(e,n))return  false;var o=e[n];if(!o)return  false;var a=Ra(i);return o[a]?o[a][t]===true:false}Ge.isPermitted=Xp;});var bn$2=B$a(or=>{Object.defineProperty(or,"__esModule",{value:true});or.removeFromCollection=or.addAndRemoveFromCollection=undefined;function Zp(e,r,t){return e.push(r),function(){return ja(e,r,t)}}or.addAndRemoveFromCollection=Zp;function ja(e,r,t){var n=e.findIndex(function(i){return i===r});return n>=0?(e.splice(n,1),t&&t(r),true):false}or.removeFromCollection=ja;});var mn$1=B$a(rt=>{var gi,bi;Object.defineProperty(rt,"__esModule",{value:true});rt.isUnframed=rt.isClient=rt.isServer=undefined;rt.isServer=typeof window>"u";rt.isClient=!rt.isServer;rt.isUnframed=rt.isClient&&((bi=(gi=window.navigator)===null||gi===undefined?undefined:gi.userAgent)===null||bi===undefined?undefined:bi.indexOf("Unframed"))>0;});var La$1=B$a($e=>{Object.defineProperty($e,"__esModule",{value:true});$e.createTransportListener=$e.fromWindow=$e.fromFrame=$e.Context=undefined;var mi=Nr(),Oi=Ai$2(),Na=ir$2(),On=bn$2(),En=mn$1();(function(e){e.Modal="Modal",e.Main="Main";})($e.Context||($e.Context={}));function el(e,r,t){var n=[],i=e.host,o=e.window;if(!i)throw mi.fromAction("App frame is undefined",mi.AppActionType.WINDOW_UNDEFINED);return En.isUnframed&&window.MobileWebView&&Object.assign(window.MobileWebView,{postMessageToIframe:function(a,c){o?.postMessage(a,c),nl(a)&&i.postMessage(JSON.stringify(a.payload),location.origin);},updateIframeUrl:function(a){var c=window.location,p=(e.window||{}).location;try{var s=new URL(a).origin;s===r&&p?p.replace(a):c.href=a;}catch{}}}),i.addEventListener("message",function(a){if(!(a.source===i||!Oi.isAppMessage(a))){if(a.origin!==r){var c="Message origin '"+a.origin+"' does not match app origin '"+r+"'.",p=mi.invalidOriginAction(c),s={type:"dispatch",payload:p};o?.postMessage(s,a.origin);return}if(En.isUnframed&&window.MobileWebView){var p=JSON.stringify({id:"unframed://fromClient",origin:r,data:a.data});window.MobileWebView.postMessage(p);return}for(var h=0,S=n;h<S.length;h++){var D=S[h];D(a);}}}),{context:t,localOrigin:r,frameWindow:o,hostFrame:i,dispatch:function(a){o?.postMessage(a,r);},subscribe:function(a){return On.addAndRemoveFromCollection(n,a)}}}$e.fromFrame=el;function tl(e,r){var t=[];return typeof window!==undefined&&window.addEventListener("message",function(n){if(!(window===e&&!En.isUnframed||n.source!==e||!(Oi.isAppBridgeAction(n.data.payload)||Oi.isAppMessage(n))))for(var i=0,o=t;i<o.length;i++){var a=o[i];a(n);}}),{localOrigin:r,hostFrame:e,dispatch:function(n){var i;if(!((i=n.source)===null||i===undefined)&&i.host){if(En.isUnframed&&window&&window.MobileWebView){var o=JSON.stringify({id:"unframed://fromClient",origin:r,data:n});window.MobileWebView.postMessage(o);return}var a=new URL("https://"+n.source.host).origin;e.postMessage(n,a);}},subscribe:function(n){return On.addAndRemoveFromCollection(t,n)}}}$e.fromWindow=tl;function rl(){var e=[],r={};function t(n){function i(){if(arguments.length<2)return On.addAndRemoveFromCollection(e,{callback:arguments[0]});var o=Array.from(arguments),a=o[0],c=o[1],p=o[2],s={callback:c,id:p},h={type:a,id:p};return Object.prototype.hasOwnProperty.call(r,a)||(r[a]=[]),n&&n(Na.MessageType.Subscribe,h),On.addAndRemoveFromCollection(r[a],s,function(){n&&n(Na.MessageType.Unsubscribe,h);})}return i}return {createSubscribeHandler:t,handleMessage:function(n){e.forEach(function(i){return i.callback(n)});},handleActionDispatch:function(n){var i=n.type,o=n.payload,a=false;if(Object.prototype.hasOwnProperty.call(r,i))for(var c=0,p=r[i];c<p.length;c++){var s=p[c],h=s.id,S=s.callback,D=o&&o.id===h;(D||!h)&&(S(o),a=true);}return a}}}$e.createTransportListener=rl;function nl(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&e.type==="dispatch"&&typeof e.payload=="object"}});var Ei$2=B$a(kt=>{var il=kt&&kt.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),ol=kt&&kt.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&il(r,e,t);};Object.defineProperty(kt,"__esModule",{value:true});ol(La$1(),kt);});var Ba=B$a(ar=>{Object.defineProperty(ar,"__esModule",{value:true});ar.mockAppBridge=ar.serverAppBridge=undefined;var Sn=An$2(),Tn=function(){},Da=new Promise(function(){});ar.serverAppBridge={dispatch:function(){return {}},error:function(){return Tn},featuresAvailable:function(){return Promise.reject(Sn.fromAction("Feature detection is only available on the client side.",Sn.AppActionType.WINDOW_UNDEFINED))},getState:function(){return Promise.reject(Sn.fromAction("State is only available on the client side.",Sn.AppActionType.WINDOW_UNDEFINED))},localOrigin:"",hostOrigin:"",subscribe:function(){return Tn}};ar.mockAppBridge={dispatch:function(){return {}},error:function(){return Tn},featuresAvailable:function(){return Da},getState:function(){return Da},localOrigin:"",hostOrigin:"",subscribe:function(){return Tn}};});var Cn$2=B$a(le=>{Object.defineProperty(le,"__esModule",{value:true});le.isDevelopmentClient=le.isProduction=le.isDevelopment=le.isUnframed=le.isServer=le.isClient=undefined;var al=mn$1(),Si=mn$1();Object.defineProperty(le,"isClient",{enumerable:true,get:function(){return Si.isClient}});Object.defineProperty(le,"isServer",{enumerable:true,get:function(){return Si.isServer}});Object.defineProperty(le,"isUnframed",{enumerable:true,get:function(){return Si.isUnframed}});le.isDevelopment=typeof process<"u"&&process.env&&false;le.isProduction=!le.isDevelopment;le.isDevelopmentClient=le.isDevelopment&&al.isClient;});var wa$1=B$a(Lr=>{Object.defineProperty(Lr,"__esModule",{value:true});Lr.Action=undefined;(function(e){e.INITIALIZE="APP::CLIENT::INITIALIZE";})(Lr.Action||(Lr.Action={}));});var Ti$1=B$a(ur=>{Object.defineProperty(ur,"__esModule",{value:true});ur.initialize=ur.Action=undefined;var Ua=wa$1();Object.defineProperty(ur,"Action",{enumerable:true,get:function(){return Ua.Action}});var cl=Ft(),sl=Gt();function pl(){return sl.actionWrapper({group:cl.Group.Client,type:Ua.Action.INITIALIZE})}ur.initialize=pl;});var qa=B$a((In,Ga)=>{(function(e,r){typeof In=="object"&&typeof Ga<"u"?r(In):typeof define=="function"&&define.amd?define(["exports"],r):r((e=typeof globalThis<"u"?globalThis:e||self).webVitals={});})(In,function(e){var r,t,n,i,o,a=-1,c=function(f){addEventListener("pageshow",function(d){d.persisted&&(a=d.timeStamp,f(d));},true);},p=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},s=function(){var f=p();return f&&f.activationStart||0},h=function(f,d){var v=p(),m="navigate";return a>=0?m="back-forward-cache":v&&(document.prerendering||s()>0?m="prerender":document.wasDiscarded?m="restore":v.type&&(m=v.type.replace(/_/g,"-"))),{name:f,value:d===undefined?-1:d,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:m}},S=function(f,d,v){try{if(PerformanceObserver.supportedEntryTypes.includes(f)){var m=new PerformanceObserver(function(y){Promise.resolve().then(function(){d(y.getEntries());});});return m.observe(Object.assign({type:f,buffered:!0},v||{})),m}}catch{}},D=function(f,d,v,m){var y,N;return function(k){d.value>=0&&(k||m)&&((N=d.value-(y||0))||y===undefined)&&(y=d.value,d.delta=N,d.rating=function(z,U){return z>U[1]?"poor":z>U[0]?"needs-improvement":"good"}(d.value,v),f(d));}},re=function(f){requestAnimationFrame(function(){return requestAnimationFrame(function(){return f()})});},Te=function(f){var d=function(v){v.type!=="pagehide"&&document.visibilityState!=="hidden"||f(v);};addEventListener("visibilitychange",d,true),addEventListener("pagehide",d,true);},et=function(f){var d=false;return function(v){d||(f(v),d=true);}},Ce=-1,q=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},K=function(f){document.visibilityState==="hidden"&&Ce>-1&&(Ce=f.type==="visibilitychange"?f.timeStamp:0,ne());},W=function(){addEventListener("visibilitychange",K,true),addEventListener("prerenderingchange",K,true);},ne=function(){removeEventListener("visibilitychange",K,true),removeEventListener("prerenderingchange",K,true);},he=function(){return Ce<0&&(Ce=q(),W(),c(function(){setTimeout(function(){Ce=q(),W();},0);})),{get firstHiddenTime(){return Ce}}},pe=function(f){document.prerendering?addEventListener("prerenderingchange",function(){return f()},true):f();},Ye=[1800,3e3],Ir=function(f,d){d=d||{},pe(function(){var v,m=he(),y=h("FCP"),N=S("paint",function(k){k.forEach(function(z){z.name==="first-contentful-paint"&&(N.disconnect(),z.startTime<m.firstHiddenTime&&(y.value=Math.max(z.startTime-s(),0),y.entries.push(z),v(!0)));});});N&&(v=D(f,y,Ye,d.reportAllChanges),c(function(k){y=h("FCP"),v=D(f,y,Ye,d.reportAllChanges),re(function(){y.value=performance.now()-k.timeStamp,v(true);});}));});},Mr=[.1,.25],qo=function(f,d){d=d||{},Ir(et(function(){var v,m=h("CLS",0),y=0,N=[],k=function(U){U.forEach(function(ie){if(!ie.hadRecentInput){var gt=N[0],di=N[N.length-1];y&&ie.startTime-di.startTime<1e3&&ie.startTime-gt.startTime<5e3?(y+=ie.value,N.push(ie)):(y=ie.value,N=[ie]);}}),y>m.value&&(m.value=y,m.entries=N,v());},z=S("layout-shift",k);z&&(v=D(f,m,Mr,d.reportAllChanges),Te(function(){k(z.takeRecords()),v(true);}),c(function(){y=0,m=h("CLS",0),v=D(f,m,Mr,d.reportAllChanges),re(function(){return v()});}),setTimeout(v,0));}));},Rr={passive:true,capture:true},op=new Date,Fo=function(f,d){r||(r=d,t=f,n=new Date,Wo(removeEventListener),ko());},ko=function(){if(t>=0&&t<n-op){var f={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t};i.forEach(function(d){d(f);}),i=[];}},ap=function(f){if(f.cancelable){var d=(f.timeStamp>1e12?new Date:performance.now())-f.timeStamp;f.type=="pointerdown"?function(v,m){var y=function(){Fo(v,m),k();},N=function(){k();},k=function(){removeEventListener("pointerup",y,Rr),removeEventListener("pointercancel",N,Rr);};addEventListener("pointerup",y,Rr),addEventListener("pointercancel",N,Rr);}(d,f):Fo(d,f);}},Wo=function(f){["mousedown","keydown","touchstart","pointerdown"].forEach(function(d){return f(d,ap,Rr)});},oi=[100,300],Vo=function(f,d){d=d||{},pe(function(){var v,m=he(),y=h("FID"),N=function(U){U.startTime<m.firstHiddenTime&&(y.value=U.processingStart-U.startTime,y.entries.push(U),v(true));},k=function(U){U.forEach(N);},z=S("first-input",k);v=D(f,y,oi,d.reportAllChanges),z&&Te(et(function(){k(z.takeRecords()),z.disconnect();})),z&&c(function(){var U;y=h("FID"),v=D(f,y,oi,d.reportAllChanges),i=[],t=-1,r=null,Wo(addEventListener),U=N,i.push(U),ko();});});},Ho=0,ai=1/0,ln=0,up=function(f){f.forEach(function(d){d.interactionId&&(ai=Math.min(ai,d.interactionId),ln=Math.max(ln,d.interactionId),Ho=ln?(ln-ai)/7+1:0);});},xo=function(){return o?Ho:performance.interactionCount||0},cp=function(){"interactionCount"in performance||o||(o=S("event",up,{type:"event",buffered:true,durationThreshold:0}));},ui=[200,500],Ko=0,zo=function(){return xo()-Ko},tt=[],ci={},Yo=function(f){var d=tt[tt.length-1],v=ci[f.interactionId];if(v||tt.length<10||f.duration>d.latency){if(v)v.entries.push(f),v.latency=Math.max(v.latency,f.duration);else {var m={id:f.interactionId,latency:f.duration,entries:[f]};ci[m.id]=m,tt.push(m);}tt.sort(function(y,N){return N.latency-y.latency}),tt.splice(10).forEach(function(y){delete ci[y.id];});}},Qo=function(f,d){d=d||{},pe(function(){var v;cp();var m,y=h("INP"),N=function(z){z.forEach(function(gt){gt.interactionId&&Yo(gt),gt.entryType==="first-input"&&!tt.some(function(di){return di.entries.some(function(Zo){return gt.duration===Zo.duration&&gt.startTime===Zo.startTime})})&&Yo(gt);});var U,ie=(U=Math.min(tt.length-1,Math.floor(zo()/50)),tt[U]);ie&&ie.latency!==y.value&&(y.value=ie.latency,y.entries=ie.entries,m());},k=S("event",N,{durationThreshold:(v=d.durationThreshold)!==null&&v!==undefined?v:40});m=D(f,y,ui,d.reportAllChanges),k&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&k.observe({type:"first-input",buffered:true}),Te(function(){N(k.takeRecords()),y.value<0&&zo()>0&&(y.value=0,y.entries=[]),m(true);}),c(function(){tt=[],Ko=xo(),y=h("INP"),m=D(f,y,ui,d.reportAllChanges);}));});},si=[2500,4e3],pi={},$o=function(f,d){d=d||{},pe(function(){var v,m=he(),y=h("LCP"),N=function(U){var ie=U[U.length-1];ie&&ie.startTime<m.firstHiddenTime&&(y.value=Math.max(ie.startTime-s(),0),y.entries=[ie],v());},k=S("largest-contentful-paint",N);if(k){v=D(f,y,si,d.reportAllChanges);var z=et(function(){pi[y.id]||(N(k.takeRecords()),k.disconnect(),pi[y.id]=true,v(true));});["keydown","click"].forEach(function(U){addEventListener(U,function(){return setTimeout(z,0)},true);}),Te(z),c(function(U){y=h("LCP"),v=D(f,y,si,d.reportAllChanges),re(function(){y.value=performance.now()-U.timeStamp,pi[y.id]=true,v(true);});});}});},li=[800,1800],sp=function f(d){document.prerendering?pe(function(){return f(d)}):document.readyState!=="complete"?addEventListener("load",function(){return f(d)},true):setTimeout(d,0);},Xo=function(f,d){d=d||{};var v=h("TTFB"),m=D(f,v,li,d.reportAllChanges);sp(function(){var y=p();if(y){var N=y.responseStart;if(N<=0||N>performance.now())return;v.value=Math.max(N-s(),0),v.entries=[y],m(true),c(function(){v=h("TTFB",0),(m=D(f,v,li,d.reportAllChanges))(true);});}});};e.CLSThresholds=Mr,e.FCPThresholds=Ye,e.FIDThresholds=oi,e.INPThresholds=ui,e.LCPThresholds=si,e.TTFBThresholds=li,e.getCLS=qo,e.getFCP=Ir,e.getFID=Vo,e.getINP=Qo,e.getLCP=$o,e.getTTFB=Xo,e.onCLS=qo,e.onFCP=Ir,e.onFID=Vo,e.onINP=Qo,e.onLCP=$o,e.onTTFB=Xo;});});var Fa=B$a(Dr=>{Object.defineProperty(Dr,"__esModule",{value:true});Dr.Action=undefined;(function(e){e.LARGEST_CONTENTFUL_PAINT="APP::WEB_VITALS::LARGEST_CONTENTFUL_PAINT",e.FIRST_INPUT_DELAY="APP::WEB_VITALS::FIRST_INPUT_DELAY",e.CUMULATIVE_LAYOUT_SHIFT="APP::WEB_VITALS::CUMULATIVE_LAYOUT_SHIFT",e.FIRST_CONTENTFUL_PAINT="APP::WEB_VITALS::FIRST_CONTENTFUL_PAINT",e.TIME_TO_FIRST_BYTE="APP::WEB_VITALS::TIME_TO_FIRST_BYTE",e.INTERACTION_TO_NEXT_PAINT="APP::WEB_VITALS::INTERACTION_TO_NEXT_PAINT";})(Dr.Action||(Dr.Action={}));});var xa$1=B$a(qe=>{Object.defineProperty(qe,"__esModule",{value:true});qe.isShopifyPing=qe.isShopifyPOS=qe.isShopifyMobile=qe.isShopifyEmbedded=qe.isMobile=undefined;var ka=Cn$2();function dl(){return Wa()||Va()||Ha()}qe.isMobile=dl;function fl(){return ka.isClient&&window.top!==window.self||ka.isUnframed}qe.isShopifyEmbedded=fl;function Wa(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Mobile")>=0}qe.isShopifyMobile=Wa;function Va(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify POS")>=0}qe.isShopifyPOS=Va;function Ha(){return typeof navigator<"u"&&navigator.userAgent.indexOf("Shopify Ping")>=0}qe.isShopifyPing=Ha;});var Ja=B$a(J=>{Object.defineProperty(J,"__esModule",{value:true});J.initializeWebVitals=J.interactionToNextPaint=J.timeToFirstByte=J.firstContentfulPaint=J.cumulativeLayoutShift=J.firstInputDelay=J.largestContentfulPaint=J.Action=undefined;var cr=qa(),Wt=Fa();Object.defineProperty(J,"Action",{enumerable:true,get:function(){return Wt.Action}});var Ka=Cn$2(),sr=Ft(),pr=Gt(),hl=xa$1();function za(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.LARGEST_CONTENTFUL_PAINT,payload:e})}J.largestContentfulPaint=za;function Ya(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.FIRST_INPUT_DELAY,payload:e})}J.firstInputDelay=Ya;function Qa(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.CUMULATIVE_LAYOUT_SHIFT,payload:e})}J.cumulativeLayoutShift=Qa;function $a(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.FIRST_CONTENTFUL_PAINT,payload:e})}J.firstContentfulPaint=$a;function Xa(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.TIME_TO_FIRST_BYTE,payload:e})}J.timeToFirstByte=Xa;function Za(e){return pr.actionWrapper({group:sr.Group.WebVitals,type:Wt.Action.INTERACTION_TO_NEXT_PAINT,payload:e})}J.interactionToNextPaint=Za;function yl(e){function r(n){return function(i){var o=i.id,a=i.name,c=i.value,p={id:o,metricName:a,value:c},s=n(p);e.dispatch(s);}}var t=window;Ka.isServer||Ka.isClient&&t.__is_web_vitals_initialized__||hl.isMobile()||(t.__is_web_vitals_initialized__=true,cr.onLCP(r(za)),cr.onFID(r(Ya)),cr.onCLS(r(Qa)),cr.onFCP(r($a)),cr.onTTFB(r(Xa)),cr.onINP(r(Za)));}J.initializeWebVitals=yl;});var Ci$2=B$a(Vt=>{var vl=Vt&&Vt.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),_l=Vt&&Vt.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&vl(r,e,t);};Object.defineProperty(Vt,"__esModule",{value:true});_l(Ja(),Vt);});var Ii=B$a(nt=>{Object.defineProperty(nt,"__esModule",{value:true});nt.getWindow=nt.getLocation=nt.redirect=nt.shouldRedirect=undefined;function Pl(e){return e===window}nt.shouldRedirect=Pl;function Al(e){var r=eu();r&&r.assign(e);}nt.redirect=Al;function eu(){return tu()?window.location:undefined}nt.getLocation=eu;function gl(){return tu()?window:undefined}nt.getWindow=gl;function tu(){return typeof window<"u"}});var iu$1=B$a(Mn=>{Object.defineProperty(Mn,"__esModule",{value:true});Mn.handleAppPrint=undefined;var ru=Ii();function bl(){return navigator.userAgent.indexOf("iOS")>=0}function ml(){var e=ru.getWindow();if(!(!e||!e.document||!e.document.body)){var r=e.document.createElement("input");return r.style.display="none",e.document.body.appendChild(r),r}}function nu(){var e;(e=ru.getWindow())===null||e===undefined||e.print();}function Ol(){var e=ml();e&&(e.select(),nu(),e.remove());}function El(){bl()?Ol():nu();}Mn.handleAppPrint=El;});var Mi$1=B$a(it=>{Object.defineProperty(it,"__esModule",{value:true});it.isV1Config=it.MessageType=it.LifecycleHook=it.PermissionType=undefined;var Sl=ir$2();Object.defineProperty(it,"MessageType",{enumerable:true,get:function(){return Sl.MessageType}});var ou=ir$2();Object.defineProperty(it,"PermissionType",{enumerable:true,get:function(){return ou.PermissionType}});Object.defineProperty(it,"LifecycleHook",{enumerable:true,get:function(){return ou.LifecycleHook}});function Tl(e){return !e.host}it.isV1Config=Tl;});var uu$1=B$a(lr=>{Object.defineProperty(lr,"__esModule",{value:true});lr.removeFromCollection=lr.addAndRemoveFromCollection=undefined;var au=bn$2();Object.defineProperty(lr,"addAndRemoveFromCollection",{enumerable:true,get:function(){return au.addAndRemoveFromCollection}});Object.defineProperty(lr,"removeFromCollection",{enumerable:true,get:function(){return au.removeFromCollection}});});var cu$1=B$a(Ri=>{Object.defineProperty(Ri,"__esModule",{value:true});var Cl=uu$1(),Il=function(){function e(){this.map={};}return e.prototype.set=function(r,t){Object.prototype.hasOwnProperty.call(this.map,r)||(this.map[r]=[]);var n={handler:t,remove:function(){}},i=Cl.addAndRemoveFromCollection(this.map[r],n);return n={handler:t,remove:i},i},e.prototype.get=function(r){var t=this.map[r];return t?t.map(function(n){return n.handler}):undefined},e.prototype.run=function(r,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=0,c=this.get(r)||[];function p(){for(var s=[],h=0;h<arguments.length;h++)s[h]=arguments[h];var S=c[a++];return S?S(p).apply(n,s):t.apply(n,s)}return p.apply(n,i)},e}();Ri.default=Il;});var ji$1=B$a(Q=>{var dr=Q&&Q.__assign||function(){return dr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},dr.apply(this,arguments)},pu=Q&&Q.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e},Ml=Q&&Q.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q,"__esModule",{value:true});Q.createApp=Q.createAppWrapper=Q.createClientApp=Q.WINDOW_UNDEFINED_MESSAGE=undefined;var wr=Gt(),Rl=vi$1(),Ie=An$2(),lu=Ei$2(),du=Ba(),su=Cn$2(),jl=Ti$1(),Nl=Ci$2(),Ll=iu$1(),Ur=Ii(),Br=Mi$1(),Dl=Ml(cu$1());Q.WINDOW_UNDEFINED_MESSAGE="window is not defined. Running an app outside a browser is not supported";function Bl(e,r){var t=r.apiKey,n=r.host,i=r.forceRedirect,o=i===undefined?!su.isDevelopmentClient:i,a=Ur.getLocation();if(su.isUnframed||!a||!t||!n||!o||!Ur.shouldRedirect(e))return  false;var c="https://"+n+"/apps/"+t+a.pathname+(a.search||"");return Ur.redirect(c),true}var wl=function(e){return function(r){return e(dr(dr({},r),{version:wr.getVersion(),clientInterface:{name:wr.getPackageName(),version:wr.getVersion()}}))}},Ul=function(e){e.set(Br.LifecycleHook.DispatchAction,wl);};function Gl(e){e.subscribe(Rl.Action.APP,Ll.handleAppPrint),e.dispatch(jl.initialize());try{Nl.initializeWebVitals(e);}catch(r){console.error("App-Bridge failed to initialize web-vitals",r);}}var ql=function(e,r){r===undefined&&(r=[]);var t=[],n=lu.createTransportListener(),i=function(o){var a=o.data,c=a.type,p=a.payload;switch(c){case "getState":{var s=t.splice(0);s.forEach(function(D){return D(p)});break}case "dispatch":{n.handleMessage(p);var h=n.handleActionDispatch(p);if(h)return;var S=wr.findMatchInEnum(Ie.Action,p.type);S&&Ie.throwError(S,p);break}}};return e.subscribe(i),function(o){var a=Fl(o),c=Bl(e.hostFrame,a);if(c)return du.mockAppBridge;var p=kl(e,a),s=n.createSubscribeHandler(p);p(Br.MessageType.Unsubscribe);function h(q){return p(Br.MessageType.Dispatch,q),q}for(var S=new URL("https://"+a.host).origin,D=new Dl.default,re={hostOrigin:S,localOrigin:e.localOrigin,hooks:D,dispatch:function(q){return re.hooks?re.hooks.run(Br.LifecycleHook.DispatchAction,h,re,q):h(q)},featuresAvailable:function(){for(var q=[],K=0;K<arguments.length;K++)q[K]=arguments[K];var W=q[0],ne=Array.isArray(W)?pu([],W):q;return re.getState("features").then(function(he){return ne.length?ne.reduce(function(pe,Ye){return Object.keys(he).includes(Ye)&&(pe[Ye]=he[Ye]),pe},{}):he})},getState:function(q){return q&&typeof q!="string"?Promise.resolve(undefined):new Promise(function(K){t.push(K),p(Br.MessageType.GetState);}).then(function(K){var W=K;if(q)for(var ne=0,he=q.split(".");ne<he.length;ne++){var pe=he[ne];if(W==null||typeof W!="object"||Array.isArray(W)||!Object.keys(W).includes(pe))return;W=W[pe];}return W})},subscribe:s,error:function(q,K){var W=[];return wr.forEachInEnum(Ie.Action,function(ne){W.push(s(ne,q,K));}),function(){W.forEach(function(ne){return ne()});}}},Te=0,et=r;Te<et.length;Te++){var Ce=et[Te];Ce(D,re);}return Gl(re),re}};Q.createClientApp=ql;function Fl(e){var r;if(!e.host)throw Ie.fromAction("host must be provided",Ie.AppActionType.INVALID_CONFIG);if(!e.apiKey)throw Ie.fromAction("apiKey must be provided",Ie.AppActionType.INVALID_CONFIG);try{var t=atob((r=e.host)===null||r===void 0?void 0:r.replace(/_/g,"/").replace(/-/g,"+"));return dr(dr({},e),{host:t})}catch{var n="not a valid host, please use the value provided by Shopify";throw Ie.fromAction(n,Ie.AppActionType.INVALID_CONFIG)}}function fu(e,r,t){if(t===undefined&&(t=[]),!e)throw Ie.fromAction(Q.WINDOW_UNDEFINED_MESSAGE,Ie.AppActionType.WINDOW_UNDEFINED);var n=Ur.getLocation(),i=r||n&&n.origin;if(!i)throw Ie.fromAction("local origin cannot be blank",Ie.AppActionType.MISSING_LOCAL_ORIGIN);var o=lu.fromWindow(e,i),a=Q.createClientApp(o,pu([Ul],t));return a}Q.createAppWrapper=fu;function hu(e){var r=Ur.getWindow();return !r||!r.top?du.serverAppBridge:fu(r.top)(e)}Q.createApp=hu;function kl(e,r){return function(t,n){e.dispatch({payload:n,source:r,type:t});}}Q.default=hu;});var Ni$1=B$a(ft=>{var Wl=ft&&ft.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),yu=ft&&ft.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Wl(r,e,t);};Object.defineProperty(ft,"__esModule",{value:true});var Vl=ji$1();yu(Mi$1(),ft);yu(ji$1(),ft);ft.default=Vl.createClientApp;});var _u$1=B$a(ot=>{var Hl=ot&&ot.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),vu=ot&&ot.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Hl(r,e,t);};Object.defineProperty(ot,"__esModule",{value:true});ot.default=undefined;var xl=Ni$1();Object.defineProperty(ot,"default",{enumerable:true,get:function(){return xl.createApp}});vu(Ei$2(),ot);vu(Ni$1(),ot);});var Au$1=B$a(($v,Pu)=>{Pu.exports=_u$1();});var Li$1=B$a(Ht=>{Object.defineProperty(Ht,"__esModule",{value:true});Ht.respond=Ht.Action=undefined;var Kl=M(),zl=I(),gu;(function(e){e.REQUEST="APP::AUTH_CODE::REQUEST",e.RESPOND="APP::AUTH_CODE::RESPOND";})(gu=Ht.Action||(Ht.Action={}));function Yl(e){return Kl.actionWrapper({payload:e,group:zl.Group.AuthCode,type:gu.RESPOND})}Ht.respond=Yl;});var mu$1=B$a(Tt=>{Object.defineProperty(Tt,"__esModule",{value:true});Tt.request=Tt.Action=Tt.respond=undefined;var bu=Li$1();Object.defineProperty(Tt,"Action",{enumerable:true,get:function(){return bu.Action}});var Ql=Gt(),$l=Ft(),Xl=Li$1();Object.defineProperty(Tt,"respond",{enumerable:true,get:function(){return Xl.respond}});function Zl(e){return Ql.actionWrapper({group:$l.Group.AuthCode,type:bu.Action.REQUEST,payload:{id:e}})}Tt.request=Zl;});var Eu$1=B$a(Gr=>{Object.defineProperty(Gr,"__esModule",{value:true});Gr.generateUuid=undefined;function fr(e){return Array.from(e).map(function(r){return ("00"+r.toString(16)).slice(-2)}).join("")}function hr(e){if(typeof Uint8Array=="function"&&typeof window=="object"&&window.crypto){var r=new Uint8Array(e),t=window.crypto.getRandomValues(r);if(t)return t}return Array.from(new Array(e),function(){return Math.random()*255|0})}function Ou(){var e=64,r=hr(1),t=hr(2);return r[0]&=191,t[0]&=15|e,[fr(hr(4)),"-",fr(hr(2)),"-",fr(t),"-",fr(r),fr(hr(1)),"-",fr(hr(6))].join("")}Gr.generateUuid=Ou;Gr.default=Ou;});var w$3=B$a(de=>{var Jl=de&&de.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),jn=de&&de.__assign||function(){return jn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},jn.apply(this,arguments)},ed=de&&de.__spreadArray||function(e,r){for(var t=0,n=r.length,i=e.length;t<n;t++,i++)e[i]=r[t];return e},td=de&&de.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(de,"__esModule",{value:true});de.unsubscribeActions=de.ActionSetWithChildren=de.ActionSet=undefined;var rd=ir$2(),Bi=bn$2(),Rn=Nr(),nd=I(),id=td(Eu$1()),Di=M(),Su=function(){function e(r,t,n,i){var o=this;this.app=r,this.type=t,this.group=n,this.subgroups=[],this.subscriptions=[],r||Rn.throwError(Rn.Action.INVALID_ACTION,"Missing required `app`"),this.id=i||id.default(),this.defaultGroup=n;var a=this.set;this.set=function(){for(var c,p=[],s=0;s<arguments.length;s++)p[s]=arguments[s];return o.app.hooks?(c=o.app.hooks).run.apply(c,ed([rd.LifecycleHook.UpdateAction,a,o],p)):a.apply(o,p)};}return e.prototype.set=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];},Object.defineProperty(e.prototype,"component",{get:function(){return {id:this.id,subgroups:this.subgroups,type:this.type}},enumerable:false,configurable:true}),e.prototype.updateSubscription=function(r,t,n){var i=r.eventType,o=r.callback,a=r.component,c;return c=this.subscriptions.findIndex(function(p){return p===r}),c>=0?this.subscriptions[c].unsubscribe():c=undefined,this.group=t,this.subgroups=n,Object.assign(a,{subgroups:this.subgroups}),this.subscribe(i,o,a,c)},e.prototype.error=function(r){var t=this,n=[];return Di.forEachInEnum(Rn.Action,function(i){n.push(t.subscriptions.length),t.subscribe(i,r);}),function(){var i=n.map(function(o){return t.subscriptions[o]});i.forEach(function(o){Bi.removeFromCollection(t.subscriptions,o,function(a){a.unsubscribe();});});}},e.prototype.subscribe=function(r,t,n,i){var o=this,a=n||this.component,c=r.toUpperCase(),p=typeof i=="number"?t:t.bind(this),s;Rn.isErrorEventName(r)?s=Di.getEventNameSpace(nd.Group.Error,r,jn(jn({},a),{type:""})):s=Di.getEventNameSpace(this.group,r,a);var h=this.app.subscribe(s,p,n?n.id:this.id),S={eventType:c,unsubscribe:h,callback:p,component:a,updateSubscribe:function(D,re){return o.updateSubscription(S,D,re)}};return typeof i=="number"&&i>=0&&i<this.subscriptions.length?this.subscriptions[i]=S:this.subscriptions.push(S),h},e.prototype.unsubscribe=function(r){return r===undefined&&(r=false),wi(this.subscriptions,this.defaultGroup,r),this},e}();de.ActionSet=Su;var od=function(e){Jl(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.children=[],t}return r.prototype.unsubscribe=function(t,n){return t===undefined&&(t=true),n===undefined&&(n=false),wi(this.subscriptions,this.defaultGroup,n),this.children.forEach(function(i){i instanceof r?i.unsubscribe(t,!t):i.unsubscribe(!t);}),this},r.prototype.getChild=function(t){var n=this.children.findIndex(function(i){return i.id===t});return n>=0?this.children[n]:undefined},r.prototype.getChildIndex=function(t){return this.children.findIndex(function(n){return n.id===t})},r.prototype.getChildSubscriptions=function(t,n){return this.subscriptions.filter(function(i){return i.component.id===t&&(!n||n===i.eventType)})},r.prototype.addChild=function(t,n,i){var o=this,a=t.subscriptions,c=this.getChild(t.id);return c||this.children.push(t),!a||n===t.group&&i===t.subgroups?this:(a.forEach(function(p){var s=p.updateSubscribe;s(n,i);}),Object.assign(t,{group:n,subgroups:i}),t instanceof r&&t.children.forEach(function(p){return o.addChild(p,n,i)}),this)},r.prototype.removeChild=function(t){var n=this;return Bi.removeFromCollection(this.children,this.getChild(t),function(){var i=n.subscriptions.filter(function(o){return o.component.id===t});i.forEach(function(o){Bi.removeFromCollection(n.subscriptions,o,function(a){a.unsubscribe();});});}),this},r.prototype.subscribeToChild=function(t,n,i){var o=this,a=i.bind(this);if(n instanceof Array)return n.forEach(function(h){return o.subscribeToChild(t,h,i)}),this;if(typeof n!="string")return this;var c=n.toUpperCase(),p=this.getChildSubscriptions(t.id,c);if(p.length>0)p.forEach(function(h){return h.updateSubscribe(o.group,t.subgroups)});else {var s={id:t.id,subgroups:t.subgroups,type:t.type};this.subscribe(c,a,s);}return this},r.prototype.getUpdatedChildActions=function(t,n){if(t.length===0){for(;n.length>0;){var i=n.pop();if(!i)break;this.removeChild(i.id);}return}for(var o=t.filter(function(p,s,h){return s===h.indexOf(p)}),a=o.map(function(p){return p.id}),c=n.filter(function(p){return a.indexOf(p.id)<0});c.length>0;){var i=c.pop();if(!i)break;this.removeChild(i.id);}return o},r}(Su);de.ActionSetWithChildren=od;function wi(e,r,t){t===undefined&&(t=false),e.forEach(function(n){if(t){var i=n.updateSubscribe;i(r,[]);}else {var o=n.unsubscribe;o();}}),t||(e.length=0);}de.unsubscribeActions=wi;});var _r$1=B$a(H=>{var ad=H&&H.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),vr=H&&H.__assign||function(){return vr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},vr.apply(this,arguments)};Object.defineProperty(H,"__esModule",{value:true});H.Button=H.update=H.clickButton=H.Style=H.Icon=H.Action=undefined;var qr=M(),ud=w$3(),Tu=I(),yr;(function(e){e.CLICK="CLICK",e.UPDATE="UPDATE";})(yr=H.Action||(H.Action={}));(function(e){e.Print="print";})(H.Icon||(H.Icon={}));(function(e){e.Danger="danger";})(H.Style||(H.Style={}));function Cu(e,r,t){var n=r.id,i=qr.getEventNameSpace(e,yr.CLICK,r),o={id:n,payload:t};return qr.actionWrapper({type:i,group:e,payload:o})}H.clickButton=Cu;function Iu(e,r,t){var n=r.id,i=t.label,o=qr.getEventNameSpace(e,yr.UPDATE,r),a=vr(vr({},t),{id:n,label:i});return qr.actionWrapper({type:o,group:e,payload:a})}H.update=Iu;var pd=function(e){ad(r,e);function r(t,n){var i=e.call(this,t,Tu.ComponentType.Button,Tu.Group.Button)||this;return i.disabled=false,i.loading=false,i.plain=false,i.set(n,false),i}return Object.defineProperty(r.prototype,"options",{get:function(){return {disabled:this.disabled,icon:this.icon,label:this.label,style:this.style,loading:this.loading,plain:this.plain}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return vr(vr({},this.options),{id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=qr.getMergedProps(this.options,t),o=i.label,a=i.disabled,c=i.icon,p=i.style,s=i.loading,h=i.plain;return this.label=o,this.disabled=!!a,this.icon=c,this.style=p,this.loading=!!s,this.plain=!!h,n&&this.dispatch(yr.UPDATE),this},r.prototype.dispatch=function(t,n){switch(t){case yr.CLICK:this.app.dispatch(Cu(this.group,this.component,n));break;case yr.UPDATE:{var i=Iu(this.group,this.component,this.payload);this.app.dispatch(i);break}}return this},r}(ud.ActionSet);H.Button=pd;});var Ui$1=B$a(ee=>{Object.defineProperty(ee,"__esModule",{value:true});ee.create=ee.isValidButtonProps=ee.Button=ee.update=ee.Style=ee.Icon=ee.clickButton=ee.Action=undefined;var Mu=_r$1();Object.defineProperty(ee,"Button",{enumerable:true,get:function(){return Mu.Button}});var Fr=_r$1();Object.defineProperty(ee,"Action",{enumerable:true,get:function(){return Fr.Action}});Object.defineProperty(ee,"clickButton",{enumerable:true,get:function(){return Fr.clickButton}});Object.defineProperty(ee,"Icon",{enumerable:true,get:function(){return Fr.Icon}});Object.defineProperty(ee,"Style",{enumerable:true,get:function(){return Fr.Style}});Object.defineProperty(ee,"update",{enumerable:true,get:function(){return Fr.update}});function ld(e){return typeof e.id=="string"&&typeof e.label=="string"}ee.isValidButtonProps=ld;function dd(e,r){return new Mu.Button(e,r)}ee.create=dd;});var kr$1=B$a(Nn=>{Object.defineProperty(Nn,"__esModule",{value:true});Nn.getSingleButton=undefined;var fd=_r$1();function hd(e,r,t,n){return e.addChild(r,e.group,t),e.subscribeToChild(r,fd.Action.UPDATE,n),r.payload}Nn.getSingleButton=hd;});var Vr=B$a($=>{var yd=$&&$.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Pr=$&&$.__assign||function(){return Pr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Pr.apply(this,arguments)};Object.defineProperty($,"__esModule",{value:true});$.create=$.ButtonGroup=$.isGroupedButtonPayload=$.isGroupedButton=$.update=$.Action=undefined;var Ru=kr$1(),Ln=M(),vd=w$3(),ju=I(),Wr;(function(e){e.UPDATE="UPDATE";})(Wr=$.Action||($.Action={}));function Nu(e,r,t){return gd(e,r,Wr.UPDATE,t)}$.update=Nu;function _d(e){var r=e;return r.buttons&&r.buttons.length>0&&r.label!==undefined}$.isGroupedButton=_d;function Pd(e){var r=e;return Array.isArray(r.buttons)&&typeof r.id=="string"&&typeof r.label=="string"}$.isGroupedButtonPayload=Pd;var Lu=function(e){yd(r,e);function r(t,n){var i=e.call(this,t,ju.ComponentType.ButtonGroup,ju.Group.ButtonGroup)||this;return i.disabled=false,i.plain=false,i.buttonsOptions=[],i.buttons=[],i.set(n,false),i}return Object.defineProperty(r.prototype,"options",{get:function(){return {buttons:this.buttonsOptions,disabled:this.disabled,label:this.label,plain:this.plain}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return Pr(Pr({},this.options),{buttons:this.buttons,id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=Ln.getMergedProps(this.options,t),o=i.label,a=i.disabled,c=i.buttons,p=i.plain;return this.label=o,this.disabled=!!a,this.buttons=this.getButtons(c),this.plain=!!p,n&&this.dispatch(Wr.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case Wr.UPDATE:{var n=Nu(this.group,this.component,this.payload);this.app.dispatch(n);break}}return this},r.prototype.updateButtons=function(t){if(!(!this.buttons||this.buttons.length===0)){for(var n,i=0,o=this.buttons;i<o.length;i++){var a=o[i];if(n=Ln.updateActionFromPayload(a,t),n)break}n&&this.dispatch(Wr.UPDATE);}},r.prototype.getSingleButton=function(t){return Ru.getSingleButton(this,t,this.subgroups,this.updateButtons)},r.prototype.getButtons=function(t){var n=this,i=[];return t?(t.forEach(function(o){var a=Ru.getSingleButton(n,o,n.subgroups,n.updateButtons);i.push(a);}),this.buttonsOptions=t,i):[]},r}(vd.ActionSetWithChildren);$.ButtonGroup=Lu;function Ad(e,r){return new Lu(e,r)}$.create=Ad;function gd(e,r,t,n,i){var o=r.id,a=n.label,c=Ln.getEventNameSpace(e,t,r),p=Pr(Pr({},n),{id:o,label:a,payload:i});return Ln.actionWrapper({type:c,group:e,payload:p})}});var Bu$1=B$a(ge=>{Object.defineProperty(ge,"__esModule",{value:true});ge.create=ge.ButtonGroup=ge.isGroupedButtonPayload=ge.isGroupedButton=ge.update=ge.Action=undefined;var Du=Vr();Object.defineProperty(ge,"ButtonGroup",{enumerable:true,get:function(){return Du.ButtonGroup}});var Dn=Vr();Object.defineProperty(ge,"Action",{enumerable:true,get:function(){return Dn.Action}});Object.defineProperty(ge,"update",{enumerable:true,get:function(){return Dn.update}});Object.defineProperty(ge,"isGroupedButton",{enumerable:true,get:function(){return Dn.isGroupedButton}});Object.defineProperty(ge,"isGroupedButtonPayload",{enumerable:true,get:function(){return Dn.isGroupedButtonPayload}});function bd(e,r){return new Du.ButtonGroup(e,r)}ge.create=bd;});var wu$1=B$a(b=>{var md=b&&b.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Bn=b&&b.__assign||function(){return Bn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Bn.apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:true});b.Cart=b.setLineItemProperties=b.removeLineItemDiscount=b.setLineItemDiscount=b.removeLineItem=b.updateLineItem=b.addLineItem=b.removeProperties=b.setProperties=b.setDiscount=b.updateCustomerAddress=b.addCustomerAddress=b.setCustomer=b.update=b.fetch=b.Action=undefined;var Od=M(),Ed=w$3(),Gi=I(),_;(function(e){e.FETCH="APP::CART::FETCH",e.UPDATE="APP::CART::UPDATE",e.SET_CUSTOMER="APP::CART::SET_CUSTOMER",e.REMOVE_CUSTOMER="APP::CART::REMOVE_CUSTOMER",e.ADD_CUSTOMER_ADDRESS="APP::CART::ADD_CUSTOMER_ADDRESS",e.UPDATE_CUSTOMER_ADDRESS="APP::CART::UPDATE_CUSTOMER_ADDRESS",e.SET_DISCOUNT="APP::CART::SET_DISCOUNT",e.REMOVE_DISCOUNT="APP::CART::REMOVE_DISCOUNT",e.SET_PROPERTIES="APP::CART::SET_PROPERTIES",e.REMOVE_PROPERTIES="APP::CART::REMOVE_PROPERTIES",e.CLEAR="APP::CART::CLEAR",e.ADD_LINE_ITEM="APP::CART::ADD_LINE_ITEM",e.UPDATE_LINE_ITEM="APP::CART::UPDATE_LINE_ITEM",e.REMOVE_LINE_ITEM="APP::CART::REMOVE_LINE_ITEM",e.SET_LINE_ITEM_DISCOUNT="APP::CART::SET_LINE_ITEM_DISCOUNT",e.REMOVE_LINE_ITEM_DISCOUNT="APP::CART::REMOVE_LINE_ITEM_DISCOUNT",e.SET_LINE_ITEM_PROPERTIES="APP::CART::SET_LINE_ITEM_PROPERTIES",e.REMOVE_LINE_ITEM_PROPERTIES="APP::CART::REMOVE_LINE_ITEM_PROPERTIES";})(_=b.Action||(b.Action={}));function ve(e,r){return r===undefined&&(r={}),Od.actionWrapper({group:Gi.Group.Cart,type:e,payload:r})}function Sd(){return ve(_.FETCH)}b.fetch=Sd;function Td(e){return ve(_.UPDATE,e)}b.update=Td;function Cd(e){return ve(_.SET_CUSTOMER,e)}b.setCustomer=Cd;function Id(e){return ve(_.ADD_CUSTOMER_ADDRESS,e)}b.addCustomerAddress=Id;function Md(e){return ve(_.UPDATE_CUSTOMER_ADDRESS,e)}b.updateCustomerAddress=Md;function Rd(e){return ve(_.SET_DISCOUNT,e)}b.setDiscount=Rd;function jd(e){return ve(_.SET_PROPERTIES,e)}b.setProperties=jd;function Nd(e){return ve(_.REMOVE_PROPERTIES,e)}b.removeProperties=Nd;function Ld(e){return ve(_.ADD_LINE_ITEM,e)}b.addLineItem=Ld;function Dd(e){return ve(_.UPDATE_LINE_ITEM,e)}b.updateLineItem=Dd;function Bd(e){return ve(_.REMOVE_LINE_ITEM,e)}b.removeLineItem=Bd;function wd(e){return ve(_.SET_LINE_ITEM_DISCOUNT,e)}b.setLineItemDiscount=wd;function Ud(e){return ve(_.REMOVE_LINE_ITEM_DISCOUNT,e)}b.removeLineItemDiscount=Ud;function Gd(e){return ve(_.SET_LINE_ITEM_PROPERTIES,e)}b.setLineItemProperties=Gd;var qd=function(e){md(r,e);function r(t,n){return e.call(this,t,Gi.Group.Cart,Gi.Group.Cart,n?n.id:undefined)||this}return r.prototype.dispatch=function(t,n){switch(t){case _.FETCH:this.dispatchCartAction(_.FETCH);break;case _.UPDATE:this.dispatchCartAction(_.UPDATE,n);break;case _.SET_CUSTOMER:this.dispatchCartAction(_.SET_CUSTOMER,n);break;case _.REMOVE_CUSTOMER:this.dispatchCartAction(_.REMOVE_CUSTOMER,n);break;case _.ADD_CUSTOMER_ADDRESS:this.dispatchCartAction(_.ADD_CUSTOMER_ADDRESS,n);break;case _.UPDATE_CUSTOMER_ADDRESS:this.dispatchCartAction(_.UPDATE_CUSTOMER_ADDRESS,n);break;case _.SET_DISCOUNT:this.dispatchCartAction(_.SET_DISCOUNT,n);break;case _.REMOVE_DISCOUNT:this.dispatchCartAction(_.REMOVE_DISCOUNT,n);break;case _.SET_PROPERTIES:this.dispatchCartAction(_.SET_PROPERTIES,n);break;case _.REMOVE_PROPERTIES:this.dispatchCartAction(_.REMOVE_PROPERTIES,n);break;case _.CLEAR:this.dispatchCartAction(_.CLEAR,n);break;case _.ADD_LINE_ITEM:this.dispatchCartAction(_.ADD_LINE_ITEM,n);break;case _.UPDATE_LINE_ITEM:this.dispatchCartAction(_.UPDATE_LINE_ITEM,n);break;case _.REMOVE_LINE_ITEM:this.dispatchCartAction(_.REMOVE_LINE_ITEM,n);break;case _.SET_LINE_ITEM_DISCOUNT:this.dispatchCartAction(_.SET_LINE_ITEM_DISCOUNT,n);break;case _.REMOVE_LINE_ITEM_DISCOUNT:this.dispatchCartAction(_.REMOVE_LINE_ITEM_DISCOUNT,n);break;case _.SET_LINE_ITEM_PROPERTIES:this.dispatchCartAction(_.SET_LINE_ITEM_PROPERTIES,n);break;case _.REMOVE_LINE_ITEM_PROPERTIES:this.dispatchCartAction(_.REMOVE_LINE_ITEM_PROPERTIES,n);break}return this},r.prototype.dispatchCartAction=function(t,n){this.app.dispatch(ve(t,Bn(Bn({},n),{id:this.id})));},r}(Ed.ActionSet);b.Cart=qd;});var Uu$1=B$a(O=>{Object.defineProperty(O,"__esModule",{value:true});O.create=O.setLineItemProperties=O.removeLineItemDiscount=O.setLineItemDiscount=O.removeLineItem=O.updateLineItem=O.addLineItem=O.removeProperties=O.setProperties=O.setDiscount=O.updateCustomerAddress=O.addCustomerAddress=O.setCustomer=O.update=O.fetch=O.Cart=O.Action=undefined;var oe=wu$1();Object.defineProperty(O,"Action",{enumerable:true,get:function(){return oe.Action}});Object.defineProperty(O,"Cart",{enumerable:true,get:function(){return oe.Cart}});Object.defineProperty(O,"fetch",{enumerable:true,get:function(){return oe.fetch}});Object.defineProperty(O,"update",{enumerable:true,get:function(){return oe.update}});Object.defineProperty(O,"setCustomer",{enumerable:true,get:function(){return oe.setCustomer}});Object.defineProperty(O,"addCustomerAddress",{enumerable:true,get:function(){return oe.addCustomerAddress}});Object.defineProperty(O,"updateCustomerAddress",{enumerable:true,get:function(){return oe.updateCustomerAddress}});Object.defineProperty(O,"setDiscount",{enumerable:true,get:function(){return oe.setDiscount}});Object.defineProperty(O,"setProperties",{enumerable:true,get:function(){return oe.setProperties}});Object.defineProperty(O,"removeProperties",{enumerable:true,get:function(){return oe.removeProperties}});Object.defineProperty(O,"addLineItem",{enumerable:true,get:function(){return oe.addLineItem}});Object.defineProperty(O,"updateLineItem",{enumerable:true,get:function(){return oe.updateLineItem}});Object.defineProperty(O,"removeLineItem",{enumerable:true,get:function(){return oe.removeLineItem}});Object.defineProperty(O,"setLineItemDiscount",{enumerable:true,get:function(){return oe.setLineItemDiscount}});Object.defineProperty(O,"removeLineItemDiscount",{enumerable:true,get:function(){return oe.removeLineItemDiscount}});Object.defineProperty(O,"setLineItemProperties",{enumerable:true,get:function(){return oe.setLineItemProperties}});function Fd(e,r){return new oe.Cart(e,r)}O.create=Fd;});var Un$1=B$a(ae=>{var kd=ae&&ae.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),qi=ae&&ae.__assign||function(){return qi=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},qi.apply(this,arguments)};Object.defineProperty(ae,"__esModule",{value:true});ae.Toast=ae.primaryAction=ae.clear=ae.show=ae.Action=undefined;var wn=M(),Wd=w$3(),Hr=I(),xt;(function(e){e.SHOW="APP::TOAST::SHOW",e.CLEAR="APP::TOAST::CLEAR",e.ACTION="APP::TOAST::ACTION";})(xt=ae.Action||(ae.Action={}));function Gu(e){return wn.actionWrapper({group:Hr.Group.Toast,payload:e,type:xt.SHOW})}ae.show=Gu;function qu(e){return wn.actionWrapper({payload:e,group:Hr.Group.Toast,type:xt.CLEAR})}ae.clear=qu;function Fu(e){return wn.actionWrapper({payload:e,group:Hr.Group.Toast,type:xt.ACTION})}ae.primaryAction=Fu;var Vd=function(e){kd(r,e);function r(t,n){var i=e.call(this,t,Hr.Group.Toast,Hr.Group.Toast)||this;return i.message="",i.duration=5e3,i.set(n),i}return Object.defineProperty(r.prototype,"options",{get:function(){var t;return {duration:this.duration,isError:this.isError,message:this.message,action:!((t=this.action)===null||t===undefined)&&t.content?{content:this.action.content}:undefined}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return qi({id:this.id},this.options)},enumerable:false,configurable:true}),r.prototype.set=function(t){var n=wn.getMergedProps(this.options,t),i=n.message,o=n.duration,a=n.isError,c=n.action;return this.message=i,this.duration=o,this.isError=a,this.action=c?.content?{content:c.content||""}:undefined,this},r.prototype.dispatch=function(t){switch(t){case xt.SHOW:{var n=Gu(this.payload);this.app.dispatch(n);break}case xt.CLEAR:this.app.dispatch(qu({id:this.id}));break;case xt.ACTION:this.app.dispatch(Fu({id:this.id}));break}return this},r}(Wd.ActionSet);ae.Toast=Vd;});var Wu$1=B$a(Fe=>{var Hd=Fe&&Fe.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}();Object.defineProperty(Fe,"__esModule",{value:true});Fe.create=Fe.Flash=Fe.show=Fe.clear=undefined;var Fi=Un$1();Object.defineProperty(Fe,"clear",{enumerable:true,get:function(){return Fi.clear}});Object.defineProperty(Fe,"show",{enumerable:true,get:function(){return Fi.show}});var ku=function(e){Hd(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r}(Fi.Toast);Fe.Flash=ku;function xd(e,r){return new ku(e,r)}Fe.create=xd;});var Vu$1=B$a(Kt=>{var Kd=Kt&&Kt.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),zd=Kt&&Kt.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Kd(r,e,t);};Object.defineProperty(Kt,"__esModule",{value:true});zd(Wu$1(),Kt);});var ki=B$a(xr=>{Object.defineProperty(xr,"__esModule",{value:true});xr.Action=undefined;(function(e){e.UPDATE="APP::FEATURES::UPDATE",e.REQUEST="APP::FEATURES::REQUEST",e.REQUEST_UPDATE="APP::FEATURES::REQUEST::UPDATE";})(xr.Action||(xr.Action={}));});var xu$1=B$a(Ct=>{var Qd=Ct&&Ct.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Gn=Ct&&Ct.__assign||function(){return Gn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Gn.apply(this,arguments)};Object.defineProperty(Ct,"__esModule",{value:true});Ct.Features=undefined;var $d=M(),Xd=w$3(),Wi=I(),Hu=ki(),Zd=function(e){Qd(r,e);function r(t,n){return e.call(this,t,Wi.Group.Features,Wi.Group.Features,n?n.id:undefined)||this}return r.prototype.dispatch=function(t,n){switch(t){case Hu.Action.REQUEST:this.dispatchFeaturesAction(Hu.Action.REQUEST,n);break}return this},r.prototype.dispatchFeaturesAction=function(t,n){this.app.dispatch($d.actionWrapper({group:Wi.Group.Features,type:t,payload:Gn(Gn({},n||{}),{id:this.id})}));},r}(Xd.ActionSet);Ct.Features=Zd;});var Vi=B$a(It=>{var Jd=It&&It.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),Ku=It&&It.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Jd(r,e,t);};Object.defineProperty(It,"__esModule",{value:true});Ku(xu$1(),It);Ku(ki(),It);});var Yu$1=B$a(Ar=>{Object.defineProperty(Ar,"__esModule",{value:true});Ar.create=Ar.Features=undefined;var zu=Vi();Object.defineProperty(Ar,"Features",{enumerable:true,get:function(){return zu.Features}});function ef(e,r){return new zu.Features(e,r)}Ar.create=ef;});var Qu$1=B$a(qn=>{Object.defineProperty(qn,"__esModule",{value:true});qn.Action=undefined;var tf=Vi();Object.defineProperty(qn,"Action",{enumerable:true,get:function(){return tf.Action}});});var Xu$1=B$a(Mt=>{var rf=Mt&&Mt.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),$u=Mt&&Mt.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&rf(r,e,t);};Object.defineProperty(Mt,"__esModule",{value:true});$u(Yu$1(),Mt);$u(Qu$1(),Mt);});var tc=B$a(ue=>{var nf=ue&&ue.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Hi=ue&&ue.__assign||function(){return Hi=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Hi.apply(this,arguments)};Object.defineProperty(ue,"__esModule",{value:true});ue.create=ue.FeedbackModal=ue.close=ue.open=ue.Action=undefined;var xi=M(),of=w$3(),Fn=I(),Kr;(function(e){e.OPEN="APP::FEEDBACK_MODAL::OPEN",e.CLOSE="APP::FEEDBACK_MODAL::CLOSE";})(Kr=ue.Action||(ue.Action={}));function Zu(e){return xi.actionWrapper({group:Fn.Group.FeedbackModal,payload:e,type:Kr.OPEN})}ue.open=Zu;function Ju(e){return xi.actionWrapper({group:Fn.Group.FeedbackModal,payload:e,type:Kr.CLOSE})}ue.close=Ju;var ec=function(e){nf(r,e);function r(t,n){var i=e.call(this,t,Fn.Group.FeedbackModal,Fn.Group.FeedbackModal)||this;return i.options=n,i.set(n),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return Hi({id:this.id},this.options)},enumerable:false,configurable:true}),r.prototype.set=function(t){return this.options=xi.getMergedProps(this.options,t),this},r.prototype.dispatch=function(t){switch(t){case Kr.OPEN:{var n=Zu(this.payload);this.app.dispatch(n);break}case Kr.CLOSE:{var i=Ju(this.payload);this.app.dispatch(i);break}}return this},r}(of.ActionSet);ue.FeedbackModal=ec;function af(e,r){return new ec(e,r)}ue.create=af;});var rc=B$a(ke=>{Object.defineProperty(ke,"__esModule",{value:true});ke.create=ke.FeedbackModal=ke.close=ke.open=ke.Action=undefined;var zr=tc();Object.defineProperty(ke,"Action",{enumerable:true,get:function(){return zr.Action}});Object.defineProperty(ke,"open",{enumerable:true,get:function(){return zr.open}});Object.defineProperty(ke,"close",{enumerable:true,get:function(){return zr.close}});Object.defineProperty(ke,"FeedbackModal",{enumerable:true,get:function(){return zr.FeedbackModal}});Object.defineProperty(ke,"create",{enumerable:true,get:function(){return zr.create}});});var Yi$1=B$a(Me=>{var uf=Me&&Me.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}();Object.defineProperty(Me,"__esModule",{value:true});Me.Fullscreen=Me.exit=Me.enter=Me.Action=undefined;var Ki=M(),cf=w$3(),kn=I(),zi;(function(e){e.ENTER="APP::FULLSCREEN::ENTER",e.EXIT="APP::FULLSCREEN::EXIT";})(zi=Me.Action||(Me.Action={}));function sf(){return Ki.actionWrapper({group:kn.Group.Fullscreen,type:zi.ENTER})}Me.enter=sf;function pf(){return Ki.actionWrapper({group:kn.Group.Fullscreen,type:zi.EXIT})}Me.exit=pf;var lf=function(e){uf(r,e);function r(t){return e.call(this,t,kn.Group.Fullscreen,kn.Group.Fullscreen)||this}return Object.defineProperty(r.prototype,"payload",{get:function(){return {id:this.id}},enumerable:false,configurable:true}),r.prototype.dispatch=function(t){return this.app.dispatch(Ki.actionWrapper({group:this.group,type:t,payload:this.payload})),this},r}(cf.ActionSet);Me.Fullscreen=lf;});var ic=B$a(We=>{Object.defineProperty(We,"__esModule",{value:true});We.create=We.Action=We.Fullscreen=We.exit=We.enter=undefined;var Qi=Yi$1();Object.defineProperty(We,"Fullscreen",{enumerable:true,get:function(){return Qi.Fullscreen}});Object.defineProperty(We,"Action",{enumerable:true,get:function(){return Qi.Action}});var nc=Yi$1();Object.defineProperty(We,"enter",{enumerable:true,get:function(){return nc.enter}});Object.defineProperty(We,"exit",{enumerable:true,get:function(){return nc.exit}});function df(e){return new Qi.Fullscreen(e)}We.create=df;});var Xi$1=B$a(ce=>{var ff=ce&&ce.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),$i=ce&&ce.__assign||function(){return $i=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},$i.apply(this,arguments)};Object.defineProperty(ce,"__esModule",{value:true});ce.LeaveConfirmation=ce.confirm=ce.disable=ce.enable=ce.Action=undefined;var Wn=M(),hf=w$3(),Yr=I(),zt;(function(e){e.ENABLE="APP::LEAVE_CONFIRMATION::ENABLE",e.DISABLE="APP::LEAVE_CONFIRMATION::DISABLE",e.CONFIRM="APP::LEAVE_CONFIRMATION::CONFIRM";})(zt=ce.Action||(ce.Action={}));function oc(e){return e===undefined&&(e={}),Wn.actionWrapper({group:Yr.Group.LeaveConfirmation,payload:e,type:zt.ENABLE})}ce.enable=oc;function ac(e){return e===undefined&&(e={}),Wn.actionWrapper({group:Yr.Group.LeaveConfirmation,payload:e,type:zt.DISABLE})}ce.disable=ac;function uc(e){return e===undefined&&(e={}),Wn.actionWrapper({group:Yr.Group.LeaveConfirmation,payload:e,type:zt.CONFIRM})}ce.confirm=uc;var yf=function(e){ff(r,e);function r(t,n){n===undefined&&(n={});var i=e.call(this,t,Yr.Group.LeaveConfirmation,Yr.Group.LeaveConfirmation)||this;return i.options=n,i.set(n),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return $i({id:this.id},this.options)},enumerable:false,configurable:true}),r.prototype.set=function(t){return this.options=Wn.getMergedProps(this.options,t),this},r.prototype.dispatch=function(t){switch(t){case zt.ENABLE:{var n=oc(this.payload);this.app.dispatch(n);break}case zt.DISABLE:{var i=ac(this.payload);this.app.dispatch(i);break}case zt.CONFIRM:{var o=uc(this.payload);this.app.dispatch(o);break}}return this},r}(hf.ActionSet);ce.LeaveConfirmation=yf;});var sc=B$a(be=>{Object.defineProperty(be,"__esModule",{value:true});be.create=be.LeaveConfirmation=be.confirm=be.disable=be.enable=be.Action=undefined;var cc=Xi$1();Object.defineProperty(be,"LeaveConfirmation",{enumerable:true,get:function(){return cc.LeaveConfirmation}});var Vn=Xi$1();Object.defineProperty(be,"Action",{enumerable:true,get:function(){return Vn.Action}});Object.defineProperty(be,"enable",{enumerable:true,get:function(){return Vn.enable}});Object.defineProperty(be,"disable",{enumerable:true,get:function(){return Vn.disable}});Object.defineProperty(be,"confirm",{enumerable:true,get:function(){return Vn.confirm}});function vf(e,r){return r===undefined&&(r={}),new cc.LeaveConfirmation(e,r)}be.create=vf;});var Zi$1=B$a(Re=>{var _f=Re&&Re.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}();Object.defineProperty(Re,"__esModule",{value:true});Re.Loading=Re.stop=Re.start=Re.Action=undefined;var pc=M(),Pf=w$3(),Hn=I(),Qr;(function(e){e.START="APP::LOADING::START",e.STOP="APP::LOADING::STOP";})(Qr=Re.Action||(Re.Action={}));function lc(e){return pc.actionWrapper({payload:e,group:Hn.Group.Loading,type:Qr.START})}Re.start=lc;function dc(e){return pc.actionWrapper({payload:e,group:Hn.Group.Loading,type:Qr.STOP})}Re.stop=dc;var Af=function(e){_f(r,e);function r(t){return e.call(this,t,Hn.Group.Loading,Hn.Group.Loading)||this}return Object.defineProperty(r.prototype,"payload",{get:function(){return {id:this.id}},enumerable:false,configurable:true}),r.prototype.dispatch=function(t){switch(t){case Qr.START:this.app.dispatch(lc(this.payload));break;case Qr.STOP:this.app.dispatch(dc(this.payload));break}return this},r}(Pf.ActionSet);Re.Loading=Af;});var hc=B$a(Ve=>{Object.defineProperty(Ve,"__esModule",{value:true});Ve.create=Ve.stop=Ve.start=Ve.Action=Ve.Loading=undefined;var fc=Zi$1();Object.defineProperty(Ve,"Loading",{enumerable:true,get:function(){return fc.Loading}});var Ji=Zi$1();Object.defineProperty(Ve,"Action",{enumerable:true,get:function(){return Ji.Action}});Object.defineProperty(Ve,"start",{enumerable:true,get:function(){return Ji.start}});Object.defineProperty(Ve,"stop",{enumerable:true,get:function(){return Ji.stop}});function gf(e){return new fc.Loading(e)}Ve.create=gf;});var xn$2=B$a(T=>{var to=T&&T.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Yt=T&&T.__assign||function(){return Yt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Yt.apply(this,arguments)};Object.defineProperty(T,"__esModule",{value:true});T.ModalIframe=T.ModalMessage=T.Modal=T.isMessageModal=T.isIframeModal=T.data=T.update=T.clickFooterButton=T.updateModalSize=T.closeModal=T.openModal=T.Size=T.Action=undefined;var yc=kr$1(),ht=M(),bf=w$3(),He=I(),mf=_r$1(),X;(function(e){e.OPEN="APP::MODAL::OPEN",e.CLOSE="APP::MODAL::CLOSE",e.UPDATE="APP::MODAL::UPDATE",e.UPDATE_CONTENT="APP::MODAL::CONTENT::UPDATE",e.FOOTER_BUTTON_CLICK="APP::MODAL::FOOTER::BUTTON::CLICK",e.FOOTER_BUTTON_UPDATE="APP::MODAL::FOOTER::BUTTON::UPDATE",e.UPDATE_SIZE="APP::MODAL::UPDATE_SIZE",e.DATA="APP::MODAL::DATA";})(X=T.Action||(T.Action={}));var vc;(function(e){e.Small="small",e.Medium="medium",e.Large="large",e.Full="full",e.Auto="auto";})(vc=T.Size||(T.Size={}));var eo={group:He.Group.Modal,subgroups:["Footer"],type:He.ComponentType.Button};function ro(e){return ht.actionWrapper({group:He.Group.Modal,payload:e,type:X.OPEN})}T.openModal=ro;function _c(e){return ht.actionWrapper({group:He.Group.Modal,payload:e,type:X.CLOSE})}T.closeModal=_c;function Of(e){return ht.actionWrapper({group:He.Group.Modal,payload:e,type:X.UPDATE_SIZE})}T.updateModalSize=Of;function Ef(e,r){var t=Yt({id:e},eo);return mf.clickButton(He.Group.Modal,t,r)}T.clickFooterButton=Ef;function no(e){return ht.actionWrapper({payload:e,group:He.Group.Modal,type:X.UPDATE})}T.update=no;function Pc(e){return ht.actionWrapper({payload:e,group:He.Group.Modal,type:X.DATA})}T.data=Pc;function Sf(e){return typeof e.url=="string"||typeof e.path=="string"}T.isIframeModal=Sf;function Tf(e){return typeof e.message=="string"}T.isMessageModal=Tf;var io=function(e){to(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.size=vc.Small,t}return Object.defineProperty(r.prototype,"footer",{get:function(){if(!(!this.footerPrimary&&!this.footerSecondary))return {buttons:{primary:this.footerPrimary,secondary:this.footerSecondary}}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"footerOptions",{get:function(){if(!(!this.footerPrimaryOptions&&!this.footerSecondaryOptions))return {buttons:{primary:this.footerPrimaryOptions,secondary:this.footerSecondaryOptions}}},enumerable:false,configurable:true}),r.prototype.close=function(){this.app.dispatch(_c({id:this.id}));},r.prototype.setFooterPrimaryButton=function(t,n){var i=this,o=eo.subgroups;this.footerPrimaryOptions=this.getChildButton(t,this.footerPrimaryOptions),this.footerPrimary=this.footerPrimaryOptions?yc.getSingleButton(this,this.footerPrimaryOptions,o,function(a){i.updatePrimaryFooterButton(a,n);}):undefined;},r.prototype.setFooterSecondaryButtons=function(t,n){var i=this,o=eo.subgroups,a=t||[],c=this.footerOptions&&this.footerOptions.buttons.secondary||[];this.footerSecondaryOptions=this.getUpdatedChildActions(a,c),this.footerSecondary=this.footerSecondaryOptions?this.footerSecondaryOptions.map(function(p){return yc.getSingleButton(i,p,o,function(s){i.updateSecondaryFooterButton(s,n);})}):undefined;},r.prototype.getChildButton=function(t,n){var i=t?[t]:[],o=n?[n]:[],a=this.getUpdatedChildActions(i,o);return a?a[0]:undefined},r.prototype.updatePrimaryFooterButton=function(t,n){!this.footer||!this.footer.buttons.primary||ht.updateActionFromPayload(this.footer.buttons.primary,t)&&n();},r.prototype.updateSecondaryFooterButton=function(t,n){if(!(!this.footer||!this.footer.buttons||!this.footer.buttons.secondary)){for(var i,o=0,a=this.footer.buttons.secondary;o<a.length;o++){var c=a[o];if(i=ht.updateActionFromPayload(c,t),i)break}i&&n();}},r}(bf.ActionSetWithChildren);T.Modal=io;var Cf=function(e){to(r,e);function r(t,n){var i=e.call(this,t,He.Group.Modal,He.Group.Modal)||this;return i.set(n,false),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return Yt(Yt({},this.options),{footer:this.footer,id:this.id})},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){return {footer:this.footerOptions,message:this.message,size:this.size,title:this.title}},enumerable:false,configurable:true}),r.prototype.set=function(t,n){var i=this;n===undefined&&(n=true);var o=ht.getMergedProps(this.options,t),a=o.title,c=o.footer,p=o.message,s=o.size;return this.title=a,this.message=p,this.size=s,this.setFooterPrimaryButton(c?c.buttons.primary:undefined,function(){i.dispatch(X.UPDATE);}),this.setFooterSecondaryButtons(c?c.buttons.secondary:undefined,function(){i.dispatch(X.UPDATE);}),n&&this.dispatch(X.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case X.OPEN:this.app.dispatch(ro(this.payload));break;case X.CLOSE:this.close();break;case X.UPDATE:this.app.dispatch(no(this.payload));break}return this},r}(io);T.ModalMessage=Cf;var If=function(e){to(r,e);function r(t,n){var i=e.call(this,t,He.Group.Modal,He.Group.Modal)||this;return i.set(n,false),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return Yt(Yt({},this.options),{footer:this.footer,id:this.id})},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){return {footer:this.footerOptions,path:this.path,size:this.size,title:this.title,url:this.url,loading:this.loading}},enumerable:false,configurable:true}),r.prototype.set=function(t,n){var i=this;n===undefined&&(n=true);var o=ht.getMergedProps(this.options,t),a=o.title,c=o.footer,p=o.path,s=o.url,h=o.size,S=o.loading;return this.title=a,this.url=s,this.path=p,this.size=h,this.loading=S,this.setFooterPrimaryButton(c?c.buttons.primary:undefined,function(){i.dispatch(X.UPDATE);}),this.setFooterSecondaryButtons(c?c.buttons.secondary:undefined,function(){i.dispatch(X.UPDATE);}),n&&this.dispatch(X.UPDATE),this},r.prototype.dispatch=function(t,n){switch(t){case X.OPEN:this.app.dispatch(ro(this.payload));break;case X.CLOSE:this.close();break;case X.UPDATE:this.app.dispatch(no(this.payload));break;case X.DATA:this.app.dispatch(Pc(n||{}));break}return this},r}(io);T.ModalIframe=If;});var Ac=B$a(L=>{Object.defineProperty(L,"__esModule",{value:true});L.create=L.Modal=L.isMessageModal=L.data=L.update=L.clickFooterButton=L.updateModalSize=L.closeModal=L.openModal=L.Size=L.Action=L.isIframeModal=L.ModalMessage=L.ModalIframe=undefined;var gr=xn$2();Object.defineProperty(L,"ModalIframe",{enumerable:true,get:function(){return gr.ModalIframe}});Object.defineProperty(L,"ModalMessage",{enumerable:true,get:function(){return gr.ModalMessage}});Object.defineProperty(L,"isIframeModal",{enumerable:true,get:function(){return gr.isIframeModal}});var at=xn$2();Object.defineProperty(L,"Action",{enumerable:true,get:function(){return at.Action}});Object.defineProperty(L,"Size",{enumerable:true,get:function(){return at.Size}});Object.defineProperty(L,"openModal",{enumerable:true,get:function(){return at.openModal}});Object.defineProperty(L,"closeModal",{enumerable:true,get:function(){return at.closeModal}});Object.defineProperty(L,"updateModalSize",{enumerable:true,get:function(){return at.updateModalSize}});Object.defineProperty(L,"clickFooterButton",{enumerable:true,get:function(){return at.clickFooterButton}});Object.defineProperty(L,"update",{enumerable:true,get:function(){return at.update}});Object.defineProperty(L,"data",{enumerable:true,get:function(){return at.data}});Object.defineProperty(L,"isMessageModal",{enumerable:true,get:function(){return at.isMessageModal}});Object.defineProperty(L,"Modal",{enumerable:true,get:function(){return at.Modal}});var Mf=function(e,r){return gr.isIframeModal(r)?new gr.ModalIframe(e,r):new gr.ModalMessage(e,r)};L.create=Mf;});var uo$1=B$a(_e=>{var Rf=_e&&_e.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),ao=_e&&_e.__assign||function(){return ao=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},ao.apply(this,arguments)},jf=_e&&_e.__awaiter||function(e,r,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o);})}return new(t||(t=Promise))(function(o,a){function c(h){try{s(n.next(h));}catch(S){a(S);}}function p(h){try{s(n.throw(h));}catch(S){a(S);}}function s(h){h.done?o(h.value):i(h.value).then(c,p);}s((n=n.apply(e,r||[])).next());})},Nf=_e&&_e.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(s){return function(h){return p([s,h])}}function p(s){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,i=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){t.label=s[1];break}if(s[0]===6&&t.label<o[1]){t.label=o[1],o=s;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(s);break}o[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t);}catch(h){s=[6,h],i=0;}finally{n=o=0;}if(s[0]&5)throw s[1];return {value:s[0]?s[1]:undefined,done:true}}};Object.defineProperty(_e,"__esModule",{value:true});_e.ModalContent=_e.Action=undefined;var Lf=M(),Df=w$3(),oo=I(),gc=xn$2(),$r;(function(e){e.LOADING="LOADING",e.LOADED="LOADED";})($r=_e.Action||(_e.Action={}));var Bf=function(e){Rf(r,e);function r(t,n){return e.call(this,t,oo.Group.Modal,oo.Group.Modal,n?n.id:undefined)||this}return r.prototype.loaded=function(){this.dispatch($r.LOADED);},r.prototype.loading=function(){this.dispatch($r.LOADING);},r.prototype.dispatch=function(t){switch(t){case $r.LOADED:this.dispatchModalAction(gc.Action.UPDATE_CONTENT,{loading:false});break;case $r.LOADING:this.dispatchModalAction(gc.Action.UPDATE_CONTENT,{loading:true});break}return this},r.prototype.dispatchModalAction=function(t,n){return jf(this,undefined,undefined,function(){var i;return Nf(this,function(o){return i=Lf.actionWrapper({type:t,group:oo.Group.Modal,payload:ao({},n)}),this.app.dispatch(i),[2]})})},r}(Df.ActionSet);_e.ModalContent=Bf;});var mc=B$a(Rt=>{Object.defineProperty(Rt,"__esModule",{value:true});Rt.create=Rt.ModalContent=Rt.Action=undefined;var bc=uo$1();Object.defineProperty(Rt,"ModalContent",{enumerable:true,get:function(){return bc.ModalContent}});var wf=uo$1();Object.defineProperty(Rt,"Action",{enumerable:true,get:function(){return wf.Action}});function Uf(e,r){return new bc.ModalContent(e,r)}Rt.create=Uf;});var so$1=B$a(Pe=>{var Gf=Pe&&Pe.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Kn=Pe&&Pe.__assign||function(){return Kn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Kn.apply(this,arguments)};Object.defineProperty(Pe,"__esModule",{value:true});Pe.History=Pe.replace=Pe.push=Pe.Action=undefined;var Oc=M(),qf=w$3(),co=I(),Xr;(function(e){e.PUSH="APP::NAVIGATION::HISTORY::PUSH",e.REPLACE="APP::NAVIGATION::HISTORY::REPLACE";})(Xr=Pe.Action||(Pe.Action={}));function Ec(e){return Oc.actionWrapper({payload:e,group:co.Group.Navigation,type:Xr.PUSH})}Pe.push=Ec;function Sc(e){return Oc.actionWrapper({payload:e,group:co.Group.Navigation,type:Xr.REPLACE})}Pe.replace=Sc;var Ff=function(e){Gf(r,e);function r(t){return e.call(this,t,"History",co.Group.Navigation)||this}return Object.defineProperty(r.prototype,"payload",{get:function(){return {id:this.id}},enumerable:false,configurable:true}),r.prototype.dispatch=function(t,n){var i=Kn(Kn({},this.payload),{path:n});switch(t){case Xr.PUSH:this.app.dispatch(Ec(i));break;case Xr.REPLACE:this.app.dispatch(Sc(i));break}return this},r}(qf.ActionSet);Pe.History=Ff;});var Cc=B$a(xe=>{Object.defineProperty(xe,"__esModule",{value:true});xe.create=xe.replace=xe.push=xe.Action=xe.History=undefined;var Tc=so$1();Object.defineProperty(xe,"History",{enumerable:true,get:function(){return Tc.History}});var po=so$1();Object.defineProperty(xe,"Action",{enumerable:true,get:function(){return po.Action}});Object.defineProperty(xe,"push",{enumerable:true,get:function(){return po.push}});Object.defineProperty(xe,"replace",{enumerable:true,get:function(){return po.replace}});function kf(e){return new Tc.History(e)}xe.create=kf;});var Yn$1=B$a(P=>{var Wf=P&&P.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),jt=P&&P.__assign||function(){return jt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},jt.apply(this,arguments)};Object.defineProperty(P,"__esModule",{value:true});P.Redirect=P.isProductVariantResourcePayload=P.isCreateResourcePayload=P.isAdminSection=P.isRemotePayload=P.isAdminSectionPayload=P.isAdminPathPayload=P.isAppPayload=P.getRelativePath=P.normalizeUrl=P.getPathWithSearchAndHash=P.toDestination=P.toApp=P.toRemote=P.toAdminSection=P.toAdminPath=P.isResourcePayload=P.ResourceType=P.Action=undefined;var zn=M(),Vf=w$3(),Zr=I(),yt;(function(e){e.ADMIN_SECTION="APP::NAVIGATION::REDIRECT::ADMIN::SECTION",e.ADMIN_PATH="APP::NAVIGATION::REDIRECT::ADMIN::PATH",e.REMOTE="APP::NAVIGATION::REDIRECT::REMOTE",e.APP="APP::NAVIGATION::REDIRECT::APP";})(yt=P.Action||(P.Action={}));(function(e){e.Product="products",e.Collection="collections",e.Order="orders",e.Customer="customers",e.Discount="discounts";})(P.ResourceType||(P.ResourceType={}));function xf(e){return typeof e.id=="string"}P.isResourcePayload=xf;function Ic(e){return zn.actionWrapper({payload:e,group:Zr.Group.Navigation,type:yt.ADMIN_PATH})}P.toAdminPath=Ic;function Mc(e){return zn.actionWrapper({payload:e,group:Zr.Group.Navigation,type:yt.ADMIN_SECTION})}P.toAdminSection=Mc;function Rc(e){return zn.actionWrapper({payload:e,group:Zr.Group.Navigation,type:yt.REMOTE})}P.toRemote=Rc;function jc(e){return zn.actionWrapper({payload:e,group:Zr.Group.Navigation,type:yt.APP})}P.toApp=jc;function Nc(e,r,t){switch(e){case yt.APP:{var n=Dc(r)?r:{path:r};return jc(jt({id:t},n))}case yt.ADMIN_PATH:{var i=Bc(r)?r:{path:r};return Ic(jt({id:t},i))}case yt.ADMIN_SECTION:{var o=wc(r)?r:{section:r};return Mc(jt({id:t},o))}case yt.REMOTE:{var a=Uc(r)?r:{url:r};return Rc(jt({id:t},a))}}}P.toDestination=Nc;function lo(e){var r=e.pathname,t=e.search,n=e.hash;return ""+r+(t||"")+(n||"")}P.getPathWithSearchAndHash=lo;function Kf(e){return e instanceof URL?e.toString():typeof e=="string"?e:Lc(e)}P.normalizeUrl=Kf;function Lc(e){if(typeof e=="string")return e.startsWith("/")?e:lo(new URL(e));var r=e.search instanceof URLSearchParams?e.search.toString():e.search;return lo(jt(jt({},e),{search:r}))}P.getRelativePath=Lc;function Dc(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"path")}P.isAppPayload=Dc;function Bc(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"path")}P.isAdminPathPayload=Bc;function wc(e){return typeof e=="object"&&typeof e.section=="object"&&Object.prototype.hasOwnProperty.call(e.section,"name")}P.isAdminSectionPayload=wc;function Uc(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"url")}P.isRemotePayload=Uc;function zf(e){return typeof e=="object"&&typeof e?.name=="string"}P.isAdminSection=zf;function Yf(e){return e.create===true}P.isCreateResourcePayload=Yf;function Qf(e){var r=e;return r.id!==undefined&&r.variant!==undefined}P.isProductVariantResourcePayload=Qf;var $f=function(e){Wf(r,e);function r(t){return e.call(this,t,"Redirect",Zr.Group.Navigation)||this}return Object.defineProperty(r.prototype,"payload",{get:function(){return {id:this.id}},enumerable:false,configurable:true}),r.prototype.dispatch=function(t,n){var i=Nc(t,n,this.payload.id);return this.app.dispatch(i),this},r}(Vf.ActionSet);P.Redirect=$f;});var Gc=B$a(g=>{Object.defineProperty(g,"__esModule",{value:true});g.create=g.isProductVariantCreateResourcePayload=g.isProductVariantResourcePayload=g.isCreateResourcePayload=g.isAdminSection=g.isRemotePayload=g.isAdminSectionPayload=g.isAdminPathPayload=g.isAppPayload=g.getRelativePath=g.normalizeUrl=g.getPathWithSearchAndHash=g.toDestination=g.toApp=g.toRemote=g.toAdminSection=g.toAdminPath=g.isResourcePayload=g.ResourceType=g.Action=g.Redirect=undefined;var br=Yn$1();Object.defineProperty(g,"Redirect",{enumerable:true,get:function(){return br.Redirect}});Object.defineProperty(g,"isCreateResourcePayload",{enumerable:true,get:function(){return br.isCreateResourcePayload}});Object.defineProperty(g,"isProductVariantResourcePayload",{enumerable:true,get:function(){return br.isProductVariantResourcePayload}});var fe=Yn$1();Object.defineProperty(g,"Action",{enumerable:true,get:function(){return fe.Action}});Object.defineProperty(g,"ResourceType",{enumerable:true,get:function(){return fe.ResourceType}});Object.defineProperty(g,"isResourcePayload",{enumerable:true,get:function(){return fe.isResourcePayload}});Object.defineProperty(g,"toAdminPath",{enumerable:true,get:function(){return fe.toAdminPath}});Object.defineProperty(g,"toAdminSection",{enumerable:true,get:function(){return fe.toAdminSection}});Object.defineProperty(g,"toRemote",{enumerable:true,get:function(){return fe.toRemote}});Object.defineProperty(g,"toApp",{enumerable:true,get:function(){return fe.toApp}});Object.defineProperty(g,"toDestination",{enumerable:true,get:function(){return fe.toDestination}});Object.defineProperty(g,"getPathWithSearchAndHash",{enumerable:true,get:function(){return fe.getPathWithSearchAndHash}});Object.defineProperty(g,"normalizeUrl",{enumerable:true,get:function(){return fe.normalizeUrl}});Object.defineProperty(g,"getRelativePath",{enumerable:true,get:function(){return fe.getRelativePath}});Object.defineProperty(g,"isAppPayload",{enumerable:true,get:function(){return fe.isAppPayload}});Object.defineProperty(g,"isAdminPathPayload",{enumerable:true,get:function(){return fe.isAdminPathPayload}});Object.defineProperty(g,"isAdminSectionPayload",{enumerable:true,get:function(){return fe.isAdminSectionPayload}});Object.defineProperty(g,"isRemotePayload",{enumerable:true,get:function(){return fe.isRemotePayload}});Object.defineProperty(g,"isAdminSection",{enumerable:true,get:function(){return fe.isAdminSection}});function Xf(e){return br.isProductVariantResourcePayload(e)?br.isCreateResourcePayload(e.variant):false}g.isProductVariantCreateResourcePayload=Xf;function Zf(e){return new br.Redirect(e)}g.create=Zf;});var fo=B$a(A=>{var Jf=A&&A.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),mr=A&&A.__assign||function(){return mr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},mr.apply(this,arguments)};Object.defineProperty(A,"__esModule",{value:true});A.ResourcePicker=A.update=A.close=A.cancel=A.open=A.select=A.ActionVerb=A.ResourceType=A.ProductStatus=A.ProductVariantInventoryManagement=A.ProductVariantInventoryPolicy=A.WeightUnit=A.FulfillmentServiceType=A.CollectionSortOrder=A.Action=undefined;var Or=M(),eh=w$3(),Qt=I(),Xe;(function(e){e.OPEN="APP::RESOURCE_PICKER::OPEN",e.SELECT="APP::RESOURCE_PICKER::SELECT",e.CLOSE="APP::RESOURCE_PICKER::CLOSE",e.UPDATE="APP::RESOURCE_PICKER::UPDATE",e.CANCEL="APP::RESOURCE_PICKER::CANCEL";})(Xe=A.Action||(A.Action={}));(function(e){e.Manual="MANUAL",e.BestSelling="BEST_SELLING",e.AlphaAsc="ALPHA_ASC",e.AlphaDesc="ALPHA_DESC",e.PriceDesc="PRICE_DESC",e.PriceAsc="PRICE_ASC",e.CreatedDesc="CREATED_DESC",e.Created="CREATED",e.MostRelevant="MOST_RELEVANT";})(A.CollectionSortOrder||(A.CollectionSortOrder={}));(function(e){e.GiftCard="GIFT_CARD",e.Manual="MANUAL",e.ThirdParty="THIRD_PARTY";})(A.FulfillmentServiceType||(A.FulfillmentServiceType={}));(function(e){e.Kilograms="KILOGRAMS",e.Grams="GRAMS",e.Pounds="POUNDS",e.Ounces="OUNCES";})(A.WeightUnit||(A.WeightUnit={}));(function(e){e.Deny="DENY",e.Continue="CONTINUE";})(A.ProductVariantInventoryPolicy||(A.ProductVariantInventoryPolicy={}));(function(e){e.Shopify="SHOPIFY",e.NotManaged="NOT_MANAGED",e.FulfillmentService="FULFILLMENT_SERVICE";})(A.ProductVariantInventoryManagement||(A.ProductVariantInventoryManagement={}));(function(e){e.Active="ACTIVE",e.Archived="ARCHIVED",e.Draft="DRAFT";})(A.ProductStatus||(A.ProductStatus={}));var qc;(function(e){e.Product="product",e.ProductVariant="variant",e.Collection="collection";})(qc=A.ResourceType||(A.ResourceType={}));var Fc;(function(e){e.Add="add",e.Select="select";})(Fc=A.ActionVerb||(A.ActionVerb={}));function kc(e){return Or.actionWrapper({payload:e,group:Qt.Group.ResourcePicker,type:Xe.SELECT})}A.select=kc;function Wc(e){return Or.actionWrapper({payload:e,group:Qt.Group.ResourcePicker,type:Xe.OPEN})}A.open=Wc;function Vc(e){return Or.actionWrapper({payload:e,group:Qt.Group.ResourcePicker,type:Xe.CANCEL})}A.cancel=Vc;function uh(e){return Or.actionWrapper({payload:e,group:Qt.Group.ResourcePicker,type:Xe.CANCEL})}A.close=uh;function Hc(e){return Or.actionWrapper({payload:e,group:Qt.Group.ResourcePicker,type:Xe.UPDATE})}A.update=Hc;var ch=function(e){Jf(r,e);function r(t,n,i){var o=e.call(this,t,Qt.Group.ResourcePicker,Qt.Group.ResourcePicker)||this;return o.initialSelectionIds=[],o.selection=[],o.resourceType=i,o.set(n,false),o}return Object.defineProperty(r.prototype,"payload",{get:function(){return mr(mr({},this.options),{id:this.id,resourceType:this.resourceType})},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){var t={initialQuery:this.initialQuery,selectMultiple:this.selectMultiple,initialSelectionIds:this.initialSelectionIds,showHidden:this.showHidden,actionVerb:this.actionVerb};if(this.resourceType===qc.Product){var n=mr(mr({},t),{showVariants:this.showVariants,showDraft:this.showDraft,showArchived:this.showArchived,showDraftBadge:this.showDraftBadge,showArchivedBadge:this.showArchivedBadge});return n}return t},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=Or.getMergedProps(this.options,t),o=i.initialQuery,a=i.initialSelectionIds,c=a===undefined?[]:a,p=i.showHidden,s=p===undefined?true:p,h=i.showVariants,S=h===undefined?true:h,D=i.showDraft,re=D===undefined?true:D,Te=i.showArchived,et=Te===undefined?true:Te,Ce=i.showDraftBadge,q=Ce===undefined?false:Ce,K=i.showArchivedBadge,W=K===undefined?false:K,ne=i.selectMultiple,he=ne===undefined?true:ne,pe=i.actionVerb,Ye=pe===undefined?Fc.Add:pe;return this.initialQuery=o,this.initialSelectionIds=c,this.showHidden=s,this.showVariants=S,this.showDraft=re,this.showArchived=et,this.showDraftBadge=q,this.showArchivedBadge=W,this.selectMultiple=he,this.actionVerb=Ye,n&&this.update(),this},r.prototype.dispatch=function(t,n){return t===Xe.OPEN?this.open():t===Xe.UPDATE?this.update():t===Xe.CLOSE||t===Xe.CANCEL?this.cancel():t===Xe.SELECT&&(this.selection=n,this.app.dispatch(kc({id:this.id,selection:this.selection}))),this},r.prototype.update=function(){this.app.dispatch(Hc(this.payload));},r.prototype.open=function(){this.app.dispatch(Wc(this.payload));},r.prototype.cancel=function(){this.app.dispatch(Vc({id:this.id}));},r.prototype.close=function(){this.cancel();},r}(eh.ActionSet);A.ResourcePicker=ch;});var Kc=B$a(C=>{Object.defineProperty(C,"__esModule",{value:true});C.create=C.ResourcePicker=C.WeightUnit=C.update=C.select=C.ResourceType=C.ProductVariantInventoryPolicy=C.ProductVariantInventoryManagement=C.ProductStatus=C.open=C.FulfillmentServiceType=C.CollectionSortOrder=C.close=C.cancel=C.ActionVerb=C.Action=undefined;var xc=fo();Object.defineProperty(C,"ResourcePicker",{enumerable:true,get:function(){return xc.ResourcePicker}});var me=fo();Object.defineProperty(C,"Action",{enumerable:true,get:function(){return me.Action}});Object.defineProperty(C,"ActionVerb",{enumerable:true,get:function(){return me.ActionVerb}});Object.defineProperty(C,"cancel",{enumerable:true,get:function(){return me.cancel}});Object.defineProperty(C,"close",{enumerable:true,get:function(){return me.close}});Object.defineProperty(C,"CollectionSortOrder",{enumerable:true,get:function(){return me.CollectionSortOrder}});Object.defineProperty(C,"FulfillmentServiceType",{enumerable:true,get:function(){return me.FulfillmentServiceType}});Object.defineProperty(C,"open",{enumerable:true,get:function(){return me.open}});Object.defineProperty(C,"ProductStatus",{enumerable:true,get:function(){return me.ProductStatus}});Object.defineProperty(C,"ProductVariantInventoryManagement",{enumerable:true,get:function(){return me.ProductVariantInventoryManagement}});Object.defineProperty(C,"ProductVariantInventoryPolicy",{enumerable:true,get:function(){return me.ProductVariantInventoryPolicy}});Object.defineProperty(C,"ResourceType",{enumerable:true,get:function(){return me.ResourceType}});Object.defineProperty(C,"select",{enumerable:true,get:function(){return me.select}});Object.defineProperty(C,"update",{enumerable:true,get:function(){return me.update}});Object.defineProperty(C,"WeightUnit",{enumerable:true,get:function(){return me.WeightUnit}});var sh=function(e,r){var t=r.resourceType,n=r.options,i=n===undefined?{}:n;return new xc.ResourcePicker(e,i,t)};C.create=sh;});var zc=B$a(je=>{var ph=je&&je.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}();Object.defineProperty(je,"__esModule",{value:true});je.capture=je.openCamera=je.Scanner=je.Action=undefined;var ho=M(),lh=w$3(),Jr=I(),en;(function(e){e.OPEN_CAMERA="APP::SCANNER::OPEN::CAMERA",e.CAPTURE="APP::SCANNER::CAPTURE";})(en=je.Action||(je.Action={}));var dh=function(e){ph(r,e);function r(t,n){return e.call(this,t,Jr.Group.Scanner,Jr.Group.Scanner,n?n.id:undefined)||this}return r.prototype.dispatch=function(t){switch(t){case en.OPEN_CAMERA:this.dispatchScannerAction(en.OPEN_CAMERA);break}return this},r.prototype.dispatchScannerAction=function(t){this.app.dispatch(ho.actionWrapper({type:t,group:Jr.Group.Scanner,payload:{id:this.id}}));},r}(lh.ActionSet);je.Scanner=dh;function fh(){return ho.actionWrapper({group:Jr.Group.Scanner,type:en.OPEN_CAMERA})}je.openCamera=fh;function hh(e){return ho.actionWrapper({group:Jr.Group.Scanner,type:en.CAPTURE,payload:e})}je.capture=hh;});var Yc=B$a(Ke=>{Object.defineProperty(Ke,"__esModule",{value:true});Ke.create=Ke.capture=Ke.openCamera=Ke.Scanner=Ke.Action=undefined;var tn=zc();Object.defineProperty(Ke,"Action",{enumerable:true,get:function(){return tn.Action}});Object.defineProperty(Ke,"Scanner",{enumerable:true,get:function(){return tn.Scanner}});Object.defineProperty(Ke,"openCamera",{enumerable:true,get:function(){return tn.openCamera}});Object.defineProperty(Ke,"capture",{enumerable:true,get:function(){return tn.capture}});function yh(e,r){return new tn.Scanner(e,r)}Ke.create=yh;});var Xc=B$a(vt=>{Object.defineProperty(vt,"__esModule",{value:true});vt.respond=vt.request=vt.Action=undefined;var Qc=M(),$c=I(),yo;(function(e){e.REQUEST="APP::SESSION_TOKEN::REQUEST",e.RESPOND="APP::SESSION_TOKEN::RESPOND";})(yo=vt.Action||(vt.Action={}));function vh(){return Qc.actionWrapper({group:$c.Group.SessionToken,type:yo.REQUEST})}vt.request=vh;function _h(e){return Qc.actionWrapper({payload:e,group:$c.Group.SessionToken,type:yo.RESPOND})}vt.respond=_h;});var Zc=B$a(Nt=>{Object.defineProperty(Nt,"__esModule",{value:true});Nt.respond=Nt.request=Nt.Action=undefined;var vo=Xc();Object.defineProperty(Nt,"Action",{enumerable:true,get:function(){return vo.Action}});Object.defineProperty(Nt,"request",{enumerable:true,get:function(){return vo.request}});Object.defineProperty(Nt,"respond",{enumerable:true,get:function(){return vo.respond}});});var Jc=B$a(Qn=>{Object.defineProperty(Qn,"__esModule",{value:true});Qn.getGroupedButton=undefined;var Ph=Vr();function Ah(e,r,t,n){e.addChild(r,e.group,t);var i=r.id,o=r.label,a=r.disabled,c=r.buttons,p=r.plain;return e.subscribeToChild(r,Ph.Action.UPDATE,n),{id:i,label:o,buttons:c,disabled:a,plain:p}}Qn.getGroupedButton=Ah;});var Po$1=B$a(se=>{var gh=se&&se.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Sr=se&&se.__assign||function(){return Sr=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Sr.apply(this,arguments)};Object.defineProperty(se,"__esModule",{value:true});se.TitleBar=se.update=se.clickBreadcrumb=se.clickActionButton=se.Action=undefined;var bh=w$3(),ts=_r$1(),es=Vr(),mh=Jc(),Oh=kr$1(),Er=M(),_t=I(),$t;(function(e){e.UPDATE="APP::TITLEBAR::UPDATE",e.BUTTON_CLICK="APP::TITLEBAR::BUTTONS::BUTTON::CLICK",e.BUTTON_UPDATE="APP::TITLEBAR::BUTTONS::BUTTON::UPDATE",e.BUTTON_GROUP_UPDATE="APP::TITLEBAR::BUTTONS::BUTTONGROUP::UPDATE",e.BREADCRUMBS_CLICK="APP::TITLEBAR::BREADCRUMBS::BUTTON::CLICK",e.BREADCRUMBS_UPDATE="APP::TITLEBAR::BREADCRUMBS::BUTTON::UPDATE";})($t=se.Action||(se.Action={}));var _o={group:_t.Group.TitleBar,subgroups:["Buttons"]},rs={group:_t.Group.TitleBar,subgroups:["Breadcrumbs"],type:_t.ComponentType.Button};function Eh(e,r){var t=_t.ComponentType.Button,n=Sr({id:e,type:t},_o);return ts.clickButton(_t.Group.TitleBar,n,r)}se.clickActionButton=Eh;function Sh(e,r){var t=Sr({id:e},rs);return ts.clickButton(_t.Group.TitleBar,t,r)}se.clickBreadcrumb=Sh;function ns(e){return Er.actionWrapper({payload:e,group:_t.Group.TitleBar,type:$t.UPDATE})}se.update=ns;var Th=function(e){gh(r,e);function r(t,n){var i=e.call(this,t,_t.Group.TitleBar,_t.Group.TitleBar)||this;return !n.title&&!n.breadcrumbs&&!n.buttons||i.set(n),i}return Object.defineProperty(r.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return {primary:this.primary,secondary:this.secondary}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return {primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){return {breadcrumbs:this.breadcrumbsOption,buttons:this.buttonsOptions,title:this.title}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return Sr(Sr({},this.options),{breadcrumbs:this.breadcrumb,buttons:this.buttons,id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=Er.getMergedProps(this.options,t),o=i.title,a=i.buttons,c=i.breadcrumbs;return this.title=o,this.setBreadcrumbs(c),this.setPrimaryButton(a?a.primary:undefined),this.setSecondaryButton(a?a.secondary:undefined),n&&this.dispatch($t.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case $t.UPDATE:this.app.dispatch(ns(this.payload));break}return this},r.prototype.getButton=function(t,n,i){return t instanceof es.ButtonGroup?mh.getGroupedButton(this,t,n,i):Oh.getSingleButton(this,t,n,i)},r.prototype.updatePrimaryButton=function(t){this.primary&&Er.updateActionFromPayload(this.primary,t)&&this.dispatch($t.UPDATE);},r.prototype.updateSecondaryButtons=function(t){if(this.secondary){var n=this.secondary.find(function(o){return o.id===t.id});if(n){var i=false;es.isGroupedButtonPayload(t),i=Er.updateActionFromPayload(n,t),i&&this.dispatch($t.UPDATE);}}},r.prototype.updateBreadcrumbButton=function(t){this.breadcrumb&&Er.updateActionFromPayload(this.breadcrumb,t)&&this.dispatch($t.UPDATE);},r.prototype.setPrimaryButton=function(t){this.primaryOptions=this.getChildButton(t,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,_o.subgroups,this.updatePrimaryButton):undefined;},r.prototype.setSecondaryButton=function(t){var n=this,i=t||[],o=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(i,o),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(a){return n.getButton(a,_o.subgroups,n.updateSecondaryButtons)}):undefined;},r.prototype.setBreadcrumbs=function(t){this.breadcrumbsOption=this.getChildButton(t,this.breadcrumbsOption),this.breadcrumb=this.breadcrumbsOption?this.getButton(this.breadcrumbsOption,rs.subgroups,this.updateBreadcrumbButton):undefined;},r.prototype.getChildButton=function(t,n){var i=t?[t]:[],o=n?[n]:[],a=this.getUpdatedChildActions(i,o);return a?a[0]:undefined},r}(bh.ActionSetWithChildren);se.TitleBar=Th;});var os=B$a(Oe=>{Object.defineProperty(Oe,"__esModule",{value:true});Oe.create=Oe.TitleBar=Oe.update=Oe.clickBreadcrumb=Oe.clickActionButton=Oe.Action=undefined;var is=Po$1();Object.defineProperty(Oe,"TitleBar",{enumerable:true,get:function(){return is.TitleBar}});var $n=Po$1();Object.defineProperty(Oe,"Action",{enumerable:true,get:function(){return $n.Action}});Object.defineProperty(Oe,"clickActionButton",{enumerable:true,get:function(){return $n.clickActionButton}});Object.defineProperty(Oe,"clickBreadcrumb",{enumerable:true,get:function(){return $n.clickBreadcrumb}});Object.defineProperty(Oe,"update",{enumerable:true,get:function(){return $n.update}});function Ch(e,r){return new is.TitleBar(e,r)}Oe.create=Ch;});var us=B$a(Ee=>{Object.defineProperty(Ee,"__esModule",{value:true});Ee.create=Ee.Toast=Ee.primaryAction=Ee.clear=Ee.show=Ee.Action=undefined;var as=Un$1();Object.defineProperty(Ee,"Toast",{enumerable:true,get:function(){return as.Toast}});var Xn=Un$1();Object.defineProperty(Ee,"Action",{enumerable:true,get:function(){return Xn.Action}});Object.defineProperty(Ee,"show",{enumerable:true,get:function(){return Xn.show}});Object.defineProperty(Ee,"clear",{enumerable:true,get:function(){return Xn.clear}});Object.defineProperty(Ee,"primaryAction",{enumerable:true,get:function(){return Xn.primaryAction}});function Ih(e,r){return new as.Toast(e,r)}Ee.create=Ih;});var ss=B$a(x=>{var Mh=x&&x.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Ao=x&&x.__assign||function(){return Ao=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Ao.apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:true});x.ContextualSaveBar=x.update=x.discard=x.save=x.hide=x.show=x.Action=undefined;var cs=M(),Rh=w$3(),go=I(),Xt;(function(e){e.DISCARD="APP::CONTEXTUAL_SAVE_BAR::DISCARD",e.SAVE="APP::CONTEXTUAL_SAVE_BAR::SAVE",e.SHOW="APP::CONTEXTUAL_SAVE_BAR::SHOW",e.HIDE="APP::CONTEXTUAL_SAVE_BAR::HIDE",e.UPDATE="APP::CONTEXTUAL_SAVE_BAR::UPDATE";})(Xt=x.Action||(x.Action={}));function Tr(e,r){return cs.actionWrapper({group:go.Group.ContextualSaveBar,type:e,payload:r})}function jh(e){return Tr(Xt.SHOW,e)}x.show=jh;function Nh(e){return Tr(Xt.HIDE,e)}x.hide=Nh;function Lh(e){return Tr(Xt.SAVE,e)}x.save=Lh;function Dh(e){return Tr(Xt.DISCARD,e)}x.discard=Dh;function Bh(e){return Tr(Xt.UPDATE,e)}x.update=Bh;var wh=function(e){Mh(r,e);function r(t,n){n===undefined&&(n={});var i=e.call(this,t,go.Group.ContextualSaveBar,go.Group.ContextualSaveBar)||this;return i.options=n,i.set(n,false),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return Ao({id:this.id},this.options)},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=cs.getMergedProps(this.options,t);return this.options=i,n&&this.dispatch(Xt.UPDATE),this},r.prototype.dispatch=function(t){return this.app.dispatch(Tr(t,this.payload)),this},r}(Rh.ActionSet);x.ContextualSaveBar=wh;});var ps=B$a(te=>{Object.defineProperty(te,"__esModule",{value:true});te.create=te.ContextualSaveBar=te.update=te.discard=te.save=te.hide=te.show=te.Action=undefined;var Lt=ss();Object.defineProperty(te,"Action",{enumerable:true,get:function(){return Lt.Action}});Object.defineProperty(te,"show",{enumerable:true,get:function(){return Lt.show}});Object.defineProperty(te,"hide",{enumerable:true,get:function(){return Lt.hide}});Object.defineProperty(te,"save",{enumerable:true,get:function(){return Lt.save}});Object.defineProperty(te,"discard",{enumerable:true,get:function(){return Lt.discard}});Object.defineProperty(te,"update",{enumerable:true,get:function(){return Lt.update}});Object.defineProperty(te,"ContextualSaveBar",{enumerable:true,get:function(){return Lt.ContextualSaveBar}});function Uh(e,r){return new Lt.ContextualSaveBar(e,r)}te.create=Uh;});var Oo=B$a(Ae=>{var Gh=Ae&&Ae.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),bo=Ae&&Ae.__assign||function(){return bo=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},bo.apply(this,arguments)};Object.defineProperty(Ae,"__esModule",{value:true});Ae.close=Ae.show=Ae.Share=Ae.Action=undefined;var rn=I(),mo=M(),qh=w$3(),Zt;(function(e){e.SHOW="APP::SHARE::SHOW",e.CLOSE="APP::SHARE::CLOSE";})(Zt=Ae.Action||(Ae.Action={}));var Fh=function(e){Gh(r,e);function r(t){return e.call(this,t,rn.Group.Share,rn.Group.Share)||this}return r.prototype.dispatch=function(t,n){switch(t){case Zt.SHOW:this.dispatchShareAction(Zt.SHOW,n);break;case Zt.CLOSE:this.dispatchShareAction(Zt.CLOSE,n);break;default:throw new Error("Action: "+t+" not supported")}return this},r.prototype.dispatchShareAction=function(t,n){this.app.dispatch(mo.actionWrapper({type:t,group:rn.Group.Share,payload:bo({id:this.id},n)}));},r}(qh.ActionSet);Ae.Share=Fh;function kh(){return mo.actionWrapper({group:rn.Group.Share,type:Zt.SHOW})}Ae.show=kh;function Wh(e){return mo.actionWrapper({group:rn.Group.Share,type:Zt.CLOSE,payload:e})}Ae.close=Wh;});var ds=B$a(ze=>{Object.defineProperty(ze,"__esModule",{value:true});ze.create=ze.Share=ze.close=ze.show=ze.Action=undefined;var ls=Oo();Object.defineProperty(ze,"Share",{enumerable:true,get:function(){return ls.Share}});var Eo=Oo();Object.defineProperty(ze,"Action",{enumerable:true,get:function(){return Eo.Action}});Object.defineProperty(ze,"show",{enumerable:true,get:function(){return Eo.show}});Object.defineProperty(ze,"close",{enumerable:true,get:function(){return Eo.close}});function Vh(e){return new ls.Share(e)}ze.create=Vh;});var nn$2=B$a(Ne=>{var Hh=Ne&&Ne.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),Zn=Ne&&Ne.__assign||function(){return Zn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},Zn.apply(this,arguments)};Object.defineProperty(Ne,"__esModule",{value:true});Ne.AppLink=Ne.update=Ne.Action=undefined;var So=M(),xh=w$3(),fs=I(),Kh=Yn$1(),Jn;(function(e){e.UPDATE="UPDATE";})(Jn=Ne.Action||(Ne.Action={}));function hs(e,r,t){var n=r.id,i=t.label,o=t.destination,a=Zn(Zn({},t),{id:n,label:i,destination:o});return So.actionWrapper({group:e,type:So.getEventNameSpace(e,Jn.UPDATE,r),payload:a})}Ne.update=hs;var zh=function(e){Hh(r,e);function r(t,n){var i=e.call(this,t,fs.Group.Link,fs.Group.Link)||this;return i.label="",i.destination="",i.set(n,false),i}return Object.defineProperty(r.prototype,"options",{get:function(){var t=this,n=t.label,i=t.destination;return {label:n,destination:i,redirectType:Kh.Action.APP}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){var t=this.options,n=t.label,i=t.destination,o=t.redirectType,a=i;return {id:this.id,label:n,destination:{path:a},redirectType:o}},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=So.getMergedProps(this.options,t),o=i.label,a=i.destination;return this.label=o,this.destination=a,n&&this.dispatch(Jn.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case Jn.UPDATE:{var n=hs(this.group,this.component,this.payload);this.app.dispatch(n);break}}return this},r}(xh.ActionSet);Ne.AppLink=zh;});var Co=B$a(Le=>{var Yh=Le&&Le.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),ei=Le&&Le.__assign||function(){return ei=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},ei.apply(this,arguments)};Object.defineProperty(Le,"__esModule",{value:true});Le.NavigationMenu=Le.update=Le.Action=undefined;var Qh=nn$2(),To=M(),$h=w$3(),ys=I(),Xh=["Navigation_Menu"],on;(function(e){e.UPDATE="APP::MENU::NAVIGATION_MENU::UPDATE",e.LINK_UPDATE="APP::MENU::NAVIGATION_MENU::LINK::UPDATE";})(on=Le.Action||(Le.Action={}));function vs(e){return To.actionWrapper({payload:e,group:ys.Group.Menu,type:on.UPDATE})}Le.update=vs;var Zh=function(e){Yh(r,e);function r(t,n){var i=e.call(this,t,"Navigation_Menu",ys.Group.Menu)||this;return i.items=[],i.set(n),i}return Object.defineProperty(r.prototype,"options",{get:function(){return {items:this.itemsOptions,active:this.activeOptions}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return ei(ei({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=To.getMergedProps(this.options,t),o=i.items,a=i.active;return this.setItems(o),this.activeOptions=a,this.active=a&&a.id,n&&this.dispatch(on.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case on.UPDATE:this.app.dispatch(vs(this.payload));break}return this},r.prototype.updateItem=function(t){if(this.items){var n=this.items.find(function(i){return i.id===t.id});n&&To.updateActionFromPayload(n,t)&&this.dispatch(on.UPDATE);}},r.prototype.setItems=function(t){var n=this,i=t||[],o=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(i,o),this.items=this.itemsOptions?this.itemsOptions.map(function(a){return n.addChild(a,n.group,Xh),n.subscribeToChild(a,Qh.Action.UPDATE,n.updateItem),a.payload}):[];},r}($h.ActionSetWithChildren);Le.NavigationMenu=Zh;});var As=B$a(ut=>{Object.defineProperty(ut,"__esModule",{value:true});ut.create=ut.NavigationMenu=ut.update=ut.Action=undefined;var _s=Co();Object.defineProperty(ut,"NavigationMenu",{enumerable:true,get:function(){return _s.NavigationMenu}});var Ps=Co();Object.defineProperty(ut,"Action",{enumerable:true,get:function(){return Ps.Action}});Object.defineProperty(ut,"update",{enumerable:true,get:function(){return Ps.update}});function Jh(e,r){return new _s.NavigationMenu(e,r)}ut.create=Jh;});var Mo=B$a(De=>{var ey=De&&De.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),ti=De&&De.__assign||function(){return ti=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},ti.apply(this,arguments)};Object.defineProperty(De,"__esModule",{value:true});De.ChannelMenu=De.update=De.Action=undefined;var ty=nn$2(),Io=M(),ry=w$3(),gs=I(),ny=["Channel_Menu"],an;(function(e){e.UPDATE="APP::MENU::CHANNEL_MENU::UPDATE",e.LINK_UPDATE="APP::MENU::CHANNEL_MENU::LINK::UPDATE";})(an=De.Action||(De.Action={}));function bs(e){return Io.actionWrapper({payload:e,group:gs.Group.Menu,type:an.UPDATE})}De.update=bs;var iy=function(e){ey(r,e);function r(t,n){var i=e.call(this,t,"Channel_Menu",gs.Group.Menu)||this;return i.items=[],i.set(n),i}return Object.defineProperty(r.prototype,"options",{get:function(){return {items:this.itemsOptions,active:this.activeOptions}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return ti(ti({},this.options),{active:this.active,items:this.items,id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=Io.getMergedProps(this.options,t),o=i.items,a=i.active;return this.setItems(o),this.activeOptions=a,this.active=a&&a.id,n&&this.dispatch(an.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case an.UPDATE:this.app.dispatch(bs(this.payload));break}return this},r.prototype.updateItem=function(t){if(this.items){var n=this.items.find(function(i){return i.id===t.id});n&&Io.updateActionFromPayload(n,t)&&this.dispatch(an.UPDATE);}},r.prototype.setItems=function(t){var n=this,i=t||[],o=this.itemsOptions||[];this.itemsOptions=this.getUpdatedChildActions(i,o),this.items=this.itemsOptions?this.itemsOptions.map(function(a){return n.addChild(a,n.group,ny),n.subscribeToChild(a,ty.Action.UPDATE,n.updateItem),a.payload}):[];},r}(ry.ActionSetWithChildren);De.ChannelMenu=iy;});var Es=B$a(ct=>{Object.defineProperty(ct,"__esModule",{value:true});ct.create=ct.ChannelMenu=ct.update=ct.Action=undefined;var ms=Mo();Object.defineProperty(ct,"ChannelMenu",{enumerable:true,get:function(){return ms.ChannelMenu}});var Os=Mo();Object.defineProperty(ct,"Action",{enumerable:true,get:function(){return Os.Action}});Object.defineProperty(ct,"update",{enumerable:true,get:function(){return Os.update}});function oy(e,r){return new ms.ChannelMenu(e,r)}ct.create=oy;});var Cs=B$a(st=>{Object.defineProperty(st,"__esModule",{value:true});st.create=st.AppLink=st.update=st.Action=undefined;var Ss=nn$2();Object.defineProperty(st,"AppLink",{enumerable:true,get:function(){return Ss.AppLink}});var Ts=nn$2();Object.defineProperty(st,"Action",{enumerable:true,get:function(){return Ts.Action}});Object.defineProperty(st,"update",{enumerable:true,get:function(){return Ts.update}});function ay(e,r){return new Ss.AppLink(e,r)}st.create=ay;});var No=B$a(Ze=>{var uy=Ze&&Ze.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}();Object.defineProperty(Ze,"__esModule",{value:true});Ze.Pos=Ze.close=Ze.Action=undefined;var cy=M(),sy=w$3(),Ro=I(),jo;(function(e){e.CLOSE="APP::POS::CLOSE",e.LOCATION_UPDATE="APP::POS::LOCATION::UPDATE",e.USER_UPDATE="APP::POS::USER::UPDATE",e.DEVICE_UPDATE="APP::POS::DEVICE::UPDATE";})(jo=Ze.Action||(Ze.Action={}));function Is(){return cy.actionWrapper({group:Ro.Group.Pos,type:jo.CLOSE})}Ze.close=Is;var py=function(e){uy(r,e);function r(t){return e.call(this,t,Ro.Group.Pos,Ro.Group.Pos)||this}return r.prototype.dispatch=function(t){switch(t){case jo.CLOSE:this.app.dispatch(Is());break}return this},r}(sy.ActionSet);Ze.Pos=py;});var js=B$a(pt=>{Object.defineProperty(pt,"__esModule",{value:true});pt.create=pt.Pos=pt.close=pt.Action=undefined;var Ms=No();Object.defineProperty(pt,"Pos",{enumerable:true,get:function(){return Ms.Pos}});var Rs=No();Object.defineProperty(pt,"Action",{enumerable:true,get:function(){return Rs.Action}});Object.defineProperty(pt,"close",{enumerable:true,get:function(){return Rs.close}});function ly(e){return new Ms.Pos(e)}pt.create=ly;});var Ns=B$a(un=>{Object.defineProperty(un,"__esModule",{value:true});un.Action=undefined;(function(e){e.UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::UPDATE",e.BUTTON_CLICK="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::CLICK",e.BUTTON_UPDATE="APP::MARKETING_EXTERNAL_ACTIVITY_TOP_BAR::BUTTONS::BUTTON::UPDATE";})(un.Action||(un.Action={}));});var Ls=B$a(ri=>{Object.defineProperty(ri,"__esModule",{value:true});ri.getSingleButton=undefined;var fy=kr$1();Object.defineProperty(ri,"getSingleButton",{enumerable:true,get:function(){return fy.getSingleButton}});});var Ds=B$a(Dt=>{Object.defineProperty(Dt,"__esModule",{value:true});Dt.unsubscribeActions=Dt.ActionSetWithChildren=Dt.ActionSet=undefined;var Lo=w$3();Object.defineProperty(Dt,"ActionSet",{enumerable:true,get:function(){return Lo.ActionSet}});Object.defineProperty(Dt,"ActionSetWithChildren",{enumerable:true,get:function(){return Lo.ActionSetWithChildren}});Object.defineProperty(Dt,"unsubscribeActions",{enumerable:true,get:function(){return Lo.unsubscribeActions}});});var Us=B$a(Z=>{var hy=Z&&Z.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),cn=Z&&Z.__assign||function(){return cn=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},cn.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:true});Z.create=Z.MarketingExternalActivityTopBar=Z.update=Z.clickActionButton=Z.MarketingActivityStatusBadgeType=Z.Action=undefined;var Pt=Ns();Object.defineProperty(Z,"Action",{enumerable:true,get:function(){return Pt.Action}});var yy=Ui$1(),vy=Ls(),ni=Gt(),_y=Ds(),Cr=Ft();(function(e){e.Default="DEFAULT",e.Success="SUCCESS",e.Attention="ATTENTION",e.Warning="WARNING",e.Info="INFO";})(Z.MarketingActivityStatusBadgeType||(Z.MarketingActivityStatusBadgeType={}));var Do={group:Cr.Group.MarketingExternalActivityTopBar,subgroups:["Buttons"]};function Ay(e,r){var t=Cr.ComponentType.Button,n=cn({id:e,type:t},Do);return yy.clickButton(Cr.Group.MarketingExternalActivityTopBar,n,r)}Z.clickActionButton=Ay;function Bs(e){return ni.actionWrapper({payload:e,group:Cr.Group.MarketingExternalActivityTopBar,type:Pt.Action.UPDATE})}Z.update=Bs;var ws=function(e){hy(r,e);function r(t,n){var i=e.call(this,t,Cr.Group.MarketingExternalActivityTopBar,Cr.Group.MarketingExternalActivityTopBar)||this;return i.set(n),i}return Object.defineProperty(r.prototype,"buttons",{get:function(){if(!(!this.primary&&!this.secondary))return {primary:this.primary,secondary:this.secondary}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"buttonsOptions",{get:function(){if(!(!this.primaryOptions&&!this.secondaryOptions))return {primary:this.primaryOptions,secondary:this.secondaryOptions}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){return {title:this.title,status:this.status,saving:this.saving,saved:this.saved,buttons:this.buttonsOptions}},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"payload",{get:function(){return cn(cn({},this.options),{buttons:this.buttons,id:this.id})},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=ni.getMergedProps(this.options,t),o=i.title,a=i.buttons,c=i.saved,p=i.saving,s=i.status;return this.title=o,this.saving=p,this.saved=c,this.status=s,this.setPrimaryButton(a?a.primary:undefined),this.setSecondaryButtons(a?a.secondary:undefined),n&&this.dispatch(Pt.Action.UPDATE),this},r.prototype.dispatch=function(t){switch(t){case Pt.Action.UPDATE:this.app.dispatch(Bs(this.payload));break}return this},r.prototype.getButton=function(t,n,i){return vy.getSingleButton(this,t,n,i)},r.prototype.updatePrimaryButton=function(t){this.primary&&ni.updateActionFromPayload(this.primary,t)&&this.dispatch(Pt.Action.UPDATE);},r.prototype.updateSecondaryButtons=function(t){if(this.secondary){var n=this.secondary.find(function(o){return o.id===t.id});if(n){var i=ni.updateActionFromPayload(n,t);i&&this.dispatch(Pt.Action.UPDATE);}}},r.prototype.setPrimaryButton=function(t){this.primaryOptions=this.getChildButton(t,this.primaryOptions),this.primary=this.primaryOptions?this.getButton(this.primaryOptions,Do.subgroups,this.updatePrimaryButton):undefined;},r.prototype.setSecondaryButtons=function(t){var n=this,i=t||[],o=this.secondaryOptions||[];this.secondaryOptions=this.getUpdatedChildActions(i,o),this.secondary=this.secondaryOptions?this.secondaryOptions.map(function(a){return n.getButton(a,Do.subgroups,n.updateSecondaryButtons)}):undefined;},r.prototype.updateSaving=function(t){this.saving=t,this.dispatch(Pt.Action.UPDATE);},r.prototype.updateSaved=function(t){this.saved=t,this.dispatch(Pt.Action.UPDATE);},r.prototype.updateStatus=function(t){this.status=t,this.dispatch(Pt.Action.UPDATE);},r.prototype.getChildButton=function(t,n){var i=t?[t]:[],o=n?[n]:[],a=this.getUpdatedChildActions(i,o);return a?a[0]:undefined},r}(_y.ActionSetWithChildren);Z.MarketingExternalActivityTopBar=ws;function gy(e,r){return new ws(e,r)}Z.create=gy;});var Fs=B$a(At=>{Object.defineProperty(At,"__esModule",{value:true});At.fullPageLoad=At.skeletonPageLoad=At.Action=undefined;var Gs=I(),qs=M(),Bo;(function(e){e.SKELETON_PAGE_LOAD="APP::PERFORMANCE::SKELETON_PAGE_LOAD",e.FULL_PAGE_LOAD="APP::PERFORMANCE::FULL_PAGE_LOAD";})(Bo=At.Action||(At.Action={}));function by(){return qs.actionWrapper({group:Gs.Group.Performance,type:Bo.SKELETON_PAGE_LOAD})}At.skeletonPageLoad=by;function my(){return qs.actionWrapper({group:Gs.Group.Performance,type:Bo.FULL_PAGE_LOAD})}At.fullPageLoad=my;});var ks=B$a(Bt=>{Object.defineProperty(Bt,"__esModule",{value:true});Bt.fullPageLoad=Bt.skeletonPageLoad=Bt.Action=undefined;var wo=Fs();Object.defineProperty(Bt,"Action",{enumerable:true,get:function(){return wo.Action}});Object.defineProperty(Bt,"skeletonPageLoad",{enumerable:true,get:function(){return wo.skeletonPageLoad}});Object.defineProperty(Bt,"fullPageLoad",{enumerable:true,get:function(){return wo.fullPageLoad}});});var Uo=B$a(j=>{var Oy=j&&j.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r;}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n);}}(),ii=j&&j.__assign||function(){return ii=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);}return e},ii.apply(this,arguments)};Object.defineProperty(j,"__esModule",{value:true});j.unstable_Picker=j.loadMore=j.search=j.update=j.cancel=j.open=j.select=j.ALL_RESOURCE_VERTICAL_ALIGNMENT=j.ALL_MEDIA_KINDS=j.ALL_BADGE_STATUSES=j.ALL_BADGE_PROGRESSES=j.Action=undefined;var Jt=M(),Ey=w$3(),wt=I(),Be;(function(e){e.OPEN="APP::PICKER::OPEN",e.SELECT="APP::PICKER::SELECT",e.UPDATE="APP::PICKER::UPDATE",e.CANCEL="APP::PICKER::CANCEL",e.SEARCH="APP::PICKER::SEARCH",e.LOAD_MORE="APP::PICKER::LOAD_MORE";})(Be=j.Action||(j.Action={}));j.ALL_BADGE_PROGRESSES=["incomplete","partiallyComplete","complete"];j.ALL_BADGE_STATUSES=["success","info","attention","critical","warning","new"];j.ALL_MEDIA_KINDS=["Avatar","Thumbnail"];j.ALL_RESOURCE_VERTICAL_ALIGNMENT=["leading","trailing","center"];function Ws(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.SELECT})}j.select=Ws;function Vs(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.OPEN})}j.open=Vs;function Hs(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.CANCEL})}j.cancel=Hs;function xs(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.UPDATE})}j.update=xs;function Ks(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.SEARCH})}j.search=Ks;function zs(e){return Jt.actionWrapper({payload:e,group:wt.Group.unstable_Picker,type:Be.LOAD_MORE})}j.loadMore=zs;var Sy=function(e){Oy(r,e);function r(t,n){var i=e.call(this,t,wt.Group.unstable_Picker,wt.Group.unstable_Picker)||this;return i.items=[],i.selectedItems=[],i.set(n,false),i}return Object.defineProperty(r.prototype,"payload",{get:function(){return ii(ii({},this.options),{id:this.id})},enumerable:false,configurable:true}),Object.defineProperty(r.prototype,"options",{get:function(){return {items:this.items,maxSelectable:this.maxSelectable,selectedItems:this.selectedItems,title:this.title,loading:this.loading,searchQuery:this.searchQuery,searchQueryPlaceholder:this.searchQueryPlaceholder,primaryActionLabel:this.primaryActionLabel,secondaryActionLabel:this.secondaryActionLabel,emptySearchLabel:this.emptySearchLabel,canLoadMore:this.canLoadMore,loadingMore:this.loadingMore,verticalAlignment:this.verticalAlignment,allowEmptySelection:this.allowEmptySelection,resourceName:this.resourceName}},enumerable:false,configurable:true}),r.prototype.set=function(t,n){n===undefined&&(n=true);var i=Jt.getMergedProps(this.options,t),o=i.selectedItems,a=o===undefined?[]:o,c=i.maxSelectable,p=c===undefined?0:c,s=i.items,h=s===undefined?[]:s,S=i.loading,D=S===undefined?false:S,re=i.title,Te=i.searchQuery,et=i.searchQueryPlaceholder,Ce=i.primaryActionLabel,q=i.secondaryActionLabel,K=i.emptySearchLabel,W=i.canLoadMore,ne=W===undefined?false:W,he=i.loadingMore,pe=he===undefined?false:he,Ye=i.verticalAlignment,Ir=i.allowEmptySelection,Mr=i.resourceName;return this.title=re,this.items=h,this.selectedItems=a,this.maxSelectable=p,this.loading=D,this.searchQuery=Te,this.searchQueryPlaceholder=et,this.primaryActionLabel=Ce,this.secondaryActionLabel=q,this.emptySearchLabel=K,this.canLoadMore=ne,this.loadingMore=pe,this.verticalAlignment=Ye,this.allowEmptySelection=Ir,this.resourceName=Mr,n&&this.update(),this},r.prototype.dispatch=function(t,n){return t===Be.OPEN?this.open():t===Be.UPDATE?this.update():t===Be.CANCEL?this.cancel():t===Be.SELECT?(this.selectedItems=n?.selectedItems||[],this.app.dispatch(Ws({id:this.id,selectedItems:this.selectedItems}))):t===Be.SEARCH?(this.searchQuery=n?.searchQuery||"",this.app.dispatch(Ks({id:this.id,searchQuery:this.searchQuery}))):t===Be.LOAD_MORE&&this.loadMore(),this},r.prototype.update=function(){this.app.dispatch(xs(this.payload));},r.prototype.open=function(){this.app.dispatch(Vs(this.payload));},r.prototype.cancel=function(){this.app.dispatch(Hs({id:this.id}));},r.prototype.loadMore=function(){this.app.dispatch(zs(this.payload));},r}(Ey.ActionSet);j.unstable_Picker=Sy;});var Qs=B$a(B=>{Object.defineProperty(B,"__esModule",{value:true});B.create=B.unstable_Picker=B.update=B.select=B.search=B.open=B.loadMore=B.cancel=B.ALL_RESOURCE_VERTICAL_ALIGNMENT=B.ALL_MEDIA_KINDS=B.ALL_BADGE_STATUSES=B.ALL_BADGE_PROGRESSES=B.Action=undefined;var Ys=Uo();Object.defineProperty(B,"unstable_Picker",{enumerable:true,get:function(){return Ys.unstable_Picker}});var Je=Uo();Object.defineProperty(B,"Action",{enumerable:true,get:function(){return Je.Action}});Object.defineProperty(B,"ALL_BADGE_PROGRESSES",{enumerable:true,get:function(){return Je.ALL_BADGE_PROGRESSES}});Object.defineProperty(B,"ALL_BADGE_STATUSES",{enumerable:true,get:function(){return Je.ALL_BADGE_STATUSES}});Object.defineProperty(B,"ALL_MEDIA_KINDS",{enumerable:true,get:function(){return Je.ALL_MEDIA_KINDS}});Object.defineProperty(B,"ALL_RESOURCE_VERTICAL_ALIGNMENT",{enumerable:true,get:function(){return Je.ALL_RESOURCE_VERTICAL_ALIGNMENT}});Object.defineProperty(B,"cancel",{enumerable:true,get:function(){return Je.cancel}});Object.defineProperty(B,"loadMore",{enumerable:true,get:function(){return Je.loadMore}});Object.defineProperty(B,"open",{enumerable:true,get:function(){return Je.open}});Object.defineProperty(B,"search",{enumerable:true,get:function(){return Je.search}});Object.defineProperty(B,"select",{enumerable:true,get:function(){return Je.select}});Object.defineProperty(B,"update",{enumerable:true,get:function(){return Je.update}});var Ty=function(e,r){return new Ys.unstable_Picker(e,r)};B.create=Ty;});var $s=B$a(Se=>{Object.defineProperty(Se,"__esModule",{value:true});Se.isFromApp=Se.isPerformanceOrWebVitalsAction=Se.getPermissionKey=Se.isPermitted=Se.isAppMessage=Se.isAppBridgeAction=undefined;var sn=Ai$2();Object.defineProperty(Se,"isAppBridgeAction",{enumerable:true,get:function(){return sn.isAppBridgeAction}});Object.defineProperty(Se,"isAppMessage",{enumerable:true,get:function(){return sn.isAppMessage}});Object.defineProperty(Se,"isPermitted",{enumerable:true,get:function(){return sn.isPermitted}});Object.defineProperty(Se,"getPermissionKey",{enumerable:true,get:function(){return sn.getPermissionKey}});Object.defineProperty(Se,"isPerformanceOrWebVitalsAction",{enumerable:true,get:function(){return sn.isPerformanceOrWebVitalsAction}});function Cy(e){return typeof e!="object"||typeof e.source!="object"?false:typeof e.source.apiKey=="string"}Se.isFromApp=Cy;});var Zs=B$a(l=>{var Xs=l&&l.__createBinding||(Object.create?function(e,r,t,n){n===undefined&&(n=t),Object.defineProperty(e,n,{enumerable:true,get:function(){return r[t]}});}:function(e,r,t,n){n===undefined&&(n=t),e[n]=r[t];}),Iy=l&&l.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:true,value:r});}:function(e,r){e.default=r;}),R=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Xs(r,e,t);return Iy(r,e),r},My=l&&l.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Xs(r,e,t);};Object.defineProperty(l,"__esModule",{value:true});l.WebVitals=l.unstable_Picker=l.Performance=l.Pos=l.AppLink=l.ChannelMenu=l.NavigationMenu=l.Share=l.ContextualSaveBar=l.MarketingExternalActivityTopBar=l.TitleBar=l.SessionToken=l.ResourcePicker=l.Redirect=l.Print=l.ModalContent=l.Modal=l.Loading=l.LeaveConfirmation=l.History=l.Toast=l.Fullscreen=l.FeedbackModal=l.Features=l.Flash=l.Error=l.Client=l.Cart=l.Scanner=l.ButtonGroup=l.Button=l.AuthCode=l.isAppBridgeAction=undefined;var Ry=R(mu$1());l.AuthCode=Ry;var jy=R(Ui$1());l.Button=jy;var Ny=R(Bu$1());l.ButtonGroup=Ny;var Ly=R(Uu$1());l.Cart=Ly;var Dy=R(Ti$1());l.Client=Dy;var By=R(An$2());l.Error=By;var wy=R(Vu$1());l.Flash=wy;var Uy=R(Xu$1());l.Features=Uy;var Gy=R(rc());l.FeedbackModal=Gy;var qy=R(ic());l.Fullscreen=qy;var Fy=R(sc());l.LeaveConfirmation=Fy;var ky=R(hc());l.Loading=ky;var Wy=R(Ac());l.Modal=Wy;var Vy=R(mc());l.ModalContent=Vy;var Hy=R(Cc());l.History=Hy;var xy=R(Gc());l.Redirect=xy;var Ky=R(vi$1());l.Print=Ky;var zy=R(Kc());l.ResourcePicker=zy;var Yy=R(Yc());l.Scanner=Yy;var Qy=R(Zc());l.SessionToken=Qy;var $y=R(os());l.TitleBar=$y;var Xy=R(us());l.Toast=Xy;var Zy=R(ps());l.ContextualSaveBar=Zy;var Jy=R(ds());l.Share=Jy;var ev=R(As());l.NavigationMenu=ev;var tv=R(Es());l.ChannelMenu=tv;var rv=R(Cs());l.AppLink=rv;var nv=R(js());l.Pos=nv;var iv=R(Us());l.MarketingExternalActivityTopBar=iv;var ov=R(ks());l.Performance=ov;var av=R(Qs());l.unstable_Picker=av;var uv=R(Ci$2());l.WebVitals=uv;var cv=$s();Object.defineProperty(l,"isAppBridgeAction",{enumerable:true,get:function(){return cv.isAppBridgeAction}});My(Ft(),l);});var yn$2=function(e){return e.Card="card",e.Balance="balance",e}(yn$2||{});var Js=D$a(Au$1()),Ut$2=D$a(Zs());var ep=(()=>{class e{constructor(t,n,i){this.environment=t,this.eventDispatcherService=n,this.toastService=i,this.isShopifyApp=false,this.searchParams=new URLSearchParams(window.location.search),this.host=this.searchParams.get("host");}initialize(){this.environment.shopifyApiKey&&this.eventDispatcherService.on($r$2).subscribe(()=>{if(!this.host){console.error("Something with the environment",this.host);return}this.isShopifyApp=true,this.initShopify(this.host),this.showSuccessfulSubscriptionToast();});}initShopify(t){this.shopifyApp=(0, Js.default)({apiKey:this.environment.shopifyApiKey,host:t});let n=Ut$2.Button.create(this.shopifyApp,{label:"Open full site",loading:false});n.subscribe(Ut$2.Button.Action.CLICK,()=>this.redirectInsideShopify("https://printify.com/"));let i={title:"Printify - Print On Demand",buttons:{primary:n}};Ut$2.TitleBar.create(this.shopifyApp,i);}showSuccessfulSubscriptionToast(){this.searchParams.get("charge_id")&&this.toastService.success("Successful subscription!");}redirectInsideShopify(t){Ut$2.Redirect.create(this.shopifyApp).dispatch(Ut$2.Redirect.Action.REMOTE,t);}static{this.\u0275fac=function(n){return new(n||e)(pe$9(f$c),pe$9(X$6),pe$9(rO))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Go$1=function(e){return e.Monthly="monthly",e.Yearly="yearly",e}(Go$1||{}),fv$1=function(e){return e.Printify="printify",e.Shopify="shopify",e}(fv$1||{});function tp(e,r){return JSON.stringify(e)!==JSON.stringify(r)}var rp="Something went wrong",np="Subscription service request takes a bit longer than expected. Please check Premium subscription status in few minutes or contact support if nothing changed.",ip="There was an issue changing your subscription payment method. Please try again or contact support.";var hv$1=20,BP=(()=>{class e{constructor(t,n,i,o,a,c,p){this.env=t,this.http=n,this.userService=i,this.errorHandler=o,this.salesChannelService=a,this.currencyService=c,this.subscriptionProposition$=hi$7({yearlyPlanSavingsPercentage:.14,premiumMaxDiscountPercentage:.2}),this.isPollingSubscriptionTimedOut=new Z$a,this.isPollingSubscriptionTimedOut$=this.isPollingSubscriptionTimedOut.asObservable(),this.disabled$=p.featuresReady$.pipe(Ye$b(Boolean),Ac$3(()=>hi$7(p.isFeatureEnabled(jt$2.DisableSapi)))),this.subscription$=this.userService.user$.pipe(ie$b(({subscription:s})=>s)),this.baseUrl$=this.userService.id$.pipe(ie$b(s=>`${this.env.apiURL}v1/users/${s}`)),this.isSubscribed$=this.subscription$.pipe(ie$b(yv$1)),this.isCancelled$=gi$4(()=>this.subscription$).pipe(ie$b(s=>!s?.recurrent_payment&&!!s?.canceled_at));}changePaymentMethod(t){return this.baseUrl$.pipe(mt$8(1),Ac$3(n=>this.http.patch(`${n}/subscription/payment-method`,{method:t})),Ac$3(()=>this.userService.reload().pipe(ie$b(()=>({status:"ok"})))),yi$5(n=>hi$7({status:"error",message:n.error?.error_description||ip})))}getSubscriptionPlans(){return this.baseUrl$.pipe(mt$8(1),Ac$3(t=>{let n={};return this.salesChannelService.isShopifyApp&&(n[ES]=this.currencyService.defaultCurrency.code),this.http.get(`${t}/subscription-plans`,{headers:n})}),ie$b(t=>t.subscription_plans))}getSubscriptionUpgradePrice(){return this.baseUrl$.pipe(mt$8(1),Ac$3(t=>this.http.get(`${t}/subscription-upgrade-price`)))}reload(){return this.userService.reload().pipe(Ac$3(()=>this.subscription$))}unsubscribePlan(){return this.baseUrl$.pipe(mt$8(1),Ac$3(t=>this.http.post(`${t}/unsubscribe`,null)),Ac$3(()=>this.getSubscriptionPollingResult()),yi$5(t=>t.status===ie$9.BadRequest?hi$7({status:"error",errorMessage:"There was an issue cancelling your subscription. Please try again or contact support."}):pn$2(t)))}subscribePlan(t,n=yn$2.Card){return this.baseUrl$.pipe(mt$8(1),Ac$3(i=>this.http.post(`${i}/subscribe`,{plan:t.plan,payment_method:n})),Ac$3(()=>this.getSubscriptionPollingResult(t.billing_frequency)),yi$5(pn$2))}subscribeShopifyPlan(t,n){return n?this.http.post(`${this.env.apiURL}v1/sales_channels/shopify/subscription/subscribe`,{shop_id:n,plan:t.plan}).pipe(yi$5(pn$2)):Xp$2("Cannot subscribe to shopify plan: shopId is undefined")}upgradePlan(t=yn$2.Card){return this.baseUrl$.pipe(mt$8(1),Ac$3(n=>this.http.post(`${n}/upgrade-subscription`,{payment_method:t})),Ac$3(()=>this.getSubscriptionPollingResult(Go$1.Yearly)),yi$5(pn$2))}continueSubscription(){return this.baseUrl$.pipe(mt$8(1),Ac$3(t=>this.http.patch(`${t}/continue-subscription`,{})),Mc$2(1e3),Ac$3(()=>this.reload().pipe(ie$b(()=>({status:"ok"})))),yi$5(pn$2))}getSubscriptionPollingResult(t){let n=()=>(t?this.updateSubscription(t):this.cancelSubscription(),{status:"ok"});return x$5(()=>this.reload(),{maxAttempts:hv$1}).pipe(Tc$2(),Yc$3(([i,o])=>!tp(i,o),true),Th$2(),ie$b(n),yi$5(i=>i instanceof e$3?(this.errorHandler.handleError("Subscription polling timeout.",{domain:"payments.subscription"}),this.isPollingSubscriptionTimedOut.next(),hi$7({status:"error",errorMessage:np})):Xp$2(i)))}cancelSubscription(){this.userService.patchUser({subscription:{active:false,canceled_at:Date.now()/1e3,recurrent_payment:false}});}updateSubscription(t){let n=new Date,i=t==="yearly"?12:1;n.setMonth(n.getMonth()+i),this.userService.patchUser({subscription:{active:true,billing_frequency:t,expires_at:n.getTime()/1e3,recurrent_payment:true}});}static{this.\u0275fac=function(n){return new(n||e)(pe$9(f$c),pe$9(_u$3),pe$9(J$5),pe$9(Cr$2),pe$9(ep),pe$9(Eo$3),pe$9(te$5))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function pn$2(e){return e.status===ie$9.BadRequest?hi$7({status:"error",errorMessage:"Could not charge your credit/debit card"}):e.status==="error"?hi$7({status:"error",errorMessage:e.errorMessage||rp}):Xp$2(e)}function yv$1(e){return e?e.active||Date.now()<(e.expires_at||0)*1e3:false}
var z$3=D$a(Wc$1());var B$1=class B{constructor(n,e,t,s,o,c,p,u,I){this.httpClient=n,this.storesService=e,this.userService=t,this.toastService=s,this.eventDispatcherService=o,this.browserStorageService=c,this.userSubscriptionService=p,this.destroyRef=u,this.environment=I,this.refetchPackageInsertInfo$=new Z$a,this.uiToggleChange$=new Z$a,this.requestToggleChange$=new Z$a,this.savedPackageInsertToggleState$=new yn$7(false),this.loadingChange$=new Z$a,this.loading$=$p$1(this.loadingChange$,this.refetchPackageInsertInfo$.pipe(Ye$b(({firstDesignCreated:a})=>a),ie$b(()=>true))).pipe(Dr$5()),this.requestToggleChangeFromUi$=this.uiToggleChange$.pipe(Wc$3(500)),this.packageInsertToggleUpdate$=$p$1(this.requestToggleChangeFromUi$,this.requestToggleChange$).pipe(Rc$2(this.savedPackageInsertToggleState$),Ac$3(([a,f])=>this.toggleBrandingInsert$(a,f)),_c$3({refCount:true,bufferSize:1})),this.requestPackageInsertInfo$=$p$1(this.refetchPackageInsertInfo$,this.storesService.selectedStore$.pipe(ie$b(()=>({firstDesignCreated:false})))).pipe(Sc$2({firstDesignCreated:false}),Hc$3(0,Yp$1)),this.requestedPackageInsertInfoResponse$=this.requestPackageInsertInfo$.pipe(Rc$2(this.savedPackageInsertToggleState$),Ac$3(([{firstDesignCreated:a},f])=>a&&!f?(this.requestToggleChange$.next(true),this.packageInsertToggleUpdate$.pipe(mt$8(1),Ac$3(()=>this.getInfo$()),kc$2(({available:A,branding_toggle_state:M})=>{this.setLoadingState(false),A&&M&&this.toastService.success(this.successToastMessage);}))):this.getInfo$()),kc$2(({branding_toggle_state:a})=>{this.savedPackageInsertToggleState$.next(a);}),_c$3({refCount:true,bufferSize:1})),this.packageInsertToggleState$=$p$1(this.requestedPackageInsertInfoResponse$.pipe(ie$b(({branding_toggle_state:a})=>a)),this.packageInsertToggleUpdate$,this.uiToggleChange$),this.packageInsertInfo$=Hp$2([this.requestedPackageInsertInfoResponse$,this.packageInsertToggleState$]).pipe(ie$b(([a,f])=>x$d(w$9({},a),{name:this.productName,branding_toggle_state:f})),Hc$3(0,Yp$1),_c$3({refCount:true,bufferSize:1})),this.packageInsertTemplate$=this.httpClient.get(this.getPackageInsertTemplateUrl()).pipe(Rc$2(this.userSubscriptionService.isSubscribed$),ie$b(([a,f])=>{let A=a.print_provider.variants.map(S=>{var $=S,{costs:M}=$,V=A$f($,["costs"]);let T=M.map(Ke=>{var re=Ke,{result:x,resultSubscription:H}=re,Ne=A$f(re,["result","resultSubscription"]);return x$d(w$9({},Ne),{result:f?H||0:x})});return x$d(w$9({},V),{costs:T})});return x$d(w$9({},a),{print_provider:x$d(w$9({},a.print_provider),{variants:A}),type:this.packageInsertType,name:this.productName})}),Mr$6({connector:()=>new In$7(1)}),X$7(this.destroyRef));}refetchPackageInsertInfo(n){this.refetchPackageInsertInfo$.next({firstDesignCreated:n});}createDesign$(){return this.setLoadingState(true),this.packageInsertTemplate$.pipe(kc$2(n=>{this.browserStorageService.setString(this.sessionStorageKey,JSON.stringify(n),{storageType:I$8.Session,clearOnAuth:true}),this.eventDispatcherService.dispatch(new sr$3({sessionStorageKey:this.sessionStorageKey,previousRoute:"brandingSettings",initializationOrigin:this.createInitializationOrigin,saveButtonLabel:this.createDesignSaveButtonLabel,saveButtonAnalyticsId:this.createDesignSaveButtonAnalyticsId})),this.setLoadingState(false);}))}editDesign$(){return Hp$2([this.packageInsertInfo$,this.packageInsertTemplate$]).pipe(mt$8(1),ie$b(([n,e])=>{let t=n.print_provider.prints[0],s=t.placeholders[0].images;return x$d(w$9({},e),{group_id:n.group_id,branding_template_id:e.id,print_provider:x$d(w$9({},e.print_provider),{prints:[x$d(w$9({},e.print_provider.prints[0]),{background:t.background,placeholders:[x$d(w$9({},e.print_provider.prints[0].placeholders[0]),{images:s})]})]})})}),kc$2(n=>{this.browserStorageService.setString(this.sessionStorageKey,JSON.stringify(n),{storageType:I$8.Session,clearOnAuth:true}),this.eventDispatcherService.dispatch(new sr$3({sessionStorageKey:this.sessionStorageKey,previousRoute:"brandingSettings",initializationOrigin:this.editInitializationOrigin,saveButtonLabel:this.editDesignSaveButtonLabel,saveButtonAnalyticsId:this.editDesignSaveButtonAnalyticsId}));}))}togglePackageInsert(n){this.uiToggleChange$.next(n);}setLoadingState(n){this.loadingChange$.next(n);}getInfo$(){let n=this.userService.getId(),e=this.storesService.store?.id;(0, z$3.assert)(!!n,"userId must be set to access branding info"),(0, z$3.assert)(!!e,"shopId must be set to access branding info");let t=this.getPackageInsertInfoUrl(n,e);return this.httpClient.get(t).pipe(yi$5(s=>s?.status===ie$9.NotFound?hi$7({available:false,branding_toggle_state:false,type:this.packageInsertType}):(this.toastService.error({content:"We could not load this page at the moment. Please try again later."}),hi$7({available:false,branding_toggle_state:false,failedToLoad:true,type:this.packageInsertType}))))}toggleBrandingInsert$(n,e){let t=this.userService.getId(),s=this.storesService.store?.id;return (0, z$3.assert)(!!t,"userId must be set to update branding toggle state"),(0, z$3.assert)(!!s,"shopId must be set to update branding toggle state"),this.httpClient.put(this.getPackageInsertToggleUpdateUrl(t,s),{state:n}).pipe(ie$b(()=>n),kc$2(o=>{this.savedPackageInsertToggleState$.next(o);}),yi$5(()=>(this.toastService.error({content:"We could not change branding status at the moment. Please try again later."}),hi$7(e))))}};B$1=zD([GD(8,eR(f$c)),QD("design:paramtypes",[_u$3,Ro$2,J$5,rO,X$6,Y$4,BP,mn$6,Object])],B$1);var bt=(()=>{class r extends B$1{constructor(e,t,s,o,c,p,u,I,a){super(e,t,s,o,c,p,u,I,a),this.httpClient=e,this.storesService=t,this.userService=s,this.toastService=o,this.eventDispatcherService=c,this.browserStorageService=p,this.userSubscriptionService=u,this.destroyRef=I,this.environment=a,this.createInitializationOrigin="createPackageInsert",this.editInitializationOrigin="updatePackageInsert",this.packageInsertType=t$1.BrandingInsert,this.sessionStorageKey=o$a,this.createDesignSaveButtonLabel="Save and enable inserts",this.editDesignSaveButtonLabel="Apply changes",this.createDesignSaveButtonAnalyticsId="saveAndEnablePackageInsertButton",this.editDesignSaveButtonAnalyticsId="savePackageInsertButton",this.successToastMessage="All set! Package inserts enabled.",this.productName="Package inserts";}getPackageInsertInfoUrl(e,t){return `${this.environment.brandingServiceURL}v1/branding-inserts/user/${e}/shop/${t}/info`}getPackageInsertTemplateUrl(){return `${this.environment.brandingServiceURL}v1/branding-templates/designer`}getPackageInsertToggleUpdateUrl(e,t){return `${this.environment.brandingServiceURL}v1/branding-toggle/user/${e}/shop/${t}`}static{this.\u0275fac=function(t){return new(t||r)(pe$9(_u$3),pe$9(Ro$2),pe$9(J$5),pe$9(rO),pe$9(X$6),pe$9(Y$4),pe$9(BP),pe$9(mn$6),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var He$2=1e3,we$1=(()=>{class r extends di$3{constructor(e,t,s,o){super(o),this.fxEngineStatusService=e,this.errorHandler=t,this.currencyService=s,this.failedCurrencyRequestCache=new Map;}interceptInternal(e,t){if(!e.headers.has(ES))return t.handle(e);let s=_e$1(e,e.headers.get(ES)),o=this.failedCurrencyRequestCache.get(s);return o&&(this.failedCurrencyRequestCache.delete(s),o.expiresAt>=Date.now())?hi$7(o.response):t.handle(e).pipe(kc$2(c=>{c instanceof pn$7&&this.validateCurrencyCode(c,e);}))}validateCurrencyCode(e,t){let s=e.headers.get(ES),o=t.headers.get(ES);s||this.errorHandler.handleError(new Error(`Expected to receive ${ES} in response from API but got nothing`),{domain:"payments.currencyInterceptor",context:{url:t.url,responseHeaders:e.headers.keys().reduce((p,u)=>(p[u]=e.headers.getAll(u),p),{}),sentCurrencyCode:o}});let c=s||this.currencyService.defaultCurrency.code;if(this.fxEngineStatusService.isAvailable()&&c!==o){let p=_e$1(t,c);this.failedCurrencyRequestCache.set(p,{expiresAt:Date.now()+He$2,response:e}),this.fxEngineStatusService.setUnavailable();}}static{this.\u0275fac=function(t){return new(t||r)(pe$9(o$2),pe$9(Cr$2),pe$9(Eo$3),pe$9(f$c))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac});}}return r})();function _e$1(r,n){return `${r.method} ${r.urlWithParams} ${n}`}var Le$1=(()=>{class r{constructor(){this.environment=N$8(f$c),this.injector=N$8(_e$8);}loadComponent(){return ye$7(this.importDesignerPublicApi()).pipe(ie$b(e=>{let t=this.createInjector(e.DESIGNER_ENVIRONMENT,e.DESIGNER_HTTP_INTERCEPTORS),s=FR(e.DesignerModule,t),o=e.DesignerComponent;return s.componentFactoryResolver.resolveComponentFactory(o).create(s.injector)}))}importDesignerPublicApi(){return import('./chunk-yj_TB0Ks.js').then(function(n){return n.$})}createInjector(e,t){return _e$8.create({parent:this.injector,providers:[{provide:e,useValue:this.environment},{provide:t,useClass:we$1,multi:true}]})}static{this.\u0275fac=function(t){return new(t||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var ie$3=D$a(Kc$2());var ai$1=(()=>{class r extends B$1{constructor(e,t,s,o,c,p,u,I,a,f,A,M,V){super(e,t,s,o,c,p,u,I,a),this.httpClient=e,this.storesService=t,this.userService=s,this.toastService=o,this.eventDispatcherService=c,this.browserStorageService=p,this.userSubscriptionService=u,this.destroyRef=I,this.environment=a,this.http=f,this.designerLoaderService=A,this.sanitizer=M,this.viewportService=V,this.createInitializationOrigin="createGiftMessage",this.editInitializationOrigin="updateGiftMessage",this.packageInsertType=t$1.GiftMessage,this.sessionStorageKey=a$5,this.createDesignSaveButtonLabel="Save and enable",this.editDesignSaveButtonLabel="Apply changes",this.createDesignSaveButtonAnalyticsId="saveAndEnableGiftMessageTemplateButton",this.editDesignSaveButtonAnalyticsId="saveGiftMessageTemplateButton",this.successToastMessage="All set! Gift messages enabled.",this.productName="Gift message template",this.prepareGiftMessageInsertPreviewPath=`${this.environment.imagesURL}gift-message-insert/preview`,this.isMobile$=this.viewportService.matchBelow(gt$7.ML),this.createdInitialDesign$=Hp$2([this.packageInsertTemplate$,this.designerLoaderService.importDesignerPublicApi()]).pipe(mt$8(1),ie$b(([S,$])=>({branding_template_id:S.id,prints:S.print_provider.prints.map(T=>({background:T.background,placeholders:T.placeholders.map(x=>({images:[...x.images,$.getSerializedTextBoxLayer()]}))}))}))),this.nonExistingGiftMessagePreviewImage$=Hp$2([this.packageInsertTemplate$,this.designerLoaderService.importDesignerPublicApi()]).pipe(Rc$2(this.isMobile$),Ac$3(([[S,$],T])=>{let x={branding_camera_position:S.render_settings.cameras[0].position,background:S.print_provider.prints[0].background,placeholders:S.print_provider.prints[0].placeholders.map(H=>x$d(w$9({},H),{images:[...H.images,$.getSerializedTextBoxLayer()]})),size:T?1200:2048,format:"jpeg"};return this.http.post(this.prepareGiftMessageInsertPreviewPath,x,{responseType:"blob"})}),ie$b(S=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(new File([S],"mockup.png",{type:"image/png"})))));}getPackageInsertInfoUrl(e,t){return `${this.environment.brandingServiceURL}v1/gift-message-inserts/user/${e}/shop/${t}/info`}getPackageInsertTemplateUrl(){return `${this.environment.brandingServiceURL}v1/branding-templates/designer`}getPackageInsertToggleUpdateUrl(e,t){return `${this.environment.brandingServiceURL}v1/gift-message-toggle/user/${e}/shop/${t}`}createDesignWithoutDesigner$(){return this.setLoadingState(true),this.createdInitialDesign$.pipe(mt$8(1),Ac$3(e=>{let t=this.userService.getId(),s=this.storesService.store?.id;return (0, ie$3.assert)(!!t,"userId is undefined when creating a gift message insert with toggling"),(0, ie$3.assert)(!!s,"shopId is undefined when creating a gift message insert with toggling"),this.http.post(`${this.environment.brandingServiceURL}v1/gift-message-inserts/user/${t}/shop/${s}`,e)}),kc$2(()=>{this.refetchPackageInsertInfo(true);}))}static{this.\u0275fac=function(t){return new(t||r)(pe$9(_u$3),pe$9(Ro$2),pe$9(J$5),pe$9(rO),pe$9(X$6),pe$9(Y$4),pe$9(BP),pe$9(mn$6),pe$9(f$c),pe$9(_u$3),pe$9(Le$1),pe$9(mc$3),pe$9(nn$6))};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var Ue$1=class Ue{constructor(n,e,t){this.enabled=n,this.source=e,this.storeId=t;}};var t=class{constructor(a){this.payload=a;}};var Ee$1=class Ee{constructor(V){this.currency=V;}};var w$2=class w{constructor(V,t){this.method=V,this.status=t;}};var be=class{};var Pe$1=class Pe{};var Te$1={variables:{borderRadius:"3px"}},st$2=1e3,ct$1="Current payment method is currently unavailable. Please try again later or contact support.",pt$2="Current payment method is not available in Shopify. Refer to Printify to be able to top up your balance.",Ae$1="Printify balance update is taking longer than expected. Please check the balance later.",Ie="Payment processing is taking longer than expected.",a=function(e){return e.ACH="ach",e.ApplePay="apple_pay",e.Card="card",e.CardTopup="card_topup",e.GooglePay="google_pay",e.PayPal="paypal",e.Payoneer="payoneer",e.Venmo="braintree_venmo",e}(a||{}),ke=function(e){return e.Payoneer="payoneer",e.Primer="primer",e.Stripe="stripe",e}(ke||{}),lt$2={[a.ACH]:"Ach",[a.ApplePay]:"ApplePay",[a.GooglePay]:"GooglePay",[a.Card]:"Card",[a.CardTopup]:"CardTopup",[a.PayPal]:"PayPal",[a.Payoneer]:"Payoneer",[a.Venmo]:"Venmo"},dt$2=["braintree_venmo","venmo"],ut$2=500,mt$2=[2500,5e3,1e4],ht$1="This amount will cover 1 T-shirt";({[a.ACH]:1e3,[a.ApplePay]:1e3,[a.Card]:1e3,[a.CardTopup]:1e3,[a.GooglePay]:1e3,[a.PayPal]:1e3,[a.Payoneer]:1e3,[a.Venmo]:1e3});({[a.ACH]:1e8,[a.ApplePay]:1e8,[a.CardTopup]:1e8,[a.Card]:1e8,[a.GooglePay]:1e8,[a.PayPal]:1e8,[a.Payoneer]:2e6,[a.Venmo]:1e8});var N$1=function(e){return e.Completed="completed",e.Failed="failed",e.Canceled="canceled",e}(N$1||{}),C$2=function(e){return e.Delayed="Printify balance update is taking longer than expected. Please check the balance later.",e.Error="There was an issue processing your transaction. Please try again.",e.Completed="All set! Your Printify balance was successfully topped up.",e.Pending="Almost there! We\u2019re processing your transaction and will notify you via email when ready.",e.Unavailable="Printify Balance top up is currently unavailable. Please try again later or contact support.",e}(C$2||{}),D$1=function(e){return e.Initiated="initiated",e.InProgress="in-progress",e.Succeeded="succeeded",e.Failed="failed",e}(D$1||{});var $e=12,Ce$1=5e3,Ut$1=500,K$1=(()=>{class e{constructor(t,r,n,c){this.environment=t,this.userService=r,this.http=n,this.ngZone=c,this.balance$=this.userService.user$.pipe(ie$b(s=>s.details?.balance)),this.balanceUpdating=new yn$7(false),this.balanceUpdating$=this.balanceUpdating.asObservable(),this.balanceUpdated=new Xe$5,this.balanceUpdated$=this.balanceUpdated.asObservable(),this.previouslyUsedTopupMethods$=this.getPreviouslyUsedTopupMethods().pipe(ie$b(s=>s.map(l=>l.method)),X$7(),_c$3({refCount:true,bufferSize:1})),this.suggestedTopupAmounts$=this.getSuggestedTopupAmounts().pipe(X$7(),_c$3({refCount:true,bufferSize:1})),this.hasAtLeastOneTopup$=this.previouslyUsedTopupMethods$.pipe(ie$b(s=>s.length>0),_c$3({refCount:true,bufferSize:1}));}getLowBalanceAlertData(t){return this.userService.id$.pipe(mt$8(1),Ac$3(r=>this.http.get(`${this.environment.paymentsServiceApiURL}wallet/customers/${r}/balance/${t}/notification-settings`).pipe(c$7())))}updateLowBalanceAlertData(t,r){return this.userService.id$.pipe(mt$8(1),Ac$3(n=>this.http.patch(`${this.environment.paymentsServiceApiURL}wallet/customers/${n}/balance/${t}/notification-settings`,r)))}emitBalanceUpdated(t){this.balanceUpdated.emit(t),delete this.watchBalanceId;}loadBalanceData(){return Hp$2([this.previouslyUsedTopupMethods$,this.suggestedTopupAmounts$]).pipe(ie$b(()=>{}))}setBalanceUpdating(t){this.balanceUpdating.next(t);}withdraw(t){return this.http.post(`${this.environment.apiURL}v1/withdrawals`,t).pipe(ie$b(r=>(this.userService.updateBalance(r.balance),{status:"ok"})),yi$5(r=>hi$7({status:"error",message:r.error?.error_description||r.error?.error||"Unexpected withdrawal error"})))}watch(){if(this.setBalanceUpdating(true),this.watchBalanceId)return;let t=this.userService.getUserData()?.details.balance||0,r=0,n=()=>{r++,this.userService.reload().subscribe({next:c=>{if(c?.details.balance!==t&&this.emitBalanceUpdated(true),c?.details.balance===t&&r<$e){setTimeout(n,Ce$1);return}this.ngZone.run(()=>{this.setBalanceUpdating(false),c?.details.balance===t&&this.emitBalanceUpdated(false);});},error:()=>{this.emitBalanceUpdated(false),this.setBalanceUpdating(false);}});};this.watchBalanceId=setTimeout(n,Ce$1);}getSuggestedTopupAmounts(){return this.userService.id$.pipe(mt$8(1),Ac$3(t=>this.http.get(`${this.environment.apiURL}v1/users/${t}/payments/topup_amount_suggestions`).pipe(c$7(),ie$b(r=>({pendingOrderRetailCost:r.pending_order_retail_cost,pendingOrderCount:r.pending_order_count,avgDailyTransactionAmount:r.avg_daily_transaction_amount,avgWeeklyTransactionAmount:r.avg_weekly_transaction_amount,avgMonthlyTransactionAmount:r.avg_monthly_transaction_amount})),yi$5(()=>hi$7({pendingOrderRetailCost:0,pendingOrderCount:0,avgDailyTransactionAmount:0,avgWeeklyTransactionAmount:0,avgMonthlyTransactionAmount:0})))))}getPreviouslyUsedTopupMethods(){return this.userService.id$.pipe(mt$8(1),Ac$3(t=>this.http.get(`${this.environment.apiURL}v1/users/${t}/payments/used_topup_methods`).pipe(c$7(),yi$5(()=>hi$7([])))))}static{this.\u0275fac=function(r){return new(r||e)(pe$9(f$c),pe$9(J$5),pe$9(_u$3),pe$9(te$6))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var b$1=function(e){return e.Stripe="stripe",e.Primer="primer",e.PrintifyGateway="printify_gateway",e}(b$1||{}),ie$2="billing-currency",ae$1=1e4,je=function(e){return e.OpenAddMoneyDialog="openAddMoneyDialog",e}(je||{});var De$1=(()=>{class e{constructor(t,r,n,c,s,l,h,T){this.balanceService=t,this.eventDispatcherService=r,this.environment=n,this.http=c,this.platform=s,this.toastService=l,this.userService=h,this.window=T;}getTopupDeclineReason(t){return this.http.get(`${this.environment.paymentsServiceApiURL}declines/${t}`).pipe(c$7(),yi$5(r=>r.status===ie$9.NotFound?hi$7({decline_reason:undefined,reference_id:t}):Xp$2(()=>r)))}onTopupCompleted(t){this.eventDispatcherService.dispatch(new w$2(t.method,t.status)),this.handleTopupCompletion(t);}onTopupUnavailable(t){this.toastService.error({content:t||C$2.Unavailable,closingTimeout:ae$1});}registerPendingTopup(t){return this.http.post(`${this.environment.apiURL}v1/payments/primer/${this.userService.getId()}/topup-created`,{paymentId:t}).pipe(c$7())}isApplePayAvailable(){return "ApplePaySession"in this.window}isGooglePayAvailable(){return !this.platform.SAFARI}handleTopupCompletion(t){switch(t.status){case N$1.Completed:this.balanceService.watch();return;case N$1.Failed:this.toastService.error({content:t.message||C$2.Error,closingTimeout:ae$1});return}}static{this.\u0275fac=function(r){return new(r||e)(pe$9(K$1),pe$9(X$6),pe$9(f$c),pe$9(_u$3),pe$9(ht$5),pe$9(rO),pe$9(J$5),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function Xt(e){return {title:"Remove card?",message:`Are you sure you want to remove your card ending in \u2022\u2022\u2022\u2022${e.last4} from your account?`,primaryAction:"Yes, remove",secondaryAction:"Cancel",primaryActionButtonType:Ze$5.Destructive}}var zt="Card declined. Please contact your bank for further details.",qt="Your bank card has expired.",Zt="Credit/debit card disabled due to pending document verification or disputes.",Jt$1="Failed to remove bank card. Please try again later.",Qt="There was a problem updating billing address of your credit/debit card. Please, try again later or contact support.",er$1="There was a problem topping up your Printify Balance. Please, try again later or contact support.",tr$1="Your card billing address has been successfully updated",rr$1="Your Printify Balance was successfully topped up",ir$1="Please verify your email to add a credit card",Fe$1=function(e){return e.Declined="DECLINED",e.Expired="EXPIRED",e}(Fe$1||{}),Ge=function(e){return e.DoNotHonor="DO_NOT_HONOR",e.InsufficientFunds="INSUFFICIENT_FUNDS",e.WithdrawalLimitExceeded="LIMIT_EXCEEDED",e.ReferToCardIssuer="REFER_TO_CARD_ISSUER",e.RestrictedCard="RESTRICTED_CARD",e}(Ge||{}),P$1=function(e){return e.General="general",e.Expired="expired",e.InsufficientFunds="insufficientFunds",e.WithdrawalLimitExceeded="withdrawalLimitExceeded",e.MissingPaymentMethod="missingPaymentMethod",e.OrderPaymentFraudulent="orderPaymentFraudulent",e.Unknown="unknown",e}(P$1||{}),ar$1={[P$1.General]:{title:"Payment declined",message:"Please contact your bank to resolve the issue and try again. You can also use your Printify balance or add a new debit/credit card.",buttonTitle:"Update payment and retry"},[P$1.InsufficientFunds]:{title:"Payment declined (insufficient funds)",message:"Please check the funds in your account and try again. You can also use your Printify balance or add a new debit/credit card.",buttonTitle:"Update payment and retry"},[P$1.WithdrawalLimitExceeded]:{title:"Payment declined (withdrawal limit exceeded)",message:"Please contact your bank to resolve the issue and try again. You can also use your Printify balance or add a new debit/credit card.",buttonTitle:"Update payment and retry"},[P$1.Expired]:{title:"Payment failed (expired card)",message:"Please update your card info or use your Printify balance.",buttonTitle:"Update payment and retry"},[P$1.MissingPaymentMethod]:{title:"Missing payment method",message:"There are no payment methods added to account. Please update it to process your order.",buttonTitle:"Update payment and retry"},[P$1.OrderPaymentFraudulent]:{title:"Payment on hold",message:"Your order is on hold for a routine review, which typically takes 24-72 hours. If approved, it will automatically go to production. We appreciate your patience."},[P$1.Unknown]:{title:"Payment not received",message:"Please update your chosen payment method or top up your balance.",buttonTitle:"Update payment and retry"}},He$1=function(e){return e.AVS="avs",e.TOPUP="topup",e}(He$1||{}),nr$1=4,or$1={card_decline_rate_limit_exceeded:"This card has been declined too many times. You can try to add this card again after 24 hours.",card_declined:"Please contact your bank to resolve the issue and try again.",country_unsupported:"The card from your country is not supported at the moment.",expired_card:"Please update your card info.",invalid_address:"Provided address is invalid.",invalid_card:"The card is invalid. Please make sure that all details are specified correctly.",not_supported_for_payouts:"The card is not supported for payouts. Please provide a non-prepaid debit card instead.",AVS_CHECK_FAILED:"The address (street or postal code) you provided does not match the address on file with your bank. Please contact your bank to resolve the issue and try again.",DECLINED:"Please contact your bank to resolve the issue and try again.",EXPIRED_CARD:"Please update your card info.",REFER_TO_CARD_ISSUER:"Please contact your bank to resolve the issue and try again.",DO_NOT_HONOR:"Please contact your bank to resolve the issue and try again.",LIMIT_EXCEEDED:"Please contact your bank to resolve the issue and try again.",WITHDRAWAL_LIMIT_EXCEEDED:"Please contact your bank to resolve the issue and try again.",RESTRICTED_CARD:"Please contact your bank to resolve the issue and try again.",INSUFFICIENT_FUNDS:"Please make sure you have enough funds in your account.","3DS_TRY_AGAIN_LATER":"3DS authorization is not available at the moment. Please try again later or contact support.","3DS_ATTEMPTED_NOT_PERFORMED":"3DS challenge was not completed. Please try again.",blockedByClient:`There was an issue adding your card. Please review the steps below and try again.
- Pause any ad blocking software and reload the page.
- Clear your browser data and reload the page.
- Use incognito mode or a different browser to add card.
- Check stability of Internet connection.`,paymentGatewayUndefined:"Unable to detect payment gateway. Please contact our support for assistance!",paymentTemporaryBlocked:"Please contact your bank for more details.",unexpected:"Please contact your bank to resolve the issue and try again. You can also use add a new debit/credit card."},sr$1={paymentGatewayUndefined:"Unknown error",blockedByClient:"Unable to add card",paymentTemporaryBlocked:"Payment temporary blocked",AVS_CHECK_FAILED:"Payment declined (billing address mismatch)",EXPIRED_CARD:"Payment declined (expired card)",INSUFFICIENT_FUNDS:"Payment declined (insufficient funds)",LIMIT_EXCEEDED:"Payment declined (withdrawal limit exceeded)",WITHDRAWAL_LIMIT_EXCEEDED:"Payment declined (withdrawal limit exceeded)"},x$1=function(e){return e.Primer="Primer",e.Stripe="Stripe",e}(x$1||{});function cr$1(e){return e===b$1.Stripe?x$1.Stripe:x$1.Primer}function xe$1(e){return {fonts:[{family:"Ambit",src:`url("${e}assets/fonts/Ambit-Regular.woff2"), url("${e}assets/fonts/Ambit-Regular.woff")`}]}}var Ye={style:{base:{fontSize:"16px",fontWeight:"400","::placeholder":{color:"#c4c7c8"}}}},lr$1={style:{base:x$d(w$9({},Ye.style.base),{"::placeholder":{color:"#a8a794"},fontFamily:"Ambit, sans-serif",fontSmoothing:"antialiased"}),invalid:{color:"#17262b"}}};var We$1="https://js.stripe.com/v3/",Oe$1=(()=>{class e{constructor(t,r){this.client$=gi$4(()=>r.loadLib(We$1,()=>window.Stripe)).pipe(ie$b(n=>n(t.stripeKey)),_c$3(1)),this.elements$=this.client$.pipe(ie$b(n=>n.elements(xe$1(t.homepageURL))),_c$3(1));}createCardElement(t,r){return this.elements$.pipe(ie$b(n=>n.create(t,r)))}createCardToken(t,r,n){return Hp$2([this.client$,t]).pipe(Ac$3(l=>E$e(this,[l],function*([c,s]){return c.createToken(s.cardNumber,r)})),ie$b(c=>{if(c.token){let s=c.token.card;return {status:"ok",token:{tokenid:c.token.id,client_ip:c.token.client_ip,cardid:s.id,last4:s.last4,year:s.exp_year,month:s.exp_month,brand:s.brand},options:{partner:x$1.Stripe,resourceId:c.token.id,isDefault:n.isDefault,cardAlias:n.cardAlias,customerEmail:n.customerEmail,customerName:r.name,partnerCustomerId:n.customerIds[b$1.Stripe]}}}return {status:"error",code:Ke(c.error?.code),originalError:c.error}}))}static{this.\u0275fac=function(r){return new(r||e)(pe$9(f$c),pe$9(le$8))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function Ke(e){switch(e){case "country_code_invalid":case "incomplete_cvc":case "incorrect_cvc":case "invalid_cvc":case "incomplete_expiry":case "invalid_expiry_month":case "invalid_expiry_year":case "incomplete_number":case "invalid_number":case "incorrect_number":case "invalid_characters":return "invalid_card";case "invalid_card_type":return "not_supported_for_payouts";case "incorrect_zip":case "incorrect_address":return "invalid_address";case "card_decline_rate_limit_exceeded":case "card_declined":case "country_unsupported":case "expired_card":return e;default:return "unexpected"}}var Me=(()=>{class e{constructor(t,r,n,c,s,l,h,T,X,o,g){this.balanceService=t,this.errorHandler=r,this.eventDispatcherService=n,this.featureTogglesService=c,this.environment=s,this.http=l,this.routingService=h,this.stripeService=T,this.toastService=X,this.userService=o,this.window=g,this.chargeIdempotencyKey=new yn$7(null);}confirmPayment(t,r,n){return Hp$2([this.stripeService.client$,this.createCharge(t,n)]).pipe(Ac$3(([c,s])=>s.status==="error"?hi$7({error:{type:"Failed to create charge."}}):x$5(()=>this.getCharge(s.id),{maxAttempts:20}).pipe(Yc$3(l=>l.status!==D$1.Failed&&(!l.payment_details||!l.payment_details.client_secret),true),Th$2(),Ac$3(l=>E$e(this,null,function*(){if(l.status===D$1.Failed)return {error:{type:"api_error",message:"Charge request failed due to unknown server error. See logs for more details."}};if(!l?.payment_details||!l.payment_details?.client_secret)return {error:{type:"api_error",message:"client_secret is missing in payment intent."}};let h=yield c.confirmPayment({elements:r,clientSecret:l.payment_details.client_secret,confirmParams:{return_url:`${this.environment.homepageURL}app/account/payment/details`},redirect:"if_required"});return h.error||this.watchBalanceUpdate(s.id),h})),yi$5(l=>(l instanceof e$3&&(this.errorHandler.handleError("Failed to fetch Stripe payment intent client_secret.",{domain:"payments.merchantBalance"}),this.toastService.error(Ie)),Xp$2(()=>l))))))}getCharge(t){return this.http.get(`${this.environment.paymentsServiceApiURL}charges/${t}`)}initCheckoutElements(t){return this.stripeService.client$.pipe(ie$b(r=>r.elements({amount:t,appearance:Te$1,captureMethod:"manual",mode:"payment",currency:"usd"})))}isApplePayAvailable(){return this.featureTogglesService.isFeatureEnabled(jt$2.PaymentsStripeApplePay)&&"ApplePaySession"in this.window}onTopupCompleted(t,r){this.eventDispatcherService.dispatch(new w$2(r,t)),this.routingService.cleanParamsWithoutReload(),t===N$1.Failed&&this.toastService.error({content:C$2.Error});}onTopupUnavailable(t){this.toastService.error({content:t||C$2.Unavailable});}createCharge(t,r){return Hp$2([this.userService.user$,hi$7(this.generateNewIdempotencyKey())]).pipe(Ac$3(([n,c])=>{let s=n.details.name.trim().split(" "),l=s.shift(),h=s.join(" "),T=new je$6().set("Accept","application/json");return this.http.post(`${this.environment.paymentsServiceApiURL}charges/${r}`,{totalAmount:{amount:t,currency:"USD"},taxAmount:{amount:0,currency:"USD"},shippingAmount:{amount:0,currency:"USD"},customer:{email:n.details.email,firstName:l,lastName:h,address:ze(n.legal.address||n.billingAddress||n.contacts.address),createdAt:n.created_at},lineItems:[{name:"item",quantity:1,unitAmount:{amount:t,currency:"USD"},taxAmount:{amount:0,currency:"USD"},productId:"1",category:"category",brand:"brand",productType:"digital"}],cardDetails:null,idempotencyKey:c},{headers:T}).pipe(yi$5(()=>hi$7({status:"error"})))}),mt$8(1))}generateNewIdempotencyKey(){let t=ye$6();return this.chargeIdempotencyKey.next(t),t}watchBalanceUpdate(t){this.balanceService.setBalanceUpdating(true),x$5(()=>this.getCharge(t),{maxAttempts:20}).pipe(Yc$3(r=>!r.completed_at,true),Th$2(),Ac$3(r=>r.status===D$1.Succeeded?(this.balanceService.watch(),this.userService.reload()):(this.balanceService.emitBalanceUpdated(false),this.balanceService.setBalanceUpdating(false),be$8)),yi$5(r=>(this.balanceService.emitBalanceUpdated(false),this.balanceService.setBalanceUpdating(false),r instanceof e$3&&(this.errorHandler.handleError("Printify balance polling timeout.",{domain:"payments.merchantBalance"}),this.toastService.info(Ae$1)),Xp$2(()=>r)))).subscribe();}static{this.\u0275fac=function(r){return new(r||e)(pe$9(K$1),pe$9(Cr$2),pe$9(X$6),pe$9(te$5),pe$9(f$c),pe$9(_u$3),pe$9(Ya$1),pe$9(Oe$1),pe$9(rO),pe$9(J$5),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();function ze(e){return e?{line1:e.address1,line2:e.address2,city:e.city,countryCode:e.country,postalCode:e.zip,state:e.region}:null}var hi$1=(()=>{class e{constructor(t,r,n,c,s,l,h,T,X){this.sessionDetailsProvider=t,this.http=r,this.browserStorageService=n,this.errorHandler=c,this.currencyService=s,this.env=l,this.featureTogglesService=h,this.primerTopupService=T,this.stripeTopupService=X,this.defaultPaymentProfile={payment_methods:{ach:{blocked:false,enabled:this.featureTogglesService.isFeatureEnabled(jt$2.PaymentsStripeACH)},apple_pay:{blocked:false,enabled:true},card_topup:{blocked:false,enabled:false},credit_card:{blocked:false,enabled:true},google_pay:{blocked:false,enabled:true},paypal:{blocked:false,enabled:true},payoneer:{blocked:false,enabled:false},venmo:{blocked:false,enabled:false}},billing_currency:this.loadBillingCurrencyFromStorage(),partner_customer_ids:{[b$1.Primer]:null,[b$1.Stripe]:null}},this.paymentProfile=new yn$7(this.defaultPaymentProfile),this.paymentProfile$=this.paymentProfile.asObservable(),this.paymentMethodsProfile$=this.paymentProfile.pipe(ie$b(o=>({[a.ACH]:{blocked:o.payment_methods.ach.blocked,enabled:o.payment_methods.ach.enabled},[a.ApplePay]:{blocked:o.payment_methods.apple_pay.blocked,enabled:o.payment_methods.apple_pay.enabled},[a.CardTopup]:{blocked:o.payment_methods.card_topup.blocked,enabled:o.payment_methods.card_topup.enabled},[a.Card]:{blocked:o.payment_methods.credit_card.blocked,enabled:o.payment_methods.credit_card.enabled},[a.GooglePay]:{blocked:o.payment_methods.google_pay.blocked,enabled:o.payment_methods.google_pay.enabled},[a.PayPal]:{blocked:o.payment_methods.paypal.blocked,enabled:o.payment_methods.paypal.enabled},[a.Payoneer]:{blocked:o.payment_methods.payoneer.blocked,enabled:o.payment_methods.payoneer.enabled},[a.Venmo]:{blocked:o.payment_methods.venmo?.blocked,enabled:o.payment_methods.venmo?.enabled}}))),this.enabledTopupPaymentMethods$=this.paymentMethodsProfile$.pipe(ie$b(o=>Object.keys(o).filter(g=>{if(g===a.Card)return  false;if(g===a.ApplePay){let Le=this.primerTopupService.isApplePayAvailable()||this.stripeTopupService.isApplePayAvailable();return o[g].enabled&&Le}return g===a.GooglePay?o[g].enabled&&this.primerTopupService.isGooglePayAvailable():o[g].enabled}))),this.billingCurrencyCode$=this.paymentProfile.pipe(ie$b(o=>o.billing_currency||this.currencyService.defaultCurrency.code),Dr$5(),kc$2(this.storeBillingCurrencyInStorage.bind(this)),_c$3(1)),this.hasDefaultBillingCurrency$=gi$4(()=>this.billingCurrencyCode$).pipe(ie$b(o=>this.currencyService.isDefaultCurrency(o))),this.billingCurrency$=this.billingCurrencyCode$.pipe(Ac$3(o=>this.currencyService.getCurrency(o))),this.userId$=this.sessionDetailsProvider.userId$.pipe(Ye$b(Boolean),mt$8(1));}getPaymentGateway(){return this.userId$.pipe(ie$b(t=>`${this.env.apiURL}v1/payment/profiles/${t}/default-gateway`),Ac$3(t=>this.http.get(t)),ie$b(t=>t.default_payment_gateway))}getBillingCurrencies(){return this.currencyService.getTaggedCurrencies("billable").pipe(yi$5(t=>(this.errorHandler.handleError(t),hi$7(undefined))),Rc$2(this.billingCurrency$),ie$b(([t,r])=>t||[r]))}getPaymentProfile(t){return this.http.get(`${this.env.apiURL}v1/payment/profiles/${t}`)}updateBillingCurrency(t){return this.userId$.pipe(Ac$3(r=>this.http.put(`${this.env.apiURL}v1/payment/profiles/${r}`,{billing_currency:t})),kc$2(()=>{this.paymentProfile.value&&this.paymentProfile.next(x$d(w$9({},this.paymentProfile.value),{billing_currency:t}));}))}loadPaymentProfile(){return this.userId$.pipe(Ac$3(t=>this.getPaymentProfile(t)),c$7(),yi$5(t=>t&&t instanceof gn$3&&t.status===ie$9.Unauthorized?Xp$2(t):(this.errorHandler.handleError(t,{message:"Unable to load payment profile",domain:"payments.profile"}),hi$7(this.defaultPaymentProfile))),Ac$3(t=>(this.paymentProfile.next(t),this.paymentProfile)))}storeBillingCurrencyInStorage(t){this.browserStorageService.set(ie$2,t,{storageType:I$8.Local,clearOnAuth:true});}loadBillingCurrencyFromStorage(){return this.browserStorageService.getString(ie$2,this.currencyService.defaultCurrency.code,I$8.Local)}static{this.\u0275fac=function(r){return new(r||e)(pe$9(Z$8),pe$9(_u$3),pe$9(Y$4),pe$9(Cr$2),pe$9(Eo$3),pe$9(f$c),pe$9(te$5),pe$9(De$1),pe$9(Me))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();
var N=()=>[];function v(e,i){if(e&1&&ME(0,"img",3),e&2){let t=i.$index,s=tP();uE("--image-size",s.imageSize()+"px"),op$1("src","/assets/img/etsy-recommendation/success-story-",t+1,".png",sy$2);}}function z$2(e,i){e&1&&(Kf$2(0,"pfy-link",2),fP(1," See their stories "),Xf$2()),e&2&&lE("external",true)("newTab",true);}var P=1,O$1=5,U$1=55,W=(()=>{class e{constructor(){this.storiesCount=cR(O$1,{transform:t=>Xp$3(t,P,O$1)}),this.imageSize=cR(U$1),this.showLink=cR(true);}static{this.\u0275fac=function(s){return new(s||e)};}static{this.\u0275cmp=LR({type:e,selectors:[["pfa-etsy-success-stories"]],inputs:{storiesCount:[1,"storiesCount"],imageSize:[1,"imageSize"],showLink:[1,"showLink"]},decls:4,vars:2,consts:[[1,"success-stories"],["alt","Success story image","data-testid","successStoryImage",1,"success-stories-story-image",3,"--image-size","src"],["href","https://printify.com/blog/category/success-stories/","data-analyticsid","etsySuccessStoriesLink","data-testid","successStoriesLink",3,"external","newTab"],["alt","Success story image","data-testid","successStoryImage",1,"success-stories-story-image",3,"src"]],template:function(s,d){s&1&&(Kf$2(0,"div",0),JR(1,v,1,4,"img",1,ZR),Xf$2(),kI(3,z$2,2,2,"pfy-link",2)),s&2&&(xR(),KR(vP(1,N).constructor(d.storiesCount())),xR(2),QR(d.showLink()?3:-1));},dependencies:[Vu$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.success-stories[_ngcontent-%COMP%]{display:flex}.success-stories-story-image[_ngcontent-%COMP%]{width:var(--image-size);height:auto}@media (max-width: 479px){.success-stories-story-image[_ngcontent-%COMP%]{width:35px}}.success-stories-story-image[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}'],changeDetection:0});}}return e})();var L$1={dashboardModal:{dismissed:{times:0,permanently:false}}};var b=({permanently:e})=>me$1(i=>{i.dashboardModal.dismissed={at:Date.now(),times:i.dashboardModal.dismissed?i.dashboardModal.dismissed.times+1:1,permanently:e};});var B=x$d(w$9({},L$1),{myProductsBanner:{dismissed:false}}),ee$1=(()=>{class e{constructor(){this.widgetMetadataRepository=u$2.create({widgetName:"etsy_recommendation",initialMetadata:B}),this.metadata$=this.widgetMetadataRepository.metadata$;}dismissModal({permanently:t}){this.widgetMetadataRepository.update(b({permanently:t}));}dismissBanner(){this.widgetMetadataRepository.update(me$1(t=>{t.myProductsBanner.dismissed=true;}));}static{this.\u0275fac=function(s){return new(s||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();
var j$1=(()=>{class r{constructor(){this.environment=N$8(f$c),this.httpClient=N$8(_u$3),this.userService=N$8(J$5),this.errorHandler=N$8(it$a);}getProperty(e){return this.userService.id$.pipe(mt$8(1),Ac$3(t=>this.httpClient.get(`${this.environment.segmentationApiURL}/merchant-characteristics/${t}/properties/${e.propertyName}`)),ie$b(t=>e(t.value)),c$7(),yi$5(t=>(t.status!==ie$9.NotFound&&this.errorHandler.handleError(t),hi$7(undefined))))}updateProperties(e){return this.userService.id$.pipe(mt$8(1),Ac$3(t=>this.httpClient.post(`${this.environment.segmentationApiURL}/merchant-characteristics/${t}/properties`,e.map(a=>({propertyName:a.name,value:a.value})))))}static{this.\u0275fac=function(t){return new(t||r)};}static{this.\u0275prov=H$9({token:r,factory:r.\u0275fac,providedIn:"root"});}}return r})();var E$4=kt$1("active_status",{isActive:e=>[s$5.NewActive,s$5.RetainedActive,s$5.ReturningActive].includes(e)}),s$5=function(e){return e.Inactive="inactive",e.NewActive="new_active",e.ChurnedActive="churned_active",e.RetainedActive="retained_active",e.ReturningActive="returning_active",e.PersistentChurnedActive="persistent_churned_active",e}(s$5||{});var F=(()=>{class e{constructor(){this.userService=N$8(J$5),this.storesService=N$8(Ro$2),this.wizardService=N$8(pn$3),this.sessionService=N$8(M$3),this.merchantPropertiesService=N$8(j$1),this.hasRecommendation$=this.sessionService.isAuthenticated$.pipe(Ac$3(r=>r?Hp$2([this.isNotActiveMerchant(),this.hasNoEtsyStoreConnected(),this.registeredFiveOrMoreDaysAgo()]).pipe(ie$b(t=>t.every(Boolean))):hi$7(false)),_c$3({refCount:true,bufferSize:1}));}openWizard(r){this.wizardService.open([r$7,x$9],{queryParams:{origin:r}});}isNotActiveMerchant(){return this.merchantPropertiesService.getProperty(E$4).pipe(ie$b(r=>r?!r.isActive():false))}hasNoEtsyStoreConnected(){return this.storesService.stores$.pipe(ie$b(r=>!r.some(t=>t.salesChannelId===b$9.Etsy)),Dr$5())}registeredFiveOrMoreDaysAgo(){return this.userService.authenticatedUser$.pipe(ie$b(t=>Tt$1(new Date,new Date(t.created_at))>=5))}static{this.\u0275fac=function(t){return new(t||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var s$4=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function o$1(e,r){return !!(e===r||s$4(e)&&s$4(r))}function g$2(e,r){if(e.length!==r.length)return  false;for(var t=0;t<e.length;t++)if(!o$1(e[t],r[t]))return  false;return  true}function h(e,r){r===undefined&&(r=g$2);var t,f=[],u,l=false;function i(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return l&&t===this&&r(n,f)||(u=e.apply(this,n),l=true,t=this,f=n),u}return i}var m=h;var ee=m(e=>{let i=ae(e);return te(e)?i:"#FFFFFF"});function E$3(e,i){if(!e||!i)return 0;let n=Mu$1(ee(e)),t=Mu$1(ee(i)),[r,o,s]=w1(n),[a,c,f]=w1(t);return r===a?o===c?f-s:o-c:r-a}function se(e){let i=(e||"").trim(),n=te(i)?i:"";return n.startsWith("#")?n.slice(1):n}function ae(e){let i=se(e);return i?`#${i}`:""}function te(e){let i=(e||"").trim();return /^#?([0-9a-f]{3}|[0-9a-f]{6})$/i.test(i)}var ie$1=qe$9(e=>{let i=e.reduce((n,t)=>{let r=n.find(({groupId:o})=>o===t.color_group?.id);return r?(r.colors.push(t),n):n.concat({groupId:t.color_group?.id||0,groupHex:t.color_group?.color?.trim()||"#000000",colors:[t]})},[]);return i.map(n=>n.colors.sort((t,r)=>E$3(t?.colors?.[0]?.hex?.trim(),r?.colors?.[0]?.hex?.trim()))),i.sort((n,t)=>E$3(n.groupHex,t.groupHex)),i.flatMap(n=>n.colors)});var we=e=>({id:e.id,name:e.name,minPrice:e.min_price,minPriceSubscription:e.min_price_subscription,cost_ranges_by_decoration_method_standard:e.cost_ranges_by_decoration_method_standard,cost_ranges_by_decoration_method_subscription:e.cost_ranges_by_decoration_method_subscription,minShipping:ce(e),min_shipping_prices:e.min_shipping_prices,options:e.options.map(i=>i.type!==Ti$6.Color?i:x$d(w$9({},i),{items:ie$1(i.items)})),scoring:e.scoring??Yr$2,bulkDiscountEnabled:e.bulk_discount_enabled??false,facilities:e.facilities,brandingFeatures:e.branding_features??[],tags:e.tags??[],averageBusinessDaysInProduction:e.average_business_days_in_production,printPosition:e.print_position,location:{country:e.location.country,countryCode:e.location.country_code,isInternational:false},decorationMethods:e.decorationMethods,eligibleSalesChannels:e.eligibleSalesChannels,regionalShipping:e.regional_shipping});function ce(e){return e.min_shipping?Math.min(...e.min_shipping.map(i=>i.rate_first)):0}var Ee=(e,i)=>({id:e.id,name:e.name,description:e.description,tags:e.tags,brand:e.brand,careSets:e.care_sets,customMockups:e.custom_mockups,details:e.details,features:e.features,media:le(e.media),model:e.model,seo:e.seo,sizeGuide:e.size_guide,type:e.type,version:e.version,pricingPrintArea:e.pricing_print_area,eligibleSalesChannels:e.eligibleSalesChannels,endBuyerReviews:i&&e.end_buyer_reviews?{rating:e.end_buyer_reviews.rating,reviewsCount:e.end_buyer_reviews.reviews_count,distribution:e.end_buyer_reviews.distribution}:null}),Oe=e=>({blueprintId:e.id,name:e.name,description:e.description,tags:e.tags.visible,brandName:e.brand.name,careSets:e.careSets,details:e.details,features:e.features,media:e.media,model:e.model,seo:e.seo,sizeGuide:e.sizeGuide,type:e.type,version:e.version,pricingPrintArea:e.pricingPrintArea,hiddenTags:e.tags.hidden,eligibleSalesChannels:e.eligibleSalesChannels,endBuyerReviews:e.endBuyerReviews});function le(e){return e?e.map(i=>"video"in i?{video:i.video}:{catalogPreview:i.catalog_preview??[],src:i.src}):[]}function Pe(e){return e.map(i=>({region:i.region,shippingRate:i.shipping_rate,promisedShippingTime:i.promised_shipping_time}))}function Te(e){let i=[],n=[];return e?.forEach(t=>{if("video"in t){n.push(t);return}let r=t.catalogPreview?.includes(Me$3.Scrub),o=t.catalogPreview?.includes(Me$3.Rebrand),s=!r&&!o;if(o){i.push(t);return}if(!r){i.push(t);return}if(s){i.push(t);return}}),[...i,...n]}var Fe={dtg:{label:"DTG",description:"Direct-to-garment directly prints designs on ready-made apparel (similar to inkjet)."},dtf:{label:"DTF",description:"Direct-to-film prints designs on a PET film, then transfers them to the product using a heat press."},aop:{label:"AOP",description:"All-Over-Print is when the print covers the entire surface of the garment using sublimation."},"dye-sublimation":{label:"Dye Sublimation",description:"Dye Sublimation uses extreme heat to transfer ink directly to a surface like metal or ceramic."},embroidery:{label:"Embroidery",description:"Embroidery is a technique that places a design on garments using colored threads."},"digital-printing":{label:"Pigment Print",description:"Pigment print (inkjet print) uses droplets of ink to create digital prints, typically on paper."},uv:{label:"UV Print",description:"UV Print uses a special ultra violet curing ink that dries as the design is printed."},weaving:{label:"Weaving",description:"Interlacing threads to create fabric patterns directly."},"direct-to-fabric":{label:"Direct to Fabric",description:"Printing designs straight onto fabric with ink or dye."},engraving:{label:"Engraving",description:"Carved design on a surface is inked and pressed onto paper or fabric."}},He=["neck"];function de$1(){return e=>new M$a(i=>{let n,t,r=new V$7;return r.add(e.subscribe({complete:()=>{n&&i.next(t),i.complete();},error:o=>{i.error(o);},next:o=>{t=o,n||(n=Yp$1.schedule(()=>{i.next(t),n=undefined;}),r.add(n));}})),r})}var fe=new k$5("@ngrx/component-store Initial State"),We=(()=>{class e{constructor(n){this.destroySubject$=new In$7(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new In$7(1),this.isInitialized=false,this.state$=this.select(t=>t),this.state=Wn$4(this.stateSubject$.pipe(Oc$2(this.destroy$)),{requireSync:false,manualCleanup:true}),this.\u0275hasProvider=false,n&&this.initState(n),this.checkProviderForHooks();}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next();}updater(n){return t=>{let r=true,o,a=(eh$3(t)?t:hi$7(t)).pipe(Bt$7(Jp$2),kc$2(()=>this.assertStateIsInitialized()),Rc$2(this.stateSubject$),ie$b(([c,f])=>n(f,c)),kc$2(c=>this.stateSubject$.next(c)),yi$5(c=>r?(o=c,be$8):Xp$2(c)),Oc$2(this.destroy$)).subscribe();if(o)throw o;return r=false,a}}initState(n){pi$6([n],Jp$2).subscribe(t=>{this.isInitialized=true,this.stateSubject$.next(t);});}setState(n){typeof n!="function"?this.initState(n):this.updater(n)();}patchState(n){let t=typeof n=="function"?n(this.get()):n;this.updater((r,o)=>w$9(w$9({},r),o))(t);}get(n){this.assertStateIsInitialized();let t;return this.stateSubject$.pipe(mt$8(1)).subscribe(r=>{t=n?n(r):r;}),t}select(...n){let{observablesOrSelectorsObject:t,projector:r,config:o}=he(n);return (ge$1(t,r)?this.stateSubject$:Hp$2(t)).pipe(o.debounce?de$1():oe(),r?ie$b(a=>t.length>0&&Array.isArray(a)?r(...a):r(a)):oe(),Dr$5(o.equal),_c$3({refCount:true,bufferSize:1}),Oc$2(this.destroy$))}selectSignal(...n){let t=[...n],r=typeof t[n.length-1]=="object"?t.pop():{},o=t.pop(),s=t,a=s.length===0?()=>o(this.state()):()=>{let c=s.map(f=>f());return o(...c)};return HP(a,r)}effect(n){let t=new Z$a;return n(t).pipe(Oc$2(this.destroy$)).subscribe(),r=>(eh$3(r)?r:hi$7(r)).pipe(Oc$2(this.destroy$)).subscribe(s=>{t.next(s);})}checkProviderForHooks(){Yp$1.schedule(()=>{});}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}static{this.\u0275fac=function(t){return new(t||e)(pe$9(fe,8))};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac});}}return e})();function he(e){let i=Array.from(e),t={debounce:false,equal:(s,a)=>s===a};if(pe(i[i.length-1])&&(t=w$9(w$9({},t),i.pop())),i.length===1&&typeof i[0]!="function")return {observablesOrSelectorsObject:i[0],projector:undefined,config:t};let r=i.pop();return {observablesOrSelectorsObject:i,projector:r,config:t}}function pe(e){let i=e;return typeof i.debounce<"u"||typeof i.equal<"u"}function ge$1(e,i){return Array.isArray(e)&&e.length===0&&i}function oe(){return e=>e}var Re=(()=>{class e{constructor(){this.featureTogglesService=N$8(te$5),this.storesService=N$8(Ro$2),this.isInternationalFulfillmentOptimisationEnabled$=Hp$2([this.featureTogglesService.isFeatureEnabled$(jt$2.PrintifyChoiceGeoExpansion),this.storesService.salesChannelId$.pipe(Sc$2(undefined))]).pipe(ie$b(([n,t])=>n&&!!t&&He$6.includes(t)));}isOptimisedForInternationalFulfillment({options:n}){return this.isInternationalFulfillmentOptimisationEnabled$.pipe(ie$b(t=>t?n.some(r=>r.items.some(o=>o.fulfillment===Pt$3.International)):false),Dr$5(),_c$3({refCount:true,bufferSize:1}))}static{this.\u0275fac=function(t){return new(t||e)};}static{this.\u0275prov=H$9({token:e,factory:e.\u0275fac,providedIn:"root"});}}return e})();var Le=(()=>{class t{constructor(e,i){this.targetMarketsService=e,this.featureTogglesService=i,this.isEligibleForTargetMarket$=this.targetMarketsService.currentTargetMarket$.pipe(ie$b(n=>De$5.includes(n)),Dr$5());}isBlueprintEligibleForPrintifyChoice$(e,i){return Hp$2([this.isPrintifyChoiceEnabledForBlueprintID$(e),this.isEligibleForTargetMarket$,this.hasPrintifyChoiceProvider$(i)]).pipe(ie$b(([n,l,c])=>{let C=i.length===1&&c;return n&&(C||l)&&c}),Sc$2(false),Dr$5(),_c$3({refCount:true,bufferSize:1}))}hasPrintifyChoiceProvider$(e){return hi$7(e.some(i=>i.id===me$2))}isPrintifyChoiceEnabledForBlueprintID$(e){return this.featureTogglesService.getFeatureVariable$(jt$2.PrintifyChoiceInternal,"ids").pipe(ie$b(i=>e?(i?i.split(",").map(l=>l.trim()):[]).some(l=>l===e.toString())||!t.isBlueprintBlacklisted(e):false))}static isBlueprintBlacklisted(e){return Oe$5.includes(e)}static{this.\u0275fac=function(i){return new(i||t)(pe$9(Ee$4),pe$9(te$5))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Po(t,o){return !o||t.some(({decoration_methods:e})=>!e||e?.includes(o))}var ei$1=t=>[...new Set(t.map(o=>o.printPosition.filter(({position:e})=>!He.includes(e)).map(({decoration_methods:e})=>e)).flat(2).filter(o=>o!==undefined).sort((o,e)=>o.localeCompare(e)))];var ge=(()=>{class t{constructor(){this.blueprintsSearchService=N$8(ft$2),this.httpClient=N$8(_u$3),this.dataStorageService=N$8(_o$2),this.env=N$8(f$c),this.featureTogglesService=N$8(te$5),this.errorHandler=N$8(it$a),this.printfulWhitelistedBlueprints=Wn$4(this.featureTogglesService.getFeatureVariable$(jt$2.DiscPrintfulWhitelistedBlueprints,"whitelisted_combinations_for_printful_pp").pipe(Dr$5(),ie$b(e=>this.isValidPrintfulWhitelistConfig(e)?e?.combinations||[]:(this.errorHandler.handleError("Invalid Printful whitelist config for disc_restrict_pp_decoration_methods feature flag"),[]))));}static{this.getProductCatalogV2BlueprintsUrl=e=>`${e.catalogServiceV2URL}blueprints/`;}static{this.recentlyViewedDataKey="bp_recent";}static{this.limitRecentlyViewed=12;}static isError(e){return e.hasOwnProperty("error")}getBlueprintApiV2(e,i,n){this.blueprintId=e;let l={[ES]:i};return this.httpClient.get(t.getProductCatalogV2BlueprintsUrl(this.env)+e,{params:n,headers:l,context:new Fr$4().set(li$3,{enabled:true})}).pipe(c$7(),ie$b(c=>{if(t.isError(c))throw new Error(`Blueprint with id: "${e}" not found`);return Ee(c,this.featureTogglesService.isFeatureEnabled(jt$2.CatalogEndBuyerReviews))}))}getSizeGuide(e){let i=`${this.env.catalogServiceV2URL}blueprints/${e}/size-guide`;return this.dataStorageService.cacheObservable({storageKey:i,observable:()=>this.httpClient.get(i).pipe(c$7())}).pipe(_c$3({bufferSize:1,refCount:true}))}getPrintProviderRegionalShipping({blueprintId:e,printProviderId:i,currencyCode:n}){let l=`${this.env.catalogServiceV2URL}blueprints/${e}/print-providers/${i}/regional-shipping`,c={headers:{[ES]:n}};return this.dataStorageService.cacheObservable({storageKey:`${l}-${n}`,observable:()=>this.httpClient.get(l,c).pipe(c$7(),ie$b(C=>Pe(C)))}).pipe(_c$3({bufferSize:1,refCount:true}))}getPrintProviderShipping({blueprintId:e,printProviderId:i,currencyCode:n}){let l=`${this.env.catalogServiceV2URL}blueprints/${e}/print-providers/${i}/shipping`,c={headers:{[ES]:n}};return this.dataStorageService.cacheObservable({storageKey:`${l}-${n}`,observable:()=>this.httpClient.get(l,c).pipe(c$7(),ie$b(C=>C.data))}).pipe(_c$3({bufferSize:1,refCount:true}))}getPrintProviderGlobalShipping({blueprintId:e,printProviderId:i,currencyCode:n}){let l=`${this.env.catalogServiceV2URL}blueprints/${e}/print-providers/${i}/international-shipping`,c={headers:{[ES]:n}};return this.dataStorageService.cacheObservable({storageKey:`${l}-${n}`,observable:()=>this.httpClient.get(l,c).pipe(c$7(),ie$b(C=>C.data))}).pipe(_c$3({bufferSize:1,refCount:true}))}getBlueprintPrintProviderProduction(e,i){let n=`${t.getProductCatalogV2BlueprintsUrl(this.env)}${e}/print-providers/${i}/production`;return this.dataStorageService.cacheObservable({storageKey:n,observable:()=>this.httpClient.get(n).pipe(c$7())}).pipe(_c$3({bufferSize:1,refCount:true}))}getBlueprintPrintProviderVariants({blueprintId:e,printProviderId:i,params:n,currencyCode:l}){let c=`${t.getProductCatalogV2BlueprintsUrl(this.env)}${e}/print-providers/${i}/variants`,C={params:n,headers:{[ES]:l}};return this.dataStorageService.cacheObservable({storageKey:`${c}-${l}-${JSON.stringify(C.params)}`,observable:()=>this.httpClient.get(c,C).pipe(c$7(),ie$b(w=>w.data))}).pipe(_c$3({bufferSize:1,refCount:true}))}getBlueprintPrintProviderBrandingFeatures(e,i){let n=`${t.getProductCatalogV2BlueprintsUrl(this.env)}${e}/print-providers/${i}/branding`;return this.dataStorageService.cacheObservable({storageKey:n,observable:()=>this.httpClient.get(n).pipe(c$7())}).pipe(_c$3({bufferSize:1,refCount:true}))}getPrintProviders({blueprintId:e,params:i,currencyCode:n,showPrintfulPrintProvider:l}){let c=`${this.env.catalogServiceV2URL}blueprints/${e}/print-providers`,C={params:i,headers:{[ES]:n}};return this.dataStorageService.cacheObservable({storageKey:`${c}-${n}-${JSON.stringify(C.params)}`,observable:()=>this.httpClient.get(c,C).pipe(c$7(),ie$b(w=>w.data),ie$b(w=>w.map(we)),ie$b(w=>l?w:this.filterPrintfulPrintProvider(e,w)))}).pipe(_c$3({bufferSize:1,refCount:true}))}getPrintProvider({blueprintId:e,printProviderId:i,params:n,currencyCode:l}){let c=`${this.env.catalogServiceV2URL}blueprints/${e}/print-providers/${i}`,C={params:n,headers:{[ES]:l}};return this.dataStorageService.cacheObservable({storageKey:`${c}-${l}-${JSON.stringify(C.params)}`,observable:()=>this.httpClient.get(c,C).pipe(c$7(),ie$b(we))}).pipe(_c$3({bufferSize:1,refCount:true}))}addIdToRecentlyViewedStoredData(){if(!this.blueprintId||!pe$7("localStorage"))return;let e=JSON.parse(localStorage.getItem(t.recentlyViewedDataKey)||"[]"),i=[...new Set([this.blueprintId,...e])];i.splice(t.limitRecentlyViewed),localStorage.setItem(t.recentlyViewedDataKey,JSON.stringify(i));}getRecentlyViewed(e,i){if(!pe$7("localStorage"))return hi$7([]);let n=JSON.parse(localStorage.getItem(t.recentlyViewedDataKey)??"[]").filter(l=>l!==this.blueprintId);return n.length?this.blueprintsSearchService.loadAsProductCardData({ids:n,limit:t.limitRecentlyViewed,currencyCode:e,target_market:i}):hi$7([])}filterPrintfulPrintProvider(e,i){let n=i.find(C=>C.id===410);if(!n)return i;let l=this.printfulWhitelistedBlueprints()?.find(C=>C.blueprintId===e);if(!l)return i.filter(C=>C.id!==410);let c=l.decorationMethods;return n.printPosition=n.printPosition.map(C=>x$d(w$9({},C),{decoration_methods:C.decoration_methods?.filter(w=>c.includes(w))})),n.decorationMethods=n.decorationMethods?.filter(C=>c.includes(C)),ei$1([n])?.length?i:i.filter(C=>C.id!==410)}isValidPrintfulWhitelistConfig(e){if(e===undefined)return  true;if(typeof e!="object"||e===null)return  false;let i=e.combinations;return Array.isArray(i)?i.every(n=>typeof n?.blueprintId=="number"&&Array.isArray(n.decorationMethods)&&n.decorationMethods.every(l=>typeof l=="string")):false}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var de=function(t){return t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t}(de||{});var E$2=(()=>{class t extends We{constructor(){super({production:[],pricingPrintArea:"",selectedOptionType:Ti$6.Color,selectedGlobalOptionType:Ti$6.Color,shipping:[],globalShipping:[],variants:[],brandingFeatures:[]}),this.storesService=N$8(Ro$2),this.blueprintService=N$8(ge),this.tiktokBlueprintFiltersService=N$8(ce$3),this.currencyCodeProvider=N$8(Vo$3),this.internationalPrintifyChoiceService=N$8(Re),this.currencyCode$=this.currencyCodeProvider.currencyCode$.pipe(_c$3({refCount:true,bufferSize:1})),this.printProvider$=this.select(e=>e.printProvider).pipe(Ye$b(Boolean)),this.decorationMethod$=this.select(e=>e.decorationMethod),this.shipping$=this.select(e=>e.shipping),this.globalShipping$=this.select(e=>e.globalShipping),this.shippingGroups$=this.shipping$.pipe(ie$b(e=>ii(e))),this.globalShippingGroups$=this.globalShipping$.pipe(ie$b(e=>ii(e))),this.brandingFeatures$=this.select(e=>e.brandingFeatures||[]),this.sortedOptions$=this.printProvider$.pipe(ie$b(e=>e.options.sort(Ei$1)),ie$b(e=>e.map(i=>i.type!==Ti$6.Color?i:x$d(w$9({},i),{items:ie$1(i.items)})))),this.minPricesBasedOnDecorationMethod$=Hp$2([this.printProvider$,this.decorationMethod$]).pipe(ie$b(([e,i])=>i&&e?.cost_ranges_by_decoration_method_standard?.[i]?.min&&e?.cost_ranges_by_decoration_method_subscription?.[i]?.min?{minPrice:e.cost_ranges_by_decoration_method_standard[i].min,minPriceSubscription:e.cost_ranges_by_decoration_method_subscription[i].min}:null)),this.production$=this.select(e=>e.production),this.variants$=this.select(e=>e.variants),this.pricingPrintArea$=this.select(e=>e.pricingPrintArea),this.variantRawData$=Hp$2([this.variants$,this.sortedOptions$,this.pricingPrintArea$,this.minPricesBasedOnDecorationMethod$]).pipe(ie$b(([e,i,n,l])=>({variants:Ii$2(e,l),optionsList:i,pricingPrintArea:n}))),this.globalVariants$=Hp$2([this.variants$,this.minPricesBasedOnDecorationMethod$]).pipe(ie$b(([e,i])=>dc$1(e,i))),this.globalVariantRawData$=Hp$2([this.globalVariants$,this.sortedOptions$,this.pricingPrintArea$]).pipe(ie$b(([e,i,n])=>({variants:e,optionsList:i,pricingPrintArea:n}))),this.selectedOptionType$=this.select(e=>e.selectedOptionType),this.selectedGlobalOptionType$=this.select(e=>e.selectedGlobalOptionType),this.loadPrintProviderDetails=this.effect(e=>Hp$2([this.currencyCode$,e]).pipe(ie$b(([i,n])=>w$9({currencyCode:i},n)),Ac$3(({blueprintId:i,printProviderId:n,currencyCode:l})=>this.blueprintService.getPrintProvider({blueprintId:i,printProviderId:n,currencyCode:l})),kc$2(i=>{this.patchState({printProvider:i}),this.patchState({selectedOptionType:ti(i.options)}),this.patchState({selectedGlobalOptionType:ti(i.options)});}))),this.loadShipping=this.effect(e=>Hp$2([this.currencyCode$,e]).pipe(ie$b(([i,n])=>w$9({currencyCode:i},n)),Ac$3(({blueprintId:i,printProviderId:n,currencyCode:l})=>this.blueprintService.getPrintProviderShipping({blueprintId:i,printProviderId:n,currencyCode:l}).pipe(yi$5(c=>(console.error("Error loading shipping:",c),hi$7([]))))),kc$2(i=>{this.patchState({shipping:i});}))),this.loadGlobalShipping=this.effect(e=>Hp$2([this.internationalPrintifyChoiceService.isInternationalFulfillmentOptimisationEnabled$,this.currencyCode$,e]).pipe(Ye$b(([i])=>i),ie$b(([,i,n])=>w$9({currencyCode:i},n)),Ac$3(({blueprintId:i,printProviderId:n,currencyCode:l})=>this.blueprintService.getPrintProviderGlobalShipping({blueprintId:i,printProviderId:n,currencyCode:l}).pipe(yi$5(c=>(console.error("Error loading shipping:",c),hi$7([]))))),kc$2(i=>{this.patchState({globalShipping:i});}))),this.loadBrandingFeatures=this.effect(e=>e.pipe(Ac$3(({blueprintId:i,printProviderId:n})=>this.blueprintService.getBlueprintPrintProviderBrandingFeatures(i,n)),kc$2(i=>{this.patchState({brandingFeatures:i});}))),this.loadVariants=this.effect(e=>Hp$2([this.storesService.salesChannelId$.pipe(Sc$2(undefined)),this.tiktokBlueprintFiltersService.getTiktokBlueprintRequestParams$(),this.currencyCode$,e]).pipe(ie$b(([i,n,l,c])=>x$d(w$9({},c),{tiktokPromotionalCategoryParams:n,currencyCode:l,salesChannelId:i})),Ac$3(({blueprintId:i,printProviderId:n,tiktokPromotionalCategoryParams:l,currencyCode:c,salesChannelId:C})=>{let w=C&&gt$3({salesChannelId:C});return this.blueprintService.getBlueprintPrintProviderVariants({blueprintId:i,printProviderId:n,params:w&&Object.keys(w)?.length?w:l,currencyCode:c})}),kc$2(i=>{this.patchState({variants:i});}))),this.loadPrintProviderProduction=this.effect(e=>e.pipe(Ac$3(({blueprintId:i,printProviderId:n})=>this.blueprintService.getBlueprintPrintProviderProduction(i,n)),kc$2(i=>{this.patchState({production:i});})));}selectOptionType(e){this.patchState({selectedOptionType:e});}selectGlobalOptionType(e){this.patchState({selectedGlobalOptionType:e});}initialise({blueprintId:e,printProviderId:i,pricingPrintArea:n,decorationMethod:l}){this.patchState({decorationMethod:l}),this.patchState({pricingPrintArea:n}),this.loadPrintProviderDetails({blueprintId:e,printProviderId:i}),this.loadPrintProviderProduction({blueprintId:e,printProviderId:i}),this.loadShipping({blueprintId:e,printProviderId:i}),this.loadGlobalShipping({blueprintId:e,printProviderId:i}),this.loadVariants({blueprintId:e,printProviderId:i}),this.loadBrandingFeatures({blueprintId:e,printProviderId:i});}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac});}}return t})();function Ei$1(t,o){return t.type===Ti$6.Size?-1:o.type===Ti$6.Size?1:0}function ti(t){return t.some(o=>o.type==="color")?Ti$6.Color:t[0].type}function ii(t){return t.reduce((o,e)=>{let{destination_group_label:i}=e,n=o.find(l=>l.destinationGroupLabel===i);return n?(Gi(n,e),o):(o.push(Fi(e)),o)},[])}function Fi(t){let{country:o,destination_group_label:e}=t;return {destinationGroupLabel:e||o,shippingProfiles:[ni(t)]}}function Gi(t,o){let e=t.shippingProfiles.find(i=>i.method===o.method);if(e){Ri(e,o);return}t.shippingProfiles.push(ni(o)),t.shippingProfiles.sort(Bi);}function Ri(t,o){let{country:e,first:i,additional:n}=o;t.countries.includes(e)||t.countries.push(e),t.first=[Math.min(t.first[de.MIN],i),Math.max(t.first[de.MAX],i)],t.additional=[Math.min(t.additional[de.MIN],n),Math.max(t.additional[de.MAX],n)],t.variants.push(o);}function ni(t){let{country:o,method:e,first:i,additional:n,promised_shipping_time:l}=t;return {countries:[o],method:e,first:[i,i],additional:[n,n],promisedShippingTime:l,variants:[t]}}function Bi(t,o){return Ja$2.indexOf(t.method)-Ja$2.indexOf(o.method)}function Li(t,o){if(t&1&&(Kf$2(0,"span"),fP(1),Xf$2(),Kf$2(2,"pfy-link",3),fP(3," See price table "),Xf$2()),t&2){let e=tP();xR(),WE(e.neckLabelPricingText),xR(),lE("newTab",true)("external",true);}}function Ai$1(t,o){if(t&1&&(Kf$2(0,"span"),fP(1),TP(2,"price"),Xf$2(),Kf$2(3,"span",4),fP(4),TP(5,"price"),Kf$2(6,"span",5)(7,"pfy-link",6),fP(8,"Printify Premium"),Xf$2(),fP(9," ). "),Xf$2()()),t&2){let e=tP();xR(),ip$2("",NP(2,2,e.pricePerInsert,"USD")," per insert."),xR(3),ip$2(" (",NP(5,5,e.premiumPricePerInsert,"USD")," per insert with ");}}var Ae=(()=>{class t{constructor(){this.brandingFeatureType=Oi$2,this.pricePerInsert=15,this.premiumPricePerInsert=10,this.neckLabelPricingText=n$2,this.type=Oi$2.Inserts;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-package-insert-pricing"]],inputs:{type:"type"},decls:6,vars:1,consts:[[1,"wrapper"],[1,"p-bold","cost-label"],[1,"costs"],["href","https://printify.com/branding-costs/",3,"newTab","external"],[1,"text-xs"],[1,"inline-flex"],["routerLink","/subscription"]],template:function(i,n){i&1&&(Kf$2(0,"div",0)(1,"div",1),fP(2,"Cost:"),Xf$2(),Kf$2(3,"div",2),kI(4,Li,4,3)(5,Ai$1,10,8),Xf$2()()),i&2&&(xR(4),QR(n.type===n.brandingFeatureType.NeckLabels?4:5));},dependencies:[dT,Vu$2,Eu$2],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}@media (min-width: 840px){.wrapper[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 840px){.cost-label[_ngcontent-%COMP%]{margin-right:.5rem}}.costs[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}'],changeDetection:0});}}return t})();function Ui(t,o){t&1&&(Kf$2(0,"div",0),ME(1,"img",2),Kf$2(2,"div")(3,"p",3),fP(4,"Package inserts"),Xf$2(),ME(5,"pfy-custom-html",4)(6,"pfa-package-insert-pricing",5),Xf$2()()),t&2&&(xR(5),lE("innerHTML",o,ER));}function Ni(t,o){t&1&&(Kf$2(0,"div",1),ME(1,"img",6),Kf$2(2,"div")(3,"p",3),fP(4,"Neck labels"),Xf$2(),Kf$2(5,"p",7),fP(6),Xf$2(),ME(7,"pfa-package-insert-pricing",8),Xf$2()()),t&2&&(xR(6),WE(o.description));}var oi=(()=>{class t{constructor(e){this.moreDetailsStore=e,this.description$=this.moreDetailsStore.brandingFeatures$.pipe(ie$b(i=>i.find(n=>n.type===Oi$2.Inserts)?.description.replace(/store settings/gi,'<a href="store/settings/branding">$&</a>')??"")),this.neckLabels$=this.moreDetailsStore.brandingFeatures$.pipe(ie$b(i=>i?.find(n=>n.type===Oi$2.NeckLabels)));}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(E$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-branding-details"]],decls:4,vars:6,consts:[["data-testid","brandingInserts",1,"data-wrapper"],["data-testid","neckLabels",1,"data-wrapper"],["src","/assets/img/branding_insert.webp","alt","Branded inserts","width","307","height","215","loading","lazy",1,"image"],[1,"p-bold","description-title"],["data-testid","brandingInsertsDescription",1,"body-text",3,"innerHTML"],["type","inserts",1,"pricing"],["src","/assets/img/branding_neck_label.png","alt","Neck labels","width","307","height","215","loading","lazy",1,"image"],["data-testid","neckLabelsDescription",1,"body-text"],["type","neck_labels",1,"pricing"]],template:function(i,n){if(i&1&&(kI(0,Ui,7,1,"div",0),TP(1,"async"),kI(2,Ni,8,1,"div",1),TP(3,"async")),i&2){let l,c;QR((l=_P(1,2,n.description$))?0:-1,l),xR(2),QR((c=_P(3,4,n.neckLabels$))?2:-1,c);}},dependencies:[Gs$2,zd$1,dT,qS,Ae],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;row-gap:1.5rem}.data-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;gap:1rem;white-space:normal}@media (min-width: 600px){.data-wrapper[_ngcontent-%COMP%]{flex-direction:row}}.image[_ngcontent-%COMP%]{max-width:100%;height:auto}.description-title[_ngcontent-%COMP%]{margin-bottom:1rem}.pricing[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0});}}return t})();function zi(t,o){t&1&&(Kf$2(0,"div",0),ME(1,"img",1),Kf$2(2,"div")(3,"p",2),fP(4,"Gift messages"),Xf$2(),ME(5,"pfy-custom-html",3)(6,"pfa-package-insert-pricing",4),Xf$2()()),t&2&&(xR(5),lE("innerHTML",o,ER));}var ri=(()=>{class t{constructor(e){this.moreDetailsService=e,this.description$=this.moreDetailsService.brandingFeatures$.pipe(ie$b(i=>i.find(n=>n.type===Oi$2.GiftMessages)?.description.replace(/store settings/gi,'<a href="store/settings/gift-message">$&</a>')??""));}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(E$2))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-gift-messages"]],decls:2,vars:3,consts:[["data-testid","giftMessages",1,"data-wrapper"],["src","/assets/img/gift_messages.webp","alt","Gift messages","width","307","height","215","loading","lazy",1,"image"],[1,"p-bold","description-title"],["data-testid","giftMessagesDescription",1,"body-text",3,"innerHTML"],["type","gift_messages",1,"pricing"]],template:function(i,n){if(i&1&&(kI(0,zi,7,1,"div",0),TP(1,"async")),i&2){let l;QR((l=_P(1,1,n.description$))?0:-1,l);}},dependencies:[Gs$2,zd$1,dT,qS,Ae],styles:['@charset "UTF-8";.data-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;gap:1rem;white-space:normal}@media (min-width: 600px){.data-wrapper[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}}.description-title[_ngcontent-%COMP%]{margin-bottom:1rem}.image[_ngcontent-%COMP%]{max-width:100%;height:auto}.pricing[_ngcontent-%COMP%]{margin-top:1rem}'],changeDetection:0});}}return t})();function li(t,o){t.forEach(e=>{e.parentRow.isExpanded=Wi(e.parentRow,o),e.parentRow.expandIcon=Yi(e.parentRow,o);});}function ji(t,o,e){let i=[];if(e.isExpandable){let n=o.some(l=>l.country!==o[0].country);o.forEach(l=>{i.push(pi(l,t,n));});}else {let n=pi(o[0],t,false);i.push(Hi(n,e));}return i}function ai([t,o]){return t!==o}function Hi(t,o){return x$d(w$9({},t),{type:o.type,country:"",subText:o.subText})}function Ki(t,o,e){return {groupId:o,isExpandable:e,additional:t.additional,first:t.first,deliveryTimeLabel:si(t.promisedShippingTime),subText:t.method==="express"?"Available for limited variants":"",method:t.method,type:"All",expandIcon:e?"expand_more":undefined,isExpanded:false}}function pi(t,o,e){return {groupId:o,additional:[t.additional,t.additional],first:[t.first,t.first],deliveryTimeLabel:si(t.promised_shipping_time),method:t.method,type:t.type,country:e?t.country:undefined}}function si(t){let{min_business_days:o,max_business_days:e}=t;if(!o&&!e)return "-";let i=o?`${o}`:"";return e&&o!==e&&(i+=o?" - ":"",i+=`${e}`),`${i} business days`}function Wi(t,o){return t.groupId===o?.groupId}function Yi(t,o){if(t.isExpandable)return t.groupId===o?.groupId?"expand_less":"expand_more"}function ci(t){return {groupLabel:t.destinationGroupLabel,rowGroups:t.shippingProfiles.map(o=>{let e=`${t.destinationGroupLabel}-${o.method}`,i=ai(o.first)||ai(o.additional),n=Ki(o,e,i);return {parentRow:n,rows:ji(e,o.variants,n)}}),disclaimer:qi(t)}}function qi(t){return t.destinationGroupLabel==="United States"?"Shipping to Alaska, Hawaii, Puerto Rico and unincorporated territories of the United States can take additional 7 \u2013 12 business days.":null}var Xe=(t,o)=>({row:t,currency:o}),ie=t=>({$implicit:t}),xe=(t,o)=>({range:t,currency:o});function Xi(t,o){if(t&1&&TE(0,14),t&2){let e=tP().$implicit,i=tP(3);tP(2);let n=dP(6);lE("ngTemplateOutlet",n)("ngTemplateOutletContext",IP(5,ie,EP(2,Xe,e,i)));}}function Ji(t,o){if(t&1&&kI(0,Xi,1,7,"ng-container",14),t&2){let e=tP(2).$implicit;QR(e.parentRow.isExpanded?0:-1);}}function Qi(t,o){if(t&1&&(TE(0,14),JR(1,Ji,1,1,null,null,YR)),t&2){let e=tP().$implicit,i=tP();tP(2);let n=dP(4);lE("ngTemplateOutlet",n)("ngTemplateOutletContext",IP(5,ie,EP(2,Xe,e.parentRow,i))),xR(),KR(e.rows);}}function Zi(t,o){if(t&1&&TE(0,14),t&2){let e=o.$implicit,i=tP(3);tP(2);let n=dP(8);lE("ngTemplateOutlet",n)("ngTemplateOutletContext",IP(5,ie,EP(2,Xe,e,i)));}}function en$1(t,o){if(t&1&&JR(0,Zi,1,7,"ng-container",14,YR),t&2){let e=tP().$implicit;KR(e.rows);}}function tn$1(t,o){if(t&1&&(kI(0,Qi,3,7),TP(1,"async"),kI(2,en$1,2,0)),t&2){let e=tP(3);QR(_P(1,1,e.desktopMode$)?0:2);}}function nn$1(t,o){if(t&1&&JR(0,tn$1,3,3,null,null,YR),t&2){let e=tP().$implicit;KR(e.rowGroups);}}function on$1(t,o){if(t&1&&(Kf$2(0,"div")(1,"p",7),fP(2),Xf$2(),Kf$2(3,"div",8)(4,"div",9)(5,"ul",10)(6,"li",11),fP(7,"Shipping method"),Xf$2(),Kf$2(8,"li",11),fP(9,"Delivery time"),Xf$2(),Kf$2(10,"li",11),fP(11,"Sizes/Type"),Xf$2(),Kf$2(12,"li",12),fP(13,"First item"),Xf$2(),Kf$2(14,"li",12),fP(15,"Additional item"),Xf$2(),ME(16,"li",13),Xf$2(),kI(17,nn$1,2,0),TP(18,"async"),Xf$2()()()),t&2){let e,i=o.$implicit,n=tP();GI("data-testid",i.groupLabel),xR(2),ip$2(" ",i.groupLabel==="United States"?"* "+i.groupLabel:i.groupLabel," "),xR(15),QR((e=_P(18,3,n.currencyCode$))?17:-1,e);}}function rn$1(t,o){if(t&1&&(Kf$2(0,"p",18),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),WE(e.row.subText);}}function an$1(t,o){if(t&1&&(Kf$2(0,"dd",26)(1,"p",17),fP(2),Xf$2()()),t&2){let e=tP().$implicit;xR(2),WE(e.row.country);}}function pn$1(t,o){if(t&1&&ME(0,"pfy-icon",25),t&2){let e=tP().$implicit,i=tP();lE("name",e.row.expandIcon)("type",i.iconType.Outlined);}}function ln$1(t,o){if(t&1){let e=XR();Kf$2(0,"dl",15),VE("click",function(){let n=nR(e).$implicit,l=tP();return rR(n.row.isExpandable&&l.handleRowClick(n.row))}),Kf$2(1,"div",13)(2,"dd",16)(3,"p",17),fP(4),Xf$2(),kI(5,rn$1,2,1,"p",18),Xf$2()(),kI(6,an$1,3,1,"ng-template",null,4,OP),Kf$2(8,"div",13)(9,"dd",19),fP(10),Xf$2()(),Kf$2(11,"div",13)(12,"dd",20),fP(13),Xf$2()(),Kf$2(14,"div",21)(15,"dd",22),TE(16,14),Xf$2()(),Kf$2(17,"div",21)(18,"dd",23),TE(19,14),Xf$2()(),Kf$2(20,"div",13)(21,"dt",24),kI(22,pn$1,1,2,"pfy-icon",25),Xf$2()()();}if(t&2){let e=o.$implicit;tP();let i=dP(10);dE("row-parent-expandable",e.row.isExpandable)("row-parent-expanded",e.row.isExpanded),GI("data-testid","parent-row-"+e.row.method),xR(4),WE(e.row.method),xR(),QR(e.row.subText?5:-1),xR(5),WE(e.row.deliveryTimeLabel),xR(3),WE(e.row.type),xR(3),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(17,ie,EP(14,xe,e.row.first,e.currency))),xR(3),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(22,ie,EP(19,xe,e.row.additional,e.currency))),xR(3),QR(e.row.expandIcon?22:-1);}}function sn$1(t,o){if(t&1&&(Kf$2(0,"dl",27)(1,"div",28)(2,"dd",26)(3,"p",17),fP(4),Xf$2()()(),Kf$2(5,"div",13)(6,"dd",19),fP(7),Xf$2()(),Kf$2(8,"div",13)(9,"dd",20),fP(10),Xf$2()(),Kf$2(11,"div",21)(12,"dd",22),TE(13,14),Xf$2()(),Kf$2(14,"div",21)(15,"dd",23),TE(16,14),Xf$2()(),ME(17,"div",13),Xf$2()),t&2){let e=o.$implicit;tP();let i=dP(10);GI("data-testid","row-"+e.row.method),xR(4),WE(e.row.country),xR(3),WE(e.row.deliveryTimeLabel),xR(3),WE(e.row.type),xR(3),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(11,ie,EP(8,xe,e.row.first,e.currency))),xR(3),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(16,ie,EP(13,xe,e.row.additional,e.currency)));}}function cn$1(t,o){if(t&1&&(Kf$2(0,"p",18),fP(1),Xf$2()),t&2){let e=tP().$implicit;xR(),WE(e.row.subText);}}function dn$1(t,o){if(t&1&&(Kf$2(0,"div",28)(1,"dt",30),fP(2,"Country"),Xf$2(),Kf$2(3,"dd",26)(4,"p",17),fP(5),Xf$2()()()),t&2){let e=tP().$implicit;xR(5),WE(e.row.country);}}function mn(t,o){if(t&1&&(Kf$2(0,"dl",29)(1,"div",13)(2,"dt",30),fP(3,"Shipping method"),Xf$2(),Kf$2(4,"dd",16)(5,"p",17),fP(6),Xf$2(),kI(7,cn$1,2,1,"p",18),Xf$2()(),kI(8,dn$1,6,1,"div",28),Kf$2(9,"div",13)(10,"dt",30),fP(11,"Delivery time"),Xf$2(),Kf$2(12,"dd",19),fP(13),Xf$2()(),Kf$2(14,"div",13)(15,"dt",30),fP(16,"Sizes/Type"),Xf$2(),Kf$2(17,"dd",20),fP(18),Xf$2()(),Kf$2(19,"div",13)(20,"dt",30),fP(21,"First item"),Xf$2(),Kf$2(22,"dd",22),TE(23,14),Xf$2()(),Kf$2(24,"div",13)(25,"dt",30),fP(26,"Additional item"),Xf$2(),Kf$2(27,"dd",23),TE(28,14),Xf$2()()()),t&2){let e=o.$implicit;tP();let i=dP(10);GI("data-testid","mobile-group-"+e.row.method),xR(6),WE(e.row.method),xR(),QR(e.row.subText?7:-1),xR(),QR(e.row.country?8:-1),xR(5),WE(e.row.deliveryTimeLabel),xR(5),WE(e.row.type),xR(5),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(13,ie,EP(10,xe,e.row.first,e.currency))),xR(5),lE("ngTemplateOutlet",i)("ngTemplateOutletContext",IP(18,ie,EP(15,xe,e.row.additional,e.currency)));}}function un(t,o){if(t&1&&(fP(0),TP(1,"price")),t&2){let e=tP().$implicit,i=tP();ip$2(" ",NP(1,1,e.range[i.shippingPriceRange.MAX],e.currency)," ");}}function fn(t,o){}function gn(t,o){if(t&1&&kI(0,fn,0,0,"ng-template",31),t&2){tP();let e=dP(3);lE("ngTemplateOutlet",e);}}function hn(t,o){if(t&1&&(fP(0),TP(1,"price"),TP(2,"price")),t&2){let e=tP().$implicit,i=tP();zE(" ",NP(1,2,e.range[i.shippingPriceRange.MIN],e.currency)," - ",SP(2,5,e.range[i.shippingPriceRange.MAX],undefined,"")," ");}}function bn$1(t,o){if(t&1&&kI(0,un,2,4)(1,gn,1,1,null,31)(2,hn,3,9,"ng-template",null,5,OP),t&2){let e=o.$implicit,i=tP();QR(e.range[i.shippingPriceRange.MIN]===e.range[i.shippingPriceRange.MAX]?0:1);}}function _n$1(t,o){if(t&1&&(Kf$2(0,"p",32),fP(1),Xf$2()),t&2){let e=tP().$implicit;GI("data-testid","disclaimer-"+e.groupLabel),xR(),ip$2(" * ",e.disclaimer," ");}}function Cn$1(t,o){if(t&1&&kI(0,_n$1,2,2,"p",32),t&2){let e=o.$implicit;QR(e.disclaimer?0:-1);}}var Ue=(()=>{class t{constructor(){this.shippingGroups=[],this.viewportService=N$8(nn$6),this.currencyCodeProvider=N$8(Vo$3),this.desktopMode$=this.viewportService.match(gt$7.ML),this.currencyCode$=this.currencyCodeProvider.currencyCode$,this.shippingPriceRange=de,this.iconType=cs$2,this.firstDestination="United States",this.lastDestination="Rest of World",this.expandedRowChanges=new yn$7(null),this.shippingGroupsSubject=new yn$7([]),this.tableShippingGroupsUpdated$=Hp$2([this.shippingGroupsSubject.asObservable(),this.expandedRowChanges]).pipe(ie$b(([e,i])=>e.map(n=>(li(n.rowGroups,i),n))));}ngOnChanges(e){if(e.shippingGroups&&e.shippingGroups.currentValue){let i=this.shippingGroups.map(n=>ci(n));this.shippingGroupsSubject.next(this.sortRowGroups(i));}}handleRowClick(e){this.expandedRowChanges.next(e.groupId===this.expandedRowChanges.value?.groupId?null:e);}sortRowGroups(e){return e.sort((i,n)=>i.groupLabel===this.firstDestination||n.groupLabel===this.lastDestination?-1:n.groupLabel===this.firstDestination||i.groupLabel===this.lastDestination?1:0)}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-shipping-groups-table"]],inputs:{shippingGroups:"shippingGroups"},features:[gP([Eu$2]),tR],decls:15,vars:4,consts:[["parentRowTemplateGlobal",""],["rowTemplateGlobal",""],["rowTemplateMobileGlobal",""],["priceLabelGlobal",""],["countryGlobal",""],["rangeGlobal",""],["data-testid","disclaimers",1,"shipping-disclaimers"],[1,"capitalize","p-bold"],[1,"shipping-wrapper"],[1,"shipping"],["data-testid","shippingTableHeader",1,"columns","header"],[1,"cell","header-text"],[1,"cell","header-text","number-cell"],[1,"cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"group","row-parent",3,"click"],["data-testid","shippingMethod",1,"cell-flex-content"],[1,"capitalize"],[1,"cell-sub-text"],["data-testid","deliveryTime"],["data-testid","sizesType"],[1,"cell","number-cell"],["data-testid","firstItem"],["data-testid","additionalItem"],[1,"expand-icon-wrapper"],[3,"name","type"],[1,"cell-flex-content"],[1,"group","row-child"],["data-testid","shippingCountry",1,"cell"],[1,"group"],[1,"small-text","header-text"],[3,"ngTemplateOutlet"],[1,"shipping-disclaimer"]],template:function(i,n){i&1&&(JR(0,on$1,19,5,"div",null,YR),TP(2,"async"),kI(3,ln$1,23,24,"ng-template",null,0,OP)(5,sn$1,18,18,"ng-template",null,1,OP)(7,mn,29,20,"ng-template",null,2,OP)(9,bn$1,4,1,"ng-template",null,3,OP),Kf$2(11,"aside",6),JR(12,Cn$1,1,1,null,null,YR),TP(14,"async"),Xf$2()),i&2&&(KR(_P(2,0,n.tableShippingGroupsUpdated$)),xR(12),KR(_P(14,2,n.tableShippingGroupsUpdated$)));},dependencies:[Gs$2,$d$2,zd$1,dT,Eu$2,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;row-gap:1rem}@media (min-width: 840px){[_nghost-%COMP%]{row-gap:1.5rem}}.shipping-title[_ngcontent-%COMP%]{margin-bottom:1rem}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.header[_ngcontent-%COMP%]{display:none}.cell-flex-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.cell-sub-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;color:#64634a;font-weight:400}.group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem .5rem;justify-items:flex-start;padding:1rem;border:1px solid #e0e0d7}.group[_ngcontent-%COMP%] + .group[_ngcontent-%COMP%]{margin-top:1rem}.header-text[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;color:#64634a;margin-bottom:.25rem}@media (min-width: 840px){.shipping-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid #e0e0d7}.shipping-title[_ngcontent-%COMP%]{margin-bottom:1.5rem}.shipping[_ngcontent-%COMP%]{display:table;width:100%;border-collapse:collapse}.group[_ngcontent-%COMP%]{border:none;margin:0}.header[_ngcontent-%COMP%]{display:table-row}.header[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding:.75rem 1rem;white-space:nowrap}.header-text[_ngcontent-%COMP%]{color:#2f2e0c;font-weight:700;margin:0}.row-parent[_ngcontent-%COMP%]{display:table-row;border-top:1px solid #e0e0d7}.row-parent-expandable[_ngcontent-%COMP%]{cursor:pointer}.row-child[_ngcontent-%COMP%]{display:table-row;background-color:#f5f5f0;font-size:.875rem;line-height:1.25rem}.row-child[_ngcontent-%COMP%] + .row-child[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{padding-top:0}.cell[_ngcontent-%COMP%]{display:table-cell;padding:1rem;vertical-align:middle}.cell[_ngcontent-%COMP%]:has(.cell-sub-text){padding:0 1rem}.number-cell[_ngcontent-%COMP%]{text-align:right}.cell-flex-content[_ngcontent-%COMP%]{height:100%}.expand-icon-wrapper[_ngcontent-%COMP%]{max-height:24px;display:flex;justify-content:flex-end}}.shipping-disclaimer[_ngcontent-%COMP%]:first-of-type{padding-top:1.5rem}.shipping-disclaimer[_ngcontent-%COMP%] + .shipping-disclaimer[_ngcontent-%COMP%]{padding-top:.5rem}'],changeDetection:0});}}return t})();var di=(()=>{class t{constructor(){this.moreDetailsStore=N$8(E$2),this.tableGlobalShippingGroups$=this.moreDetailsStore.globalShippingGroups$,this.tableShippingGroups$=this.moreDetailsStore.shippingGroups$;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-global-shipping-groups"]],decls:14,vars:6,consts:[[1,"shipping-group"],[1,"title"],[1,"desc"],[3,"shippingGroups"]],template:function(i,n){i&1&&(Kf$2(0,"div",0)(1,"h6",1),fP(2,"Global Shipping"),Xf$2(),Kf$2(3,"p",2),fP(4,"Global shipping is only available when using global variants"),Xf$2(),ME(5,"pfa-shipping-groups-table",3),TP(6,"async"),Xf$2(),Kf$2(7,"div",0)(8,"h6",1),fP(9,"USA Shipping"),Xf$2(),Kf$2(10,"p",2),fP(11," US shipping will apply if one (or more) variants selected are not eligible for Global Fulfillment "),Xf$2(),ME(12,"pfa-shipping-groups-table",3),TP(13,"async"),Xf$2()),i&2&&(xR(5),lE("shippingGroups",_P(6,2,n.tableGlobalShippingGroups$)),xR(7),lE("shippingGroups",_P(13,4,n.tableShippingGroups$)));},dependencies:[Gs$2,zd$1,dT,Ue],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;max-height:inherit;flex-direction:column;flex:1;overflow-y:auto}.title[_ngcontent-%COMP%]{display:block;width:100%;background:#fff;position:sticky;top:0;margin-bottom:.75rem;padding-bottom:.25rem;border-bottom:1px solid #e0e0d7}.title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;width:100%;outline:1px solid #ffffff}.desc[_ngcontent-%COMP%]{margin-bottom:1.5rem}.shipping-group[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0d7;padding-bottom:1rem}.shipping-group[_ngcontent-%COMP%]:first-of-type{margin-bottom:2rem}'],changeDetection:0});}}return t})();var mi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-printify-choice-tab"]],decls:4,vars:0,consts:[[1,"title"]],template:function(i,n){i&1&&(Kf$2(0,"h5",0),fP(1,"Get our best quality and delivery times with Printify Choice"),Xf$2(),Kf$2(2,"p"),fP(3,` With Printify Choice, we make sure your orders are only printed by our top print providers and automatically send your order to the closest available fulfillment center. The result is you get to rest easy knowing your customer is getting a top-quality product in the quickest time possible.
`),Xf$2());},styles:['@charset "UTF-8";.title[_ngcontent-%COMP%]{margin-bottom:1rem}'],changeDetection:0});}}return t})();var fi=D$a(Kc$2());var yn$1=(t,o)=>o.type;function vn$1(t,o){t&1&&(Kf$2(0,"p",4),fP(1,"Group by:"),Xf$2());}function xn$1(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-button",7),VE("buttonClick",function(){let n=nR(e).$implicit,l=tP(3);return rR(l.handleGroupSwitch(n.type))}),fP(1),TP(2,"titlecase"),Xf$2();}if(t&2){let e=o.$implicit;lE("pfyButtonGroupItem",e.type),xR(),ip$2(" ",_P(2,2,e.type)," ");}}function Sn$1(t,o){if(t&1&&(Kf$2(0,"div",1),kI(1,vn$1,2,0,"p",4),Kf$2(2,"pfy-button-group",5),JR(3,xn$1,3,4,"pfy-button",6,yn$1),TP(5,"async"),Xf$2()()),t&2){let e=tP(),i=tP();xR(),QR(i.showGroupByLabel?1:-1),xR(),lE("highlightActive",true)("activeButton",e)("asRow",true)("size",i.buttonSize.Medium),xR(),KR(_P(5,5,i.sortedOptions$));}}function Pn$1(t,o){t&1&&(Kf$2(0,"div",2),ME(1,"pfy-loader-circular"),Xf$2());}function Tn$1(t,o){if(t&1&&(ME(0,"pfy-variants-table",3),TP(1,"async"),TP(2,"async"),TP(3,"async")),t&2){let e=tP(),i=tP();lE("excludingVat",true)("readOnly",true)("isUserSubscribed",_P(1,7,i.isUserSubscribed$))("showAvailablePrintProviders",_P(2,9,i.showAvailablePrintProviders$))("selectedOptionType",e)("variantRawData",_P(3,11,i.variantRawData$))("showPremiumPrices",true);}}function wn$1(t,o){if(t&1&&(Kf$2(0,"div",0),kI(1,Sn$1,6,7,"div",1),TP(2,"async"),kI(3,Pn$1,2,0,"div",2),TP(4,"async"),kI(5,Tn$1,4,13,"pfy-variants-table",3),Xf$2()),t&2){let e,i=tP();xR(),QR(((e=_P(2,2,i.sortedOptions$))==null?null:e.length)>1?1:-1),xR(2),QR(_P(4,4,i.loadingVariants$)?3:5);}}var ui=(()=>{class t{set selectedOptionType(e){this.selectedOptionType$.next(e);}set variantRawData(e){this.variantRawData$.next(e);}set blueprintId(e){this.blueprintIdSubject.next(e);}constructor(e,i,n,l){this.moreDetailsStore=e,this.userSubscriptionService=i,this.printifyChoiceFeatureFlagsService=n,this.changeDetectorRef=l,this.showGroupByLabel=true,this.optionTypeSelected=new Xe$5,this.selectedOptionType$=new In$7,this.variantRawData$=new In$7,this.blueprintIdSubject=new In$7(1),this.blueprintId$=this.blueprintIdSubject.asObservable(),this.printProvider$=this.moreDetailsStore.printProvider$,this.sortedOptions$=this.moreDetailsStore.sortedOptions$,this.isUserSubscribed$=this.userSubscriptionService.isSubscribed$,this.buttonSize=lt$7,this.loadingVariants$=Hp$2([this.printProvider$,this.variantRawData$]).pipe(ie$b(([c,C])=>!c||!C?.variants.length)),this.showAvailablePrintProviders$=Hp$2([this.printProvider$,this.blueprintId$]).pipe(Ac$3(([c,C])=>C?this.printifyChoiceFeatureFlagsService.isBlueprintEligibleForPrintifyChoice$(C,[c]):hi$7(false)),ie$b(c=>!c));}ngAfterViewInit(){this.changeDetectorRef.detectChanges();}handleGroupSwitch(e){this.optionTypeSelected.emit(e);}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(E$2),Yo$4(BP),Yo$4(Le),Yo$4(bw$1))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-product-variants"]],inputs:{showGroupByLabel:"showGroupByLabel",selectedOptionType:"selectedOptionType",variantRawData:"variantRawData",blueprintId:"blueprintId"},outputs:{optionTypeSelected:"optionTypeSelected"},features:[gP([Le])],decls:2,vars:3,consts:[[1,"data-wrapper"],[1,"variant-controls"],["data-testid","variantsLoader",1,"loader-wrapper"],["data-testid","variantsTable","costTooltipText","Product and production cost for 1 print area excluding tax.",3,"excludingVat","readOnly","isUserSubscribed","showAvailablePrintProviders","selectedOptionType","variantRawData","showPremiumPrices"],["data-testId","groupBy",1,"group-label","small-text"],["data-testid","buttonGroup",1,"button-group",3,"highlightActive","activeButton","asRow","size"],["type","secondary",3,"pfyButtonGroupItem"],["type","secondary",3,"buttonClick","pfyButtonGroupItem"]],template:function(i,n){if(i&1&&(kI(0,wn$1,6,6,"div",0),TP(1,"async")),i&2){let l;QR((l=_P(1,1,n.selectedOptionType$))?0:-1,l);}},dependencies:[Gs$2,zd$1,Gd$1,dT,We$8,OS,$w,du$2,MO],styles:['@charset "UTF-8";.data-wrapper[_ngcontent-%COMP%]{white-space:normal}.variant-controls[_ngcontent-%COMP%]{max-width:100%;margin-bottom:1rem}@media (min-width: 840px){.variant-controls[_ngcontent-%COMP%]{margin-bottom:1.5rem;max-width:max-content}}.group-label[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}@media (min-width: 840px){.group-label[_ngcontent-%COMP%]{width:unset}}.loader-wrapper[_ngcontent-%COMP%]{position:relative;height:100px}'],changeDetection:0});}}return t})();function Mn$1(t,o){if(t&1){let e=XR();Kf$2(0,"div",1)(1,"h6",2),fP(2,"Global Variants"),Xf$2(),Kf$2(3,"p",3),fP(4," Choosing global variants can save on delivery time and shipping costs by allowing fulfillment through local providers. "),Xf$2(),Kf$2(5,"pfa-product-variants",4),TP(6,"async"),TP(7,"async"),VE("optionTypeSelected",function(n){nR(e);let l=tP();return rR(l.selectGlobalOptionType(n))}),Xf$2()(),Kf$2(8,"div",1)(9,"h6",2),fP(10,"US Variants"),Xf$2(),Kf$2(11,"p",3),fP(12," Not all US variants can be fulfilled globally. Choosing US variants may impact shipping times and prices for buyers outside the US. "),Xf$2(),Kf$2(13,"pfa-product-variants",5),TP(14,"async"),TP(15,"async"),VE("optionTypeSelected",function(n){nR(e);let l=tP();return rR(l.selectOptionType(n))}),Xf$2()();}if(t&2){let e=tP();xR(5),lE("showGroupByLabel",false)("blueprintId",e.blueprintId)("selectedOptionType",_P(6,8,e.selectedGlobalOptionType$))("variantRawData",_P(7,10,e.globalVariantRawData$)),xR(8),lE("showGroupByLabel",false)("blueprintId",e.blueprintId)("selectedOptionType",_P(14,12,e.selectedOptionType$))("variantRawData",_P(15,14,e.variantsRawData$));}}function Dn(t,o){if(t&1){let e=XR();Kf$2(0,"pfa-product-variants",6),TP(1,"async"),TP(2,"async"),VE("optionTypeSelected",function(n){nR(e);let l=tP();return rR(l.selectOptionType(n))}),Xf$2();}if(t&2){let e=tP();lE("blueprintId",e.blueprintId)("selectedOptionType",_P(1,3,e.selectedOptionType$))("variantRawData",_P(2,5,e.variantsRawData$));}}var gi=(()=>{class t{constructor(){this.moreDetailsStore=N$8(E$2),this.internationalPrintifyChoiceService=N$8(Re),this.printProvider$=this.moreDetailsStore.printProvider$,this.variantsRawData$=this.moreDetailsStore.variantRawData$,this.selectedOptionType$=this.moreDetailsStore.selectedOptionType$,this.globalVariantRawData$=this.moreDetailsStore.globalVariantRawData$,this.selectedGlobalOptionType$=this.moreDetailsStore.selectedGlobalOptionType$,this.isOptimisedForInternationalFulfillment$=this.printProvider$.pipe(Ac$3(e=>this.internationalPrintifyChoiceService.isOptimisedForInternationalFulfillment(e)));}ngOnInit(){(0, fi.assert)(!isNaN(this.blueprintId),'Blueprint ID should be defined in "MoreDetailsComponent"');}selectOptionType(e){this.moreDetailsStore.selectOptionType(e);}selectGlobalOptionType(e){this.moreDetailsStore.selectGlobalOptionType(e);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-product-variants-wrapper"]],inputs:{blueprintId:"blueprintId"},decls:3,vars:3,consts:[["data-testid","productVariants",3,"blueprintId","selectedOptionType","variantRawData"],[1,"product-variants-group"],[1,"title"],[1,"desc"],["data-testid","globalProductVariants",3,"optionTypeSelected","showGroupByLabel","blueprintId","selectedOptionType","variantRawData"],["data-testid","usProductVariants",3,"optionTypeSelected","showGroupByLabel","blueprintId","selectedOptionType","variantRawData"],["data-testid","productVariants",3,"optionTypeSelected","blueprintId","selectedOptionType","variantRawData"]],template:function(i,n){i&1&&(kI(0,Mn$1,16,16),TP(1,"async"),kI(2,Dn,3,7,"pfa-product-variants",0)),i&2&&QR(_P(1,1,n.isOptimisedForInternationalFulfillment$)?0:2);},dependencies:[Gs$2,zd$1,ui],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;max-height:inherit;flex-direction:column;flex:1;overflow-y:auto}.title[_ngcontent-%COMP%]{display:block;width:100%;background:#fff;position:sticky;top:0;margin-bottom:.75rem;padding-bottom:.25rem;border-bottom:1px solid #e0e0d7;z-index:40}.title[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;width:100%;outline:1px solid #ffffff}.desc[_ngcontent-%COMP%]{margin-bottom:1.5rem}.product-variants-group[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0d7;padding-bottom:1rem}.product-variants-group[_ngcontent-%COMP%]:first-of-type{margin-bottom:2rem}'],changeDetection:0});}}return t})();var $n=(t,o)=>o.type;function In$1(t,o){t&1&&fP(0," Technology & Inks ");}function On(t,o){t&1&&fP(0," Quality control ");}function En$1(t,o){t&1&&fP(0," Packaging control ");}function Fn(t,o){if(t&1&&(ME(0,"img",4),TP(1,"ImageUrl")),t&2){let e=o.$implicit;lE("src",NP(1,1,e,"?s=240"),sy$2);}}function Gn(t,o){if(t&1&&(Kf$2(0,"div",3),JR(1,Fn,2,4,"img",4,YR),Xf$2()),t&2){let e=tP().$implicit;xR(),KR(e.images);}}function Rn(t,o){if(t&1&&(Kf$2(0,"div",0)(1,"p",1),kI(2,In$1,1,0)(3,On,1,0)(4,En$1,1,0),Xf$2(),Kf$2(5,"p",2),fP(6),Xf$2(),kI(7,Gn,3,0,"div",3),Xf$2()),t&2){let e,i=o.$implicit,n=tP();GI("data-testid",i.type),xR(2),QR((e=i.type)===n.productionType.Technology?2:e===n.productionType.QualityControl?3:e===n.productionType.Packaging?4:-1),xR(4),WE(i.description),xR(),QR(i.images.length?7:-1);}}var hi=(()=>{class t{constructor(){this.moreDetailsStore=N$8(E$2),this.productionType=Ti$5,this.production$=this.moreDetailsStore.production$;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-production-details"]],decls:3,vars:2,consts:[[1,"data-wrapper"],[1,"body-text--bold","subtitle"],[1,"body-text"],[1,"images"],["data-testid","productionImage",1,"packaging-image",3,"src"]],template:function(i,n){i&1&&(JR(0,Rn,8,4,"div",0,$n),TP(2,"async")),i&2&&KR(_P(2,0,n.production$));},dependencies:[Gs$2,zd$1,mt$3],styles:['@charset "UTF-8";.data-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem;white-space:normal}.data-wrapper[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.subtitle[_ngcontent-%COMP%]{margin-bottom:1rem;font-weight:700}.images[_ngcontent-%COMP%]{justify-content:center;display:flex;flex-direction:row;flex-wrap:wrap;margin-top:1rem;gap:1rem}@media (min-width: 600px){.images[_ngcontent-%COMP%]{justify-content:flex-start}}.packaging-image[_ngcontent-%COMP%]{display:inline-flex}@media (min-width: 600px){.packaging-image[_ngcontent-%COMP%]{height:240px}}'],changeDetection:0});}}return t})();var bi$1=(()=>{class t{constructor(){this.moreDetailsStore=N$8(E$2),this.shippingGroups$=this.moreDetailsStore.shippingGroups$;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-shipping-groups"]],features:[gP([Eu$2])],decls:2,vars:3,consts:[[3,"shippingGroups"]],template:function(i,n){i&1&&(ME(0,"pfa-shipping-groups-table",0),TP(1,"async")),i&2&&lE("shippingGroups",_P(1,1,n.shippingGroups$));},dependencies:[Gs$2,zd$1,dT,Ue],encapsulation:2,changeDetection:0});}}return t})();function Bn(t,o){t&1&&(Kf$2(0,"pfy-tab",1),ME(1,"pfa-printify-choice-tab"),Xf$2());}function Vn(t,o){if(t&1&&(Kf$2(0,"pfy-tab",2),ME(1,"pfa-product-variants-wrapper",6),Xf$2()),t&2){let e=tP(2);xR(),lE("blueprintId",e.blueprintId);}}function kn$1(t,o){t&1&&(Kf$2(0,"pfy-tab",7),ME(1,"pfa-global-shipping-groups"),Xf$2());}function Ln(t,o){t&1&&(Kf$2(0,"pfy-tab",8),ME(1,"pfa-shipping-groups"),Xf$2());}function An$1(t,o){if(t&1&&(kI(0,kn$1,2,0,"pfy-tab",7),TP(1,"async"),kI(2,Ln,2,0,"pfy-tab",8)),t&2){let e=tP(2);QR(_P(1,1,e.isInternationalPrintifyChoiceEnabled$)?0:2);}}function Un(t,o){t&1&&(Kf$2(0,"pfy-tab",3),ME(1,"pfa-production-details"),Xf$2());}function Nn(t,o){t&1&&(Kf$2(0,"pfy-tab",4),ME(1,"pfa-branding-details"),Xf$2());}function zn(t,o){t&1&&(Kf$2(0,"pfy-tab",5),ME(1,"pfa-gift-messages"),Xf$2());}function jn(t,o){if(t&1&&(Kf$2(0,"pfy-tabs"),kI(1,Bn,2,0,"pfy-tab",1)(2,Vn,2,1,"pfy-tab",2),TP(3,"async"),kI(4,An$1,3,3),TP(5,"async"),kI(6,Un,2,0,"pfy-tab",3),TP(7,"async"),kI(8,Nn,2,0,"pfy-tab",4),TP(9,"async"),kI(10,zn,2,0,"pfy-tab",5),TP(11,"async"),Xf$2()),t&2){let e,i,n=tP();xR(),QR(n.isPrintifyChoiceTabEnabled?1:-1),xR(),QR(_P(3,6,n.pricingPrintArea$)?2:-1),xR(2),QR((e=_P(5,8,n.shippingGroups$))!=null&&e.length?4:-1),xR(2),QR((i=_P(7,10,n.production$))!=null&&i.length?6:-1),xR(2),QR(_P(9,12,n.brandingTabVisible$)?8:-1),xR(2),QR(_P(11,14,n.giftMessagesTabVisible$)?10:-1);}}function Hn(t,o){t&1&&ME(0,"pfy-loader-circular",0);}var _i$1=(()=>{class t{constructor(){this.moreDetailsStore=N$8(E$2),this.internationalPrintifyChoiceService=N$8(Re),this.pricingPrintArea="",this.printProvider=new Xe$5,this.isPrintifyChoiceTabEnabled=false,this.printProvider$=this.moreDetailsStore.printProvider$,this.pricingPrintArea$=this.moreDetailsStore.pricingPrintArea$,this.production$=this.moreDetailsStore.production$,this.shippingGroups$=this.moreDetailsStore.shippingGroups$,this.brandingFeatures$=this.moreDetailsStore.brandingFeatures$,this.brandingTabVisible$=this.brandingFeatures$.pipe(ie$b(e=>this.hasBrandedInserts(e)||this.hasNeckLabels(e)),Dr$5()),this.giftMessagesTabVisible$=this.brandingFeatures$.pipe(ie$b(e=>this.hasGiftMessages(e)),Dr$5()),this.isInternationalPrintifyChoiceEnabled$=this.printProvider$.pipe(Ac$3(e=>this.internationalPrintifyChoiceService.isOptimisedForInternationalFulfillment(e))),this.printProvider$.pipe(mt$8(1)).subscribe(e=>this.printProvider.emit(e));}ngOnInit(){this.moreDetailsStore.initialise({blueprintId:this.blueprintId,printProviderId:this.printProviderId,pricingPrintArea:this.pricingPrintArea,decorationMethod:this.decorationMethod}),this.setTabVisibility();}setTabVisibility(){return E$e(this,null,function*(){this.isPrintifyChoiceTabEnabled=this.printProviderId===me$2;})}hasBrandedInserts(e){return Je(e,[Oi$2.Inserts])}hasNeckLabels(e){return Je(e,[Oi$2.NeckLabels])}hasGiftMessages(e){return Je(e,[Oi$2.GiftMessages])}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-more-details"]],inputs:{pricingPrintArea:"pricingPrintArea",blueprintId:"blueprintId",printProviderId:"printProviderId",decorationMethod:"decorationMethod"},outputs:{printProvider:"printProvider"},features:[gP([E$2])],decls:3,vars:3,consts:[["data-testid","loadingSpinner"],["label","How it works","data-testid","printifyChoice",1,"tab"],["label","Product variants","data-testid","productVariants",1,"tab"],["label","Production","data-testid","production",1,"tab"],["label","Branding","data-testid","branding",1,"tab"],["label","Gift messages","data-testid","giftMessages",1,"tab"],[3,"blueprintId"],["label","Shipping","data-testid","globalShipping",1,"tab"],["label","Shipping","data-testid","shipping",1,"tab"]],template:function(i,n){i&1&&(kI(0,jn,12,16,"pfy-tabs"),TP(1,"async"),kI(2,Hn,1,0,"pfy-loader-circular",0)),i&2&&QR(_P(1,1,n.printProvider$)?0:2);},dependencies:[Gs$2,zd$1,dT,du$2,jx,sT,mi,gi,bi$1,di,hi,oi,ri],styles:['@charset "UTF-8";.tab[_ngcontent-%COMP%]{max-height:80vh;display:block;margin-top:1rem;overflow-y:auto}@media (min-width: 960px){.tab[_ngcontent-%COMP%]{margin-top:1.5rem}}@media (min-width: 600px){.tab[_ngcontent-%COMP%]{max-height:60vh}}'],changeDetection:0});}}return t})();function Je(t,o){return t?t.some(e=>o.includes(e.type)):false}var Qe=D$a(Kc$2());var Kn=(()=>{class t{constructor(){this.pricingPrintArea="",this.title=new yn$7(""),this.title$=this.title.asObservable();}ngOnInit(){this.setData();}setModalTitle(e){this.title.next(e.id===me$2?"Printify Choice Provider Network":`Printed by ${e.name}`);}setData(){(0, Qe.assert)(!isNaN(this.blueprintId),'Blueprint ID should be defined in "MoreDetailsModalComponent"'),(0, Qe.assert)(!isNaN(this.printProviderId),'Print provider ID should be defined in "MoreDetailsModalComponent"');}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-more-details-modal"]],inputs:{pricingPrintArea:"pricingPrintArea",blueprintId:"blueprintId",printProviderId:"printProviderId",decorationMethod:"decorationMethod"},decls:7,vars:7,consts:[["data-testid","moreDetailsModalTitle"],["data-testid","moreDetailsComponent",3,"printProvider","blueprintId","printProviderId","decorationMethod","pricingPrintArea"]],template:function(i,n){i&1&&(Kf$2(0,"pfy-modal-dialog")(1,"pfy-modal-dialog-header")(2,"h5",0),fP(3),TP(4,"async"),Xf$2()(),Kf$2(5,"pfy-modal-dialog-content")(6,"pfa-more-details",1),VE("printProvider",function(c){return n.setModalTitle(c)}),Xf$2()()()),i&2&&(xR(3),WE(_P(4,5,n.title$)),xR(3),lE("blueprintId",n.blueprintId)("printProviderId",n.printProviderId)("decorationMethod",n.decorationMethod)("pricingPrintArea",n.pricingPrintArea));},dependencies:[Gs$2,zd$1,dT,Fo$1,bs$2,Nu$1,_i$1],encapsulation:2,changeDetection:0});}}return t})();function Wn(t,o){if(t&1&&(Kf$2(0,"tr",13)(1,"td",8),ME(2,"pfa-country-flag",14),fP(3),Xf$2(),Kf$2(4,"td",8),fP(5),TP(6,"price"),Xf$2(),Kf$2(7,"td",8)(8,"strong",2),fP(9),TP(10,"price"),Xf$2()()()),t&2){let e=o.$implicit;xR(2),lE("country",e.flag),xR(),ip$2(" ",e.region," "),xR(2),ip$2(" From ",_P(6,4,e.shippingRate.local.first)," "),xR(4),ip$2(" From ",_P(10,6,e.shippingRate.global.first)," ");}}function Yn(t,o){t&1&&JR(0,Wn,11,8,"tr",13,YR),t&2&&KR(o);}function qn(t,o){if(t&1&&(Kf$2(0,"tr",13)(1,"td",8),ME(2,"pfa-country-flag",14),fP(3),Xf$2(),Kf$2(4,"td",8),fP(5),Xf$2(),Kf$2(6,"td",8)(7,"strong",2),fP(8),Xf$2()()()),t&2){let e=o.$implicit;xR(2),lE("country",e.flag),xR(),ip$2(" ",e.region," "),xR(2),zE(" From ",e.promisedShippingTime.local.min_business_days," to ",e.promisedShippingTime.local.max_business_days," bus. days "),xR(3),zE(" From ",e.promisedShippingTime.global.min_business_days," to ",e.promisedShippingTime.global.max_business_days," bus. days ");}}function Xn(t,o){t&1&&JR(0,qn,9,6,"tr",13,YR),t&2&&KR(o);}var Ci$1=function(t){return t.ShippingCosts="shippingCosts",t.DeliveryEstimates="deliveryEstimates",t}(Ci$1||{}),yi=(()=>{class t{constructor(){this.blueprintService=N$8(ge),this.currencyCodeProvider=N$8(Vo$3),this.blueprintId=cR.required(),this.showEligibleVariants=new Xe$5,this.activeTab=Ci$1.ShippingCosts,this.blueprintId$=Lr$3(this.blueprintId),this.regionalShippingCosts$=this.blueprintId$.pipe(Rc$2(this.currencyCodeProvider.currencyCode$),Ac$3(([e,i])=>this.blueprintService.getPrintProviderRegionalShipping({blueprintId:e,currencyCode:i,printProviderId:me$2}).pipe(ie$b(n=>n.map(l=>x$d(w$9({},l),{flag:this.fulfilmentRegionsFlagsMap[l.region]||""}))))),_c$3({refCount:true,bufferSize:1})),this.fulfilmentRegionsFlagsMap={US:"us",UK:"uk",AU:"au",EU:"european_union",CA:"ca"};}switchTab(e){this.activeTab=e;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-global-fullfilment-costs"]],inputs:{blueprintId:[1,"blueprintId"]},outputs:{showEligibleVariants:"showEligibleVariants"},decls:45,vars:8,consts:[[1,"header"],[1,"list"],[1,"bold"],[3,"activeTabChange"],["tabId","shippingCosts","label","Shipping Costs",3,"active"],[1,"shipping-costs-wrapper"],[1,"table"],[1,"thead"],[1,"cell"],[1,"tbody"],["tabId","deliveryEstimates","label","Delivery Estimates",3,"active"],[1,"delivery-estimates-wrapper"],["primaryAction","See eligible variants",3,"primaryActionConfirm"],[1,"row"],["data-testId","flag",1,"flag",3,"country"]],template:function(i,n){if(i&1&&(Kf$2(0,"article")(1,"header",0)(2,"p"),fP(3,"Global Fulfillment is available for providers listed in the regions below."),Xf$2()(),Kf$2(4,"ul",1)(5,"li")(6,"strong",2),fP(7,"Global enabled:"),Xf$2(),fP(8," Your orders will be fulfilled locally, saving time and money. "),Xf$2(),Kf$2(9,"li")(10,"strong",2),fP(11,"Default fulfillment:"),Xf$2(),fP(12," We will use your default US provider and ship from the US. "),Xf$2()(),Kf$2(13,"pfy-tabs",3),VE("activeTabChange",function(c){return n.switchTab(c.tabId)}),Kf$2(14,"pfy-tab",4)(15,"section",5)(16,"table",6)(17,"thead",7)(18,"td",8),fP(19,"Region"),Xf$2(),Kf$2(20,"td",8),fP(21,"Default Fulfillment"),Xf$2(),Kf$2(22,"td",8),fP(23,"Global Fulfillment"),Xf$2()(),Kf$2(24,"tbody",9),kI(25,Yn,2,0),TP(26,"async"),Xf$2()()()(),Kf$2(27,"pfy-tab",10)(28,"section",11)(29,"table",6)(30,"thead",7)(31,"td",8),fP(32,"Region"),Xf$2(),Kf$2(33,"td",8),fP(34,"Default Fulfillment"),Xf$2(),Kf$2(35,"td",8),fP(36,"Global Fulfillment"),Xf$2()(),Kf$2(37,"tbody",9),kI(38,Xn,2,0),TP(39,"async"),Xf$2()()()()(),Kf$2(40,"footer")(41,"pfy-banner",12),VE("primaryActionConfirm",function(){return n.showEligibleVariants.emit()}),Kf$2(42,"strong",2),fP(43,"Please note:"),Xf$2(),fP(44," Global Fulfillment is only available for listings that include all eligible variants. "),Xf$2()()()),i&2){let l,c;xR(14),lE("active",n.activeTab==="shippingCosts"),xR(11),QR((l=_P(26,4,n.regionalShippingCosts$))?25:-1,l),xR(2),lE("active",n.activeTab==="deliveryEstimates"),xR(11),QR((c=_P(39,6,n.regionalShippingCosts$))?38:-1,c);}},dependencies:[Gs$2,zd$1,eb,Nv$1,dT,vS,jx,sT,Eu$2],styles:['@charset "UTF-8";.table[_ngcontent-%COMP%]{width:100%;border-width:1px;border-style:solid;border-color:#e0e0d7;margin:1.25rem 0}.thead[_ngcontent-%COMP%]{background-color:#e0e0d7}.thead[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{font-weight:700}.list[_ngcontent-%COMP%]{list-style:disc;margin:.75rem 0 .75rem 1rem}.cell[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-width:1px;border-color:#e0e0d7}.flag[_ngcontent-%COMP%]{vertical-align:bottom;margin-right:.75rem}.row[_ngcontent-%COMP%]:not(.row:last-child){border-bottom:1px solid #e0e0d7}.row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #e0e0d7}'],changeDetection:0});}}return t})();var $i$1=D$a(Kc$2());var ne=function(t){return t[t.FulfillmentCosts=0]="FulfillmentCosts",t[t.Variants=1]="Variants",t}(ne||{});function vi(t,o){return t.options.find(e=>e.type===o)?.items||[]}function xi$1({optionItem:t,salesChannel:o}){return o?Ae$3.isEligibleForSalesChannel(o,t.eligibleSalesChannels):true}function Si({optionItem:t,fulfillmentOptimisation:o,isOptimisedForInternationalFulfillment:e}){return !e||!o?true:t.fulfillment===o}function Jn(t){return x$d(w$9({},t),{transparent:t.colors?.some(o=>o.hex.trim().toLowerCase()==="transparent")||t.label.trim().toLowerCase()==="transparent"})}function Op({printProvider:t,setTransparentValue:o=false,salesChannel:e,isOptimisedForInternationalFulfillment:i,fulfillmentOptimisation:n}){let c=vi(t,Ti$6.Color).filter(oe=>xi$1({optionItem:oe,salesChannel:e})).filter(oe=>Si({optionItem:oe,fulfillmentOptimisation:n,isOptimisedForInternationalFulfillment:i})).map(oe=>o?Jn(oe):oe);if(i&&n===Pt$3.International)return {count:c.length,colors:c,label:`Global colors \u2022 ${c.length}`};if(e)return {count:c.length,colors:c,label:"Colors"};let C=` \u2022 ${c.length}`,w=i?`US colors${C}`:c.length>1?`Colors${C}`:"Color";return {count:c.length,colors:c,label:w}}function Ep({printProvider:t,salesChannel:o,isOptimisedForInternationalFulfillment:e,fulfillmentOptimisation:i}){let l=vi(t,Ti$6.Size).filter(me=>xi$1({optionItem:me,salesChannel:o})).filter(me=>Si({optionItem:me,fulfillmentOptimisation:i,isOptimisedForInternationalFulfillment:e})).map(me=>me.label.trim()),c=l.length,C=l[0],w=C;if(c>1){let me=l[c-1];w=`${C}\u200A\u2013\u200A${me}`;}if(e&&i===Pt$3.International)return {count:c,sizes:w,label:`Global sizes \u2022 ${c}`};let oe=e?`US sizes \u2022 ${c}`:c>1?`Sizes \u2022 ${c}`:"Size";return {count:c,sizes:w,label:oe}}function Qn(t){return t.location.isInternational?{country:"Worldwide",countryCode:"Worldwide",isInternational:true}:t.location}function Zn(t){let o=new Set;return t.filter(({countryCode:e})=>o.has(e)?false:(o.add(e),true))}function Fp(t){return t?.facilities?.length?Zn(t.facilities.map(o=>({country:o.country_label,countryCode:o.country_code,isInternational:false})).filter(({countryCode:o})=>o.toLowerCase()!=="mx")):[Qn(t)]}function Gp$1(t){return t.scoring?.generic_score}function Pi(t){let e=t<10?1:0;return t.toFixed(e)}var Mi=D$a(Kc$2());var Ti=D$a(Wc$1());var wi=(()=>{class t{constructor(){this.printProviderScore=null,this.progressBarWidth="0%";}set score(e){this.printProviderScore={name:e.name,score:parseFloat(e.score).toString()};}get score(){return this.printProviderScore}ngOnInit(){(0, Ti.assert)(!!this.score,"PrintProviderScoreComponent score is missing"),this.progressBarWidth=`${parseInt(this.score.score,10)*10}%`;}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-print-provider-score"]],inputs:{score:"score"},decls:8,vars:4,consts:[[1,"score-wrapper"],["data-testid","scoreName"],[1,"progress-bar-wrapper"],["data-testid","scoreValue",1,"value","p-bold"],[1,"progress-bar"],[1,"progress-bar-fill"]],template:function(i,n){i&1&&(Kf$2(0,"div",0)(1,"div",1),fP(2),Xf$2(),Kf$2(3,"div",2)(4,"p",3),fP(5),Xf$2(),Kf$2(6,"div",4),ME(7,"div",5),Xf$2()()()),i&2&&(xR(2),WE(n.score.name),xR(3),WE(n.score.score),xR(2),uE("width",n.progressBarWidth));},styles:['@charset "UTF-8";.progress-bar-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.progress-bar[_ngcontent-%COMP%]{min-width:100px;background-color:#e0e0d7;border-radius:4px}.progress-bar-fill[_ngcontent-%COMP%]{display:block;height:4px;background-color:#2f2e0c;border-radius:4px}.score-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(100px,140px) minmax(120px,160px)}.value[_ngcontent-%COMP%]{margin-right:.5rem}'],changeDetection:0});}}return t})();function eo(t,o){if(t&1&&(Kf$2(0,"div",3),ME(1,"pfa-print-provider-score",6),Xf$2()),t&2){let e=o.$implicit;xR(),lE("score",e);}}var to=(()=>{class t{constructor(e){this.popoverRef=e,this.printProviderScores=[];}ngOnInit(){let e=this.popoverRef.getData();(0, Mi.assert)(!!e,"ScoresPopoverComponent is missing PP scores."),this.printProviderScoring=e.printProviderScoring,this.mapScores();}mapScores(){let e=this.printProviderScoring.samples_and_shipping!==undefined,i={quality:{name:"Quality",score:"0"},production_speed:{name:"Production Speed",score:"0"},[e?"samples_and_shipping":"stock_reliability"]:{name:e?"Samples & Shipping":"Stock Reliability",score:"0"}},n=[];for(let[l,c]of Object.entries(this.printProviderScoring))e&&l==="stock_reliability"||c===0||c===undefined||i[l]&&(i[l].score=Pi(c),n.push(i[l]));this.printProviderScores=n;}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(Po$6))};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-scores-popover"]],decls:9,vars:1,consts:[[1,"popover"],[1,"p-bold"],[1,"scoring"],[1,"score"],[1,"footer","text-xs"],["href","https://help.printify.com/hc/en-us/articles/4483617131281-What-are-Performance-Scores-","data-analyticsid","performanceScores",3,"newTab"],[3,"score"]],template:function(i,n){i&1&&(Kf$2(0,"div",0)(1,"p",1),fP(2,"Last 4 weeks performance:"),Xf$2(),Kf$2(3,"div",2),JR(4,eo,2,1,"div",3,YR),Xf$2(),Kf$2(6,"div",4)(7,"pfy-link",5),fP(8," Read more about our scoring system here. "),Xf$2()()()),i&2&&(xR(4),KR(n.printProviderScores),xR(3),lE("newTab",true));},dependencies:[dT,Vu$2,wi],styles:['@charset "UTF-8";.scoring[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:.5rem 0;border-bottom:1px solid #e0e0d7}.score[_ngcontent-%COMP%]{padding:.5rem}.footer[_ngcontent-%COMP%]{margin-top:.5rem}'],changeDetection:0});}}return t})();var no=(t,o)=>o.type,oo=(t,o)=>o.id;function ro(t,o){if(t&1&&ME(0,"pfy-option-color",9),t&2){let e=tP().$implicit;lE("colors",e.colors)("tooltip",e.label);}}function ao(t,o){t&1&&ME(0,"pfy-icon",10);}function po(t,o){t&1&&ME(0,"pfy-icon",11);}function lo(t,o){if(t&1&&(Kf$2(0,"tr",7)(1,"td",6)(2,"div",8),kI(3,ro,1,2,"pfy-option-color",9),Kf$2(4,"span"),fP(5),Xf$2()()(),Kf$2(6,"td",6),kI(7,ao,1,0,"pfy-icon",10)(8,po,1,0,"pfy-icon",11),Xf$2()()),t&2){let e=o.$implicit,i=tP().$implicit,n=tP(2);GI("data-testid",i.type+"VariantItem"),xR(3),QR(i.type===n.optionType.Color?3:-1),xR(2),WE(e.label),xR(2),QR(e.fulfillment===n.printifyChoiceFullfilment.International?7:8);}}function so(t,o){if(t&1&&(Kf$2(0,"pfy-tab",2)(1,"div",3)(2,"table",4)(3,"thead")(4,"tr",5)(5,"th",6),fP(6),Xf$2(),Kf$2(7,"th",6),fP(8,"International shipping"),Xf$2()()(),Kf$2(9,"tbody"),JR(10,lo,9,4,"tr",7,oo),Xf$2()()()()),t&2){let e=o.$implicit;lE("label",e.type),GI("data-testid",e.type+"Tab"),xR(2),GI("data-testid",e.type+"Table"),xR(4),WE(e.type),xR(3),GI("data-testid",e.type+"VariantsList"),xR(),KR(e.items);}}function co(t,o){if(t&1){let e=XR();Kf$2(0,"pfy-toggle",1),TP(1,"async"),VE("modelChange",function(n){nR(e);let l=tP();return rR(l.handleToggleChange(n))}),Xf$2(),Kf$2(2,"pfy-tabs"),JR(3,so,12,5,"pfy-tab",2,no),Xf$2();}if(t&2){let e=tP();lE("model",_P(1,2,e.showOnlyGlobalEligibleOptions$))("label","Global Fulfillment eligible"),xR(3),KR(o);}}var Di=(()=>{class t{constructor(){this.blueprintService=N$8(ge),this.currencyCodeProvider=N$8(Vo$3),this.blueprintId=cR.required(),this.blueprintId$=Lr$3(this.blueprintId),this.showOnlyGlobalEligibleOptionsSubject=new yn$7(true),this.showOnlyGlobalEligibleOptions$=this.showOnlyGlobalEligibleOptionsSubject.asObservable(),this.printProvider$=this.blueprintId$.pipe(Rc$2(this.currencyCodeProvider.currencyCode$),Ac$3(([e,i])=>this.blueprintService.getPrintProvider({blueprintId:e,currencyCode:i,printProviderId:me$2})),_c$3({refCount:true,bufferSize:1})),this.variantsData$=Hp$2([this.printProvider$,this.showOnlyGlobalEligibleOptions$]).pipe(ie$b(([{options:e},i])=>e.map(n=>x$d(w$9({},n),{items:n.items.filter(({fulfillment:l})=>!i||l===Pt$3.International)})))),this.printifyChoiceFullfilment=Pt$3,this.optionType=Ti$6;}handleToggleChange(e){this.showOnlyGlobalEligibleOptionsSubject.next(e);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-global-variants"]],inputs:{blueprintId:[1,"blueprintId"]},decls:5,vars:3,consts:[[1,"global-variants"],["data-testid","globalVariantsToggle",1,"toggle",3,"modelChange","model","label"],[1,"tab",3,"label"],[1,"variants-table-wrapper"],[1,"variants-table"],[1,"row","head-row"],[1,"cell"],[1,"row","body-row"],[1,"option-color-cell"],["data-testid","optionColor",1,"option-color",3,"colors","tooltip"],["name","done",1,"icon","internationally-optimized"],["name","remove",1,"icon","us-optimized"]],template:function(i,n){if(i&1&&(Kf$2(0,"div",0)(1,"p"),fP(2," Local print providers may not offer all variants (colors and sizes), but the most popular options are widely available. All print areas work for optimized locations. See below for offered variants by location. "),Xf$2(),kI(3,co,5,4),TP(4,"async"),Xf$2()),i&2){let l;xR(3),QR((l=_P(4,1,n.variantsData$))?3:-1,l);}},dependencies:[Gs$2,zd$1,dT,wl$1,jx,sT,sO,ge$9],styles:[`@charset "UTF-8";.global-variants .toggle{margin-top:1.25rem;margin-bottom:1.25rem}.global-variants .tabs-list{margin-bottom:1.25rem;border-bottom:1px solid #e0e0d7}.global-variants .tabs-list .tab-label{text-transform:capitalize}.global-variants .variants-table{border:1px solid #e0e0d7;border-radius:4px;margin-bottom:1.5rem;width:100%}.global-variants .variants-table .row:not(.body-row:last-child){border-bottom:1px solid #e0e0d7}.global-variants .variants-table .row .cell:not(:last-child){border-right:1px solid #e0e0d7}.global-variants .variants-table .head-row{font-weight:700;background-color:#e0e0d7}.global-variants .variants-table .head-row .cell{font-size:.875rem;text-transform:capitalize;width:50%}.global-variants .variants-table .cell{padding:1rem 1.5rem;font-size:1rem;text-align:left;align-content:center}.global-variants .variants-table .cell .option-color-cell{display:flex;align-items:center}.global-variants .variants-table .cell .option-color-cell .option-color{height:1.625rem;width:1.625rem;border:1px solid transparent;margin-right:.5rem}.global-variants .variants-table .cell .icon.internationally-optimized{color:#357c1d}.global-variants .variants-table .cell .icon.us-optimized{color:#a8a794}
`],encapsulation:2,changeDetection:0});}}return t})();function mo(t,o){if(t&1&&ME(0,"pfa-global-variants",1),t&2){let e=tP();lE("blueprintId",e.blueprintId);}}function uo(t,o){if(t&1){let e=XR();Kf$2(0,"pfa-global-fullfilment-costs",3),VE("showEligibleVariants",function(){nR(e);let n=tP();return rR(n.goToVariantsStep())}),Xf$2();}if(t&2){let e=tP();lE("blueprintId",e.blueprintId);}}var io=(()=>{class t{constructor(){this.drawerRef=N$8(Zn$3),this.step=new yn$7(ne.FulfillmentCosts),this.globalFullfilmentCostsDrawerStep=ne,this.step$=this.step.asObservable(),this.showTitleBackButton$=this.step$.pipe(ie$b(e=>e!==ne.FulfillmentCosts)),this.title$=this.step$.pipe(ie$b(e=>{switch(e){case ne.Variants:return "Variant information";default:return "Global Fulfillment costs & delivery"}}));}ngOnInit(){(0, $i$1.assert)(!!this.blueprintId,"Blueprint ID is not defined"),this.handleModalBackAction();}goToVariantsStep(){this.step.next(ne.Variants);}goToSummaryStep(){this.step.next(ne.FulfillmentCosts);}handleModalBackAction(){this.drawerRef.afterBackAction().pipe(Oc$2(this.drawerRef.afterClosed())).subscribe(()=>{this.step.value===ne.Variants&&this.goToSummaryStep();});}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275cmp=LR({type:t,selectors:[["pfa-global-fulfillment-costs-drawer"]],inputs:{blueprintId:"blueprintId"},decls:7,vars:9,consts:[["panelSize","medium",3,"title","showTitleBackButton"],["data-testid","drawerStepVariants",3,"blueprintId"],["data-testid","drawerStepFulfillmentCosts",3,"blueprintId"],["data-testid","drawerStepFulfillmentCosts",3,"showEligibleVariants","blueprintId"]],template:function(i,n){if(i&1&&(Kf$2(0,"pfy-side-panel",0),TP(1,"async"),TP(2,"async"),Kf$2(3,"pfy-modal-dialog-content"),kI(4,mo,1,1,"pfa-global-variants",1),TP(5,"async"),kI(6,uo,1,1,"pfa-global-fullfilment-costs",2),Xf$2()()),i&2){lE("title",_P(1,3,n.title$))("showTitleBackButton",_P(2,5,n.showTitleBackButton$)),xR(4),QR((_P(5,7,n.step$))===n.globalFullfilmentCostsDrawerStep.Variants?4:6);}},dependencies:[Gs$2,zd$1,dT,bs$2,tT,yi,Di],encapsulation:2,changeDetection:0});}}return t})();var S="AI_GENERATED_DESCRIPTIONS";var Q$1=(()=>{class h{constructor(){this.storeService=N$8(Ro$2),this.salesChannelService=N$8(Pt$2),this.userService=N$8(J$5),this.httpClient=N$8(_u$3),this.environment=N$8(f$c),this.blueprintService=N$8(ge),this.browserStorageService=N$8(Y$4),this.mockupsApiService=N$8(M$2),this.featureTogglesService=N$8(te$5),this.requestInProgress=new yn$7({});}generate(e,t){return Hp$2([this.salesChannelService.currentSalesChannel$,this.preparePayload(e,t)]).pipe(mt$8(1),Ac$3(([i,n])=>{let s=[this.generateTitle(n),this.generateDescription(n)];return i.product.hasTags&&s.push(this.generateTags(n)),ih$1(s).pipe(ie$b(r=>r.reduce((v,m)=>w$9(w$9({},v),m),{})))}))}generateWithImages(e){return this.requestInProgress.next(x$d(w$9({},this.requestInProgress.value),{[e._id]:true})),this.storeService.selectedStore$.pipe(mt$8(1),Ac$3(t=>this.mockupsApiService.getGeneratedMockupsR3({shopId:t.id.toString(),productId:e._id})),Ac$3(({mockups:t})=>Hp$2([this.salesChannelService.currentSalesChannel$,this.preparePayloadV2(e,Object.values(t))]).pipe(mt$8(1),Ac$3(([i,n])=>{let s=[this.generateTitleV2(n),this.generateDescriptionV2(n)];return i.product.hasTags&&s.push(this.generateTagsV2(n)),ih$1(s).pipe(ie$b(r=>r.reduce((v,m)=>w$9(w$9({},v),m),{})))}))))}getCreditNumber(){let e=[`${this.environment.genMlServiceApiUrl}public/v1/product/title`,`${this.environment.genMlServiceApiUrl}public/v1/product/description`,`${this.environment.genMlServiceApiUrl}public/v1/product/tags`];return Hp$2([this.storeService.selectedStore$,this.userService.user$]).pipe(Ac$3(([t,i])=>this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v1/rate-limits`,{endpoints:e.map(n=>({url:n,body:{shop_id:t.id,user_id:i.details.id}}))},this.getHttpOptions())),ie$b(({rate_limits:t})=>({remaining:Math.min(...t.map(i=>i.remaining))})))}generateAndStore(e){this.isProductCPG(e)||this.generateWithImages(e).pipe(Rc$2(this.userService.user$)).subscribe({next:([t,i])=>{this.updateStorage(i,e._id,t),this.requestInProgress.next(x$d(w$9({},this.requestInProgress.value),{[e._id]:false}));},error:()=>{this.requestInProgress.next(x$d(w$9({},this.requestInProgress.value),{[e._id]:false}));}});}getStoredData(e){let t=this.browserStorageService.getNonPrimitive(S,{},I$8.Local),i=this.userService.getId();if(i)return t?.[i]?.[e]}removeFromStorage(e){this.userService.user$.pipe(mt$8(1)).subscribe(t=>{this.updateStorage(t,e,undefined);});}notifyWhenContentGenerationFinished(e){return this.requestInProgress.pipe(ie$b(t=>t[e]),Ye$b(t=>t===false))}hasContentGenerationInProgress(e){return this.requestInProgress.value[e]}updateStorage(e,t,i){let n=this.browserStorageService.getNonPrimitive(S,{},I$8.Local),s=x$d(w$9({},n[e.details.id]||{}),{[t]:i});this.browserStorageService.set(S,x$d(w$9({},n),{[e.details.id]:s}),{storageType:I$8.Local,clearOnAuth:true});}preparePayload(e,t){return Hp$2([this.storeService.selectedStore$,this.userService.user$,this.blueprintService.getBlueprintApiV2(t.blueprint_id,t?.billing_currency||"USD")]).pipe(ie$b(([i,n,s])=>({shop_id:i.id,user_id:n.details.id,input:e,sales_channel_name:i.salesChannelLabel,product_id:t._id,blueprint:{title:s.name,features:s.features.map(r=>({name:r.name,description:r.description})),details:s.details.map(r=>({value:r})),care_instructions:s.careSets.map(r=>({option:r.option}))}})))}generateTitle(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v1/product/title`,e,this.getHttpOptions())}generateDescription(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v1/product/description`,e,this.getHttpOptions())}generateTags(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v1/product/tags`,e,this.getHttpOptions())}getHttpOptions(){return {headers:new je$6({"Content-Type":"application/json"}),context:new Fr$4().set(Fe$5,false)}}preparePayloadV2(e,t){return Hp$2([this.storeService.selectedStore$,this.userService.user$,this.blueprintService.getBlueprintApiV2(e.blueprint_id,e?.billing_currency||"USD")]).pipe(ie$b(([i,n,s])=>({shop_id:i.id,user_id:n.details.id,images:t.slice(0,2).map(r=>({url:`${r.src}${this.featureTogglesService.isFeatureEnabled(jt$2.SizeReductionOfImageFedIntoAI)?"&s=400":""}`})),sales_channel_name:i.salesChannelLabel,product_id:e._id,blueprint:{title:s.name,features:s.features.map(r=>({name:r.name,description:r.description})),details:s.details.map(r=>({value:r})),care_instructions:s.careSets.map(r=>({option:r.option}))}})))}generateTitleV2(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v2/product/title`,e,this.getHttpOptions())}generateDescriptionV2(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v2/product/description`,e,this.getHttpOptions())}generateTagsV2(e){return this.httpClient.post(`${this.environment.genMlServiceApiUrl}public/v2/product/tags`,e,this.getHttpOptions())}isProductCPG(e){return e.hidden_tags.includes(Va$2)}ngOnDestroy(){this.requestInProgress.complete();}static{this.\u0275fac=function(t){return new(t||h)};}static{this.\u0275prov=H$9({token:h,factory:h.\u0275fac,providedIn:"root"});}}return h})();var s$3=(()=>{class t{constructor(){this.content=new yn$7(null),this.content$=this.content.pipe(Dr$5());}setContent(e){this.content.next(e);}resetContent(){this.content.next(null);}static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var k=(()=>{class t{set pfaHeaderCustomContent(e){this.shouldReplace.next(!!e);}constructor(e,i,H,j){this.changeDetectorRef=e,this.templateRef=i,this.viewContainerRef=H,this.headerCustomContentService=j,this.shouldReplace=new yn$7(true),this.destroy$=new Z$a;}ngOnInit(){this.shouldReplace.pipe(Dr$5(),Oc$2(this.destroy$),xc$2(()=>this.headerCustomContentService.resetContent())).subscribe(e=>{let i={$implicit:e,pfaHeaderCustomContent:e};if(this.changeDetectorRef.markForCheck(),e){this.viewContainerRef.clear(),this.headerCustomContentService.setContent(new Nn$4(this.templateRef,this.viewContainerRef,i));return}this.viewContainerRef.createEmbeddedView(this.templateRef,i),this.headerCustomContentService.resetContent();});}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}static{this.\u0275fac=function(i){return new(i||t)(Yo$4(bw$1),Yo$4(fo$3),Yo$4(Ja$5),Yo$4(s$3))};}static{this.\u0275dir=VR({type:t,selectors:[["","pfaHeaderCustomContent",""]],inputs:{pfaHeaderCustomContent:"pfaHeaderCustomContent"},standalone:false});}}return t})();var g$1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({imports:[Gs$2]});}}return t})();var z$1=(()=>{class t{constructor(e,r,y,u){this.userService=e,this.fxEngineStatusService=r,this.localisationService=y,this.latestSetCurrencyCode$=new yn$7(undefined);let $=Hp$2([this.latestSetCurrencyCode$,this.userService.catalogCurrency$,this.localisationService.userCurrency$]).pipe(ie$b(([c,n,g])=>c||n||g),Dr$5());this.currencyCode$=Hp$2([$,r.available$.pipe(Dr$5())]).pipe(ie$b(([c,n])=>n&&c||u.defaultCurrency.code),Dr$5(),_c$3(1));}updateCatalogCurrency(e){return this.latestSetCurrencyCode$.next(e),this.fxEngineStatusService.restore(),this.localisationService.setUserCurrency(e),this.userService.updateCatalogCurrency(e).pipe(yi$5(r=>(this.latestSetCurrencyCode$.next(undefined),Xp$2(r))))}static{this.\u0275fac=function(r){return new(r||t)(pe$9(J$5),pe$9(o$2),pe$9(du$1),pe$9(Eo$3))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var c$2=class c{constructor(s){this.currency=s;}};function c$1(r){this.message=r;}c$1.prototype=new Error,c$1.prototype.name="InvalidCharacterError";var p$1=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(r){var e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new c$1("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,t,a=0,o=0,d="";t=e.charAt(o++);~t&&(n=a%4?64*n+t:t,a++%4)?d+=String.fromCharCode(255&n>>(-2*a&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return d};function s$2(r){var e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw "Illegal base64url string!"}try{return function(n){return decodeURIComponent(p$1(n).replace(/(.)/g,function(t,a){var o=a.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(e)}catch{return p$1(e)}}function i(r){this.message=r;}function l(r,e){if(typeof r!="string")throw new i("Invalid token specified");var n=(e=e||{}).header===true?0:1;try{return JSON.parse(s$2(r.split(".")[n]))}catch(t){throw new i("Invalid token specified: "+t.message)}}i.prototype=new Error,i.prototype.name="InvalidTokenError";var f=l;var E$1="global-fulfillment",_="about",O="catalog";function n$1(i,r){return ()=>{let m=N$8(ve$8),t=N$8(te$5);return t.featuresReady$.pipe(mt$8(1),ie$b(()=>t.isFeatureEnabled(i)||(r===undefined?false:m.createUrlTree([r]))))}}var n=function(r){return r.CatalogHome="products",r.Search="products/search-catalog",r.LandingPage="s/:landingPage",r.TopLevelCategory="products/:topLevel",r.SubLevelCategory="products/:topLevel/:subLevel",r.Brands="brands",r.BrandProducts="brand/:brandId/:brandName",r.PrintProviders="print-providers",r.PrintProviderProducts="print-provider/:printProviderId/:printProviderName",r.NewArrivals="new-arrivals",r.TopPicks="top-picks",r.Suggested="suggested/:blueprintId",r.FavoriteProducts="favorite-products",r.CmsSandbox="sandbox",r.SalesChannelsTopPicks="products/:salesChannel/top-picks",r.SalesChannelsNewArrivals="products/:salesChannel/new-arrivals",r}(n||{});var C$1=function(t){return t.Every="every",t.Some="some",t}(C$1||{});function q$1(t,i,e){return ()=>{let r=N$8(ve$8),n=N$8(te$5);return n.featuresReady$.pipe(mt$8(1),ie$b(()=>(i===C$1.Some?t.some(h=>n.isFeatureEnabled(h)):t.every(h=>n.isFeatureEnabled(h)))||(e===undefined?false:r.createUrlTree([e]))))}}var o=(()=>{class t{constructor(e,r,n,p){this.router=e,this.authStorageService=r,this.authenticationRedirectService=n,this.toastService=p;}canActivate(){return this.authStorageService.isAuthorized$.pipe(kc$2(e=>{e||(this.authenticationRedirectService.setRedirect(undefined,true),this.router.navigateByUrl(`/${p$5}/${R$a.Login}`,{replaceUrl:true}),this.toastService.error({content:"You need to log in to access this page!"}));}))}static{this.\u0275fac=function(r){return new(r||t)(pe$9(ve$8),pe$9(we$5),pe$9(O$5),pe$9(rO))};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})();var et$1="invoices";var st$1=function(t){return t.Canada="CA",t.USA="US",t.Europe="EU",t.AUNZ="AU & NZ",t.ROW="Others",t}(st$1||{}),lt$1=function(t){return t.Canada="CA",t.USA="US",t.Europe="EU",t.AUNZ="AU_NZ",t.ROW="ROW",t}(lt$1||{}),ut$1=function(t){return t.MonthlyInvoice="Monthly invoice",t.Invoice="Order invoice",t.CreditNote="Credit note",t.Subscription="Subscription invoice",t}(ut$1||{}),u=function(t){return t[t.MonthlyInvoice=-1]="MonthlyInvoice",t[t.Invoice=1]="Invoice",t[t.CreditNote=2]="CreditNote",t[t.SubscriptionInvoice=3]="SubscriptionInvoice",t[t.MonthlyLegacyUS=100]="MonthlyLegacyUS",t[t.MonthlyLegacyVAT=101]="MonthlyLegacyVAT",t[t.MonthlyLegacySummary=102]="MonthlyLegacySummary",t}(u||{});function Pt(t){switch(t){case u.MonthlyInvoice:case u.MonthlyLegacyUS:case u.MonthlyLegacyVAT:case u.MonthlyLegacySummary:return "monthly";case u.Invoice:return "order_invoice";case u.CreditNote:return "credit_note";case u.SubscriptionInvoice:return "subscription";default:return "default"}}var dt$1=function(t){return t.Monthly="summary",t.PerOrder="per_order",t}(dt$1||{});var rt$1="notifications";var pt$1="sales-channel",ot$1=t=>t.length&&[Kn$2,pt$1].includes(t[0].path)?{consumed:t.slice(0,1)}:null;var ht=(t,i)=>{let e=N$8(pn$3);return !e.continueOpening||i.url.startsWith(`/${o$9}`)?true:e.continueOpening()},it$1=t=>[{path:"",canActivateChild:[ht],children:t}];var nt$1=(()=>{class t{constructor(){this.destroy$=new Z$a,this.router=N$8(ve$8),this.localisationService=N$8(du$1);}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}monitorSiteNavigation(){Hp$2([this.router.events.pipe(Ye$b(ft$1)),this.localisationService.siteLocale$]).pipe(Oc$2(this.destroy$)).subscribe(([e,r])=>{this.handleRedirection(r,e.url);});}handleRedirection(e,r){if(St(r,e)){this.router.navigateByUrl(`/${e.toLowerCase()}/${n.CatalogHome}`);return}At$1(e,r)&&this.router.navigateByUrl(`${Ct(e)}${Ar(r)}`);}static{this.\u0275fac=function(r){return new(r||t)};}static{this.\u0275prov=H$9({token:t,factory:t.\u0275fac,providedIn:"root"});}}return t})(),mt$1=["account","store","order","oauth","sales-channel"];function ft$1(t){return t instanceof In$6}function St(t,i){return t.endsWith(`/${i.toLowerCase()}`)}function At$1(t,i){let e=Zr$1(i),r=e===t,n=!e,p=t===ce$8.enUS;return !(r&&!p||n&&p||mt$1.includes(i.split("/").filter(h=>!!h)[0]))}function Ct(t){return t===ce$8.enUS?"":`/${t.toLowerCase()}`}var at$1=function(t){return t.Fullscreen="fullscreen",t.Stretch="stretch",t}(at$1||{});function Rt$1(){return [{path:"products/:productId/:brand/:product",loadChildren:()=>import('./chunk-DIAhzoNx.js').then(t=>t.BlueprintModule)},{path:Si$1,loadChildren:()=>import('./chunk-Hwy9v4lM.js').then(t=>t.OnboardingQuestionnaireModule),canActivate:[o]},{path:p$5,loadChildren:()=>import('./chunk-DQNBNWJr.js').then(t=>t.AuthenticationModule)},{path:"login",redirectTo:`${p$5}/${R$a.Login}`},{path:"register",redirectTo:`${p$5}/${R$a.Register}`},{path:"recover",redirectTo:`${p$5}/${R$a.Recover}`},{path:"reset/:token",redirectTo:`${p$5}/${R$a.Recover}`},{path:"authorize",loadChildren:()=>import('./chunk-CRs3jOR8.js').then(t=>t.OauthModule),canActivate:[o]},{path:"store/products",loadChildren:()=>import('./chunk-BWi06M0M.js').then(function(n){return n.c}).then(t=>t.ProductsModule),canActivate:[o]},{path:"store/variant-mapper",loadChildren:()=>import('./chunk-DnFoFt-f.js').then(t=>t.ExternalProductsRoutingModule),canActivate:[o]},{path:"store/promotions",loadChildren:()=>import('./chunk-MJ2pYOu8.js').then(t=>t.PromotionsModule),canActivate:[o]},{path:"product-details",loadChildren:()=>import('./chunk-CWV9iKsF.js').then(function(n){return n.c}).then(t=>t.ProductDetailsModule),canActivate:[o]},{path:"mockup-library",loadChildren:()=>import('./chunk-gQOmFGZE.js').then(t=>t.MockupLibraryModule),canActivate:[o]},{path:M$8,loadChildren:()=>import('./chunk-_x97hVD0.js'),canActivate:[o]},{path:"store/settings",loadChildren:()=>import('./chunk-lTVafAvO.js').then(t=>t.StoreSettingsModule),canActivate:[o]},{path:"store/builder/popup",loadChildren:()=>Promise.resolve().then(function(){return chunkNDRTNXBC}).then(t=>t.StorefrontStoreBuilderModule),canActivate:[o],data:{rootClass:at$1.Fullscreen}},{path:"subscription",loadChildren:()=>import('./chunk-j7anFFJ3.js').then(t=>t.SubscriptionModule),canActivate:[o]},{path:"subscription-payment",loadChildren:()=>import('./chunk-CrEcNiud.js').then(t=>t.SubscriptionPaymentModule),canActivate:[o]},{matcher:ot$1,loadChildren:()=>import('./chunk-pAXQ4SWG.js').then(t=>t.SalesChannelsModule),canActivate:[o]},{path:"error",loadChildren:()=>import('./chunk-C1_kYySd.js').then(t=>t.ErrorModule)},{path:"insights",loadChildren:()=>import('./chunk-D4DjERoc.js'),canActivate:[o]},{path:"branding-and-gift-messages",loadChildren:()=>import('./chunk-D6T6pVUF.js'),canActivate:[o]},{path:"account",loadChildren:()=>import('./chunk-g3m7Noyu.js').then(function(n){return n.c}).then(t=>t.AccountModule),canActivate:[o]},{path:"store/shipping-zone",loadChildren:()=>import('./chunk-DfX-EX_o.js').then(function(n){return n.c}).then(t=>t.ShippingCalculatorModule),canActivate:[o]},{path:"store",loadChildren:()=>import('./chunk-DMUbpRF7.js').then(t=>t.OrdersModule),canActivate:[o]},{path:"learn-worlds",loadChildren:()=>import('./chunk-B9NzythG.js').then(t=>t.LearnWorldsModule),canActivate:[o]},{path:rt$1,loadChildren:()=>import('./chunk-qfWDtJiu.js'),canActivate:[o]},{path:o$9,canActivate:[o],loadChildren:()=>import('./chunk-CKf_cpsp.js').then(t=>t.wizardRoutes([{path:_$4,loadChildren:()=>import('./chunk-Ni2rg9od.js')},{path:E$7,loadChildren:()=>import('./chunk-CloN6FV_.js')},{path:r$7,loadChildren:()=>import('./chunk-fieymtj6.js').then(function(n){return n.c})},{path:t$8,loadChildren:()=>import('./chunk-BeSk7HDq.js')},{path:`${_$1}/${I$2}`,loadChildren:()=>import('./chunk-CKVZnVSE.js'),canActivate:[q$1([jt$2.ProductPublishingGuidedFlow,jt$2.EtsyGuidedConnectionFlowIteration2],C$1.Some,"/products")]},{path:`${E$1}`,loadChildren:()=>import('./chunk-D0LOoM5A.js'),canActivate:[n$1(jt$2.PrintifyChoiceGeoExpansion,"/products")]}]))},{path:"shipping-rates",loadChildren:()=>import('./chunk-B-8UiaXa.js')},{path:"storely",loadChildren:()=>import('./chunk-BghOiPZJ.js').then(t=>t.StorelyModule),canActivate:[o]},{path:et$1,loadChildren:()=>import('./chunk-BzggJ-v-.js'),canActivate:[o]},{path:"",loadChildren:()=>import('./chunk-O6x0S4rz.js').then(t=>t.CatalogModule)},{path:"**",redirectTo:M$8}]}var _e=(()=>{class t{constructor(e,r){this.router=e,this.siteLocaleRedirectionService=r,this.updateRoutes(),this.monitorSiteNavigation();}updateRoutes(){let e=Ut(this.router.config);this.router.resetConfig(it$1(Et(e,Ma$3.filter(r=>r!==ce$8.enUS))));}monitorSiteNavigation(){this.siteLocaleRedirectionService.monitorSiteNavigation();}static{this.\u0275fac=function(r){return new(r||t)(pe$9(ve$8),pe$9(nt$1))};}static{this.\u0275mod=EI({type:t});}static{this.\u0275inj=qh$2({providers:[{provide:kn$7,useFactory:Rt$1,multi:true,deps:[]}],imports:[tf$2.forRoot([],{initialNavigation:"disabled",paramsInheritanceStrategy:"always",get scrollPositionRestoration(){return window.disableScrollPositionRestoration?"disabled":"enabled"}}),tf$2]});}}return t})();function Et(t,i){return [...i.map(e=>gt$2(t,e)),...t]}function gt$2(t,i){let e=t.filter(r=>r.path!=="**").map(r=>w$9({},r));return {path:i.toLowerCase(),children:e}}function Ut(t){return [...t.reduce((e,r)=>{let n=r.path||r.matcher;return e.has(n)&&e.get(n).loadChildren||e.set(n,r),e},new Map).values()]}var s$1=class s{constructor(t){this.blueprintId=t;}};var x=class{};var p=class{};var c=class{};var E=function(t){return t.MyProducts="My Products",t.Catalog="Catalog",t}(E||{}),s=function(t){return t.Product="product",t.PersonalisableProduct="personalisable_product",t.Option="option",t.Category="category",t.Blueprint="blueprint",t.Decorator="decorator",t}(s||{});var C=t=>[Z$a,yn$7,In$7].includes(t?.constructor),w$1=t=>{Object.values(t).forEach(e=>{C(e)&&e.complete();});};function z(t){let e=T(t.variants);switch(e.status){case "all-in-stock":return "All in stock";case "all-out-of-stock":return "All out of stock";case "some-out-of-stock":return `${e.oosVariants} out of stock`}}function q(t,e){let n=![b$9.Ebay,b$9.Amazon].includes(e),o=t.publishing_status&&!!t.external,r=t.dirty,i=n&&!t.is_visible;return o?r?"Unpublished changes":i?"Hidden":"Published":"Unpublished"}function Z(t){return !t.external||t.dirty}function J(t){return t.variants.reduce((e,n)=>!n.oos&&n.enabled?++e:e,0)}function K(t){return t.decorator_options.map(({checked:e,label:n})=>U(e,n)).join(" \u2022 ")||""}function Q(t){return t.variants.filter(e=>e.enabled).reduce((e,n)=>({min:e.min>n.retail?n.retail:e.min,max:e.max<n.retail?n.retail:e.max}),{min:1/0,max:0})}function X(t){return t.some(({enabled:e,oos:n})=>e&&n)}function T(t){let e=t.filter(({enabled:r})=>r),n=e.filter(({oos:r})=>r),o={status:"some-out-of-stock",enabledVariants:e.length,oosVariants:n.length};return n.length===0?x$d(w$9({},o),{status:"all-in-stock"}):n.length===e.length?x$d(w$9({},o),{status:"all-out-of-stock"}):o}function D(t){return t.ip_detection?.status??Vi$3.Ok}function Y(t){return t.ip_detection?.blocking_reason_type??W$7.IpInfringement}function tt(t){let e=t.ip_detection?.blocking_reason_type??W$7.IpInfringement;return Go$3[e]}function et(t){return D(t)!==Vi$3.Ok}function nt(t){return t.publishing_status==="failed"}function ot(t){return !!t.shutterstock?.expired_printify_images.length}function rt(){return {disabled:true,tooltip:"This product is blocked because the associated Shutterstock image is no longer available."}}function it(t){return `/editor/${t}`}function st(t,e){return `/mockup-library/shops/${t}/products/${e}`}function at(t,e){return `/${o$9}/${_$1}/${I$2}/shops/${t}/products/${e}/${U$3}`}function ct(t){return `/store/manual-order/products?productId=${t}`}function U(t,e){let n=e.toLowerCase();return t===1&&n[n.length-1]==="s"?`${t} ${n.substring(0,n.length-1)}`:`${t} ${n}`}function ut(t){return t.shipping_method===ji$3.Standard&&!t.is_express_eligible}function lt(t){return t.map(({topLevel:e})=>({children:e.subLevel.map(({tag:n,defaultImage:o})=>({children:[],id:n,imageId:o,title:n,type:s.Category})),id:e.tag,imageId:e.defaultImage,title:e.tag,type:s.Category}))}function pt(t){return t.map(e=>({id:`${e.id}`,imageId:e.image?e.image:"",line_1:[e.brandName,e.model].filter(Boolean),line_2:undefined,title:e.name,type:s.Blueprint,children:[]}))}function dt(t){return t.map(e=>({id:e.id.toString(),imageId:"",line_1:[e.location.country],line_2:[j(e)],title:e.name,type:s.Decorator,children:[],options:e.options}))}function ft(t,e,n){let o=R(e,n);return A({variants:t,optionDetails:o,options:e}),L(o)}function R(t,e){let n={};return t.forEach(o=>{o.items.forEach(r=>{n[r.id]={id:r.id.toString(),title:r.label,type:s.Option,children:[],line_1:[e],colors:r.colors||undefined};});}),n}function V(t,e){return e.map(n=>g(t,n))}function g(t,e){return t.find(n=>n.items.some(o=>o.id===e))?.type}function A({variants:t,optionDetails:e,options:n}){let o=V(n,t[0]?.options||[]);t.forEach(r=>{r.options.sort((i,a)=>{let m=o.indexOf(g(n,i)),c=o.indexOf(g(n,a));return m-c}).reduce((i,a)=>(i!==null&&e[i]&&e[a]&&(e[i].children.some(c=>c.id===a.toString())||e[i].children.push(e[a])),a),null);});}function L(t){return Object.keys(t).map(Number).filter(o=>!Object.values(t).some(r=>r.children.some(i=>i.id===o.toString()))).map(o=>t[o])}function j(t){let e=t.printPosition.length;return `${t.options.map(o=>`${$e$b(o.type)}s ${o.items.length} \u2022 `).join("")} Printing areas ${e}`}function gt$1(t){return "created_with_printify_choice_1_0"in t&&t.created_with_printify_choice_1_0===false}function mt(t){return !!t?.decorators?.[0]?.prints?.[0]?.placeholders.some(e=>e.position!==Di$4.Neck&&e.decoration_method==="embroidery")}var Qu=429,Yu="https://help.printify.com/hc/en-us/articles/29424311736465-Why-am-I-getting-a-Too-many-requests-per-minute-error",Up=(()=>{class n{constructor(e,t){this.window=e,this.toastService=t,this.tooManyRequests$=new Z$a,this.tooManyRequests$.pipe(X$7(),Jc$5(tO),Ac$3(()=>this.toastService.error({content:"Too many requests per minute. Please try again in a few minutes.",action:"Learn more",timeoutWithAction:true}).confirmed$)).subscribe(()=>{this.window.open(Yu,"_blank");});}intercept(e,t){return t.handle(e).pipe(yi$5(o=>(o.status===Qu&&this.tooManyRequests$.next(),Xp$2(()=>o))))}static{this.\u0275fac=function(t){return new(t||n)(pe$9(Q$9),pe$9(rO))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var zp=(()=>{class n{constructor(e,t,o,r,a){this.destroyRef=e,this.toastService=t,this.sessionService=o,this.userService=r,this.window=a;}initialize(){let e=this.getConfirmationTokenFromUrl();e&&this.sessionService.isAuthenticated$.pipe(Rc$2(this.userService.isEmailVerified$),kc$2(([t])=>{e&&!t&&this.toastService.error({content:"You need to log in to verify your email!"});}),Ye$b(([t,o])=>t&&!o),Ac$3(()=>e?this.userService.verifyAccount(e).pipe(kc$2(()=>{this.toastService.success({content:"Email confirmed!"}),e=null;}),yi$5(()=>(this.toastService.error({content:"Email confirmation failed!"}),e=null,be$8))):be$8),X$7(this.destroyRef)).subscribe();}getConfirmationTokenFromUrl(){return new URLSearchParams(this.window.location.search).get("confirm")}static{this.\u0275fac=function(t){return new(t||n)(pe$9(mn$6),pe$9(rO),pe$9(M$3),pe$9(J$5),pe$9(Q$9))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var yn=D$a(Kc$2());var Jt=D$a(Kc$2());var vn=(()=>{class n{constructor(){this.sessionService=N$8(M$3),this.eventDispatcherService=N$8(X$6),this.router=N$8(ve$8),this.http=N$8(_u$3),this.userService=N$8(J$5),this.storesService=N$8(Ro$2),this.productService=N$8(Em$1),this.featureTogglesService=N$8(te$5),this.toastService=N$8(rO),this.salesChannelService=N$8(Pt$2),this.authenticationKey$=this.sessionService.session$.pipe(Hc$3(0,Yp$1),ie$b(({userId:e,storeId:t,accessToken:o})=>{if(!(!e||!t||!o))return JSON.stringify({access_token:o,user_id:e,shop_id:t})}),Dr$5()),this.enabledFeatures$=this.featureTogglesService.enabledFeatures$.pipe(ie$b(e=>e??{}),_c$3({bufferSize:1,refCount:true})),this.salesChannel$=Hp$2([this.salesChannelService.currentSalesChannel$,this.storesService.salesChannelLabel$]).pipe(ie$b(([{name:e},t])=>({name:t.toLowerCase(),label:e})),Sc$2(undefined));}dispatchNotification(e){let a=e,{status:t}=a,o=A$f(a,["status"]),r=w$9({},o);switch(t){case ot$a.Success:this.toastService.success(r);break;case ot$a.Error:this.toastService.error(r);break;default:this.toastService.info(r);}}dispatchAnalyticsEvent(e){this.eventDispatcherService.dispatch(new Ht$3(e));}replaceProduct(e,t){let o=this.userService.getId(),r=this.storesService.store?.id;return (0, Jt.assert)(!!o,"userId is undefined when replacing a product"),(0, Jt.assert)(!!r,"shopId is undefined when replacing a product"),(0, Jt.assert)(!!t,"productId is undefined when replacing a product"),this.productService.replaceProduct({userId:o,shopId:r,productId:t},e)}createProduct(e){let t=this.userService.getId(),o=this.storesService.store?.id;return (0, Jt.assert)(!!t,"userId is undefined when creating a product"),(0, Jt.assert)(!!o,"shopId is undefined when creating a product"),this.productService.createProduct({userId:t,shopId:o},e)}updateProduct(e,t,o){let r=this.userService.getId(),a=this.storesService.store?.id;return (0, Jt.assert)(!!t,"productId is undefined when updating a product"),(0, Jt.assert)(!!r,"userId is undefined when updating a product"),(0, Jt.assert)(!!a,"shopId is undefined when updating a product"),this.productService.updateProduct({userId:r,shopId:a,productId:t,source:"designer"},e,o).pipe(kc$2(()=>this.eventDispatcherService.dispatch(new Er$3({shopId:a,productId:t,updatedFrom:so$4.Designer,isPublishing:false}))))}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Vo=(()=>{class n extends vn{constructor(){super(...arguments),this.browserStorageService=N$8(Y$4),this.storeSettingsBrandingService=N$8(bt),this.storeSettingsGiftMessageService=N$8(ai$1),this.merchantSalesChannelSettingsService=N$8(wt$4),this.injector=N$8(_e$8),this.window=N$8(Q$9),this.environment=N$8(f$c),this.designerData=new yn$7(undefined),this.designerData$=this.designerData.asObservable();}getProductFromSessionStorage(e){if(!e)return null;let t=this.browserStorageService.get(e,null,I$8.Session);return t!==null?t:pe$7("sessionStorage")?this.window.sessionStorage.getItem(e):null}initializeDesignerModal(o){var r=o,{sessionStorageKey:e}=r,t=A$f(r,["sessionStorageKey"]);let a=t.product||this.getProductFromSessionStorage(e);this.designerData.next(x$d(w$9({},t),{product:a}));}closeDesignerModal(){this.designerData.next(undefined);}saveProduct(e,t,o){let r=this.designerData.getValue()?.productId,a=s=>(o(),this.dispatchNotification({status:ot$a.Error,content:"Sorry, we couldn't save your product. Please try again."}),Xp$2(()=>s));switch(t){case "replaceProduct":return this.replaceProduct(e,r).pipe(yi$5(a)).subscribe(s=>{this.eventDispatcherService.dispatch(new wr$3),this.closeDesignerModal(),this.router.navigateByUrl(s._id?e$1(s._id):o$3());});case "variantMapper":return this.updateProduct(e,r).pipe(yi$5(a)).subscribe(s=>{this.eventDispatcherService.dispatch(new Jt$5(s)),this.closeDesignerModal();});case "newProductForVariantMapper":return this.createProduct(e).pipe(yi$5(a)).subscribe(s=>{this.generateAiTitleAndDescription(s),this.eventDispatcherService.dispatch(new Zt$4(s)),this.closeDesignerModal();});case "order":return this.updateProduct(e,r).pipe(yi$5(a)).subscribe(s=>{this.eventDispatcherService.dispatch(new _r$4(s)),this.closeDesignerModal();});case "orderDetailsReviewPersonalization":return this.updateProduct(e,r,{deleted:true}).pipe(yi$5(a)).subscribe(()=>{this.eventDispatcherService.dispatch(new h$1),this.closeDesignerModal();});case "externalOrder":this.eventDispatcherService.dispatch(new Kt$3(e)),this.browserStorageService.remove(be$7,I$8.Session),this.closeDesignerModal();break;case "selectProduct":this.eventDispatcherService.dispatch(new Qt$4(e)),this.closeDesignerModal();break;case "createPackageInsert":case "createGiftMessage":this.createPackageInsert(e,t).pipe(kc$2(()=>{t==="createPackageInsert"?this.storeSettingsBrandingService.refetchPackageInsertInfo(true):this.storeSettingsGiftMessageService.refetchPackageInsertInfo(true),this.browserStorageService.remove(be$7,I$8.Session);}),yi$5(a),xc$2(()=>{this.closeDesignerModal();})).subscribe();break;case "updatePackageInsert":case "updateGiftMessage":this.updatePackageInsert(e,t).pipe(kc$2(()=>{t==="updatePackageInsert"?this.storeSettingsBrandingService.refetchPackageInsertInfo(false):this.storeSettingsGiftMessageService.refetchPackageInsertInfo(false),this.browserStorageService.remove(be$7,I$8.Session);}),yi$5(a),xc$2(()=>{this.closeDesignerModal();})).subscribe();break;case "manualOrderReplaceWithPrintifyChoice":this.eventDispatcherService.dispatch(new u$1(e)),this.closeDesignerModal();break;case "orderDetailsReplaceWithPrintifyChoice":this.eventDispatcherService.dispatch(new m$1(e)),this.closeDesignerModal();break;case "otherOrderDetailsProductSuggestion":this.eventDispatcherService.dispatch(new gr$3(e)),this.closeDesignerModal();break;case "createDesignByTrendRecommendation":return this.createProduct(e).pipe(yi$5(a)).subscribe(s=>{this.generateAiTitleAndDescription(s),this.eventDispatcherService.dispatch(new Ne(s)),this.closeDesignerModal();});case "manualOrderEditPersonalizedProductCopy":return this.updateProduct(e,r,{deleted:true}).pipe(yi$5(a)).subscribe(s=>{this.eventDispatcherService.dispatch(new ar$3(s)),this.closeDesignerModal();})}}createPackageInsert(e,t){let o=this.userService.getId(),r=this.storesService.store?.id;(0, yn.assert)(!!o,"userId is undefined when creating a branding insert"),(0, yn.assert)(!!r,"shopId is undefined when creating a branding insert");let a={branding_template_id:e.id,prints:e.decorators[0].prints.map(c=>({background:c.background,placeholders:c.placeholders.map(m=>({images:m.images}))}))},s=t==="createPackageInsert"?`${this.environment.brandingServiceURL}v1/branding-inserts/user/${o}/shop/${r}`:`${this.environment.brandingServiceURL}v1/gift-message-inserts/user/${o}/shop/${r}`;return this.http.post(s,a)}updatePackageInsert(e,t){let o=e.group_id,r=this.userService.getId(),a=this.storesService.store?.id;(0, yn.assert)(!!r,"userId is undefined when updating a branding insert"),(0, yn.assert)(!!a,"shopId is undefined when updating a branding insert");let s={branding_template_id:e.branding_template_id,prints:e.decorators[0].prints.map(m=>({background:m.background,placeholders:m.placeholders.map(C=>({images:C.images}))}))},c=t==="updatePackageInsert"?`${this.environment.brandingServiceURL}v1/branding-inserts/user/${r}/shop/${a}/group/${o}`:`${this.environment.brandingServiceURL}v1/gift-message-inserts/user/${r}/shop/${a}/group/${o}`;return this.http.put(c,s)}generateAiTitleAndDescription(e){let t=this.injector.get(Q$1);this.featureTogglesService.isFeatureEnabled(jt$2.AutogenerateTitleAndDescription)&&(this.featureTogglesService.isFeatureEnabled(jt$2.ListingOptimizationOptOut)||t.generateAndStore(e),this.merchantSalesChannelSettingsService.allowAi$.pipe(mt$8(1),Ye$b(Boolean)).subscribe(()=>{t.generateAndStore(e);}));}static{this.\u0275fac=(()=>{let e;return function(o){return (e||(e=sR(n)))(o||n)}})();}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Xu=["container"],Ho=(()=>{class n{constructor(e){this.designerLoaderService=e,this.generatorSave=new Xe$5,this.dispatchNotification=new Xe$5,this.authError=new Xe$5,this.goBack=new Xe$5,this.dispatchAnalyticsEvent=new Xe$5,this.htmlTitleChange=new Xe$5,this.inputsChanged=new In$7(1),this.destroy$=new Z$a;}ngOnChanges(){this.inputsChanged.next();}ngOnInit(){this.designerLoaderService.loadComponent().pipe(kc$2(e=>this.viewContainerRef.insert(e.hostView)),Ac$3(e=>this.proxy(e)),Oc$2(this.destroy$)).subscribe();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.inputsChanged.complete();}proxy(e){return Hp$2([this.proxyInputs(e),this.proxyOutputs(e)]).pipe(Ei$9(undefined))}proxyInputs({instance:e,changeDetectorRef:t}){return this.inputsChanged.pipe(kc$2(()=>Object.assign(e,{productId:this.productId,blueprintId:this.blueprintId,printProviderId:this.printProviderId,selectedDecorationMethod:this.selectedDecorationMethod,product:this.product,backButtonLabel:this.backButtonLabel,saveButtonLabel:this.saveButtonLabel,saveButtonAnalyticsId:this.saveButtonAnalyticsId,featureTests:this.featureTests,measurementUnits:this.measurementUnits,authenticationKey:this.authenticationKey,googleApiIsLoaded:this.googleApiIsLoaded,salesChannel:this.salesChannel,hideIneligibleVariants:this.hideIneligibleVariants,initTimestamp:this.initTimestamp,personalisationBuyerResponseLimits:this.personalisationBuyerResponseLimits,trend:this.trend})),kc$2(()=>t.markForCheck()))}proxyOutputs({instance:e}){return $p$1(e.generatorSave.pipe(kc$2(this.generatorSave)),e.dispatchNotification.pipe(kc$2(this.dispatchNotification)),e.authError.pipe(kc$2(this.authError)),e.goBack.pipe(kc$2(this.goBack)),e.dispatchAnalyticsEvent.pipe(kc$2(this.dispatchAnalyticsEvent)),e.htmlTitleChange.pipe(kc$2(this.htmlTitleChange))).pipe(Ei$9(undefined))}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(Le$1))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-designer-loader"]],viewQuery:function(t,o){if(t&1&&iP(Xu,7,Ja$5),t&2){let r;sP(r=aP())&&(o.viewContainerRef=r.first);}},inputs:{productId:"productId",blueprintId:"blueprintId",selectedDecorationMethod:"selectedDecorationMethod",printProviderId:"printProviderId",product:"product",backButtonLabel:"backButtonLabel",saveButtonLabel:"saveButtonLabel",saveButtonAnalyticsId:"saveButtonAnalyticsId",featureTests:"featureTests",measurementUnits:"measurementUnits",authenticationKey:"authenticationKey",googleApiIsLoaded:"googleApiIsLoaded",salesChannel:"salesChannel",hideIneligibleVariants:"hideIneligibleVariants",initTimestamp:"initTimestamp",personalisationBuyerResponseLimits:"personalisationBuyerResponseLimits",trend:"trend"},outputs:{generatorSave:"generatorSave",dispatchNotification:"dispatchNotification",authError:"authError",goBack:"goBack",dispatchAnalyticsEvent:"dispatchAnalyticsEvent",htmlTitleChange:"htmlTitleChange"},standalone:false,features:[tR],decls:2,vars:0,consts:[["container",""]],template:function(t,o){t&1&&TE(0,null,0);},styles:["[_nghost-%COMP%]{display:block}"]});}}return n})();function Ju(n,i){if(n&1){let e=XR();Kf$2(0,"div",0)(1,"pfa-designer-loader",1),VE("generatorSave",function(o){let r=nR(e),a=tP();return rR(a.saveProduct(o,r.initializationOrigin))})("dispatchNotification",function(o){nR(e);let r=tP();return rR(r.onDispatchNotification(o))})("authError",function(){nR(e);let o=tP();return rR(o.onAuthError())})("goBack",function(){nR(e);let o=tP();return rR(o.closeDesignerModal())})("dispatchAnalyticsEvent",function(o){nR(e);let r=tP();return rR(r.onDispatchAnalyticsEvent(o))}),Xf$2()();}if(n&2){let e=i;xR(),lE("productId",e.productId)("blueprintId",e.blueprintId)("printProviderId",e.printProviderId)("product",e.product)("backButtonLabel",e.backButtonLabel)("saveButtonLabel",e.saveButtonLabel)("saveButtonAnalyticsId",e.saveButtonAnalyticsId)("featureTests",e.featureTests)("measurementUnits",e.measurementUnits)("authenticationKey",e.authenticationKey)("googleApiIsLoaded",e.googleApiIsLoaded)("salesChannel",e.salesChannel)("personalisationBuyerResponseLimits",e.personalisationBuyerResponseLimits)("trend",e.trend);}}var Hp=(()=>{class n{constructor(e,t,o,r,a,s,c){this.designerModalService=e,this.userService=t,this.eventDispatcherService=o,this.googleApiService=r,this.authenticationService=a,this.router=s,this.destroyRef=c,this.designerData$=this.designerModalService.designerData$,this.measurementUnits$=this.userService.units$,this.authenticationKey$=this.designerModalService.authenticationKey$,this.googleApiIsLoaded$=this.googleApiService.isLoaded$,this.designerState$=Hp$2([this.designerData$,this.authenticationKey$,this.measurementUnits$,this.googleApiIsLoaded$,this.designerModalService.enabledFeatures$,this.designerModalService.salesChannel$]).pipe(Hc$3(0,Yp$1),ie$b(([m,C,M,W,K,$])=>{if(!m||m.productId&&!C)return;let U=n.getBackButtonLabel(m.previousRoute),ue=n.getSaveButtonLabel(m.previousRoute),Ne={min:1,max:1024,default:256};return x$d(w$9({},m),{authenticationKey:C,backButtonLabel:U,saveButtonLabel:ue,measurementUnits:M,googleApiIsLoaded:W,featureTests:K,salesChannel:$,personalisationBuyerResponseLimits:Ne})}),Dr$5((m,C)=>au$4(m,C))),this.eventDispatcherService.on(sr$3).pipe(X$7()).subscribe(m=>this.openDesignerModal(m.payload));}openDesignerModal(e){this.designerModalService.initializeDesignerModal(e),document.body.scrollTop=document.documentElement.scrollTop=0,this.eventDispatcherService.dispatch(new er$4(true));let t=this.designerData$.pipe(Ye$b(o=>!o),mt$8(1));this.router.events.pipe(Ye$b(o=>o instanceof ot$b&&o.navigationTrigger==="popstate"),Oc$2(t),X$7(this.destroyRef)).subscribe(()=>{this.closeDesignerModal();});}saveProduct({data:e,aborted:t},o){this.designerModalService.saveProduct(e,o,t);}onDispatchNotification(e){this.designerModalService.dispatchNotification(e);}onAuthError(){this.authenticationService.logout();}onDispatchAnalyticsEvent(e){this.designerModalService.dispatchAnalyticsEvent(e);}closeDesignerModal(){this.designerModalService.closeDesignerModal(),this.eventDispatcherService.dispatch(new er$4(false));}static getBackButtonLabel(e){return e==="externalOrder"?t$b.orderOther:e==="myProducts"?t$b.myProducts:e?t$b[e]:t$b.internal}static getSaveButtonLabel(e){return e?e$6[e]:e$6.internal}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(Vo),Yo$4(J$5),Yo$4(X$6),Yo$4(bo$2),Yo$4($e$5),Yo$4(ve$8),Yo$4(mn$6))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-designer-modal"]],standalone:false,features:[gP([Vo])],decls:2,vars:3,consts:[[1,"designer-modal"],["data-testid","designer-modal",3,"generatorSave","dispatchNotification","authError","goBack","dispatchAnalyticsEvent","productId","blueprintId","printProviderId","product","backButtonLabel","saveButtonLabel","saveButtonAnalyticsId","featureTests","measurementUnits","authenticationKey","googleApiIsLoaded","salesChannel","personalisationBuyerResponseLimits","trend"]],template:function(t,o){if(t&1&&(kI(0,Ju,2,14,"div",0),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.designerState$))?0:-1,r);}},dependencies:[Ho,zd$1],styles:['@charset "UTF-8";.designer-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fff;z-index:30}']});}}return n})();var Ko=new k$5("HEADER_BANNER");var _i=class{};var th=["*"],Wo=(()=>{class n{constructor(e){this.headerBannerRef=e,this.buttonSize=lt$7,this.buttonType=Ze$5,this.role="status";}onDismiss(){this.headerBannerRef.dismiss();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(_i))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-header-promotional-banner"]],hostVars:1,hostBindings:function(t,o){t&2&&GI("role",o.role);},standalone:false,ngContentSelectors:th,decls:5,vars:3,consts:[[1,"promotional-banner"],[1,"projected-content"],[3,"buttonClick","type","size","isIconOnly"],["name","close",1,"close"]],template:function(t,o){t&1&&(nP(),Kf$2(0,"div",0)(1,"div",1),rP(2),Xf$2(),Kf$2(3,"pfy-button",2),VE("buttonClick",function(){return o.onDismiss()}),ME(4,"pfy-icon",3),Xf$2()()),t&2&&(xR(3),lE("type",o.buttonType.Ghost)("size",o.buttonSize.Small)("isIconOnly",true));},dependencies:[We$8,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;background-color:#2f2e0c}.promotional-banner[_ngcontent-%COMP%]{display:flex;align-items:center;color:#f5f5f0;padding:.75rem 1rem}@media (min-width: 960px){.promotional-banner[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.close[_ngcontent-%COMP%]{color:#f5f5f0}.projected-content[_ngcontent-%COMP%]{flex:1}'],changeDetection:0});}}return n})();var ih=["*"],qo=(()=>{class n{constructor(e){this.headerBannerRef=e,this.title="",this.status=ot$a.Info,this.closable=true;}onDismiss(){this.headerBannerRef.dismiss();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(_i))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-header-standard-banner"]],inputs:{title:"title",status:"status",closable:[2,"closable","closable",VP]},standalone:false,features:[BR],ngContentSelectors:ih,decls:2,vars:4,consts:[[1,"banner",3,"bannerDismiss","title","status","global","closable"]],template:function(t,o){t&1&&(nP(),Kf$2(0,"pfy-banner",0),VE("bannerDismiss",function(){return o.onDismiss()}),rP(1),Xf$2()),t&2&&lE("title",o.title)("status",o.status)("global",true)("closable",o.closable);},dependencies:[vS],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .banner[_ngcontent-%COMP%]{max-width:none;padding-right:1rem;padding-left:1rem}@media (min-width: 960px){[_nghost-%COMP%]   .banner[_ngcontent-%COMP%]{padding-right:1.5rem;padding-left:1.5rem}}'],changeDetection:0});}}return n})();var xt=(()=>{class n{static registerByPriorityDescending(e){return {ngModule:n,providers:e.map(t=>({provide:Ko,useFactory:()=>x$d(w$9({},t.config()),{componentClass:t}),multi:true}))}}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[eb,dT,eb,dT]});}}return n})();var Sn=(()=>{class n{constructor(e,t,o){this.banners=e,this.browserStorageService=t,this.injector=o,this.bannerDismissed=new Z$a,this.bannerDismissed$=this.bannerDismissed.pipe(kc$2(r=>this.markAsDismissed(r))),this.banner$=Hp$2(this.banners.map(r=>{let a=this.bannerDismissed$.pipe(Ye$b(s=>s===r),Sc$2(this.wasDismissed(r)));return r.isEnabled$.pipe(Ac$3(s=>a.pipe(ie$b(c=>s&&!c?r:undefined))))})).pipe(ie$b(r=>this.getFirstEnabledBanner(r)),Dr$5(),ie$b(r=>this.createPortal(r)),Sc$2(undefined));}getFirstEnabledBanner(e){return e.find(t=>!!t)}createPortal(e){if(!e)return;let t=_e$8.create({parent:this.injector,providers:[{provide:_i,useValue:{dismiss:()=>this.bannerDismissed.next(e)}}]});return new Mn$5(e.componentClass,null,t)}dismiss(e){this.bannerDismissed.next(this.getBannerByComponent(e));}getBannerByComponent(e){return this.banners.find(t=>e instanceof t.componentClass)}wasDismissed(e){let t=this.browserStorageService.get("banners",{},I$8.Local);return !t||!e.storageKey?false:t[e.storageKey]?.dismissed??false}markAsDismissed(e){if(!e.storageKey)return;let t=this.browserStorageService.get("banners",{},I$8.Local);return this.browserStorageService.set("banners",x$d(w$9({},t),{[e.storageKey]:{dismissed:true}}),{storageType:I$8.Local,clearOnAuth:false})}static{this.\u0275fac=function(t){return new(t||n)(pe$9(Ko),pe$9(Y$4),pe$9(_e$8))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Gr=(()=>{class n{static config(){let e=N$8(we$5),t=N$8(X$6);return {isEnabled$:e.isAuthorized$.pipe(Ac$3(o=>o?t.on(Nr$2).pipe(Ei$9(true),Sc$2(false)):hi$7(false)))}}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-onboarding-completion-banner"]],standalone:false,decls:4,vars:0,consts:[["status","success"]],template:function(t,o){t&1&&(Kf$2(0,"pfa-header-standard-banner",0)(1,"strong"),fP(2,"Well done!"),Xf$2(),fP(3,` Your store is set up and ready.
`),Xf$2());},dependencies:[qo],encapsulation:2,changeDetection:0});}}return n})();var Qr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[xt]});}}return n})();function oh(n,i){if(n&1&&(Kf$2(0,"pfa-header-promotional-banner")(1,"strong"),fP(2),Xf$2(),Kf$2(3,"pfy-link",0),fP(4),Xf$2()()),n&2){let e=i;xR(2),WE(e.promotionalHeaderBannerCopy),xR(),lE("href",e.promotionalHeaderBannerButtonLink)("newTab",true),xR(),ip$2(" ",e.promotionalHeaderBannerButtonLabel," ");}}var Yr=(()=>{class n{static config(){let e=N$8(ti$1);return {storageKey:xo$2.MarketingCampaign,isEnabled$:e.global$.pipe(ie$b(t=>!!(t.promotionalHeaderBannerButtonLabel&&t.promotionalHeaderBannerButtonLink&&t.promotionalHeaderBannerCopy)))}}constructor(e){this.catalogCmsService=e,this.bannerContent$=this.catalogCmsService.global$.pipe(ie$b(t=>t.promotionalHeaderBannerButtonLabel&&t.promotionalHeaderBannerButtonLink&&t.promotionalHeaderBannerCopy?t:undefined));}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(ti$1))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-marketing-campaign-banner"]],standalone:false,decls:2,vars:3,consts:[["type","light",3,"href","newTab"]],template:function(t,o){if(t&1&&(kI(0,oh,5,4,"pfa-header-promotional-banner"),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.bannerContent$))?0:-1,r);}},dependencies:[Vu$2,Wo,zd$1],encapsulation:2,changeDetection:0});}}return n})();var Zr=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[xt]});}}return n})();var Jr=(()=>{class n{static config(){let e=N$8(we$5),t=N$8(BP);return {storageKey:xo$2.Subscription,isEnabled$:e.isAuthorized$.pipe(Ac$3(o=>o?Hp$2([t.isSubscribed$,t.disabled$]).pipe(ie$b(([r,a])=>!r&&!a),Sc$2(false)):hi$7(false)))}}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-subscription-banner"]],standalone:false,decls:5,vars:0,consts:[[1,"text"],["routerLink","subscription","data-analyticsid","pfyPremiumSubscriptionBannerCta","type","light"]],template:function(t,o){t&1&&(Kf$2(0,"pfa-header-promotional-banner")(1,"span",0),fP(2,"Get up to 20% discount on all products with Printify Premium."),Xf$2(),Kf$2(3,"pfy-link",1),fP(4," Get it now "),Xf$2()());},dependencies:[Io$4,jv$1,Vu$2,Wo],styles:['@charset "UTF-8";.text[_ngcontent-%COMP%]{margin-right:.25rem;font-weight:700}'],changeDetection:0});}}return n})();var ea=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[xt,xt,Vu$2,eb]});}}return n})();var rh="We are having technical difficulties and are actively working on a fix. Please try again later.",ta=(()=>{class n{static config(){let e=N$8(te$5);return {storageKey:xo$2.Issues,isEnabled$:e.featuresReady$.pipe(ie$b(()=>e.isFeatureEnabled(jt$2.IssuesBanner)))}}constructor(e){this.featureTogglesService=e,this.status=ot$a,this.title=this.featureTogglesService.getFeatureVariable(jt$2.IssuesBanner,"Title")??rh,this.message=this.featureTogglesService.getFeatureVariable(jt$2.IssuesBanner,"Message");}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(te$5))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-issues-banner"]],standalone:false,decls:2,vars:3,consts:[[3,"title","status"]],template:function(t,o){t&1&&(Kf$2(0,"pfa-header-standard-banner",0),fP(1),Xf$2()),t&2&&(lE("title",o.title)("status",o.status.Error),xR(),ip$2(" ",o.message,`
`));},dependencies:[qo],encapsulation:2,changeDetection:0});}}return n})();var ia=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[xt]});}}return n})();var Ce=function(n){return n.ExternalLink="externalLink",n.InternalLink="internalLink",n.RegularMenu="menu",n.MegaMenu="megaMenu",n.MenuAction="menuAction",n}(Ce||{}),Ci=function(n){return n.Header="header",n.MenuItem="menu-item",n.AccordionItem="accordion-item",n.AccordionSubItem="accordion-sub-item",n}(Ci||{});var _n=(()=>{class n{constructor(){this.featureTogglesService=N$8(te$5),this.authStorageService=N$8(we$5),this.catalogCategoriesService=N$8(Jc$2),this.targetMarketService=N$8(Ee$4),this.standardNavigationItems$=this.catalogCategoriesService.standardCategories$.pipe(ie$b(e=>e.map(t=>n.toCatalogNavigationItem(t.topLevel)))),this.promotionalNavigationItems$=this.catalogCategoriesService.promotionalCategories$.pipe(ie$b(e=>e.map(t=>n.toCatalogNavigationItem(t.topLevel)))),this.additionalNavigationItems$=Hp$2([this.promotionalNavigationItems$,this.authStorageService.isAuthorized$,this.targetMarketService.currentTargetMarket$]).pipe(Ac$3(([e,t,o])=>this.featureTogglesService.featuresReady$.pipe(mt$8(1),ie$b(()=>[{text:"Catalog Home",url:"products"},...e,{text:"Print Providers",url:"print-providers",class:"divider-top"},{text:"Brands",url:"brands"},t&&{text:"My Favorites",url:"favorite-products",class:"divider-top"}].filter(r=>!!r).filter(r=>!r.targetMarket||r.targetMarket===o))))),this.viewModel$=Hp$2([this.catalogCategoriesService.isLoading$,this.standardNavigationItems$,this.additionalNavigationItems$]).pipe(ie$b(([e,t,o])=>({isLoading:e,navigationItems:{standard:t,additional:o,catalogHome:o[0]}})));}static toCatalogNavigationItem(e){let t={text:e.tag,url:n.buildCatalogNavigationItemUrl(e.tag)};return e.subLevel.length?x$d(w$9({},t),{children:[x$d(w$9({},t),{text:`All ${t.text}`}),...e.subLevel.map(o=>({text:o.tag,url:n.buildCatalogNavigationItemUrl(e.tag,o.tag)}))]}):t}static buildCatalogNavigationItemUrl(e,t){let o=t?`products/${e}/${t}`:`products/${e}`;return ae$6(o)}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Go=4,ah=3,na=0,Gp=(()=>{class n{constructor(){this.catalogCategoriesService=N$8(Jc$2),this.userSegmentationService=N$8(hs),this.featureTogglesService=N$8(te$5),this.storesService=N$8(Ro$2),this.errorHandler=N$8(Cr$2),this.selectedSalesChannel$=this.storesService.salesChannelId$.pipe(Sc$2(undefined)),this.segmentedCategoriesForSalesChannels$=this.featureTogglesService.getFeatureVariable$(jt$2.CategorySegmentations,"segments").pipe(Ye$b(Boolean),ie$b(e=>{try{let t=this.transformResponse(e);return !e||!this.validateSegmentedCategoriesResponse(t)?(this.errorHandler.handleError("Validation failed for segmented categories response."),[]):t}catch(t){return this.errorHandler.handleError(t||"Unexpected error in transformResponse."),[]}})),this.segmentedCategories$=Hp$2([this.selectedSalesChannel$,this.segmentedCategoriesForSalesChannels$]).pipe(ie$b(([e,t])=>{let r=e&&t.find(c=>c[e])||t.find(c=>c[na]);if(!r)return [];let a=e&&r[e]?r[e]:r[na];if(!a)return [];let s=this.getUserExperienceLevel();return a[s]||[]}),Ac$3(e=>this.catalogCategoriesService.getSubcategoriesByTags(e))),this.dashboardSegmentedCategory$=this.segmentedCategories$.pipe(Ye$b(e=>!!e.length),ie$b(e=>n$3(e.slice(0,ah))),_c$3(1));}getUserExperienceLevel(){let e=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes().isExperienced;return e==null?e$2.Unknown:e?e$2.Experienced:e$2.Inexperienced}validateSegmentedCategoriesResponse(e){for(let t of e)if(!this.isValidSalesChannel(t))return  false;return  true}isValidSalesChannel(e){for(let t in e)if(!e[t]||!this.isValidSalesChannelSegment(t,e[t]))return  false;return  true}isValidSalesChannelSegment(e,t){let o=Number(e),r=o===na;return !Ro$2.isSalesChannelSupported(o)&&!r?(this.errorHandler.handleError(`Store with ID ${o} does not exist.`),false):this.isValidCategoriesStructure(t)?this.hasRequiredCategoriesLength(t)?this.areAllCategoriesSupported(t,o)?true:(this.errorHandler.handleError(`Sales channel ${e} contains unsupported categories.`),false):(this.errorHandler.handleError(`Sales channel ${e} does not meet the categories length requirement. Expected categories length: ${Go}.`),false):(this.errorHandler.handleError(`Categories for sales channel ${e} are invalid.`),false)}isValidCategoriesStructure(e){return e.hasOwnProperty("experienced")&&e.hasOwnProperty("inexperienced")&&e.hasOwnProperty("unknown")?Array.isArray(e.experienced)&&Array.isArray(e.inexperienced)&&Array.isArray(e.unknown):false}hasRequiredCategoriesLength(e){return !(e.experienced.length!==Go||e.inexperienced.length!==Go||e.unknown.length!==Go)}areAllCategoriesSupported(e,t){let o=[...e.experienced,...e.inexperienced,...e.unknown];for(let r of o)if(!Jc$2.isCategorySupported(r))return this.errorHandler.handleError(`Invalid category "${r}" found in sales channel ${t}. Verify category names or update the model.`),false;return  true}transformResponse(e){return !e||typeof e!="object"?(this.errorHandler.handleError("Invalid response structure: Missing or malformed segments."),[]):Object.entries(e).map(([t,o])=>typeof o!="object"||o===null?(this.errorHandler.handleError(`Invalid segment for SalesChannelID ${t}.`),{}):{[Number(t)]:o})}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var Qo=(()=>{class n{constructor(){this.highlight=false,this.router=N$8(ve$8);}handleClickThrough(){this.router.navigateByUrl(this.link);}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-promo-banner"]],inputs:{imageSrc:"imageSrc",title:"title",subtitle:"subtitle",link:"link",highlight:"highlight"},decls:9,vars:11,consts:[["data-testid","promoBanner",1,"promo-banner",3,"click"],[1,"promo-banner__content"],["data-testid","title",1,"title"],["data-testid","subtitle",1,"subtitle"],[1,"image-wrapper"],["data-testid","image","height","64",1,"promo-banner__image",3,"src","pfyPictureFallback","alt","width"]],template:function(t,o){t&1&&(Kf$2(0,"aside",0),TP(1,"toSlug"),VE("click",function(){return o.handleClickThrough()}),Kf$2(2,"div",1)(3,"h5",2),fP(4),Xf$2(),Kf$2(5,"p",3),fP(6),Xf$2()(),Kf$2(7,"figure",4),ME(8,"img",5),Xf$2()()),t&2&&(dE("highlight",o.highlight),GI("data-analyticsid",_P(1,9,"promoBanner-"+o.title)),xR(4),WE(o.title),xR(2),WE(o.subtitle),xR(2),lE("src",o.imageSrc,sy$2)("pfyPictureFallback",o.imageSrc)("alt",o.title+" - "+o.subtitle)("width",o.highlight?"141":"64"));},dependencies:[eb,F1,Fr],styles:['@charset "UTF-8";.promo-banner[_ngcontent-%COMP%]{min-width:280px;border-radius:4px;background-color:#f5f5f0;border:1px solid #e0e0d7;display:flex;justify-content:space-between;align-items:center;padding-left:1rem;cursor:pointer;overflow:hidden}.promo-banner.highlight[_ngcontent-%COMP%]{background-color:#e9deff}.promo-banner.highlight[_ngcontent-%COMP%]:hover{background-color:#d9c3fe}.promo-banner.highlight[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#2f2e0c}.promo-banner[_ngcontent-%COMP%]:hover{background-color:#e0e0d7}.image-wrapper[_ngcontent-%COMP%]{height:64px}.title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;color:#64634a}'],changeDetection:0});}}return n})();var ch=["*"];function lh(n,i){if(n&1&&ME(0,"pfa-promo-banner",2),n&2){let e=i.$implicit;lE("imageSrc",e.imageSrc)("title",e.title)("subtitle",e.subtitle)("link",e.link)("highlight",e.highlight);}}function dh(n,i){if(n&1&&(Kf$2(0,"aside",1),TP(1,"async"),JR(2,lh,1,5,"pfa-promo-banner",2,YR),Xf$2()),n&2){let e=tP(2);dE("segmented-categories-experiment",_P(1,2,e.isCategorySegmentationsExperimentEnabled$)),xR(2),KR(i);}}function ph(n,i){if(n&1&&(kI(0,dh,4,4,"aside",0),TP(1,"async")),n&2){let e,t=tP();QR((e=_P(1,1,t.promoBanners$))?0:-1,e);}}var en=(()=>{class n{constructor(){this.catalogCategoriesService=N$8(Jc$2),this.sessionService=N$8(M$3),this.targetMarketsService=N$8(Ee$4),this.userSegmentationService=N$8(hs),this.featuresTogglesService=N$8(te$5),this.categorySegmentationService=N$8(Gp),this.isCategorySegmentationsExperimentEnabled$=this.featuresTogglesService.isFeatureEnabled$(jt$2.CategorySegmentations),this.promoBanners$=Hp$2([this.targetMarketsService.currentTargetMarket$,this.sessionService.isAuthenticated$,this.catalogCategoriesService.isEarlyAccessCategoryEnabled$,this.isCategorySegmentationsExperimentEnabled$,this.featuresTogglesService.isFeatureEnabled$(jt$2.CatalogEmbroideryDiscoverability)]).pipe(Ac$3(([e,t,o,r,a])=>{if(!t)return [];let{isExperienced:s}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes(),c=e===Ut$4.USA;switch(true){case r:return this.categorySegmentationService.segmentedCategories$.pipe(ie$b(m=>this.convertSegmentedCategoriesToPromoBanners(m).map(C=>(a&&C.title===nt$9.Embroidery&&(C.imageSrc="assets/img/catalog/embroidery/promo-banner.png",C.subtitle="New large areas",C.highlight=true),C))));case(c&&o&&s):return hi$7([n.earlyAccessBanner(),n.printifyChoiceBanner(),n.tikTokReadyBanner()]);case(!c&&o&&s):return hi$7([n.catalogHomeBanner(),n.earlyAccessBanner(),n.bestsellersBanner()]);case(c&&!o):return hi$7([n.catalogHomeBanner(),n.printifyChoiceBanner(),n.tikTokReadyBanner()]);default:return hi$7([n.catalogHomeBanner(),n.bestsellersBanner(),n.newArrivalsBanner()])}}));}convertSegmentedCategoriesToPromoBanners(e){return e.map(t=>t.topLevelTag===nt$9.Bestsellers?n.bestsellersBanner():t.topLevelTag===nt$9.NewArrivals?n.newArrivalsBanner():{imageSrc:this.catalogCategoriesService.buildSubCategoryDefaultImageUrl(t.defaultImage),title:t.label,subtitle:"",link:ri$1.buildCatalogNavigationItemUrl(t.topLevelTag,t.subLevelTag)})}static printifyChoiceBanner(){return {imageSrc:"assets/img/pb-pc.png",title:"Printify Choice",subtitle:"Network of trustworthy providers",link:"products/printify-choice"}}static bestsellersBanner(){return {imageSrc:"assets/img/pb-bestsellers.png",title:"Bestsellers",subtitle:"Proven customer favorites",link:"products/bestsellers"}}static newArrivalsBanner(){return {imageSrc:"assets/img/pb-new-arrivals.png",title:"New arrivals",subtitle:"New additions to our catalog",link:"products/new-arrivals"}}static catalogHomeBanner(){return {imageSrc:"assets/img/pb-catalog.png",title:"Catalog home",subtitle:"Explore our catalog",link:"products"}}static earlyAccessBanner(){return {imageSrc:"assets/img/pb-ea.png",title:"Early Access",subtitle:"New items weekly without mockups",link:"products/early-access"}}static tikTokReadyBanner(){return {imageSrc:"assets/img/pb-tiktok-ready.png",title:"TikTok ready",subtitle:"Browse eligible products",link:"tiktok"}}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-promo-banners"]],ngContentSelectors:ch,decls:2,vars:0,consts:[[1,"promo-banners-wrapper",3,"segmented-categories-experiment"],[1,"promo-banners-wrapper"],["data-testid","banner",1,"banner",3,"imageSrc","title","subtitle","link","highlight"]],template:function(t,o){t&1&&(nP(),rP(0,0,null,ph,2,3));},dependencies:[eb,zd$1,Qo],styles:['@charset "UTF-8";.promo-banners-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);padding:.75rem .75rem 0;gap:.5rem;margin-bottom:.75rem}@media (max-width: 599px){.promo-banners-wrapper[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{grid-template-columns:1fr}}.promo-banners-wrapper.segmented-categories-experiment[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}'],changeDetection:0});}}return n})();function uh(n,i){if(n&1&&(Kf$2(0,"pfy-link",5),fP(1),Xf$2()),n&2){let e=i;lE("routerLink",e.url),xR(),ip$2(" ",e.text," ");}}function hh(n,i){n&1&&TE(0);}function fh(n,i){n&1&&TE(0);}function gh(n,i){if(n&1&&kI(0,hh,1,0,"ng-container",6)(1,fh,1,0,"ng-container",6),n&2){tP();let e=dP(5),t=dP(7);lE("ngTemplateOutlet",t),xR(),lE("ngTemplateOutlet",e);}}function vh(n,i){n&1&&TE(0);}function yh(n,i){n&1&&TE(0);}function Sh(n,i){if(n&1&&kI(0,vh,1,0,"ng-container",6)(1,yh,1,0,"ng-container",6),n&2){tP();let e=dP(5),t=dP(7);lE("ngTemplateOutlet",e),xR(),lE("ngTemplateOutlet",t);}}function _h(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"New"),Xf$2());}function Ch(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"Beta"),Xf$2());}function bh(n,i){if(n&1&&(Kf$2(0,"pfy-link",9),fP(1),kI(2,_h,2,0,"pfy-badge",10)(3,Ch,2,0,"pfy-badge",10),Xf$2()),n&2){let e=i.$implicit,t=tP(4);zR("nav-item ",e.class,""),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),QR(t.navigationItemsPromotedAsNew.includes(e.text)?2:-1),xR(),QR(t.navigationItemsPromotedAsBeta.includes(e.text)?3:-1);}}function wh(n,i){if(n&1&&(Kf$2(0,"div",7),JR(1,bh,4,7,"pfy-link",8,YR),Xf$2()),n&2){let e=tP(2);xR(),KR(e.navigationItems.additional);}}function Mh(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"New"),Xf$2());}function Th(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"Beta"),Xf$2());}function kh(n,i){if(n&1&&(Kf$2(0,"pfy-link",18),fP(1),kI(2,Mh,2,0,"pfy-badge",10)(3,Th,2,0,"pfy-badge",10),Xf$2()),n&2){let e=i.$implicit,t=tP(5);zR("nav-item nav-item-child ",e.class,""),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),QR(t.navigationItemsPromotedAsNew.includes(e.text)?2:-1),xR(),QR(t.navigationItemsPromotedAsBeta.includes(e.text)?3:-1);}}function Ph(n,i){if(n&1){let e=XR();Kf$2(0,"div",11)(1,"pfy-link",12),fP(2),Xf$2(),Kf$2(3,"button",13),VE("click",function(o){let r=nR(e).$implicit,a=tP(4);return rR(a.onMobileMenuToggle(o,r))}),Kf$2(4,"div",14),fP(5),ME(6,"pfy-icon",15),Xf$2()(),Kf$2(7,"div",16),JR(8,kh,4,7,"pfy-link",17,YR),Xf$2()();}if(n&2){let e=i.$implicit,t=tP(4);xR(),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),dE("is-opened",t.activeItem===e),xR(2),ip$2(" ",e.text," "),xR(3),KR(e.children);}}function Ih(n,i){if(n&1&&JR(0,Ph,10,5,"div",11,YR),n&2){let e=tP(2);KR(e.navigationItems.standard);}}function Eh(n,i){if(n&1&&(kI(0,uh,2,2,"pfy-link",5)(1,gh,2,2),TP(2,"async"),kI(3,Sh,2,2)(4,wh,3,0,"ng-template",null,0,OP)(6,Ih,2,0,"ng-template",null,1,OP)),n&2){let e,t=tP(),o=tP();QR((e=t.navigationItems.catalogHome)?0:-1,e),xR(),QR(_P(2,2,o.isMobile$)?1:3);}}function xh(n,i){n&1&&ME(0,"pfy-loader-circular",4);}function Ah(n,i){n&1&&(Kf$2(0,"div",3),kI(1,Eh,8,4)(2,xh,1,0,"pfy-loader-circular",4),Xf$2()),n&2&&(xR(),QR(i.isLoading?2:1));}var tn=(()=>{class n{constructor(){this.catalogNavigationService=N$8(_n),this.viewportService=N$8(nn$6),this.navigationItemsPromotedAsNew=De$2,this.navigationItemsPromotedAsBeta=Ue$2,this.viewModel$=this.catalogNavigationService.viewModel$,this.isMobile$=this.viewportService.matchBelow(gt$7.L),this.activeItem=null;}onMobileMenuToggle(e,t=null){this.activeItem=this.activeItem===t?null:t;}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-catalog-navigation"]],standalone:false,features:[gP([_n])],decls:3,vars:3,consts:[["additionalItems",""],["items",""],["data-analyticsid","banners","data-testid","banners"],["routerLinkActive","",1,"nav"],["data-testid","loadingIndicator","data-analyticsid","loadingIndicator"],["type","secondary","data-analyticsid","catalogHome","tabindex","-1",1,"nav-item","nav-item-featured-products-mobile",3,"routerLink"],[4,"ngTemplateOutlet"],[1,"nav-items","nav-items-additional"],["type","secondary","data-analyticsid","navigationItem","tabindex","-1",3,"class","routerLink"],["type","secondary","data-analyticsid","navigationItem","tabindex","-1",3,"routerLink"],["color","blue"],[1,"nav-items","nav-items-standard"],["data-testid","navigationItemParent","data-analyticsid","navigationItemParent","type","secondary","tabindex","-1",1,"nav-item","nav-item-parent",3,"routerLink"],["data-testid","mobileMenuToggle","data-analyticsid","mobileMenuToggle",1,"nav-item","nav-item-mobile-toggle",3,"click"],[1,"nav-item-content"],["name","expand_more",1,"expand-more"],[1,"nav-item-children"],["type","secondary","data-analyticsid","navigationItemChild","tabindex","-1",3,"class","routerLink"],["type","secondary","data-analyticsid","navigationItemChild","tabindex","-1",3,"routerLink"]],template:function(t,o){if(t&1&&(ME(0,"pfa-promo-banners",2),kI(1,Ah,3,1,"div",3),TP(2,"async")),t&2){let r;xR(),QR((r=_P(2,1,o.viewModel$))?1:-1,r);}},dependencies:[$d$2,Io$4,ef$2,jv$1,hl$1,Vu$2,du$2,ge$9,en,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]     .link .content{text-decoration:none!important}.nav[_ngcontent-%COMP%]{display:flex;position:relative;min-height:180px;gap:.5rem;flex-direction:column}@media (min-width: 960px){.nav[_ngcontent-%COMP%]{padding:2rem 0;gap:1.5rem;flex-direction:row}}.nav-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.nav-items-standard[_ngcontent-%COMP%]{gap:.5rem;white-space:nowrap}@media (min-width: 960px){.nav-items-standard[_ngcontent-%COMP%]{gap:1rem}}.nav-items-additional[_ngcontent-%COMP%]{min-width:168px;font-weight:700;gap:.75rem}.nav-item[_ngcontent-%COMP%]{display:grid}@media (max-width: 959px){.nav-item[_ngcontent-%COMP%]{padding:.5rem 1rem .5rem 2.5rem}.nav-items-additional[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:first-child{display:none}}.nav-item.is-opened[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav-item.is-opened[_ngcontent-%COMP%] + .nav-item-children[_ngcontent-%COMP%]{display:flex}.nav-item.divider-top[_ngcontent-%COMP%]{position:relative;margin-top:-.75rem}.nav-item.divider-top[_ngcontent-%COMP%]:before{margin:1.5rem 0;content:"";width:100%;border-top:1px solid #e0e0d7}.nav-item[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{transition:transform .15s ease;font-size:1.25rem;max-height:1.25rem;margin-top:.125rem}@media (max-width: 959px){.nav-item[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{position:absolute;right:1rem}}.nav-item-mobile-toggle[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;display:flex;color:#2f2e0c;cursor:pointer;border-radius:4px;background:none;border:none;width:100%}@media (min-width: 600px){.nav-item-mobile-toggle[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.nav-item-mobile-toggle[_ngcontent-%COMP%]:hover, .nav-item-mobile-toggle.opened[_ngcontent-%COMP%]{background-color:#f5f5f0}.nav-item-mobile-toggle[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc}@media (min-width: 960px){.nav-item-mobile-toggle[_ngcontent-%COMP%]{display:none}}.nav-item-parent[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 959px){.nav-item-parent[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;display:none}}@media (max-width: 959px) and (min-width: 600px){.nav-item-parent[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.nav-item-children[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:.5rem}@media (min-width: 960px){.nav-item-children[_ngcontent-%COMP%]{display:flex}}.nav-item-child[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:400;padding:.5rem 0 .5rem 3rem}@media (min-width: 600px){.nav-item-child[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 960px){.nav-item-child[_ngcontent-%COMP%]{padding:0}.nav-item-child[_ngcontent-%COMP%]:first-child{display:none}}.nav-item-featured-products-mobile[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 960px){.nav-item-featured-products-mobile[_ngcontent-%COMP%]{display:none}}.nav-item-content[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 960px){.nav-item-content[_ngcontent-%COMP%]{font-weight:400}}'],changeDetection:0});}}return n})();var Yo=(()=>{class n{constructor(e,t){this.externalUrlService=e,this.eventDispatcherService=t,this.viewModel$=hi$7({navigationItems:this.buildNavigationItems()});}onHeaderMobileMenuToggle(e){this.eventDispatcherService.dispatch(new tr$4(e));}buildNavigationItems(){return [{type:Ce.MegaMenu,text:"Catalog",content:tn,analyticsId:"openCatalogMenu"},{type:Ce.RegularMenu,text:"How it works",items:[{type:Ce.ExternalLink,text:"How Printify works",url:this.externalUrlService.toPrintify("how-it-works/")},{type:Ce.ExternalLink,text:"Print Quality Promise",url:this.externalUrlService.toPrintify("the-printify-quality-promise/")}]},{type:Ce.ExternalLink,text:"Pricing",url:this.externalUrlService.toPrintify("pricing/")},{type:Ce.ExternalLink,text:"Blog",url:this.externalUrlService.toPrintify("blog/")},{type:Ce.RegularMenu,text:"Services",items:[{type:Ce.ExternalLink,text:"Transfer Products",url:this.externalUrlService.toPrintify("transfer-products-to-printify/")},{type:Ce.ExternalLink,text:"Order In Bulk",url:this.externalUrlService.toPrintify("bulk-orders/")}]},{type:Ce.RegularMenu,text:"Support",items:[{type:Ce.ExternalLink,text:"Help Center",url:this.externalUrlService.toHelpCenter(),isNewTab:true},{type:Ce.ExternalLink,text:"IRS Form 8937",url:this.externalUrlService.toPrintify("wp-content/uploads/2024/12/Printify-Form-8937-DRAFT-12.19.2024.pdf"),isNewTab:true}]}]}static{this.\u0275fac=function(t){return new(t||n)(pe$9(go$2),pe$9(X$6))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Qp=D$a(Kc$2());function Dh(n,i){if(n&1&&(Kf$2(0,"a",0),fP(1),Xf$2()),n&2){let e=tP();lE("ngClass",e.itemLocation),GI("href",e.link.url,sy$2)("target",e.link.isNewTab?"_blank":null),xR(),ip$2(" ",e.link.text," ");}}function Nh(n,i){if(n&1&&(Kf$2(0,"a",1),fP(1),Xf$2()),n&2){let e=tP();lE("ngClass",e.itemLocation)("routerLink",e.link.path)("queryParams",e.link.queryParams)("target",e.link.isNewTab?"_blank":null),xR(),ip$2(" ",e.link.text," ");}}var Zo=(()=>{class n{constructor(){this.itemLocation=Ci.Header;}get isExternalLink(){return this.link.type===Ce.ExternalLink}ngOnInit(){(0, Qp.assert)(!!this.link,`${n.name}: link input is required`);}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-navigation-link"]],inputs:{link:"link",itemLocation:"itemLocation"},standalone:false,decls:2,vars:1,consts:[[1,"nav-link",3,"ngClass"],[1,"nav-link",3,"ngClass","routerLink","queryParams","target"]],template:function(t,o){t&1&&kI(0,Dh,2,4,"a",0)(1,Nh,2,5,"a",1),t&2&&QR(o.isExternalLink?0:1);},dependencies:[Ld$1,Io$4],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex}.nav-link[_ngcontent-%COMP%]{text-decoration:none;color:#2f2e0c;border-radius:4px;width:100%}.nav-link.header[_ngcontent-%COMP%]{padding:.25rem .5rem}.nav-link.menu-item[_ngcontent-%COMP%]{padding:.5rem .75rem}.nav-link.accordion-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.nav-link.accordion-sub-item[_ngcontent-%COMP%]{padding:.5rem .5rem .5rem 2.5rem}.nav-link[_ngcontent-%COMP%]:hover{background-color:#f5f5f0}.nav-link[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc}'],changeDetection:0});}}return n})();var Zp=(()=>{class n{constructor(e){this.elementRef=e,this.pfaClickOutside=new Xe$5;}onClick(e){this.elementRef.nativeElement.contains(e)||this.pfaClickOutside.emit();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(Uo$5))};}static{this.\u0275dir=VR({type:n,selectors:[["","pfaClickOutside",""]],hostBindings:function(t,o){t&1&&VE("click",function(a){return o.onClick(a.target)},false,MR);},outputs:{pfaClickOutside:"pfaClickOutside"},standalone:false});}}return n})();function Lh(n,i){n&1&&ME(0,"pfa-catalog-navigation",7);}function Bh(n,i){if(n&1&&(ME(0,"pfa-navigation-link",8),TP(1,"async")),n&2){let e=tP().$implicit,t=tP(2);lE("itemLocation",_P(1,2,t.isMobile$)?t.navigationItemLocation.AccordionSubItem:t.navigationItemLocation.MenuItem)("link",e);}}function Fh(n,i){if(n&1&&kI(0,Bh,2,4,"pfa-navigation-link",8),n&2){let e=i.$implicit,t=tP(2);QR(t.isLink(e)?0:-1);}}function jh(n,i){if(n&1&&JR(0,Fh,1,1,null,null,YR),n&2){let e=tP();KR(e.menu.items);}}var Xp=(()=>{class n{constructor(){this.opened=false,this.itemLocation=Ci.Header,this.toggleClick=new Xe$5,this.menuClose=new Xe$5,this.elementRef=N$8(Uo$5),this.viewportService=N$8(nn$6),this.menuOpenState$=this.viewportService.match(gt$7.L).pipe(Ac$3(e=>{let t=new Z$a;return t.pipe(Jc$5(0),Sc$2(false),Dr$5(),ie$b(o=>({isOpen:o,toggle:r=>{r.stopPropagation(),t.next(!o);},desktopOpen:()=>{e&&t.next(true);},desktopClose:()=>{e&&t.next(false);}})))})),this.isMobile$=this.viewportService.matchBelow(gt$7.L),this.navigationItemLocation=Ci;}isMegaMenu(){return this.menu.type===Ce.MegaMenu}isActionItem(e){return e.type===Ce.MenuAction}isLink(e){return e.type===Ce.ExternalLink||e.type===Ce.InternalLink}onButtonClick(){this.toggleClick.emit();}close(){this.menuClose.emit();}onClickOutside(){return E$e(this,null,function*(){(yield th$2(this.viewportService.match(gt$7.L)))&&this.close();})}handleFocusOut(e){return E$e(this,null,function*(){let t=e.relatedTarget;(yield th$2(this.viewportService.match(gt$7.L)))&&!this.elementRef.nativeElement.contains(t)&&this.menuClose.emit();})}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-navigation-menu"]],hostBindings:function(t,o){t&1&&VE("focusout",function(a){return o.handleFocusOut(a)});},inputs:{menu:"menu",opened:"opened",itemLocation:"itemLocation"},outputs:{toggleClick:"toggleClick",menuClose:"menuClose"},standalone:false,decls:10,vars:10,consts:[["data-testid","navMenu","pfaActiveNestedRouterLink","active",1,"menu",3,"pfaClickOutside"],["data-testid","navMenuToggle",1,"menu-button",3,"click","ngClass"],[1,"toggle-content"],["name","expand_more",1,"expand-more"],["data-testid","navMenuDropdown",1,"dropdown-container"],[1,"dropdown"],[1,"dropdown-content"],["data-testid","megaMenu"],["data-testid","navMenuLink",1,"menu-item",3,"itemLocation","link"]],template:function(t,o){t&1&&(Kf$2(0,"div",0),VE("pfaClickOutside",function(){return o.onClickOutside()}),Kf$2(1,"button",1),VE("click",function(){return o.onButtonClick()}),Kf$2(2,"div",2),fP(3),ME(4,"pfy-icon",3),Xf$2()(),Kf$2(5,"div",4)(6,"div",5)(7,"div",6),kI(8,Lh,1,0,"pfa-catalog-navigation",7)(9,jh,2,0),Xf$2()()()()),t&2&&(dE("is-mega-menu",o.isMegaMenu())("opened",o.opened),xR(),dE("opened",o.opened),lE("ngClass",o.itemLocation),GI("data-analyticsid",o.menu.analyticsId),xR(2),ip$2(" ",o.menu.text," "),xR(5),QR(o.isMegaMenu()?8:9));},dependencies:[Ld$1,ge$9,Zo,Zp,tn,zd$1],styles:['@charset "UTF-8";.menu[_ngcontent-%COMP%]{position:relative;white-space:nowrap;width:100%}@media (min-width: 960px){.menu[_ngcontent-%COMP%]{width:auto;display:block}.menu.is-mega-menu.opened[_ngcontent-%COMP%]{position:static}}.opened[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 959px){.opened[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}}.expand-more[_ngcontent-%COMP%]{transition:transform .15s ease;font-size:1.25rem;max-height:1.25rem}@media (max-width: 959px){.expand-more[_ngcontent-%COMP%]{position:absolute;right:1rem}}.menu-button[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;color:#2f2e0c;cursor:pointer;border-radius:4px;background:none;border:none;width:100%}@media (min-width: 600px){.menu-button[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.menu-button.header[_ngcontent-%COMP%]{padding:.25rem .25rem .25rem .5rem}.menu-button.accordion-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.menu-button[_ngcontent-%COMP%]:hover, .menu-button.opened[_ngcontent-%COMP%]{background-color:#f5f5f0}.menu-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc}.toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.nav-link[_ngcontent-%COMP%]{width:100%;padding:0;padding:.5rem 0 .5rem 2.5rem}@media (min-width: 960px){.nav-link[_ngcontent-%COMP%]{padding:.5rem .75rem}}.dropdown[_ngcontent-%COMP%]{width:100%}@media (min-width: 960px){.dropdown[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:#fff;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}.is-mega-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{width:100%;overflow-y:auto;overflow-x:hidden}}.dropdown-content[_ngcontent-%COMP%]{display:grid;gap:.5rem;height:100%}@media (min-width: 960px){.dropdown-content[_ngcontent-%COMP%]{padding:1.5rem 1rem}.is-mega-menu[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{margin:0 auto;max-width:1272px}}.dropdown-container[_ngcontent-%COMP%]{display:none}.menu.opened[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{display:flex}@media (min-width: 960px){.dropdown-container[_ngcontent-%COMP%]{position:absolute;top:53px;left:50%;transform:translate(-50%);min-width:147px}.is-mega-menu[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{left:0;top:100%;width:100%;min-height:180px;max-height:calc(100vh - 100%);transform:none}}'],changeDetection:0});}}return n})();var Jp=(()=>{class n{constructor(){this.linkClick=new Xe$5;}onClick(e,t){this.isLink(t)&&this.linkClick.emit(e);}isLink(e){if(e?.nodeName==="A"&&e.href)return  true;for(;e&&e.nodeName!=="A";)e=e.parentElement;return !!e&&!!e.href}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275dir=VR({type:n,selectors:[["","pfaLinkClick",""]],hostBindings:function(t,o){t&1&&VE("click",function(a){return o.onClick(a,a.target)});},outputs:{linkClick:"pfaLinkClick"},standalone:false});}}return n})();function Vh(n,i){if(n&1&&ME(0,"pfa-navigation-link",4),n&2){let e=tP().$implicit,t=tP(2);lE("itemLocation",t.isMobileMenuOpened?t.navigationItemLocation.AccordionItem:t.navigationItemLocation.Header)("link",e);}}function Hh(n,i){if(n&1){let e=XR();Kf$2(0,"pfa-navigation-menu",6),VE("toggleClick",function(){nR(e);let o=tP().$implicit,r=tP(2);return rR(r.onToggleClick(o))})("mouseenter",function(){nR(e);let o=tP().$implicit,r=tP(2);return rR(r.onMouseEnter(o))})("mouseleave",function(){nR(e);let o=tP().$implicit,r=tP(2);return rR(r.onMouseLeave(o))})("menuClose",function(){nR(e);let o=tP().$implicit,r=tP(2);return rR(r.onMenuClose(o))}),Xf$2();}if(n&2){let e=tP().$implicit,t=tP(2);lE("menu",e)("itemLocation",t.isMobileMenuOpened?t.navigationItemLocation.AccordionItem:t.navigationItemLocation.Header)("opened",t.openedItem===e);}}function Kh(n,i){if(n&1&&kI(0,Vh,1,2,"pfa-navigation-link",4)(1,Hh,1,3,"pfa-navigation-menu",5),n&2){let e=i.$implicit,t=tP(2);QR(t.isLink(e)?0:-1),xR(),QR(t.isMenu(e)?1:-1);}}function Wh(n,i){if(n&1){let e=XR();Kf$2(0,"nav",2),VE("pfaLinkClick",function(o){nR(e);let r=tP();return rR(r.onLinkClick(o))}),Kf$2(1,"div",3),JR(2,Kh,2,2,null,null,YR),Xf$2()();}if(n&2){let e=tP();dE("mobile-menu-opened",e.isMobileMenuOpened),xR(),lE("pfyScrollableModalContent",e.isMobileMenuOpened),xR(),KR(i.navigationItems);}}var qh=350,em=(()=>{class n{get isMobileMenuOpened(){return this._isMobileMenuOpened}set isMobileMenuOpened(e){this._isMobileMenuOpened=e,this.navigationService.onHeaderMobileMenuToggle(this.isMobileMenuOpened),this.changeDetectorRef.markForCheck();}constructor(e,t){this.changeDetectorRef=e,this.navigationService=t,this.viewportService=N$8(nn$6),this.destroyRef=N$8(mn$6),this.navigationItemLocation=Ci,this.viewModel$=this.navigationService.viewModel$,this.openedItem=null,this.mouseEnter$=new Z$a,this.mouseLeave$=new Z$a,this.hoverEnabled$=this.viewportService.match(gt$7.L),this._isMobileMenuOpened=false;}ngOnInit(){this.handleHover();}isLink(e){return e.type===Ce.ExternalLink||e.type===Ce.InternalLink}isMenu(e){return e.type===Ce.MegaMenu||e.type===Ce.RegularMenu}toggleMobileMenu(){this.isMobileMenuOpened=!this.isMobileMenuOpened,this.openedItem=null;}onLinkClick(e){e.stopPropagation(),this.isMobileMenuOpened=false,this.openedItem=null;}onEscape(){this.isMobileMenuOpened&&(this.isMobileMenuOpened=false),this.openedItem&&(this.openedItem=null);}onToggleClick(e){this.openedItem=e===this.openedItem?null:e;}onMenuClose(e){this.openedItem=this.openedItem===e?null:this.openedItem;}onMouseEnter(e){this.mouseEnter$.next(e);}onMouseLeave(e){this.mouseLeave$.next(e);}handleHover(){let e=this.mouseEnter$.pipe(Ac$3(t=>this.mouseLeave$.pipe(Ye$b(o=>o===t),Mc$2(qh),ie$b(()=>null),Sc$2(t))),Dr$5());this.hoverEnabled$.pipe(Ac$3(t=>t?e:be$8),X$7(this.destroyRef)).subscribe(t=>{t!==this.openedItem&&(this.openedItem=t,this.changeDetectorRef.detectChanges());});}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(bw$1),Yo$4(Yo))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-navigation"]],hostBindings:function(t,o){t&1&&VE("keydown.escape",function(){return o.onEscape()});},standalone:false,features:[gP([Yo])],decls:3,vars:3,consts:[["data-testid","nav",1,"nav",3,"mobile-menu-opened"],["data-testid","mobileMenuOverlay",1,"mobile-overlay",3,"click"],["data-testid","nav",1,"nav",3,"pfaLinkClick"],[1,"nav-items",3,"pfyScrollableModalContent"],["data-testid","navItemLink",3,"itemLocation","link"],["data-testid","navItemMenu",3,"menu","itemLocation","opened"],["data-testid","navItemMenu",3,"toggleClick","mouseenter","mouseleave","menuClose","menu","itemLocation","opened"]],template:function(t,o){if(t&1&&(kI(0,Wh,4,3,"nav",0),TP(1,"async"),Kf$2(2,"div",1),VE("click",function(){return o.toggleMobileMenu()}),Xf$2()),t&2){let r;QR((r=_P(1,1,o.viewModel$))?0:-1,r);}},dependencies:[Vd,Zo,Xp,Jp,zd$1],styles:['@charset "UTF-8";.nav[_ngcontent-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;white-space:nowrap}@media (max-width: 959px){.nav[_ngcontent-%COMP%]{display:none;z-index:20;position:absolute;top:73px;left:0;max-width:270px;width:100%;max-height:636px;overflow-y:auto;flex-direction:column;background-color:#fff;box-shadow:0 6px 10px #a8a7941a,0 3px 20px #a8a79426}.nav.mobile-menu-opened[_ngcontent-%COMP%]{display:flex}}.nav-items[_ngcontent-%COMP%]{display:flex}@media (max-width: 959px){.nav-items[_ngcontent-%COMP%]{gap:.5rem;flex-direction:column;align-items:stretch;flex:1;overflow-y:auto;padding:.5rem}}@media (min-width: 960px){.nav-items[_ngcontent-%COMP%]{gap:.25rem}}@media (min-width: 1168px){.nav-items[_ngcontent-%COMP%]{gap:1rem}}.mobile-overlay[_ngcontent-%COMP%]{z-index:10;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:transparent;pointer-events:none;opacity:0}.nav.mobile-menu-opened[_ngcontent-%COMP%] + .mobile-overlay[_ngcontent-%COMP%]{pointer-events:auto;opacity:1}@media (min-width: 960px){.mobile-overlay[_ngcontent-%COMP%]{display:none}}'],changeDetection:0});}}return n})();var tm=(()=>{class n{constructor(e,t,o){this.environment=e,this.viewportService=t,this.authenticationRedirectService=o,this.buttonType=Ze$5,this.isFullLogoShown$=this.viewportService.matchBelow(gt$7.S).pipe(ie$b(r=>!r)),this.homepageUrl=this.environment.homepageURL,this.loginUrl=`/${p$5}/${R$a.Login}`,this.registerUrl=`/${p$5}/${R$a.Register}`;}skipGlobalClickHandler(e){e.stopPropagation();}setRedirectUrl(){this.authenticationRedirectService.setRedirect();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(f$c),Yo$4(nn$6),Yo$4(O$5))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-header"]],standalone:false,decls:15,vars:9,consts:[["navigation",""],["id","header","data-testid","anonymousHeader",1,"header"],[1,"header-content"],[1,"header-content-group"],["data-testid","openMobileMenu","data-analyticsid","openMainMenu",1,"open-mobile-menu",3,"buttonClick","type","isIconOnly"],["name","menu"],["data-testid","logoLink",1,"app-link",3,"click","href"],["data-testid","appLogo","color","monochrome",1,"app-logo",3,"fullLogo"],["data-testid","navigation",1,"navigation"],[1,"header-content-group","auth-buttons"],[3,"buttonClick","type","routerLink"],[3,"buttonClick","routerLink"]],template:function(t,o){if(t&1){let r=XR();Kf$2(0,"header",1)(1,"div",2)(2,"div",3)(3,"pfy-button",4),VE("buttonClick",function(){nR(r);let s=dP(9);return rR(s.toggleMobileMenu())}),ME(4,"pfy-icon",5),Xf$2(),Kf$2(5,"pfy-link",6),VE("click",function(s){return nR(r),rR(o.skipGlobalClickHandler(s))}),ME(6,"pfy-logo",7),TP(7,"async"),Xf$2()(),ME(8,"pfa-navigation",8,0),Kf$2(10,"div",9)(11,"pfy-button",10),VE("buttonClick",function(){return nR(r),rR(o.setRedirectUrl())}),fP(12," Log in "),Xf$2(),Kf$2(13,"pfy-button",11),VE("buttonClick",function(){return nR(r),rR(o.setRedirectUrl())}),fP(14,"Sign up"),Xf$2()()()();}t&2&&(xR(3),lE("type",o.buttonType.Ghost)("isIconOnly",true),xR(2),lE("href",o.homepageUrl),xR(),lE("fullLogo",_P(7,7,o.isFullLogoShown$)),xR(5),lE("type",o.buttonType.Secondary)("routerLink",o.loginUrl),xR(2),lE("routerLink",o.registerUrl));},dependencies:[Io$4,We$8,Vu$2,gx,ge$9,em,zd$1],styles:['@charset "UTF-8";[_nghost-%COMP%]     .link .content{text-decoration:none!important}.header[_ngcontent-%COMP%]{display:block;background-color:#fff;border-bottom:1px solid #e0e0d7}.header-content[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1272px;margin-left:auto;margin-right:auto;display:flex;justify-content:space-between;align-items:center;height:72px;padding:.5rem 1.5rem}@media (min-width: 960px){.header-content[_ngcontent-%COMP%]{padding:0 1.5rem}}.header-content-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.open-mobile-menu[_ngcontent-%COMP%]{display:block}@media (min-width: 960px){.open-mobile-menu[_ngcontent-%COMP%]{display:none}}.app-link[_ngcontent-%COMP%]{display:flex}.app-logo[_ngcontent-%COMP%]{display:flex;position:relative;z-index:10}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}.auth-buttons[_ngcontent-%COMP%]{gap:1rem}'],changeDetection:0});}}return n})();var im=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[Ed$1,eb,dT,ia,Qr,ea,Zr,xt.registerByPriorityDescending([Gr,ta,Yr,Jr]),en,Qo,tf$2]});}}return n})();function Yh(n,i){n&1&&ME(0,"div",1);}var Xo=(()=>{class n{constructor(){this.notificationService=N$8(x$3),this.iconType=cs$2.Outlined,this.showUnreadMessages$=this.notificationService.showUnreadMessages$;}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-notification-button"]],decls:3,vars:4,consts:[["name","notifications","data-testid","notificationNavigationReadButton",3,"type"],["data-testid","notificationUnreadDot",1,"unread-dot"]],template:function(t,o){t&1&&(ME(0,"pfy-icon",0),kI(1,Yh,1,0,"div",1),TP(2,"async")),t&2&&(lE("type",o.iconType),xR(),QR(_P(2,2,o.showUnreadMessages$)?1:-1));},dependencies:[Gs$2,zd$1,dT,ge$9],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;position:relative}.unread-dot[_ngcontent-%COMP%]{height:12px;width:12px;position:absolute;top:0;right:0;background:#ad2525;border:1px solid #e0e0d7;border-radius:50%}'],changeDetection:0});}}return n})();var nm=(()=>{class n{constructor(){this.router=N$8(ve$8);}onButtonClick(){this.router.navigate([rt$1]);}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-notification-navigation-button"]],decls:2,vars:1,consts:[["type","ghost","data-testid","notificationNavigationButton",3,"buttonClick","isIconOnly"]],template:function(t,o){t&1&&(Kf$2(0,"pfy-button",0),VE("buttonClick",function(){return o.onButtonClick()}),ME(1,"pfa-notification-button"),Xf$2()),t&2&&lE("isIconOnly",true);},dependencies:[dT,We$8,Xo],encapsulation:2,changeDetection:0});}}return n})();var sm=D$a(Kc$2());var om=(n,i)=>n?i?.hint?i.hint.text:"Connected":"Not Connected";var rm="manageStores",am="addStore",nn=(()=>{class n{constructor(e,t,o,r,a){this.router=e,this.authStorageService=t,this.fullUrlFormatPipe=o,this.storesService=r,this.salesChannelService=a,this.storeActionStatusMap=new yn$7({}),this.stores$=this.salesChannelService.getByStoreId$.pipe(Ac$3(s=>Hp$2([this.storesService.stores$,this.storesService.selectedStore$,this.storeActionStatusMap]).pipe(ie$b(([c,m,C])=>c.map(M=>{let W=s(M.id);return W?this.createStoreMenuItem({store:M,salesChannel:W,selectedStore:m,storeActionStatusMap:C}):null}).filter(M=>!!M)),ie$b(n.placeStoresWithActionsFirst))),_c$3(1)),this.selectedStore$=this.stores$.pipe(ie$b(s=>s.find(c=>c.isActive)),Ye$b(s=>!!s)),this.hasAction$=this.stores$.pipe(ie$b(s=>s.some(c=>!!c.action))),this.vm$=Hp$2([this.authStorageService.isAuthorized$,this.authStorageService.isEmbedded$,this.stores$,this.selectedStore$,this.hasAction$,this.storesService.addStoreDisabled$]).pipe(ie$b(([s,c,m,C,M,W])=>s?{isEmbedded:c,stores:m,selectedStore:C,hasAction:M,addStoreAction:{value:am},addStoreDisabled:W,manageStoresAction:{href:this.fullUrlFormatPipe.transform("account/my-stores"),value:rm}}:null));}onMenuItemSelected(e){if(e.value!==rm){if(e.value===am){this.router.navigate([Kn$2,hg$1]);return}this.handleSelectionOfStore(e);}}executeAction(e){let t=e.value,o=e.action;(0, sm.assert)(!!o,"Action is not defined"),this.setStoreActionStatus(t,true),o.handler().pipe(mt$8(1),xc$2(()=>this.setStoreActionStatus(t,false))).subscribe();}setStoreActionStatus(e,t){this.storeActionStatusMap.next(x$d(w$9({},this.storeActionStatusMap.value),{[e]:t}));}handleSelectionOfStore(e){if(e.isActive||this.storesService.switchStore(e.value),!e.isConnected){this.router.navigate([Kn$2,hg$1],{queryParams:{storeId:e.value}});return}this.shouldRedirectToMyProductsPage()&&this.router.navigateByUrl("/store/products/1");}shouldRedirectToMyProductsPage(){return ["/store/products/","/orders/","/store/settings/"].every(e=>!this.router.url.includes(e))}createStoreMenuItem({store:e,salesChannel:t,selectedStore:o,storeActionStatusMap:r}){let a=this.salesChannelService.executeMethod(t.id,"getStoreAction",t),s=this.salesChannelService.executeMethod(t.id,"getStoreDomain",e,t);return {name:e.branding.brand||"Unnamed store",value:e.id,image:{src:t.logoUrl,alt:t.name},isActive:e.id===o.id,isActionInProgress:r[e.id]??false,isConnected:e.connected,action:a,hasError:a?.hint?.status===ot$a.Error,connectionStatusText:om(e.connected,a),domain:s?Zh(s):""}}static placeStoresWithActionsFirst(e){return [...e].sort((t,o)=>+!!o.action-+!!t.action)}static{this.\u0275fac=function(t){return new(t||n)(pe$9(ve$8),pe$9(we$5),pe$9(dt$4),pe$9(Ro$2),pe$9(Pt$2))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();function Zh(n=""){return n.replace(/https?:\/\//,"")}var Xh=["storeListContainer"];function Jh(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-button",15),VE("click",function(o){return nR(e),rR(o.stopPropagation())})("buttonClick",function(){nR(e);let o=tP().$implicit,r=tP(2);return rR(r.onStoreAction(o))}),fP(1),Xf$2();}if(n&2){let e=i,t=tP().$implicit,o=tP(2);lE("type",e.type)("size",o.buttonSize.Small)("loading",t.isActionInProgress)("pfyTooltip",e.tooltip),GI("data-analyticsid",o.getActionAnalyticsId(e)),xR(),ip$2(" ",e.text," ");}}function ef(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-menu-item",8),VE("click",function(){let o=nR(e).$implicit,r=tP(2);return rR(r.onMenuItemSelected(o))}),Kf$2(1,"div",9)(2,"div",10),ME(3,"img",11),Xf$2(),Kf$2(4,"p",12),fP(5),Xf$2(),Kf$2(6,"small",13),fP(7),Xf$2(),kI(8,Jh,2,6,"pfy-button",14),Xf$2()();}if(n&2){let e,t=i.$implicit;dE("selected",t.isActive),xR(),dE("has-action",!!t.action)("has-error",t.hasError),xR(2),lE("src",t.image.src,sy$2)("alt",t.image.alt),xR(),lE("title",t.name),xR(),WE(t.name),xR(2),ip$2(" ",t.connectionStatusText," "),xR(),QR((e=t.action)?8:-1,e);}}function tf(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-menu-dropdown-result",1)(1,"div",2),TP(2,"async"),Kf$2(3,"div",3,0),TP(5,"async"),VE("scroll",function(){nR(e);let o=dP(4),r=tP();return rR(r.onScroll(o))}),JR(6,ef,9,12,"pfy-menu-item",4,GR().trackMenuItemByValue,true),Xf$2()(),ME(8,"pfy-menu-divider-item",5),Kf$2(9,"pfy-menu-internal-link-item",6),fP(10," Manage my stores "),Xf$2(),Kf$2(11,"pfy-menu-internal-link-item",7),fP(12," Add a new store "),Xf$2()();}if(n&2){let e=i,t=tP();xR(),dE("has-more-content",_P(2,6,t.hasMoreContent$)),xR(2),dE("scrollable",_P(5,8,t.isScrollable$)),xR(3),KR(e.stores),xR(5),lE("disabled",!!e.addStoreDisabled)("tooltip",e.addStoreDisabled);}}var Jo=(()=>{class n{constructor(e){this.storesMenuService=e,this.buttonSize=lt$7,this.isScrollable$=new yn$7(false),this.hasMoreContent$=new yn$7(false),this.vm$=this.storesMenuService.vm$;}ngAfterViewInit(){if(!this.storeListContainerRef)return;let e=this.storeListContainerRef.nativeElement,t=e.scrollHeight>e.clientHeight;this.isScrollable$.next(t),this.hasMoreContent$.next(t);}trackMenuItemByValue(e,t){return t.value}onScroll(e){let t=e.scrollHeight>e.clientHeight,o=e.scrollHeight===e.scrollTop+e.clientHeight;this.hasMoreContent$.next(t&&!o);}onStoreAction(e){this.storesMenuService.executeAction(e);}onMenuItemSelected(e){this.storesMenuService.onMenuItemSelected(e);}getActionAnalyticsId(e){return e.analyticsId?`storesDropdown${ze$7(e.analyticsId)}`:null}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(nn))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-stores-menu-dropdown-result"]],viewQuery:function(t,o){if(t&1&&iP(Xh,5,Uo$5),t&2){let r;sP(r=aP())&&(o.storeListContainerRef=r.first);}},decls:2,vars:3,consts:[["storeListContainer",""],["data-testid","dropdownResult",1,"stores-menu-result"],[1,"scroll-overlay"],[1,"store-items-container",3,"scroll"],[1,"store-item",3,"selected"],[1,"menu-divider"],["data-analyticsid","manageMyStores","path","/account/my-stores"],["data-analyticsid","addNewStore","path","/sales-channels/selection","iconRight","add",3,"disabled","tooltip"],[1,"store-item",3,"click"],["data-testid","storeMenuItem","data-analyticsid","storeMenuItem",1,"store"],[1,"store-image"],["height","24","width","24",3,"src","alt"],["data-testid","storeName",1,"store-name",3,"title"],["data-testid","storeConnectionStatus",1,"store-connection-status"],["data-testid","storeActionBtn",1,"store-action-btn",3,"type","size","loading","pfyTooltip"],["data-testid","storeActionBtn",1,"store-action-btn",3,"click","buttonClick","type","size","loading","pfyTooltip"]],template:function(t,o){if(t&1&&(kI(0,tf,13,10,"pfy-menu-dropdown-result",1),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.vm$))?0:-1,r);}},dependencies:[Gs$2,zd$1,dT,We$8,mx,_x,Ro$3,vx,ft$6],styles:['@charset "UTF-8";.stores-menu-result[_ngcontent-%COMP%]{width:100%}@media (min-width: 480px){.stores-menu-result[_ngcontent-%COMP%]{min-width:340px}}.store-items-container[_ngcontent-%COMP%]{max-height:245px;overflow-x:hidden}.store-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:.25rem}.store-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#f5f5f0;border-radius:4px}.store-items-container.scrollable[_ngcontent-%COMP%]{padding-right:.5rem;margin-right:-.5rem}.store-item[_ngcontent-%COMP%], .menu-divider[_ngcontent-%COMP%]{margin-bottom:.5rem}.selected[_ngcontent-%COMP%]{background:#e0e0d7;border-radius:4px}pfy-menu-item[_ngcontent-%COMP%]:hover{position:relative;z-index:10}.store[_ngcontent-%COMP%]{display:grid;grid-template-areas:"image name action" ". connection-status action";column-gap:.5rem;grid-template-columns:32px 1fr;align-items:center}.store.has-action[_ngcontent-%COMP%]   .store-image[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;background-color:#d12c2c;border-radius:50%;width:.5rem;height:.5rem}.store.has-error[_ngcontent-%COMP%]   .store-connection-status[_ngcontent-%COMP%]{font-weight:700;color:#d12c2c}.store-image[_ngcontent-%COMP%]{grid-area:image;position:relative;border-radius:50%}.store-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.store-name[_ngcontent-%COMP%]{grid-area:name;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.store-connection-status[_ngcontent-%COMP%]{grid-area:connection-status;color:#64634a}.store-action-btn[_ngcontent-%COMP%]{grid-area:action}'],changeDetection:0});}}return n})();function nf(n,i){if(n&1&&(Kf$2(0,"pfy-button",3)(1,"div",4),ME(2,"img",5),Xf$2()()),n&2){let e=tP(2);dE("has-action",e.hasAction),lE("isIconOnly",true),xR(2),lE("src",e.selectedStore==null?null:e.selectedStore.image.src,sy$2)("alt",e.selectedStore==null?null:e.selectedStore.image.alt);}}function of(n,i){if(n&1&&ME(0,"pfa-stores-menu-dropdown-result",6),n&2){let e=tP(3);dE("fullWidth",e.isSmallMobile()),lE("shouldSetMaxHeight",false);}}function rf(n,i){if(n&1&&(Kf$2(0,"pfy-dropdown",0),kI(1,nf,3,5,"pfy-button",1)(2,of,1,3,"pfa-stores-menu-dropdown-result",2),Xf$2()),n&2){let e=tP(2);lE("customPositions",e.dropdownPositions)("fullWidth",false)("stretch",e.isSmallMobile())("verticalOffset",e.verticalOffset());}}function af(n,i){n&1&&kI(0,rf,3,4,"pfy-dropdown",0),n&2&&QR(i.isEmbedded?-1:0);}var sf=20,lm=(()=>{class n{constructor(){this.viewInit$=new In$7(1),this.storesMenuService=N$8(nn),this.viewportService=N$8(nn$6),this.vm$=this.storesMenuService.vm$,this.dropdownPositions=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:20,panelClass:"header-menu-panel"}],this.isSmallMobile=Wn$4(this.viewportService.matchBelow(gt$7.S)),this.verticalOffset=HP(()=>this.isSmallMobile()?sf:0);}ngAfterViewInit(){this.viewInit$.next(),this.viewInit$.complete();}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-stores-menu-dropdown-button"]],decls:2,vars:3,consts:[["data-analyticsid","storesDropdown","data-testid","dropdownButton",3,"customPositions","fullWidth","stretch","verticalOffset"],["pfyDropdownAction","","type","ghost","data-testid","storeSelectorButton",3,"isIconOnly","has-action",4,"pfyDropdownInput"],["pfyDropdownResultAction","","class","stores-menu-dropdown-result","data-testid","dropdownResult",3,"shouldSetMaxHeight","fullWidth",4,"pfyDropdownResult"],["pfyDropdownAction","","type","ghost","data-testid","storeSelectorButton",3,"isIconOnly"],[1,"store-image"],["height","24","width","24",3,"src","alt"],["pfyDropdownResultAction","","data-testid","dropdownResult",1,"stores-menu-dropdown-result",3,"shouldSetMaxHeight"]],template:function(t,o){if(t&1&&(kI(0,af,1,1),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.vm$))?0:-1,r);}},dependencies:[Gs$2,zd$1,Jo,dT,We$8,hs$2,xo$3,gs$1,ms$2,yl$1],styles:['@charset "UTF-8";.stores-menu-dropdown-result[_ngcontent-%COMP%]{width:100%}.store-image[_ngcontent-%COMP%]{width:24px;height:24px}.has-action[_ngcontent-%COMP%]{position:relative}.has-action[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;transform:translate(-50%);background-color:#d12c2c;border-radius:50%;width:.5rem;height:.5rem}'],changeDetection:0});}}return n})();var dm=(()=>{class n{constructor(){this.modalDialogSize=Sl$1,this.buttonType=Ze$5;}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-pending-downloads-sign-out-modal"]],decls:1,vars:4,consts:[["message","Signing out now will cancel and lose any progress for the current invoice download preparation process.","primaryAction","Yes, sign out","secondaryAction","No, cancel",3,"pinToTop","title","modalSize","primaryActionButtonType"]],template:function(t,o){t&1&&ME(0,"pfy-modal-dialog",0),t&2&&lE("pinToTop",true)("title","Sign out now and cancel download?")("modalSize",o.modalDialogSize.M)("primaryActionButtonType",o.buttonType.Destructive);},dependencies:[dT,Fo$1],encapsulation:2,changeDetection:0});}}return n})();var er=(()=>{class n{constructor(){this.sellersClubService=N$8(Ze$2),this.externalUrlService=N$8(go$2),this.featureTogglesService=N$8(te$5),this.toastService=N$8(rO),this.dialogService=N$8(zu$1),this.router=N$8(ve$8),this.authenticationService=N$8($e$5),this.bulkDownloadDialogService=N$8(Bt),this.window=N$8(Q$9);}buildLogoLink(){return `/${M$8}`}buildDivider(){return {type:bo$3.Divider}}buildDashboardItem(){return {type:bo$3.InternalLink,text:"Dashboard",path:`/${M$8}`,iconLeft:"home"}}buildCatalogItem(e,t){return {type:t,text:"Catalog",iconLeft:"content_paste",items:e,analyticsId:"openCatalogMenu"}}buildMyProductsItem(){return {type:bo$3.InternalLink,text:"My products",path:"/store/products",iconLeft:"sell"}}buildPromotionsItem(){return {type:bo$3.InternalLink,text:"Promotions",path:"/store/promotions",iconLeft:"verified"}}buildOrdersItem(e){return {type:bo$3.InternalLink,text:"Orders",path:`/store/${e}/orders`,iconLeft:"local_shipping"}}buildWalletItem(e,t){let a=t.connected&&t.salesChannelId===b$9.Storefront?[{type:bo$3.InternalLink,text:"Pop-up Transactions",path:"/storely/payments"}]:[];return {type:e,text:"Wallet",iconLeft:"attach_money",items:[...a,{type:bo$3.InternalLink,text:"Payments",path:"/account/payment/details"},{type:bo$3.InternalLink,text:"Invoices",path:"/invoices"},{type:bo$3.InternalLink,text:"Taxes",path:"/account/indirect-taxes/vat"},{type:bo$3.InternalLink,text:"Rewards Center",path:"/account/cashback"}]}}buildStoreSettingsItem(){return {type:bo$3.InternalLink,text:"Store settings",path:"/store/settings",iconLeft:"settings"}}buildSellersClubItem(){return this.featureTogglesService.isFeatureEnabled(jt$2.MarTechSellersClub)?{type:bo$3.ExternalLink,text:"Sellers Club",url:this.sellersClubService.generalUrl,newTab:true,iconLeft:"atr",analyticsId:"sellersClubNavItemStandalone"}:null}buildBrandingItem(){return {type:bo$3.InternalLink,text:"Branding",path:"/branding-and-gift-messages",iconLeft:"favorite_border",analyticsId:"appNavigationItemBranding"}}buildSubscriptionItem(){return {type:bo$3.InternalLink,text:"Printify Premium",path:"/subscription",iconLeft:"workspace_premium",tooltip:"Get up to 20% off all products in our catalog"}}buildResourcesItem(e){return {type:e,text:"Resources",iconLeft:"school",analyticsId:"appNavigationItemPrintifyAcademyWithMentorship",items:[{type:bo$3.ExternalLink,text:"Webinars",url:this.externalUrlService.toPrintify("webinars/"),newTab:true},{type:bo$3.ExternalLink,text:"Blog",url:this.externalUrlService.toPrintify("blog/"),newTab:true}].filter(t=>!!t)}}buildAccountItem(e,t,o){let r=[{type:bo$3.InternalLink,text:"My account",path:"/account/details"},{type:bo$3.InternalLink,text:"My files",path:"/account/uploaded-files"},{type:bo$3.InternalLink,text:"Connections",path:"/account/api"},{type:bo$3.InternalLink,text:"Settings",path:"/account/settings"}];return o||r.push(this.buildDivider(),{type:bo$3.Action,text:"Sign out",handler:()=>this.handleSignOut()}),{type:t,text:"Account",subText:e.contacts.email,iconLeft:"account_circle",items:r}}handleSignOut(){this.bulkDownloadDialogService.isLoading$.pipe(mt$8(1)).subscribe(e=>{if(!e){this.authenticationService.logout();return}this.showPendingDownloadsLogoutConfirmation();});}showPendingDownloadsLogoutConfirmation(){let e=this.dialogService.open(dm),t=e.afterPrimaryAction().pipe(kc$2(()=>{this.bulkDownloadDialogService.close(),this.authenticationService.logout();})),o=e.afterSecondaryAction();$p$1(t,o).pipe(mt$8(1)).subscribe({complete:()=>e.close()});}buildHelpItem(e,t){let o="zendesk/sso";return {type:t,text:"Need help?",iconLeft:"help",items:[this.buildHelpCenterItem(o,e),this.buildMyRequestsItem(o,e)]}}buildMyRequestsItem(e,t){return t?{type:bo$3.InternalLink,text:"My requests",path:e,queryParams:{return_to:this.externalUrlService.toHelpCenter("requests")},newTab:true}:{type:bo$3.Action,text:"My requests",handler:()=>{this.router.navigateByUrl("account/settings"),this.toastService.error({content:"You have to verify your email before you can access your requests",closingTimeout:0});}}}buildHelpCenterItem(e,t){return t?{type:bo$3.InternalLink,text:"Help Center",path:e,queryParams:{return_to:this.externalUrlService.toHelpCenter()},newTab:true}:{type:bo$3.Action,text:"Help Center",handler:()=>{let o=this.dialogService.open(Fo$1,{title:"Verify your email",message:"You have to verify your email before you can access your personal dialogues",secondaryAction:"To Help Center",primaryAction:"Verify email"});o.afterPrimaryAction().subscribe(()=>{this.router.navigateByUrl("account/settings"),o.close();}),o.afterSecondaryAction().subscribe(()=>{this.window.open(this.externalUrlService.toHelpCenter(),"_blank"),o.close();});}}}buildInsightsItem(){return this.featureTogglesService.isFeatureEnabled(jt$2.MerchantAnalytics)?{type:bo$3.InternalLink,text:"Insights",path:"/insights",iconLeft:"insert_chart"}:null}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var Cn=bo$3.Expandable,tr=(()=>{class n{constructor(e,t,o,r,a,s,c){this.userService=e,this.userSubscriptionService=t,this.catalogNavigationService=o,this.storesService=r,this.navigationService=a,this.salesChannelService=s,this.authStorageService=c,this.viewModel$=Hp$2([this.catalogNavigationService.navigationItems$,this.userService.authenticatedUser$,this.userSubscriptionService.isSubscribed$,this.storesService.id$,this.storesService.selectedStore$,this.salesChannelService.currentSalesChannel$,this.authStorageService.isEmbedded$]).pipe(ie$b(([m,C,M,W,K,{isPromotionsAvailable:$},U])=>({logoLink:this.navigationService.buildLogoLink(),navigation:[this.navigationService.buildDashboardItem(),this.navigationService.buildCatalogItem(m,Cn),this.navigationService.buildMyProductsItem(),$?this.navigationService.buildPromotionsItem():null,this.navigationService.buildOrdersItem(W),this.navigationService.buildWalletItem(Cn,K),this.navigationService.buildInsightsItem(),this.navigationService.buildStoreSettingsItem(),this.navigationService.buildBrandingItem(),this.navigationService.buildDivider(),!M&&this.navigationService.buildSubscriptionItem(),this.navigationService.buildHelpItem(C.email_verified,Cn),this.navigationService.buildResourcesItem(Cn),this.navigationService.buildAccountItem(C,Cn,U)].filter(ue=>!!ue)})));}static{this.\u0275fac=function(t){return new(t||n)(pe$9(J$5),pe$9(BP),pe$9(ri$1),pe$9(Ro$2),pe$9(er),pe$9(Pt$2),pe$9(we$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();function df(n,i){n&1&&(Kf$2(0,"pfy-button",3),ME(1,"pfy-icon",4),Xf$2()),n&2&&(lE("isIconOnly",true),xR(),lE("colorInherit",true));}function pf(n,i){n&1&&ME(0,"pfy-menu",6),n&2&&lE("items",i);}function mf(n,i){if(n&1&&(Kf$2(0,"pfy-menu-dropdown-result",5),kI(1,pf,1,1,"pfy-menu",6),TP(2,"async"),Xf$2()),n&2){let e,t=tP();lE("shouldSetMaxHeight",false),xR(),QR((e=_P(2,2,t.navigationItems$))?1:-1,e);}}var mm=20,um=(()=>{class n{constructor(e,t){this.headerNavigationService=e,this.viewportService=t,this.viewInit$=new In$7(1),this.dropdownPositions=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:mm,panelClass:"header-menu-panel"}],this.navigationItems$=this.headerNavigationService.viewModel$.pipe(ie$b(o=>o.navigation)),this.isSmallMobile=Wn$4(this.viewportService.matchBelow(gt$7.S)),this.verticalOffset=HP(()=>this.isSmallMobile()?mm:0);}ngAfterViewInit(){this.viewInit$.next(),this.viewInit$.complete();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(tr),Yo$4(nn$6))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-header-menu"]],decls:3,vars:4,consts:[["data-analyticsid","openMainMenu",3,"customPositions","fullWidth","stretch","verticalOffset"],["type","ghost","pfyDropdownAction","",3,"isIconOnly",4,"pfyDropdownInput"],["pfyDropdownResultAction","","class","menu-dropdown-result",3,"shouldSetMaxHeight",4,"pfyDropdownResult"],["type","ghost","pfyDropdownAction","",3,"isIconOnly"],["name","menu",3,"colorInherit"],["pfyDropdownResultAction","",1,"menu-dropdown-result",3,"shouldSetMaxHeight"],[3,"items"]],template:function(t,o){t&1&&(Kf$2(0,"pfy-dropdown",0),kI(1,df,2,2,"pfy-button",1)(2,mf,3,4,"pfy-menu-dropdown-result",2),Xf$2()),t&2&&lE("customPositions",o.dropdownPositions)("fullWidth",false)("stretch",o.isSmallMobile())("verticalOffset",o.verticalOffset());},dependencies:[Gs$2,zd$1,dT,We$8,hs$2,xo$3,gs$1,ms$2,yl$1,YS,_x,ge$9],styles:['@charset "UTF-8";.menu-dropdown-result[_ngcontent-%COMP%]{max-height:calc(80vh - var(--app-content-offset-top))}@media (min-width: 480px){.menu-dropdown-result[_ngcontent-%COMP%]{min-width:340px}}'],changeDetection:0});}}return n})();function hf(n,i){}function ff(n,i){n&1&&(Kf$2(0,"div",1),kI(1,hf,0,0,"ng-template",7),Xf$2()),n&2&&(xR(),lE("cdkPortalOutlet",i));}var hm=(()=>{class n{constructor(){this.headerCustomContentService=N$8(s$3),this.headerNavigationService=N$8(tr),this.logoColor=Ml$1,this.logoLink$=this.headerNavigationService.viewModel$.pipe(ie$b(e=>e.logoLink)),this.customContent$=this.headerCustomContentService.content$;}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-new-header"]],decls:12,vars:11,consts:[["id","header",1,"header"],["data-testid","customContent",1,"custom-content"],["data-testid","standardContent",1,"standard-content",3,"hidden"],[3,"routerLink"],["data-testid","logo",3,"color","fullLogo"],[1,"content-group"],["data-testid","notificationButton"],[3,"cdkPortalOutlet"]],template:function(t,o){if(t&1&&(Kf$2(0,"header",0),kI(1,ff,2,1,"div",1),TP(2,"async"),Kf$2(3,"div",2),TP(4,"async"),Kf$2(5,"a",3),TP(6,"async"),ME(7,"pfy-logo",4),Xf$2(),Kf$2(8,"div",5),ME(9,"pfa-notification-navigation-button",6)(10,"pfa-stores-menu-dropdown-button")(11,"pfa-header-menu"),Xf$2()()()),t&2){let r;xR(),QR((r=_P(2,5,o.customContent$))?1:-1,r),xR(2),lE("hidden",_P(4,7,o.customContent$)),xR(2),lE("routerLink",_P(6,9,o.logoLink$)),xR(2),lE("color",o.logoColor.Monochrome)("fullLogo",true);}},dependencies:[Gs$2,zd$1,Io$4,Ed$1,QM,dT,gx,um,lm,nm],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{display:block;background-color:#fff;border-bottom:1px solid #e0e0d7}.header[_ngcontent-%COMP%]   pfy-logo[_ngcontent-%COMP%]{display:flex}.standard-content[_ngcontent-%COMP%], .custom-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#fff;height:70px;padding-left:1rem;padding-right:1rem}@media (min-width: 840px){.standard-content[_ngcontent-%COMP%], .custom-content[_ngcontent-%COMP%]{padding-right:1.25rem;padding-left:1.25rem}}.custom-content[_ngcontent-%COMP%]{padding:0;justify-content:flex-start}.content-group[_ngcontent-%COMP%]{display:flex;align-items:center}'],changeDetection:0});}}return n})();var gf=(n,i)=>i.messageId,vf=(n,i)=>i.id,yf=()=>[];function Sf(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-link",10),VE("click",function(){nR(e);let o=tP(2);return rR(o.onMarkAsReadClick())}),fP(1,"Mark all as read"),Xf$2();}if(n&2){let e=tP(2);lE("type",e.markAllAsReadType);}}function _f(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-chip",12),TP(1,"async"),VE("chipClick",function(){let o=nR(e).$implicit,r=tP(3);return rR(r.selectTab(o.id))}),Xf$2();}if(n&2){let e=i.$implicit,t=tP(3);lE("name",e.name)("selected",_P(1,2,t.selectedTab$)===e.id);}}function Cf(n,i){if(n&1&&(Kf$2(0,"pfy-chips",4),JR(1,_f,2,4,"pfy-chip",11,vf),TP(3,"async"),Xf$2()),n&2){let e=tP(2);lE("selectable",true),xR(),KR(_P(3,1,e.tabs$));}}function bf(n,i){if(n&1&&ME(0,"pfa-notification",6),n&2){let e=i.$implicit,t=tP(2);lE("message",e)("compact",true)("location",t.notificationLocation);}}function wf(n,i){n&1&&ME(0,"pfa-notification-skeleton",13);}function Mf(n,i){n&1&&JR(0,wf,1,0,"pfa-notification-skeleton",13,YR),n&2&&KR(vP(0,yf).constructor(4));}function Tf(n,i){if(n&1&&ME(0,"pfa-empty-notifications",7),n&2){let e=tP(2);lE("type",e.emptyNotificationsType);}}function kf(n,i){if(n&1){let e=XR();Kf$2(0,"div",9)(1,"pfy-link",14),VE("click",function(){nR(e);let o=tP(2);return rR(o.hideDropdowns())}),fP(2,"View all notifications"),Xf$2()();}}function Pf(n,i){if(n&1&&(Kf$2(0,"div",1)(1,"div",2)(2,"h4"),fP(3,"Notifications"),Xf$2()(),kI(4,Sf,2,1,"pfy-link",3),TP(5,"async"),Xf$2(),Kf$2(6,"div"),kI(7,Cf,4,3,"pfy-chips",4),TP(8,"async"),Kf$2(9,"div",5),JR(10,bf,1,3,"pfa-notification",6,gf),kI(12,Mf,2,1),TP(13,"async"),kI(14,Tf,1,1,"pfa-empty-notifications",7),TP(15,"async"),ME(16,"div",8,0),Xf$2(),kI(18,kf,3,0,"div",9),Xf$2()),n&2){let e=i,t=tP();xR(4),QR(_P(5,5,t.showMarkAllAsRead$)?4:-1),xR(3),QR(_P(8,7,t.showFilters$)?7:-1),xR(3),KR(e),xR(2),QR(_P(13,9,t.messagesLoading$)?12:-1),xR(2),QR(e.length===0&&_P(15,11,t.messagesLoading$)===false?14:-1),xR(4),QR(e.length>0?18:-1);}}var fm=(()=>{class n extends jn$1{constructor(){super(...arguments),this.dropdownOverlayService=N$8(Io$3),this.markAllAsReadType=Ol$1.Secondary,this.emptyNotificationsType=bt$1.Menu,this.notificationLocation=H.Sidebar;}ngOnInit(){this.eventDispatcherService.dispatch(new re$1),this.notificationService.setNotificationDrawerOpen(true);}ngOnDestroy(){super.ngOnDestroy(),this.notificationService.setNotificationDrawerOpen(false);}hideDropdowns(){this.dropdownOverlayService.hide();}static{this.\u0275fac=(()=>{let e;return function(o){return (e||(e=sR(n)))(o||n)}})();}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-notification-menu"]],features:[bI],decls:2,vars:3,consts:[["notificationEndSentinel",""],[1,"header"],[1,"header-title"],[3,"type"],["data-testid","filters",1,"filters",3,"selectable"],[1,"notifications"],["data-testid","menuNotification",3,"message","compact","location"],[1,"empty-content",3,"type"],[1,"sentinel"],[1,"view-notifications-wrapper"],[3,"click","type"],[3,"name","selected"],[3,"chipClick","name","selected"],["data-testid","notificationSkeleton"],["routerLink","/notifications",3,"click"]],template:function(t,o){if(t&1&&(kI(0,Pf,19,13),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.messages$))?0:-1,r);}},dependencies:[eb,Io$4,jv$1,zd$1,dT,fu$1,jw,Vu$2,Nn$1,fi$1,Wn$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;min-width:529px;max-width:529px;padding:.5rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.5rem 0;align-items:center;gap:.5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center}.filters[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:.5rem -1rem;width:auto;max-width:unset}.notifications[_ngcontent-%COMP%]{height:500px;overflow-y:auto;display:flex;flex-direction:column;gap:.5rem}.sentinel[_ngcontent-%COMP%]{margin-top:-.5rem}.view-notifications-wrapper[_ngcontent-%COMP%]{border-top:1px solid #e0e0d7;margin:.5rem -1rem 0;padding:1rem 1rem 0;display:flex;justify-content:center}.empty-content[_ngcontent-%COMP%]{height:500px;display:flex;flex-direction:column;align-items:center;justify-content:center}'],changeDetection:0});}}return n})();var ir=n=>({$implicit:n});function If(n,i){n&1&&TE(0);}function Ef(n,i){if(n&1&&kI(0,If,1,0,"ng-container",8),n&2){let e=tP().$implicit;tP(2);let t=dP(8);lE("ngTemplateOutlet",t)("ngTemplateOutletContext",IP(2,ir,e));}}function xf(n,i){n&1&&TE(0);}function Af(n,i){if(n&1&&kI(0,xf,1,0,"ng-container",9),n&2){tP(3);let e=dP(12);lE("ngTemplateOutlet",e);}}function Of(n,i){n&1&&TE(0);}function $f(n,i){if(n&1&&kI(0,Of,1,0,"ng-container",8),n&2){let e=tP().$implicit;tP(2);let t=dP(10);lE("ngTemplateOutlet",t)("ngTemplateOutletContext",IP(2,ir,e));}}function Df(n,i){if(n&1&&kI(0,Ef,1,4,"ng-container")(1,Af,1,1,"ng-container")(2,$f,1,4,"ng-container"),n&2){let e,t=i.$implicit;QR((e=t.type)==="link"?0:e==="separator"?1:2);}}function Nf(n,i){n&1&&(Kf$2(0,"div",5),JR(1,Df,3,1,null,null,YR),Xf$2()),n&2&&(xR(),KR(i));}function Rf(n,i){n&1&&TE(0);}function Lf(n,i){if(n&1&&kI(0,Rf,1,0,"ng-container",8),n&2){let e=i.$implicit;tP(3);let t=dP(8);lE("ngTemplateOutlet",t)("ngTemplateOutletContext",IP(2,ir,e));}}function Bf(n,i){if(n&1&&(Kf$2(0,"div",10),JR(1,Lf,1,4,"ng-container",null,YR),Xf$2()),n&2){let e=i.$implicit;xR(),KR(e);}}function Ff(n,i){n&1&&(Kf$2(0,"div",6),JR(1,Bf,3,0,"div",10,YR),Xf$2()),n&2&&(xR(),KR(i));}function jf(n,i){n&1&&TE(0);}function Uf(n,i){if(n&1&&kI(0,jf,1,0,"ng-container",8),n&2){let e=i.$implicit;tP(2);let t=dP(14);lE("ngTemplateOutlet",t)("ngTemplateOutletContext",IP(2,ir,e));}}function zf(n,i){n&1&&(Kf$2(0,"div",7),JR(1,Uf,1,4,"ng-container",null,YR),Xf$2()),n&2&&(xR(),KR(i));}function Vf(n,i){if(n&1&&(Kf$2(0,"div",11),fP(1),Xf$2()),n&2){let e=i.$implicit;lE("routerLink",e.routePath),xR(),ip$2(" ",e.name," ");}}function Hf(n,i){if(n&1){let e=XR();Kf$2(0,"div",12),TP(1,"async"),VE("click",function(o){let r=nR(e).$implicit,a=tP();return rR(a.handleMenuItemClick(o,r))}),fP(2),ME(3,"pfy-icon",13),Xf$2();}if(n&2){let e=i.$implicit,t=tP();dE("menu-item-active",e.id===_P(1,4,t.selectedMenuItemId)),xR(2),ip$2(" ",e.name," "),xR(),lE("type",t.iconType.Outlined);}}function Kf(n,i){n&1&&ME(0,"div",14);}function Wf(n,i){if(n&1&&(Kf$2(0,"div",15),ME(1,"img",16),TP(2,"cloudflareImage"),TP(3,"ImageUrl"),Kf$2(4,"span",17),fP(5),Xf$2()()),n&2){let e=i.$implicit;lE("routerLink",e.routePath),xR(),lE("alt",e.name)("src",NP(2,5,e.imageUrl,128),sy$2)("pfyPictureFallback",_P(3,8,e.imageUrl)),xR(4),WE(e.name);}}var gm={id:-1,parentId:null,name:"Featured products",type:"menu"},vm=(()=>{class n{constructor(e){this.catalogCategoriesService=e,this.iconType=cs$2,this.selectedMenuItem=new Z$a,this.selectedMenuItemId=this.selectedMenuItem.pipe(ie$b(t=>t.id)),this.catalogManagedCategoryTree$=this.catalogCategoriesService.catalogManagedCategoryTree$,this.rootMenuElements$=this.catalogManagedCategoryTree$.pipe(ie$b(t=>t.defaultCategories.map(o=>Yf(o))),ie$b(t=>Qf(t))),this.subCategoryContainers$=this.catalogManagedCategoryTree$.pipe(ie$b(qf),_c$3(1)),this.selectedCategoryMenu$=Hp$2([this.subCategoryContainers$,this.selectedMenuItemId.pipe(Dr$5())]).pipe(ie$b(([t,o])=>t[o])),this.featuredProductsMenu$=this.catalogManagedCategoryTree$.pipe(ie$b(t=>t.promotionalCategories.map(o=>Zf(o,"products"))),_c$3(1)),this.selectedFeaturedProductsMenu$=this.selectedMenuItemId.pipe(Dr$5(),ie$b(t=>t===gm.id),Ac$3(t=>t?this.featuredProductsMenu$:hi$7(undefined)));}handleMenuItemClick(e,t){e.stopPropagation(),this.selectedMenuItem.next(t);}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(Jc$2))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-catalog-3-layer-navigation"]],decls:15,vars:9,consts:[["link",""],["menu",""],["separator",""],["featuredLink",""],["data-testid","menuContainer",1,"navigation"],["data-testid","rootMenu",1,"root-menu"],["data-testid","subCategories",1,"sub-menu","sub-categories"],["data-testid","featuredProducts",1,"sub-menu","featured-products"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"sub-category-container"],[1,"menu-item","link",3,"routerLink"],[1,"menu-item","menu",3,"click"],["name","chevron_right",1,"menu-icon",3,"type"],[1,"menu-separator"],[1,"menu-item",3,"routerLink"],["data-testid","featuredProductImage",1,"featured-products-image",3,"alt","src","pfyPictureFallback"],[1,"featured-products-title"]],template:function(t,o){if(t&1&&(Kf$2(0,"nav",4),kI(1,Nf,3,0,"div",5),TP(2,"async"),kI(3,Ff,3,0,"div",6),TP(4,"async"),kI(5,zf,3,0,"div",7),TP(6,"async"),Xf$2(),kI(7,Vf,2,2,"ng-template",null,0,OP)(9,Hf,4,6,"ng-template",null,1,OP)(11,Kf,1,0,"ng-template",null,2,OP)(13,Wf,6,10,"ng-template",null,3,OP)),t&2){let r,a,s;xR(),QR((r=_P(2,3,o.rootMenuElements$))?1:-1,r),xR(2),QR((a=_P(4,5,o.selectedCategoryMenu$))?3:-1,a),xR(2),QR((s=_P(6,7,o.selectedFeaturedProductsMenu$))?5:-1,s);}},dependencies:[eb,$d$2,Io$4,F1,zd$1,mt$3,Gv$1,dT,ge$9],styles:['@charset "UTF-8";.navigation[_ngcontent-%COMP%]{position:relative;max-height:650px;display:flex}.navigation[_ngcontent-%COMP%]:after, .navigation[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;height:1rem;display:block}.navigation[_ngcontent-%COMP%]:after{bottom:0;background:linear-gradient(transparent,#fff)}.navigation[_ngcontent-%COMP%]:before{top:0;background:linear-gradient(#ffffff,transparent)}.root-menu[_ngcontent-%COMP%]{padding:.5rem 0 .5rem .5rem;display:flex;gap:.25rem;flex-direction:column;overflow-y:auto}.root-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;justify-content:space-between;font-size:1rem;line-height:1.5rem;border-radius:4px;white-space:nowrap}.root-menu[_ngcontent-%COMP%]   .menu-item-active[_ngcontent-%COMP%], .root-menu[_ngcontent-%COMP%]   .menu-item-active[_ngcontent-%COMP%]   .outlined[_ngcontent-%COMP%]{font-weight:700}.root-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#f5f5f0}.root-menu[_ngcontent-%COMP%]   .menu-item.menu[_ngcontent-%COMP%]{padding:.25rem .25rem .25rem .5rem}.root-menu[_ngcontent-%COMP%]   .menu-item.link[_ngcontent-%COMP%]{padding:.25rem .5rem}.root-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{font-size:1rem;max-height:1rem}.sub-menu[_ngcontent-%COMP%]{margin-left:1rem;padding:.5rem .5rem .5rem 1.5rem;max-width:calc(100vw - 488px);display:grid;justify-items:start;border-left:1px solid #e0e0d7;overflow-y:auto}.sub-categories[_ngcontent-%COMP%]{gap:.75rem .5rem;grid-template-columns:repeat(auto-fill,minmax(100px,200px))}.sub-categories[_ngcontent-%COMP%]   .sub-category-container[_ngcontent-%COMP%]{padding:.25rem 0;display:flex;flex-direction:column;gap:.25rem}.sub-categories[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.sub-categories[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-of-type{font-size:1rem;font-weight:700;line-height:1.5rem}.featured-products[_ngcontent-%COMP%]{gap:.5rem;grid-template-columns:repeat(auto-fill,300px)}.featured-products[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{width:300px;height:120px;display:flex;gap:.25rem;background-color:#f5f5f0;border-radius:4px;overflow:hidden}.featured-products-image[_ngcontent-%COMP%]{width:120px;height:120px}.featured-products-title[_ngcontent-%COMP%]{align-self:center;font-family:Gravity,sans-serif;font-size:1.25rem;font-weight:900;line-height:1.75rem}.menu-item[_ngcontent-%COMP%]{color:#2f2e0c;cursor:pointer}.menu-separator[_ngcontent-%COMP%]{margin:.5rem 0;width:100%;height:0;border-top:1px solid #e0e0d7}'],changeDetection:0});}}return n})();function qf(n){return n.defaultCategories.reduce((i,e)=>(i[e.id]=e.children.map(Gf),i),{})}function Gf(n){let i=ra(n,"products"),e=n.children.map(t=>ra(t,"products"));return [i,...e]}function Qf(n){return [{name:"Catalog Home",routePath:"products",type:"link"},...n,{type:"separator"},gm,{type:"separator"},{name:"Print Providers",routePath:"print-providers",type:"link"},{name:"Brands",routePath:"brands",type:"link"},{type:"separator"},{name:"My Favorites",routePath:"favorite-products",type:"link"}]}function Yf(n){return {id:n.id,parentId:n.parent_id,name:n.name,type:"menu"}}function ra(n,i){return {id:n.id,parentId:n.parent_id,name:n.name,routePath:`${i}/${n.slugPath}`,type:"link"}}function Zf(n,i){return x$d(w$9({},ra(n,i)),{imageUrl:n.default_image||"",type:"featured"})}function Xf(n,i){if(n&1&&(Kf$2(0,"pfy-link",5),fP(1),Xf$2()),n&2){let e=i;lE("routerLink",e.url),xR(),ip$2(" ",e.text," ");}}function Jf(n,i){n&1&&TE(0);}function eg(n,i){n&1&&TE(0);}function tg(n,i){if(n&1&&kI(0,Jf,1,0,"ng-container",6)(1,eg,1,0,"ng-container",6),n&2){tP();let e=dP(5),t=dP(7);lE("ngTemplateOutlet",t),xR(),lE("ngTemplateOutlet",e);}}function ig(n,i){n&1&&TE(0);}function ng(n,i){n&1&&TE(0);}function og(n,i){if(n&1&&kI(0,ig,1,0,"ng-container",6)(1,ng,1,0,"ng-container",6),n&2){tP();let e=dP(5),t=dP(7);lE("ngTemplateOutlet",e),xR(),lE("ngTemplateOutlet",t);}}function rg(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"New"),Xf$2());}function ag(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"Beta"),Xf$2());}function sg(n,i){if(n&1&&(Kf$2(0,"pfy-link",9),fP(1),kI(2,rg,2,0,"pfy-badge",10)(3,ag,2,0,"pfy-badge",10),Xf$2()),n&2){let e=i.$implicit,t=tP(4);zR("nav-item ",e.class,""),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),QR(t.navigationItemsPromotedAsNew.includes(e.text)?2:-1),xR(),QR(t.navigationItemsPromotedAsBeta.includes(e.text)?3:-1);}}function cg(n,i){if(n&1&&(Kf$2(0,"div",7),JR(1,sg,4,7,"pfy-link",8,YR),Xf$2()),n&2){let e=tP(2);xR(),KR(e.navigationItems.additional);}}function lg(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"New"),Xf$2());}function dg(n,i){n&1&&(Kf$2(0,"pfy-badge",10),fP(1,"Beta"),Xf$2());}function pg(n,i){if(n&1&&(Kf$2(0,"pfy-link",18),fP(1),kI(2,lg,2,0,"pfy-badge",10)(3,dg,2,0,"pfy-badge",10),Xf$2()),n&2){let e=i.$implicit,t=tP(5);zR("nav-item nav-item-child ",e.class,""),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),QR(t.navigationItemsPromotedAsNew.includes(e.text)?2:-1),xR(),QR(t.navigationItemsPromotedAsBeta.includes(e.text)?3:-1);}}function mg(n,i){if(n&1){let e=XR();Kf$2(0,"div",11)(1,"pfy-link",12),fP(2),Xf$2(),Kf$2(3,"button",13),VE("click",function(o){let r=nR(e).$implicit,a=tP(4);return rR(a.onMobileMenuToggle(o,r))}),Kf$2(4,"div",14),fP(5),ME(6,"pfy-icon",15),Xf$2()(),Kf$2(7,"div",16),JR(8,pg,4,7,"pfy-link",17,YR),Xf$2()();}if(n&2){let e=i.$implicit,t=tP(4);xR(),lE("routerLink",e.url),xR(),ip$2(" ",e.text," "),xR(),dE("is-opened",t.activeItem===e),xR(2),ip$2(" ",e.text," "),xR(3),KR(e.children);}}function ug(n,i){if(n&1&&JR(0,mg,10,5,"div",11,YR),n&2){let e=tP(2);KR(e.navigationItems.standard);}}function hg(n,i){if(n&1&&(kI(0,Xf,2,2,"pfy-link",5)(1,tg,2,2),TP(2,"async"),kI(3,og,2,2)(4,cg,3,0,"ng-template",null,0,OP)(6,ug,2,0,"ng-template",null,1,OP)),n&2){let e,t=tP(),o=tP();QR((e=t.navigationItems.catalogHome)?0:-1,e),xR(),QR(_P(2,2,o.isMobile$)?1:3);}}function fg(n,i){n&1&&ME(0,"pfy-loader-circular",4);}function gg(n,i){n&1&&(Kf$2(0,"div",3),kI(1,hg,8,4)(2,fg,1,0,"pfy-loader-circular",4),Xf$2()),n&2&&(xR(),QR(i.isLoading?2:1));}var ym=(()=>{class n extends tn{static{this.\u0275fac=(()=>{let e;return function(o){return (e||(e=sR(n)))(o||n)}})();}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-catalog-navigation-standalone"]],features:[gP([_n]),bI],decls:3,vars:3,consts:[["additionalItems",""],["items",""],["data-analyticsid","banners","data-testid","banners"],["routerLinkActive","",1,"nav"],["data-testid","loadingIndicator","data-analyticsid","loadingIndicator"],["type","secondary","data-analyticsid","catalogHome","tabindex","-1",1,"nav-item","nav-item-featured-products-mobile",3,"routerLink"],[4,"ngTemplateOutlet"],[1,"nav-items","nav-items-additional"],["type","secondary","data-analyticsid","navigationItem","tabindex","-1",3,"class","routerLink"],["type","secondary","data-analyticsid","navigationItem","tabindex","-1",3,"routerLink"],["color","blue"],[1,"nav-items","nav-items-standard"],["data-testid","navigationItemParent","data-analyticsid","navigationItemParent","type","secondary","tabindex","-1",1,"nav-item","nav-item-parent",3,"routerLink"],["data-testid","mobileMenuToggle","data-analyticsid","mobileMenuToggle",1,"nav-item","nav-item-mobile-toggle",3,"click"],[1,"nav-item-content"],["name","expand_more",1,"expand-more"],[1,"nav-item-children"],["type","secondary","data-analyticsid","navigationItemChild","tabindex","-1",3,"class","routerLink"],["type","secondary","data-analyticsid","navigationItemChild","tabindex","-1",3,"routerLink"]],template:function(t,o){if(t&1&&(ME(0,"pfa-promo-banners",2),kI(1,gg,3,1,"div",3),TP(2,"async")),t&2){let r;xR(),QR((r=_P(2,1,o.viewModel$))?1:-1,r);}},dependencies:[eb,$d$2,Io$4,ef$2,jv$1,zd$1,dT,hl$1,Vu$2,du$2,ge$9,en],styles:['@charset "UTF-8";[_nghost-%COMP%]     .link .content{text-decoration:none!important}.nav[_ngcontent-%COMP%]{display:flex;position:relative;min-height:180px;gap:.5rem;flex-direction:column}@media (min-width: 960px){.nav[_ngcontent-%COMP%]{padding:2rem 0;gap:1.5rem;flex-direction:row}}.nav-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.nav-items-standard[_ngcontent-%COMP%]{gap:.5rem;white-space:nowrap}@media (min-width: 960px){.nav-items-standard[_ngcontent-%COMP%]{gap:1rem}}.nav-items-additional[_ngcontent-%COMP%]{min-width:168px;font-weight:700;gap:.75rem}.nav-item[_ngcontent-%COMP%]{display:grid}@media (max-width: 959px){.nav-item[_ngcontent-%COMP%]{padding:.5rem 1rem .5rem 2.5rem}.nav-items-additional[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:first-child{display:none}}.nav-item.is-opened[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav-item.is-opened[_ngcontent-%COMP%] + .nav-item-children[_ngcontent-%COMP%]{display:flex}.nav-item.divider-top[_ngcontent-%COMP%]{position:relative;margin-top:-.75rem}.nav-item.divider-top[_ngcontent-%COMP%]:before{margin:1.5rem 0;content:"";width:100%;border-top:1px solid #e0e0d7}.nav-item[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{transition:transform .15s ease;font-size:1.25rem;max-height:1.25rem;margin-top:.125rem}@media (max-width: 959px){.nav-item[_ngcontent-%COMP%]   .expand-more[_ngcontent-%COMP%]{position:absolute;right:1rem}}.nav-item-mobile-toggle[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;display:flex;color:#2f2e0c;cursor:pointer;border-radius:4px;background:none;border:none;width:100%}@media (min-width: 600px){.nav-item-mobile-toggle[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.nav-item-mobile-toggle[_ngcontent-%COMP%]:hover, .nav-item-mobile-toggle.opened[_ngcontent-%COMP%]{background-color:#f5f5f0}.nav-item-mobile-toggle[_ngcontent-%COMP%]:focus-visible{outline:2px solid #0096cc}@media (min-width: 960px){.nav-item-mobile-toggle[_ngcontent-%COMP%]{display:none}}.nav-item-parent[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 959px){.nav-item-parent[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;display:none}}@media (max-width: 959px) and (min-width: 600px){.nav-item-parent[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem}}.nav-item-children[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:.5rem}@media (min-width: 960px){.nav-item-children[_ngcontent-%COMP%]{display:flex}}.nav-item-child[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:400;padding:.5rem 0 .5rem 3rem}@media (min-width: 600px){.nav-item-child[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 960px){.nav-item-child[_ngcontent-%COMP%]{padding:0}.nav-item-child[_ngcontent-%COMP%]:first-child{display:none}}.nav-item-featured-products-mobile[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 960px){.nav-item-featured-products-mobile[_ngcontent-%COMP%]{display:none}}.nav-item-content[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 960px){.nav-item-content[_ngcontent-%COMP%]{font-weight:400}}','@charset "UTF-8";@media (min-width: 960px){.nav[_ngcontent-%COMP%]{padding:1.5rem}}'],changeDetection:0});}}return n})();function vg(n,i){if(n&1&&(Kf$2(0,"pfy-menu-item"),fP(1),Xf$2()),n&2){let e=tP();xR(),ip$2(" ",e.selectedStore==null?null:e.selectedStore.name," ");}}function yg(n,i){if(n&1&&(Kf$2(0,"pfy-menu-item",4),TP(1,"async"),TP(2,"async"),Kf$2(3,"div",5)(4,"div",6),ME(5,"img",7),Xf$2(),Kf$2(6,"span",8),fP(7),Xf$2()()()),n&2){let e=tP(2),t=tP();lE("highlighted",_P(1,7,t.isDropdownOpen$))("iconRight",_P(2,9,t.itemIcon$)),xR(3),dE("has-action",e.hasAction),xR(2),lE("src",e.selectedStore==null?null:e.selectedStore.image.src,sy$2)("alt",e.selectedStore==null?null:e.selectedStore.image.alt),xR(2),ip$2(" ",e.selectedStore==null?null:e.selectedStore.name," ");}}function Sg(n,i){if(n&1&&ME(0,"pfa-stores-menu-dropdown-result",9),n&2){let e=tP(2);dE("has-action",e.hasAction),lE("shouldSetMaxHeight",false);}}function _g(n,i){if(n&1&&(Kf$2(0,"pfy-dropdown",1,0),kI(2,yg,8,11,"pfy-menu-item",2)(3,Sg,1,3,"pfa-stores-menu-dropdown-result",3),Xf$2()),n&2){let e=tP(2);lE("customPositions",e.dropdownPositions)("fullWidth",false);}}function Cg(n,i){n&1&&kI(0,vg,2,1,"pfy-menu-item")(1,_g,4,2,"pfy-dropdown",1),n&2&&QR(i.isEmbedded?0:1);}var Sm=(()=>{class n{constructor(e,t,o,r){this.storesMenuService=e,this.salesChannelmerchantVerificationService=t,this.salesChannelService=o,this.dialogService=r,this.viewInit$=new In$7(1),this.vm$=this.storesMenuService.vm$.pipe(Ac$3(a=>this.salesChannelmerchantVerificationService.getDialog().pipe(kc$2(s=>{s&&this.openDialog(s);}),Ac$3(()=>this.getPersonalizationPromoDialog().pipe(kc$2(s=>{s&&this.openDialog(s);}),ie$b(()=>a)))))),this.isDropdownOpen$=this.viewInit$.pipe(Ac$3(()=>this.dropdownComponentService?.changes.pipe(Sc$2(this.dropdownComponentService))||hi$7([])),Ac$3(([a])=>a?.isOpen$||hi$7(false)),Sc$2(false),Dr$5()),this.itemIcon$=this.isDropdownOpen$.pipe(ie$b(a=>a?"unfold_less":"unfold_more")),this.dropdownPositions=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:24},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:24},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom",offsetX:24}];}ngAfterViewInit(){this.viewInit$.next(),this.viewInit$.complete();}openDialog(e){this.dialogService.open(e);}getPersonalizationPromoDialog(){return this.salesChannelService.currentSalesChannel$.pipe(mt$8(1),Ac$3(e=>this.salesChannelService.executeMethod(e.id,"getComponentForSlot",ct$3.PersonalizationPromoModal)))}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(nn),Yo$4(v$2),Yo$4(Pt$2),Yo$4(zu$1))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-stores-menu"]],viewQuery:function(t,o){if(t&1&&iP(pn$6,5),t&2){let r;sP(r=aP())&&(o.dropdownComponentService=r);}},decls:2,vars:3,consts:[["dropdown",""],["data-analyticsid","storesDropdown","data-testId","storesDropdown",3,"customPositions","fullWidth"],["pfyDropdownAction","","data-testid","dropdownAction",3,"highlighted","iconRight",4,"pfyDropdownInput"],["pfyDropdownResultAction","","class","stores-menu-dropdown-result","data-testid","dropdownResult",3,"shouldSetMaxHeight","has-action",4,"pfyDropdownResult"],["pfyDropdownAction","","data-testid","dropdownAction",3,"highlighted","iconRight"],["data-analyticsid","selectedStore","data-testid","selectedStore",1,"selected-store"],[1,"store-image"],["height","24","width","24",3,"src","alt"],["data-testid","selectedStoreName",1,"text-ellipsis","label"],["pfyDropdownResultAction","","data-testid","dropdownResult",1,"stores-menu-dropdown-result",3,"shouldSetMaxHeight"]],template:function(t,o){if(t&1&&(kI(0,Cg,2,1),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.vm$))?0:-1,r);}},dependencies:[Gs$2,zd$1,dT,hs$2,xo$3,gs$1,ms$2,yl$1,Ro$3,Jo],styles:['@charset "UTF-8";.selected-store[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.selected-store.has-action[_ngcontent-%COMP%]   .store-image[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;top:0;right:0;background-color:#d12c2c;border-radius:50%;width:.5rem;height:.5rem}.store-image[_ngcontent-%COMP%]{position:relative;width:24px;height:24px}.label[_ngcontent-%COMP%]{margin-left:.25rem}.stores-menu-dropdown-result.has-action[_ngcontent-%COMP%]     pfy-menu-dropdown-result{width:340px}'],changeDetection:0});}}return n})();var nr=bo$3.Dropdown,_m=(()=>{class n{constructor(e,t,o,r,a,s,c){this.userService=e,this.userSubscriptionService=t,this.featureTogglesService=o,this.storesService=r,this.navigationService=a,this.salesChannelService=s,this.authStorageService=c,this.viewModel$=Hp$2([this.authStorageService.isEmbedded$,this.userService.authenticatedUser$,this.userSubscriptionService.isSubscribed$,this.storesService.id$,this.storesService.selectedStore$,this.salesChannelService.currentSalesChannel$,this.featureTogglesService.featuresReady$]).pipe(ie$b(([m,C,M,W,K,{isPromotionsAvailable:$}])=>({logoLink:this.navigationService.buildLogoLink(),topNavigation:[this.navigationService.buildDashboardItem(),this.navigationService.buildMyProductsItem(),$?this.navigationService.buildPromotionsItem():null,this.navigationService.buildOrdersItem(W),this.navigationService.buildWalletItem(nr,K),this.navigationService.buildInsightsItem(),this.navigationService.buildStoreSettingsItem(),this.navigationService.buildBrandingItem()].filter(U=>!!U),bottomNavigation:[this.navigationService.buildSellersClubItem(),!M&&this.navigationService.buildSubscriptionItem(),this.navigationService.buildHelpItem(C.email_verified,nr),this.navigationService.buildResourcesItem(nr)].filter(U=>!!U),accountNavigation:[this.navigationService.buildAccountItem(C,nr,m)]})));}static{this.\u0275fac=function(t){return new(t||n)(pe$9(J$5),pe$9(BP),pe$9(te$5),pe$9(Ro$2),pe$9(er),pe$9(Pt$2),pe$9(we$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();function wg(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-sidebar",4,2),VE("collapse",function(o){nR(e);let r=tP();return rR(r.onCollapse(o))}),Kf$2(2,"pfy-sidebar-section",5),ME(3,"pfa-stores-menu"),Xf$2(),Kf$2(4,"pfy-sidebar-section",6),ME(5,"pfy-menu",7),TP(6,"async"),TE(7,8)(8,8),ME(9,"pfy-menu",9),TP(10,"async"),ME(11,"pfy-menu",10),Xf$2(),Kf$2(12,"pfy-sidebar-section"),ME(13,"pfy-menu",11),Xf$2()();}if(n&2){let e=i,t=tP(),o=dP(3),r=dP(5);lE("logoLink",e.logoLink)("isCollapsible",true)("initialIsCollapsedState",t.initialIsCollapsedState),xR(5),lE("items",_P(6,9,t.topNavigationPart1$)),xR(2),lE("ngTemplateOutlet",r),xR(),lE("ngTemplateOutlet",o),xR(),lE("items",_P(10,11,t.topNavigationPart2$)),xR(2),lE("items",e.bottomNavigation),xR(2),lE("items",e.accountNavigation);}}function Mg(n,i){if(n&1){let e=XR();Kf$2(0,"pfa-catalog-3-layer-navigation",17),VE("click",function(){nR(e);let o=tP(3);return rR(o.hideDropdowns())}),Xf$2();}}function Tg(n,i){n&1&&kI(0,Mg,1,0,"pfa-catalog-3-layer-navigation",16);}function kg(n,i){if(n&1){let e=XR();Kf$2(0,"pfa-catalog-navigation-standalone",19),VE("click",function(){nR(e);let o=tP(3);return rR(o.hideDropdowns())}),Xf$2();}}function Pg(n,i){n&1&&kI(0,kg,1,0,"pfa-catalog-navigation-standalone",18);}function Ig(n,i){if(n&1&&(Kf$2(0,"pfy-menu-dropdown-item",12)(1,"span",13),fP(2,"Catalog"),Xf$2(),kI(3,Tg,1,0,"pfa-catalog-3-layer-navigation",14),TP(4,"async"),kI(5,Pg,1,0,"pfa-catalog-navigation-standalone",15),Xf$2()),n&2){let e=tP();lE("iconLeft","content_paste"),xR(3),QR(_P(4,2,e.catalog3LayerCategoriesEnabled$)?3:5);}}function Eg(n,i){n&1&&ME(0,"pfa-notification-menu",23);}function xg(n,i){n&1&&(Kf$2(0,"pfy-menu-dropdown-item",20)(1,"div",21),ME(2,"pfa-notification-button"),fP(3," Notifications "),Xf$2(),kI(4,Eg,1,0,"pfa-notification-menu",22),Xf$2());}var Cm="sidebar-collapsed",bm=1,wm=(()=>{class n{constructor(e,t,o,r){this.sidebarNavigationService=e,this.storageService=t,this.dropdownOverlayService=o,this.featureTogglesService=r,this.catalog3LayerCategoriesEnabled$=this.featureTogglesService.isFeatureEnabled$(jt$2.Catalog3LayerCategories),this.initialIsCollapsedState=this.storageService.get(Cm,false,I$8.Local),this.viewModel$=this.sidebarNavigationService.viewModel$,this.topNavigationPart1$=this.viewModel$.pipe(ie$b(a=>{let s=Math.min(a.topNavigation.length,bm);return a.topNavigation.slice(undefined,s)})),this.topNavigationPart2$=this.viewModel$.pipe(ie$b(a=>{let s=Math.min(a.topNavigation.length,bm);return a.topNavigation.slice(s,undefined)}));}onCollapse(e){this.storageService.set(Cm,e,{storageType:I$8.Local,clearOnAuth:true});}hideDropdowns(){this.dropdownOverlayService.hide();}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(_m),Yo$4(Y$4),Yo$4(Io$3),Yo$4(te$5))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-sidebar"]],decls:6,vars:3,consts:[["megaMenu",""],["notifications",""],["sidebar",""],["data-testId","sidebar",1,"pfy-sidebar",3,"logoLink","isCollapsible","initialIsCollapsedState"],["data-testId","sidebar",1,"pfy-sidebar",3,"collapse","logoLink","isCollapsible","initialIsCollapsedState"],[1,"section-align-for-custom-items"],[1,"sidebar-section","section-align-for-custom-items"],["data-testId","menuTopPart1",3,"items"],[3,"ngTemplateOutlet"],["data-testId","menuTopPart2",1,"top-navigation-2",3,"items"],["data-testId","menuBottom",3,"items"],["data-testId","menuAccount",3,"items"],["data-testId","megaMenu","data-analyticsid","openCatalogMenu",3,"iconLeft"],[1,"label"],["data-testId","menu3Layer",1,"custom-dropdown-menu-item"],["data-testId","menu2Layer",1,"custom-dropdown-menu-item"],["class","custom-dropdown-menu-item","data-testId","menu3Layer",3,"click",4,"pfyMenuItems"],["data-testId","menu3Layer",1,"custom-dropdown-menu-item",3,"click"],["class","custom-dropdown-menu-item","data-testId","menu2Layer",3,"click",4,"pfyMenuItems"],["data-testId","menu2Layer",1,"custom-dropdown-menu-item",3,"click"],["data-testId","notificationMenu"],[1,"notification-item"],["class","custom-dropdown-menu-item","data-testId","notifications",4,"pfyMenuItems"],["data-testId","notifications",1,"custom-dropdown-menu-item"]],template:function(t,o){if(t&1&&(kI(0,wg,14,13,"pfy-sidebar",3),TP(1,"async"),kI(2,Ig,6,4,"ng-template",null,0,OP)(4,xg,5,0,"ng-template",null,1,OP)),t&2){let r;QR((r=_P(1,1,o.viewModel$))?0:-1,r);}},dependencies:[Gs$2,$d$2,zd$1,dT,YS,kl,bx,nT,Lx,Sm,ym,vm,fm,Xo],styles:['@charset "UTF-8";.pfy-sidebar[_ngcontent-%COMP%]{height:100%;position:static;width:255px}.sidebar-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;gap:.5rem}.notification-item[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.top-navigation-2[_ngcontent-%COMP%]{flex:1}.section-align-for-custom-items[_ngcontent-%COMP%]{align-self:flex-start;width:100%}'],changeDetection:0});}}return n})();var Mm=(()=>{class n{constructor(e){this.authStorageService=e,this.isNewLayoutEnabled$=this.authStorageService.isAuthorized$.pipe(Dr$5(),_c$3({refCount:true,bufferSize:1}));}static{this.\u0275fac=function(t){return new(t||n)(pe$9(we$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var Og=["topPanel"],$g=["leftPanel"],Dg=["bottomPanel"],Ng=["contentContainer"],Rg=["*"];function Lg(n,i){n&1&&TE(0);}function Bg(n,i){n&1&&ME(0,"pfa-new-header",13);}function Fg(n,i){if(n&1&&(kI(0,Bg,1,0,"pfa-new-header",13),TP(1,"async")),n&2){let e=tP();QR(_P(1,1,e.isNewHeaderVisible$)?0:-1);}}function jg(n,i){n&1&&ME(0,"pfa-header",6);}function Ug(n,i){n&1&&ME(0,"pfa-sidebar",8);}function zg(n,i){n&1&&(Kf$2(0,"div",10),ME(1,"pfy-loader-circular"),Xf$2());}var or=(()=>{class n{constructor(e,t,o,r,a,s,c,m){this.document=e,this.renderer=t,this.viewportService=o,this.appShellService=r,this.headerBannerService=a,this.resizeObserverService=s,this.router=c,this.viewportScroller=m,this.loading=false,this.id="appShell",this.isNewLayoutEnabled=false,this.isDesktop$=this.viewportService.match(gt$7.XL),this.isNewLayoutEnabled$=this.appShellService.isNewLayoutEnabled$,this.banner$=this.headerBannerService.banner$,this.isSidebarVisible$=Hp$2([this.isNewLayoutEnabled$,this.isDesktop$]).pipe(ie$b(([C,M])=>C&&M)),this.isNewHeaderVisible$=this.isDesktop$.pipe(ie$b(C=>!C)),this.topPanelSizeChanged$=this.resizeObserverService.observe(()=>this.topPanel.nativeElement),this.leftPanelSizeChanged$=this.resizeObserverService.observe(()=>this.leftPanel.nativeElement),this.bottomPanelSizeChanged$=this.resizeObserverService.observe(()=>this.bottomPanel.nativeElement),this.topPanelHeight$=this.topPanelSizeChanged$.pipe(ie$b(C=>C.contentRect.height),Dr$5()),this.leftPanelWidth$=this.leftPanelSizeChanged$.pipe(ie$b(C=>C.contentRect.width),Dr$5()),this.bottomPanelHeight$=this.bottomPanelSizeChanged$.pipe(ie$b(C=>C.contentRect.height),Dr$5()),this.destroy$=new Z$a;}ngOnInit(){this.syncLeftPanelTopOffset(),this.syncMainContentOffset(),this.syncNewLayoutCssClass(),this.scrollAppPagesToTop();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}syncLeftPanelTopOffset(){this.topPanelHeight$.subscribe(e=>{this.renderer.setStyle(this.leftPanel.nativeElement,"top",`${e}px`);});}syncMainContentOffset(){let e=this.contentContainer.nativeElement;Hp$2([this.topPanelHeight$,this.leftPanelWidth$,this.bottomPanelHeight$]).subscribe(([t,o,r])=>{this.renderer.setStyle(e,"padding-top",`${t}px`),this.renderer.setStyle(e,"padding-left",`${o}px`),this.renderer.setStyle(e,"padding-bottom",`${r}px`),this.document.body.style.setProperty("--app-content-offset-top",`${t}px`),this.document.body.style.setProperty("--app-content-offset-left",`${o}px`),this.document.body.style.setProperty("--app-content-offset-bottom",`${r}px`);});}syncNewLayoutCssClass(){this.isNewLayoutEnabled$.pipe(Oc$2(this.destroy$)).subscribe(e=>this.isNewLayoutEnabled=e);}scrollAppPagesToTop(){this.router.events.pipe(Ye$b(e=>e instanceof Mn$6),Mc$2(1),Dr$5((e,t)=>window.disableScrollPositionRestoration?this.getUrlWithoutQueryParams(e.routerEvent.url)===this.getUrlWithoutQueryParams(t.routerEvent.url):true),Oc$2(this.destroy$)).subscribe(()=>this.viewportScroller.scrollToPosition([0,0]));}getUrlWithoutQueryParams(e){return e?.split("?")?.[0]}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(L$8),Yo$4(NR),Yo$4(nn$6),Yo$4(Mm),Yo$4(Sn),Yo$4(fs$1),Yo$4(ve$8),Yo$4(Hs$2))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-app-shell"]],viewQuery:function(t,o){if(t&1&&(iP(Og,7),iP($g,7),iP(Dg,7),iP(Ng,7)),t&2){let r;sP(r=aP())&&(o.topPanel=r.first),sP(r=aP())&&(o.leftPanel=r.first),sP(r=aP())&&(o.bottomPanel=r.first),sP(r=aP())&&(o.contentContainer=r.first);}},hostVars:3,hostBindings:function(t,o){t&2&&(GI("id",o.id),dE("new-layout",o.isNewLayoutEnabled));},inputs:{loading:"loading"},features:[gP([Sn])],ngContentSelectors:Rg,decls:18,vars:10,consts:[["topPanel",""],["leftPanel",""],["bottomPanel",""],["contentContainer",""],["id","topPanel","data-testid","topPanel"],[4,"cdkPortalOutlet"],["data-testid","header"],["id","leftPanel","data-testid","leftPanel"],["data-testid","sidebar"],["id","bottomPanel","data-testid","bottomPanel"],["id","shell-loader","data-testid","loader",1,"loader"],["data-testid","contentContainer",1,"content-container"],["pfyToastOrigin",""],["data-testid","newHeader"]],template:function(t,o){t&1&&(nP(),Kf$2(0,"div",4,0),kI(2,Lg,1,0,"ng-container",5),TP(3,"async"),kI(4,Fg,2,3),TP(5,"async"),kI(6,jg,1,0,"pfa-header",6),Xf$2(),Kf$2(7,"div",7,1),kI(9,Ug,1,0,"pfa-sidebar",8),TP(10,"async"),Xf$2(),ME(11,"div",9,2),kI(13,zg,2,0,"div",10),Kf$2(14,"div",11,3),ME(16,"div",12),rP(17),Xf$2()),t&2&&(xR(2),lE("cdkPortalOutlet",_P(3,4,o.banner$)),xR(2),QR(_P(5,6,o.isNewLayoutEnabled$)?4:6),xR(5),QR(_P(10,8,o.isSidebarVisible$)?9:-1),xR(4),QR(o.loading?13:-1));},dependencies:[Gs$2,zd$1,im,tm,dT,du$2,lT,Ed$1,QM,wm,hm],styles:[`@charset "UTF-8";.fullscreen #appShell #topPanel,.fullscreen #appShell #leftPanel{display:none}.fullscreen #appShell .content-container{padding-top:0;padding-bottom:0}.stretch #appShell .content-container{min-height:100vh;display:flex;flex-direction:column}#appShell .container{max-width:1272px;padding:0 1rem}@media (min-width: 600px){#appShell .container{padding:0 1.5rem}}#appShell .container.narrow{max-width:874px}#appShell #topPanel,#appShell #bottomPanel,#appShell #leftPanel{position:fixed;z-index:20}#appShell #topPanel{top:0;left:0;right:0}#appShell #leftPanel{top:0;bottom:0}#appShell #bottomPanel{bottom:0}#appShell .content-container{margin:0}#appShell #shell-loader{background-color:#fff;position:fixed;top:var(--app-content-offset-top, 0);left:var(--app-content-offset-left, 0);bottom:var(--app-content-offset-bottom, 0);right:0}#appShell #shell-loader+.content-container{visibility:hidden}
`],encapsulation:2,changeDetection:0});}}return n})();var Tm=(()=>{class n{constructor(){this.router=N$8(ve$8),this.location=N$8(Xe$4),this.routingService=N$8(Ya$1),this.bulkDownloadDialogService=N$8(Bt),this.dialogService=N$8(zu$1),this.destroyRef=N$8(mn$6),this.toastService=N$8(rO),this.window=N$8(Q$9),this.destroy$=new Z$a,this.hostClass="",this.moduleLazyLoadingStart$=this.router.events.pipe(Ye$b(e=>e instanceof ei$5),Oc$2(this.destroy$)),this.moduleLazyLoadingEnd$=this.moduleLazyLoadingStart$.pipe(Ac$3(()=>this.router.events.pipe(Ye$b(e=>e instanceof ti$4||e instanceof ie$a||e instanceof It$5),mt$8(1)))),this.moduleLazyLoading$=$p$1(this.moduleLazyLoadingStart$.pipe(ie$b(()=>true)),this.moduleLazyLoadingEnd$.pipe(ie$b(()=>false))).pipe(Sc$2(false),Dr$5());}browserWarning(e){if(this.bulkDownloadDialogService.loading)return e.returnValue="Closing now will cancel and lose any progress for the current invoice download preparation process."}onClick(e){if(!e.target||e.routerLink)return;let t=e.target.closest('a[href]:not([data-bypass]):not([target="_blank"]):not([download])');if(!t)return;let o=new URL(t.href),r=e.button===0,a=[e.altKey,e.shiftKey,e.ctrlKey,e.metaKey].some(Boolean),s=o.origin===this.window.location.origin;a||!r||!s||e.defaultPrevented||(e.preventDefault(),this.router.navigateByUrl(this.location.normalize(o.href.replace(o.origin,""))));}ngOnInit(){this.applyHostClassOnNavigation(),this.closeModalsOnNavigation(),this.handleLazyLoadingError(),this.router.initialNavigation();}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete();}applyHostClassOnNavigation(){this.routingService.data$.pipe(ie$b(({rootClass:e})=>e||""),Dr$5(),Oc$2(this.destroy$)).subscribe(e=>{this.hostClass=e;});}closeModalsOnNavigation(){this.router.events.pipe(Ye$b(e=>e instanceof ie$a),mt$8(1),Ac$3(()=>this.router.events.pipe(Ye$b(e=>e instanceof ie$a||e instanceof ei$5))),Oc$2(this.destroy$)).subscribe(()=>{this.dialogService.closeAll();});}handleLazyLoadingError(){this.moduleLazyLoadingEnd$.pipe(Ye$b(e=>e instanceof It$5),Ac$3(()=>this.toastService.error({content:"Something went wrong. Please reload the page and try again.",action:"Reload",closingTimeout:0}).confirmed$),X$7(this.destroyRef)).subscribe(()=>{this.window.location.reload();});}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-app-root"]],hostVars:2,hostBindings:function(t,o){t&1&&VE("beforeunload",function(a){return o.browserWarning(a)},false,bR)("click",function(a){return o.onClick(a)},false,MR),t&2&&WR(o.hostClass);},standalone:false,features:[gP([Na$1])],decls:4,vars:3,consts:[[3,"loading"]],template:function(t,o){t&1&&(Kf$2(0,"pfa-app-shell",0),TP(1,"async"),ME(2,"router-outlet"),Xf$2(),ME(3,"pfa-designer-modal")),t&2&&lE("loading",_P(1,1,o.moduleLazyLoading$));},dependencies:[Yc$2,Hp,or,zd$1],encapsulation:2});}}return n})();var km=(()=>{class n{constructor(){this.featureTogglesService=N$8(te$5),this.environment=N$8(f$c),this.isProduction=this.environment.production;}intercept(e,t){return (!this.isProduction||this.featureTogglesService.isFeatureEnabled(jt$2.SessionManagement))&&(e=e.clone({withCredentials:true})),t.handle(e)}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();function Pm(n){return new C$e(3e3,false)}function Hg(){return new C$e(3100,false)}function Kg(){return new C$e(3101,false)}function Wg(n){return new C$e(3001,false)}function qg(n){return new C$e(3003,false)}function Gg(n){return new C$e(3004,false)}function Qg(n,i){return new C$e(3005,false)}function Yg(){return new C$e(3006,false)}function Zg(){return new C$e(3007,false)}function Xg(n,i){return new C$e(3008,false)}function Jg(n){return new C$e(3002,false)}function ev(n,i,e,t,o){return new C$e(3010,false)}function tv(){return new C$e(3011,false)}function iv(){return new C$e(3012,false)}function nv(){return new C$e(3200,false)}function ov(){return new C$e(3202,false)}function rv(){return new C$e(3013,false)}function av(n){return new C$e(3014,false)}function sv(n){return new C$e(3015,false)}function cv(n){return new C$e(3016,false)}function lv(n,i){return new C$e(3404,false)}function dv(n){return new C$e(3502,false)}function pv(n){return new C$e(3503,false)}function mv(){return new C$e(3300,false)}function uv(n){return new C$e(3504,false)}function hv(n){return new C$e(3301,false)}function fv(n,i){return new C$e(3302,false)}function gv(n){return new C$e(3303,false)}function vv(n,i){return new C$e(3400,false)}function yv(n){return new C$e(3401,false)}function Sv(n){return new C$e(3402,false)}function _v(n,i){return new C$e(3505,false)}function bi(n){switch(n.length){case 0:return new sp;case 1:return n[0];default:return new ap(n)}}function Um(n,i,e=new Map,t=new Map){let o=[],r=[],a=-1,s=null;if(i.forEach(c=>{let m=c.get("offset"),C=m==a,M=C&&s||new Map;c.forEach((W,K)=>{let $=K,U=W;if(K!=="offset")switch($=n.normalizePropertyName($,o),U){case Tk:U=e.get(K);break;case Pk:U=t.get(K);break;default:U=n.normalizeStyleValue(K,$,U,o);break}M.set($,U);}),C||r.push(M),s=M,a=m;}),o.length)throw dv();return r}function Pa(n,i,e,t){switch(i){case "start":n.onStart(()=>t(e&&aa(e,"start",n)));break;case "done":n.onDone(()=>t(e&&aa(e,"done",n)));break;case "destroy":n.onDestroy(()=>t(e&&aa(e,"destroy",n)));break}}function aa(n,i,e){let t=e.totalTime,o=!!e.disabled,r=Ia(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,o),a=n._data;return a!=null&&(r._data=a),r}function Ia(n,i,e,t,o="",r=0,a){return {element:n,triggerName:i,fromState:e,toState:t,phaseName:o,totalTime:r,disabled:!!a}}function vt(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Im(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return [e,t]}var Cv=typeof document>"u"?null:document.documentElement;function Ea(n){let i=n.parentNode||n.host||null;return i===Cv?null:i}function bv(n){return n.substring(1,6)=="ebkit"}var Ei=null,Em=false;function wv(n){Ei||(Ei=Mv()||{},Em=Ei.style?"WebkitAppearance"in Ei.style:false);let i=true;return Ei.style&&!bv(n)&&(i=n in Ei.style,!i&&Em&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ei.style)),i}function Mv(){return typeof document<"u"?document.body:null}function zm(n,i){for(;i;){if(i===n)return  true;i=Ea(i);}return  false}function Vm(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var xa=(()=>{class n{validateStyleProperty(e){return wv(e)}containsElement(e,t){return zm(e,t)}getParentElement(e){return Ea(e)}query(e,t,o){return Vm(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,r,a,s=[],c){return new sp(o,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H$9({token:n,factory:n.\u0275fac})}return n})(),Oi=class{static NOOP=new xa},$i=class{};var Tv=1e3,Hm="{{",kv="}}",Km="ng-enter",ma="ng-leave",rr="ng-trigger",dr=".ng-trigger",xm="ng-animating",ua=".ng-animating";function ei(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return !i||i.length<2?0:ha(parseFloat(i[1]),i[2])}function ha(n,i){switch(i){case "s":return n*Tv;default:return n}}function pr(n,i,e){return n.hasOwnProperty("duration")?n:Pv(n,i,e)}function Pv(n,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,r=0,a="";if(typeof n=="string"){let s=n.match(t);if(s===null)return i.push(Pm()),{duration:0,delay:0,easing:""};o=ha(parseFloat(s[1]),s[2]);let c=s[3];c!=null&&(r=ha(parseFloat(c),s[4]));let m=s[5];m&&(a=m);}else o=n;if(!e){let s=false,c=i.length;o<0&&(i.push(Hg()),s=true),r<0&&(i.push(Kg()),s=true),s&&i.splice(c,0,Pm());}return {duration:o,delay:r,easing:a}}function Iv(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function Wt(n,i,e){i.forEach((t,o)=>{let r=Aa(o);e&&!e.has(o)&&e.set(o,n.style[r]),n.style[r]=t;});}function Ai(n,i){i.forEach((e,t)=>{let o=Aa(t);n.style[o]="";});}function bn(n){return Array.isArray(n)?n.length==1?n[0]:kk(n):n}function Ev(n,i,e){let t=i.params||{},o=Wm(n);o.length&&o.forEach(r=>{t.hasOwnProperty(r)||e.push(Wg());});}var fa=new RegExp(`${Hm}\\s*(.+?)\\s*${kv}`,"g");function Wm(n){let i=[];if(typeof n=="string"){let e;for(;e=fa.exec(n);)i.push(e[1]);fa.lastIndex=0;}return i}function Mn(n,i,e){let t=`${n}`,o=t.replace(fa,(r,a)=>{let s=i[a];return s==null&&(e.push(qg()),s=""),s.toString()});return o==t?n:o}var xv=/-+([a-z0-9])/g;function Aa(n){return n.replace(xv,(...i)=>i[1].toUpperCase())}function Av(n,i){return n===0||i===0}function Ov(n,i,e){if(e.size&&i.length){let t=i[0],o=[];if(e.forEach((r,a)=>{t.has(a)||o.push(a),t.set(a,r);}),o.length)for(let r=1;r<i.length;r++){let a=i[r];o.forEach(s=>a.set(s,Oa(n,s)));}}return i}function gt(n,i,e){switch(i.type){case Pn$5.Trigger:return n.visitTrigger(i,e);case Pn$5.State:return n.visitState(i,e);case Pn$5.Transition:return n.visitTransition(i,e);case Pn$5.Sequence:return n.visitSequence(i,e);case Pn$5.Group:return n.visitGroup(i,e);case Pn$5.Animate:return n.visitAnimate(i,e);case Pn$5.Keyframes:return n.visitKeyframes(i,e);case Pn$5.Style:return n.visitStyle(i,e);case Pn$5.Reference:return n.visitReference(i,e);case Pn$5.AnimateChild:return n.visitAnimateChild(i,e);case Pn$5.AnimateRef:return n.visitAnimateRef(i,e);case Pn$5.Query:return n.visitQuery(i,e);case Pn$5.Stagger:return n.visitStagger(i,e);default:throw Gg(i.type)}}function Oa(n,i){return window.getComputedStyle(n)[i]}var $v=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mr=class extends $i{normalizePropertyName(i,e){return Aa(i)}normalizeStyleValue(i,e,t,o){let r="",a=t.toString().trim();if($v.has(e)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else {let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&o.push(Qg());}return a+r}};var ur="*";function Dv(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>Nv(t,e,i)):e.push(n),e}function Nv(n,i,e){if(n[0]==":"){let c=Rv(n,e);if(typeof c=="function"){i.push(c);return}n=c;}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(sv()),i;let o=t[1],r=t[2],a=t[3];i.push(Am(o,a));let s=o==ur&&a==ur;r[0]=="<"&&!s&&i.push(Am(a,o));}function Rv(n,i){switch(n){case ":enter":return "void => *";case ":leave":return "* => void";case ":increment":return (e,t)=>parseFloat(t)>parseFloat(e);case ":decrement":return (e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(cv()),"* => *"}}var ar=new Set(["true","1"]),sr=new Set(["false","0"]);function Am(n,i){let e=ar.has(n)||sr.has(n),t=ar.has(i)||sr.has(i);return (o,r)=>{let a=n==ur||n==o,s=i==ur||i==r;return !a&&e&&typeof o=="boolean"&&(a=o?ar.has(n):sr.has(n)),!s&&t&&typeof r=="boolean"&&(s=r?ar.has(i):sr.has(i)),a&&s}}var qm=":self",Lv=new RegExp(`s*${qm}s*,?`,"g");function Gm(n,i,e,t){return new ga(n).build(i,e,t)}var Om="",ga=class{_driver;constructor(i){this._driver=i;}build(i,e,t){let o=new va(e);return this._resetContextStyleTimingState(o),gt(this,bn(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector=Om,i.collectedStyles=new Map,i.collectedStyles.set(Om,new Map),i.currentTime=0;}visitTrigger(i,e){let t=e.queryCount=0,o=e.depCount=0,r=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(Yg()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==Pn$5.State){let c=s,m=c.name;m.toString().split(/\s*,\s*/).forEach(C=>{c.name=C,r.push(this.visitState(c,e));}),c.name=m;}else if(s.type==Pn$5.Transition){let c=this.visitTransition(s,e);t+=c.queryCount,o+=c.depCount,a.push(c);}else e.errors.push(Zg());}),{type:Pn$5.Trigger,name:i.name,states:r,transitions:a,queryCount:t,depCount:o,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),o=i.options&&i.options.params||null;if(t.containsDynamicStyles){let r=new Set,a=o||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(c=>{Wm(c).forEach(m=>{a.hasOwnProperty(m)||r.add(m);});});}),r.size&&e.errors.push(Xg(i.name,[...r.values()]));}return {type:Pn$5.State,name:i.name,style:t,options:o?{params:o}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=gt(this,bn(i.animation),e),o=Dv(i.expr,e.errors);return {type:Pn$5.Transition,matchers:o,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:xi(i.options)}}visitSequence(i,e){return {type:Pn$5.Sequence,steps:i.steps.map(t=>gt(this,t,e)),options:xi(i.options)}}visitGroup(i,e){let t=e.currentTime,o=0,r=i.steps.map(a=>{e.currentTime=t;let s=gt(this,a,e);return o=Math.max(o,e.currentTime),s});return e.currentTime=o,{type:Pn$5.Group,steps:r,options:xi(i.options)}}visitAnimate(i,e){let t=Uv(i.timings,e.errors);e.currentAnimateTimings=t;let o,r=i.styles?i.styles:kn$6({});if(r.type==Pn$5.Keyframes)o=this.visitKeyframes(r,e);else {let a=i.styles,s=false;if(!a){s=true;let m={};t.easing&&(m.easing=t.easing),a=kn$6(m);}e.currentTime+=t.duration+t.delay;let c=this.visitStyle(a,e);c.isEmptyStep=s,o=c;}return e.currentAnimateTimings=null,{type:Pn$5.Animate,timings:t,style:o,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of o)typeof s=="string"?s===Pk?t.push(s):e.errors.push(Jg()):t.push(new Map(Object.entries(s)));let r=false,a=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!r)){for(let c of s.values())if(c.toString().indexOf(Hm)>=0){r=true;break}}}),{type:Pn$5.Style,styles:t,easing:a,offset:i.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,o=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,c)=>{let m=e.collectedStyles.get(e.currentQuerySelector),C=m.get(c),M=true;C&&(r!=o&&r>=C.startTime&&o<=C.endTime&&(e.errors.push(ev(c,C.startTime,C.endTime)),M=false),r=C.startTime),M&&m.set(c,{startTime:r,endTime:o}),e.options&&Ev(s,e.options,e.errors);});});}visitKeyframes(i,e){let t={type:Pn$5.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(tv()),t;let o=1,r=0,a=[],s=false,c=false,m=0,C=i.steps.map(Ne=>{let Ve=this._makeStyleAst(Ne,e),rt=Ve.offset!=null?Ve.offset:jv(Ve.styles),Ge=0;return rt!=null&&(r++,Ge=Ve.offset=rt),c=c||Ge<0||Ge>1,s=s||Ge<m,m=Ge,a.push(Ge),Ve});c&&e.errors.push(iv()),s&&e.errors.push(nv());let M=i.steps.length,W=0;r>0&&r<M?e.errors.push(ov()):r==0&&(W=o/(M-1));let K=M-1,$=e.currentTime,U=e.currentAnimateTimings,ue=U.duration;return C.forEach((Ne,Ve)=>{let rt=W>0?Ve==K?1:W*Ve:a[Ve],Ge=rt*ue;e.currentTime=$+U.delay+Ge,U.duration=Ge,this._validateStyleAst(Ne,e),Ne.offset=rt,t.styles.push(Ne);}),t}visitReference(i,e){return {type:Pn$5.Reference,animation:gt(this,bn(i.animation),e),options:xi(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:Pn$5.AnimateChild,options:xi(i.options)}}visitAnimateRef(i,e){return {type:Pn$5.AnimateRef,animation:this.visitReference(i.animation,e),options:xi(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,o=i.options||{};e.queryCount++,e.currentQuery=i;let[r,a]=Bv(i.selector);e.currentQuerySelector=t.length?t+" "+r:r,vt(e.collectedStyles,e.currentQuerySelector,new Map);let s=gt(this,bn(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:Pn$5.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:xi(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(rv());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:pr(i.timings,e.errors,true);return {type:Pn$5.Stagger,animation:gt(this,bn(i.animation),e),timings:t,options:null}}};function Bv(n){let i=!!n.split(/\s*,\s*/).find(e=>e==qm);return i&&(n=n.replace(Lv,"")),n=n.replace(/@\*/g,dr).replace(/@\w+/g,e=>dr+"-"+e.slice(1)).replace(/:animating/g,ua),[n,i]}function Fv(n){return n?w$9({},n):null}var va=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i;}};function jv(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset");}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset");}return i}function Uv(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=pr(n,i).duration;return sa(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=sa(0,0,"");return r.dynamic=true,r.strValue=e,r}let o=pr(e,i);return sa(o.duration,o.delay,o.easing)}function xi(n){return n?(n=w$9({},n),n.params&&(n.params=Fv(n.params))):n={},n}function sa(n,i,e){return {duration:n,delay:i,easing:e}}function $a(n,i,e,t,o,r,a=null,s=false){return {type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:o,delay:r,totalTime:o+r,easing:a,subTimeline:s}}var Tn=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e);}has(i){return this._map.has(i)}clear(){this._map.clear();}},zv=1,Vv=":enter",Hv=new RegExp(Vv,"g"),Kv=":leave",Wv=new RegExp(Kv,"g");function Qm(n,i,e,t,o,r=new Map,a=new Map,s,c,m=[]){return new ya().buildKeyframes(n,i,e,t,o,r,a,s,c,m)}var ya=class{buildKeyframes(i,e,t,o,r,a,s,c,m,C=[]){m=m||new Tn;let M=new Sa(i,e,m,o,r,C,[]);M.options=c;let W=c.delay?ei(c.delay):0;M.currentTimeline.delayNextStep(W),M.currentTimeline.setStyles([a],null,M.errors,c),gt(this,t,M);let K=M.timelines.filter($=>$.containsAnimation());if(K.length&&s.size){let $;for(let U=K.length-1;U>=0;U--){let ue=K[U];if(ue.element===e){$=ue;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([s],null,M.errors,c);}return K.length?K.map($=>$.buildKeyframes()):[$a(e,[],[],[],0,W,"",false)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let o=e.createSubContext(i.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(t,o,o.options);r!=a&&e.transformIntoNewTimeline(a);}e.previousNode=i;}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i;}_applyAnimationRefDelays(i,e,t){for(let o of i){let r=o?.delay;if(r){let a=typeof r=="number"?r:ei(Mn(r,o?.params??{},e.errors));t.delayNextStep(a);}}}_visitSubInstructions(i,e,t){let r=e.currentTimeline.currentTime,a=t.duration!=null?ei(t.duration):null,s=t.delay!=null?ei(t.delay):null;return a!==0&&i.forEach(c=>{let m=e.appendInstructionToTimeline(c,a,s);r=Math.max(r,m.duration+m.delay);}),r}visitReference(i,e){e.updateOptions(i.options,true),gt(this,i.animation,e),e.previousNode=i;}visitSequence(i,e){let t=e.subContextCount,o=e,r=i.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==Pn$5.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=hr);let a=ei(r.delay);o.delayNextStep(a);}i.steps.length&&(i.steps.forEach(a=>gt(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),e.previousNode=i;}visitGroup(i,e){let t=[],o=e.currentTimeline.currentTime,r=i.options&&i.options.delay?ei(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);r&&s.delayNextStep(r),gt(this,a,s),o=Math.max(o,s.currentTimeline.currentTime),t.push(s.currentTimeline);}),t.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(o),e.previousNode=i;}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,o=e.params?Mn(t,e.params,e.errors):t;return pr(o,e.errors)}else return {duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),o=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),o.snapshotCurrentStyles());let r=i.style;r.type==Pn$5.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i;}visitStyle(i,e){let t=e.currentTimeline,o=e.currentAnimateTimings;!o&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=o&&o.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(r):t.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i;}visitKeyframes(i,e){let t=e.currentAnimateTimings,o=e.currentTimeline.duration,r=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(c=>{let m=c.offset||0;s.forwardTime(m*r),s.setStyles(c.styles,c.easing,e.errors,e.options),s.applyStylesToKeyframe();}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(o+r),e.previousNode=i;}visitQuery(i,e){let t=e.currentTimeline.currentTime,o=i.options||{},r=o.delay?ei(o.delay):0;r&&(e.previousNode.type===Pn$5.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hr);let a=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=s.length;let c=null;s.forEach((m,C)=>{e.currentQueryIndex=C;let M=e.createSubContext(i.options,m);r&&M.delayNextStep(r),m===e.element&&(c=M.currentTimeline),gt(this,i.animation,M),M.currentTimeline.applyStylesToKeyframe();let W=M.currentTimeline.currentTime;a=Math.max(a,W);}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i;}visitStagger(i,e){let t=e.parentContext,o=e.currentTimeline,r=i.timings,a=Math.abs(r.duration),s=a*(e.currentQueryTotal-1),c=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case "reverse":c=s-c;break;case "full":c=t.currentStaggerTime;break}let C=e.currentTimeline;c&&C.delayNextStep(c);let M=C.currentTime;gt(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=o.currentTime-M+(o.startTime-t.currentTimeline.startTime);}},hr={},Sa=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=hr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,t,o,r,a,s,c){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=r,this.errors=a,this.timelines=s,this.currentTimeline=c||new fr(this._driver,e,0),s.push(this.currentTimeline);}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,o=this.options;t.duration!=null&&(o.duration=ei(t.duration)),t.delay!=null&&(o.delay=ei(t.delay));let r=t.params;if(r){let a=o.params;a||(a=this.options.params={}),Object.keys(r).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Mn(r[s],a,this.errors));});}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(o=>{t[o]=e[o];});}}return i}createSubContext(i=null,e,t){let o=e||this.element,r=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(i){return this.previousNode=hr,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let o={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},r=new _a(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i);}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i);}invokeQuery(i,e,t,o,r,a){let s=[];if(o&&s.push(this.element),i.length>0){i=i.replace(Hv,"."+this._enterClassName),i=i.replace(Wv,"."+this._leaveClassName);let c=t!=1,m=this._driver.query(this.element,i,c);t!==0&&(m=t<0?m.slice(m.length+t,m.length):m.slice(0,t)),s.push(...m);}return !r&&s.length==0&&a.push(av()),s}},fr=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,t,o){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return  false;case 1:return this.hasCurrentStyleProperties();default:return  true}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i;}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=zv,this._loadKeyframe();}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe();}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Pk),this._currentKeyframe.set(e,Pk);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(i,e,t,o){e&&this._previousKeyframe.set("easing",e);let r=o&&o.params||{},a=qv(i,this._globalTimelineStyles);for(let[s,c]of a){let m=Mn(c,r,t);this._pendingStyles.set(s,m),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Pk),this._updateStyle(s,m);}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i);}));}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e);}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let o=this._styleSummary.get(t);(!o||e.time>o.time)&&this._updateStyle(t,e.value);});}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((s,c)=>{let m=new Map([...this._backFill,...s]);m.forEach((C,M)=>{C===Tk?i.add(M):C===Pk&&e.add(M);}),t||m.set("offset",c/this.duration),o.push(m);});let r=[...i.values()],a=[...e.values()];if(t){let s=o[0],c=new Map(s);s.set("offset",0),c.set("offset",1),o=[s,c];}return $a(this.element,o,r,a,this.duration,this.startTime,this.easing,false)}},_a=class extends fr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,t,o,r,a,s=false){super(i,e,a.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing};}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],a=t+e,s=e/a,c=new Map(i[0]);c.set("offset",0),r.push(c);let m=new Map(i[0]);m.set("offset",$m(s)),r.push(m);let C=i.length-1;for(let M=1;M<=C;M++){let W=new Map(i[M]),K=W.get("offset"),$=e+K*t;W.set("offset",$m($/a)),r.push(W);}t=a,e=0,o="",i=r;}return $a(this.element,i,this.preStyleProps,this.postStyleProps,t,e,o,true)}};function $m(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function qv(n,i){let e=new Map,t;return n.forEach(o=>{if(o==="*"){t??=i.keys();for(let r of t)e.set(r,Pk);}else for(let[r,a]of o)e.set(r,a);}),e}function Dm(n,i,e,t,o,r,a,s,c,m,C,M,W){return {type:0,element:n,triggerName:i,isRemovalTransition:o,fromState:e,fromStyles:r,toState:t,toStyles:a,timelines:s,queriedElements:c,preStyleProps:m,postStyleProps:C,totalTime:M,errors:W}}var ca={},gr=class{_triggerName;ast;_stateStyles;constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t;}match(i,e,t,o){return Gv(this.ast.matchers,i,e,t,o)}buildStyles(i,e,t){let o=this._stateStyles.get("*");return i!==undefined&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(e,t):new Map}build(i,e,t,o,r,a,s,c,m,C){let M=[],W=this.ast.options&&this.ast.options.params||ca,K=s&&s.params||ca,$=this.buildStyles(t,K,M),U=c&&c.params||ca,ue=this.buildStyles(o,U,M),Ne=new Set,Ve=new Map,rt=new Map,Ge=o==="void",Di={params:Ym(U,W),delay:this.ast.options?.delay},Bt=C?[]:Qm(i,e,this.ast.animation,r,a,$,ue,Di,m,M),at=0;return Bt.forEach(st=>{at=Math.max(st.duration+st.delay,at);}),M.length?Dm(e,this._triggerName,t,o,Ge,$,ue,[],[],Ve,rt,at,M):(Bt.forEach(st=>{let wi=st.element,Ni=vt(Ve,wi,new Set);st.preStyleProps.forEach(Mi=>Ni.add(Mi));let Ba=vt(rt,wi,new Set);st.postStyleProps.forEach(Mi=>Ba.add(Mi)),wi!==e&&Ne.add(wi);}),Dm(e,this._triggerName,t,o,Ge,$,ue,Bt,[...Ne.values()],Ve,rt,at))}};function Gv(n,i,e,t,o){return n.some(r=>r(i,e,t,o))}function Ym(n,i){let e=w$9({},i);return Object.entries(n).forEach(([t,o])=>{o!=null&&(e[t]=o);}),e}var Ca=class{styles;defaultParams;normalizer;constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t;}buildStyles(i,e){let t=new Map,o=Ym(i,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((a,s)=>{a&&(a=Mn(a,o,e));let c=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,c,a,e),t.set(s,a);});}),t}};function Qv(n,i,e){return new ba(n,i,e)}var ba=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,e.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Ca(o.style,r,t));}),Nm(this.states,"true","1"),Nm(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new gr(i,o,this.states));}),this.fallbackTransition=Yv(i,this.states,this._normalizer);}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,o){return this.transitionFactories.find(a=>a.match(i,e,t,o))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function Yv(n,i,e){let t=[(a,s)=>true],o={type:Pn$5.Sequence,steps:[],options:null},r={type:Pn$5.Transition,animation:o,matchers:t,options:null,queryCount:0,depCount:0};return new gr(n,r,i)}function Nm(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e));}var Zv=new Tn,wa=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t;}register(i,e){let t=[],o=[],r=Gm(this._driver,e,t,o);if(t.length)throw pv();this._animations.set(i,r);}_buildPlayer(i,e,t){let o=i.element,r=Um(this._normalizer,i.keyframes,e,t);return this._driver.animate(o,r,i.duration,i.delay,i.easing,[],true)}create(i,e,t={}){let o=[],r=this._animations.get(i),a,s=new Map;if(r?(a=Qm(this._driver,e,r,Km,ma,new Map,new Map,t,Zv,o),a.forEach(C=>{let M=vt(s,C.element,new Map);C.postStyleProps.forEach(W=>M.set(W,null));})):(o.push(mv()),a=[]),o.length)throw uv();s.forEach((C,M)=>{C.forEach((W,K)=>{C.set(K,this._driver.computeStyle(M,K,Pk));});});let c=a.map(C=>{let M=s.get(C.element);return this._buildPlayer(C,new Map,M)}),m=bi(c);return this._playersById.set(i,m),m.onDestroy(()=>this.destroy(i)),this.players.push(m),m}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1);}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw hv();return e}listen(i,e,t,o){let r=Ia(e,"","","");return Pa(this._getPlayer(i),t,r,o),()=>{}}command(i,e,t,o){if(t=="register"){this.register(i,o[0]);return}if(t=="create"){let a=o[0]||{};this.create(i,e,a);return}let r=this._getPlayer(i);switch(t){case "play":r.play();break;case "pause":r.pause();break;case "reset":r.reset();break;case "restart":r.restart();break;case "finish":r.finish();break;case "init":r.init();break;case "setPosition":r.setPosition(parseFloat(o[0]));break;case "destroy":this.destroy(i);break}}},Rm="ng-animate-queued",Xv=".ng-animate-queued",la="ng-animate-disabled",Jv=".ng-animate-disabled",ey="ng-star-inserted",ty=".ng-star-inserted",iy=[],Zm={namespaceId:"",setForRemoval:false,setForMove:false,hasAnimation:false,removedBeforeQueried:false},ny={namespaceId:"",setForMove:false,setForRemoval:false,hasAnimation:false,removedBeforeQueried:true},Rt="__ng_removed",kn=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),o=t?i.value:i;if(this.value=ry(o),t){let r=i,s=A$f(r,["value"]);this.options=s;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(o=>{t[o]==null&&(t[o]=e[o]);});}}},wn="void",da=new kn(wn),Ma=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+i,At(e,this._hostClassName);}listen(i,e,t,o){if(!this._triggers.has(e))throw fv();if(t==null||t.length==0)throw gv();if(!ay(t))throw vv();let r=vt(this._elementListeners,i,[]),a={name:e,phase:t,callback:o};r.push(a);let s=vt(this._engine.statesByElement,i,new Map);return s.has(e)||(At(i,rr),At(i,rr+"-"+e),s.set(e,da)),()=>{this._engine.afterFlush(()=>{let c=r.indexOf(a);c>=0&&r.splice(c,1),this._triggers.has(e)||s.delete(e);});}}register(i,e){return this._triggers.has(i)?false:(this._triggers.set(i,e),true)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw yv();return e}trigger(i,e,t,o=true){let r=this._getTrigger(e),a=new Pn(this.id,e,i),s=this._engine.statesByElement.get(i);s||(At(i,rr),At(i,rr+"-"+e),this._engine.statesByElement.set(i,s=new Map));let c=s.get(e),m=new kn(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&m.absorbOptions(c.options),s.set(e,m),c||(c=da),!(m.value===wn)&&c.value===m.value){if(!ly(c.params,m.params)){let U=[],ue=r.matchStyles(c.value,c.params,U),Ne=r.matchStyles(m.value,m.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{Ai(i,ue),Wt(i,Ne);});}return}let W=vt(this._engine.playersByElement,i,[]);W.forEach(U=>{U.namespaceId==this.id&&U.triggerName==e&&U.queued&&U.destroy();});let K=r.matchTransition(c.value,m.value,i,m.params),$=false;if(!K){if(!o)return;K=r.fallbackTransition,$=true;}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:K,fromState:c,toState:m,player:a,isFallbackTransition:$}),$||(At(i,Rm),a.onStart(()=>{on(i,Rm);})),a.onDone(()=>{let U=this.players.indexOf(a);U>=0&&this.players.splice(U,1);let ue=this._engine.playersByElement.get(i);if(ue){let Ne=ue.indexOf(a);Ne>=0&&ue.splice(Ne,1);}}),this.players.push(a),W.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(o=>o.name!=i));});}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i));}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,dr,true);t.forEach(o=>{if(o[Rt])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(a=>a.triggerLeaveAnimation(o,e,false,true)):this.clearElementCache(o);}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)));}triggerLeaveAnimation(i,e,t,o){let r=this._engine.statesByElement.get(i),a=new Map;if(r){let s=[];if(r.forEach((c,m)=>{if(a.set(m,c.value),this._triggers.has(m)){let C=this.trigger(i,m,wn,o);C&&s.push(C);}}),s.length)return this._engine.markElementAsRemoved(this.id,i,true,e,a),t&&bi(s).onDone(()=>this._engine.processLeaveNode(i)),true}return  false}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let o=new Set;e.forEach(r=>{let a=r.name;if(o.has(a))return;o.add(a);let c=this._triggers.get(a).fallbackTransition,m=t.get(a)||da,C=new kn(wn),M=new Pn(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:c,fromState:m,toState:C,player:M,isFallbackTransition:true});});}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,true))return;let o=false;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(i):[];if(r&&r.length)o=true;else {let a=i;for(;a=a.parentNode;)if(t.statesByElement.get(a)){o=true;break}}}if(this.prepareLeaveAnimationListeners(i),o)t.markElementAsRemoved(this.id,i,false,e);else {let r=i[Rt];(!r||r===Zm)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e));}}insertNode(i,e){At(i,this._hostClassName);}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let o=t.player;if(o.destroyed)return;let r=t.element,a=this._elementListeners.get(r);a&&a.forEach(s=>{if(s.name==t.triggerName){let c=Ia(r,t.triggerName,t.fromState.value,t.toState.value);c._data=i,Pa(t.player,s.phase,c,s.callback);}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy();}):e.push(t);}),this._queue=[],e.sort((t,o)=>{let r=t.transition.ast.depCount,a=o.transition.ast.depCount;return r==0||a==0?r-a:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i);}},Ta=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e);}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t;}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t);});}),i}createNamespace(i,e){let t=new Ma(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,o=this.namespacesByHostElement;if(t.length-1>=0){let a=false,s=this.driver.getParentElement(e);for(;s;){let c=o.get(s);if(c){let m=t.indexOf(c);t.splice(m+1,0,i),a=true;break}s=this.driver.getParentElement(s);}a||t.unshift(i);}else t.push(i);return o.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let o=this._namespaceLookup[i];o&&o.register(e,t)&&this.totalAnimations++;}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1),t.destroy(e),delete this._namespaceLookup[i];}));}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let o of t.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&e.add(r);}}return e}trigger(i,e,t,o){if(cr(e)){let r=this._fetchNamespace(i);if(r)return r.trigger(e,t,o),true}return  false}insertNode(i,e,t,o){if(!cr(e))return;let r=e[Rt];if(r&&r.setForRemoval){r.setForRemoval=false,r.setForMove=true;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1);}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,t);}o&&this.collectEnterElement(e);}collectEnterElement(i){this.collectedEnterElements.push(i);}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),At(i,la)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),on(i,la));}removeNode(i,e,t){if(cr(e)){let o=i?this._fetchNamespace(i):null;o?o.removeNode(e,t):this.markElementAsRemoved(i,e,false,t);let r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,t);}else this._onRemovalComplete(e,t);}markElementAsRemoved(i,e,t,o,r){this.collectedLeaveElements.push(e),e[Rt]={namespaceId:i,setForRemoval:o,hasAnimation:t,removedBeforeQueried:false,previousTriggersValues:r};}listen(i,e,t,o,r){return cr(e)?this._fetchNamespace(i).listen(e,t,o,r):()=>{}}_buildInstruction(i,e,t,o,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,o,i.fromState.options,i.toState.options,e,r)}destroyInnerAnimations(i){let e=this.driver.query(i,dr,true);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,ua,true),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)));}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=true:t.destroy();});}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish());}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return bi(this.players).onDone(()=>i());i();})}processLeaveNode(i){let e=i[Rt];if(e&&e.setForRemoval){if(i[Rt]=Zm,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i);}this._onRemovalComplete(i,e.setForRemoval);}i.classList?.contains(la)&&this.markElementAsDisabled(i,false),this.driver.query(i,Jv,true).forEach(t=>{this.markElementAsDisabled(t,false);});}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let o=this.collectedEnterElements[t];At(o,ey);}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i);}finally{for(let o=0;o<t.length;o++)t[o]();}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let o=this.collectedLeaveElements[t];this.processLeaveNode(o);}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?bi(e).onDone(()=>{t.forEach(o=>o());}):t.forEach(o=>o());}}reportError(i){throw Sv()}_flushAnimations(i,e){let t=new Tn,o=[],r=new Map,a=[],s=new Map,c=new Map,m=new Map,C=new Set;this.disabledNodes.forEach(F=>{C.add(F);let H=this.driver.query(F,Xv,true);for(let q=0;q<H.length;q++)C.add(H[q]);});let M=this.bodyNode,W=Array.from(this.statesByElement.keys()),K=Fm(W,this.collectedEnterElements),$=new Map,U=0;K.forEach((F,H)=>{let q=Km+U++;$.set(H,q),F.forEach(re=>At(re,q));});let ue=[],Ne=new Set,Ve=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let H=this.collectedLeaveElements[F],q=H[Rt];q&&q.setForRemoval&&(ue.push(H),Ne.add(H),q.hasAnimation?this.driver.query(H,ty,true).forEach(re=>Ne.add(re)):Ve.add(H));}let rt=new Map,Ge=Fm(W,Array.from(Ne));Ge.forEach((F,H)=>{let q=ma+U++;rt.set(H,q),F.forEach(re=>At(re,q));}),i.push(()=>{K.forEach((F,H)=>{let q=$.get(H);F.forEach(re=>on(re,q));}),Ge.forEach((F,H)=>{let q=rt.get(H);F.forEach(re=>on(re,q));}),ue.forEach(F=>{this.processLeaveNode(F);});});let Di=[],Bt=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(e).forEach(q=>{let re=q.player,He=q.element;if(Di.push(re),this.collectedEnterElements.length){let Ze=He[Rt];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(q.triggerName)){let Ti=Ze.previousTriggersValues.get(q.triggerName),St=this.statesByElement.get(q.element);if(St&&St.has(q.triggerName)){let On=St.get(q.triggerName);On.value=Ti,St.set(q.triggerName,On);}}re.destroy();return}}let Ft=!M||!this.driver.containsElement(M,He),pt=rt.get(He),ti=$.get(He),ke=this._buildInstruction(q,t,ti,pt,Ft);if(ke.errors&&ke.errors.length){Bt.push(ke);return}if(Ft){re.onStart(()=>Ai(He,ke.fromStyles)),re.onDestroy(()=>Wt(He,ke.toStyles)),o.push(re);return}if(q.isFallbackTransition){re.onStart(()=>Ai(He,ke.fromStyles)),re.onDestroy(()=>Wt(He,ke.toStyles)),o.push(re);return}let Ua=[];ke.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=true,this.disabledNodes.has(Ze.element)||Ua.push(Ze);}),ke.timelines=Ua,t.append(He,ke.timelines);let Gu={instruction:ke,player:re,element:He};a.push(Gu),ke.queriedElements.forEach(Ze=>vt(s,Ze,[]).push(re)),ke.preStyleProps.forEach((Ze,Ti)=>{if(Ze.size){let St=c.get(Ti);St||c.set(Ti,St=new Set),Ze.forEach((On,Er)=>St.add(Er));}}),ke.postStyleProps.forEach((Ze,Ti)=>{let St=m.get(Ti);St||m.set(Ti,St=new Set),Ze.forEach((On,Er)=>St.add(Er));});});if(Bt.length){let F=[];Bt.forEach(H=>{F.push(_v(H.triggerName,H.errors));}),Di.forEach(H=>H.destroy()),this.reportError(F);}let at=new Map,st=new Map;a.forEach(F=>{let H=F.element;t.has(H)&&(st.set(H,H),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,at));}),o.forEach(F=>{let H=F.element;this._getPreviousPlayers(H,false,F.namespaceId,F.triggerName,null).forEach(re=>{vt(at,H,[]).push(re),re.destroy();});});let wi=ue.filter(F=>jm(F,c,m)),Ni=new Map;Bm(Ni,this.driver,Ve,m,Pk).forEach(F=>{jm(F,c,m)&&wi.push(F);});let Mi=new Map;K.forEach((F,H)=>{Bm(Mi,this.driver,new Set(F),c,Tk);}),wi.forEach(F=>{let H=Ni.get(F),q=Mi.get(F);Ni.set(F,new Map([...H?.entries()??[],...q?.entries()??[]]));});let Ir=[],Fa=[],ja={};a.forEach(F=>{let{element:H,player:q,instruction:re}=F;if(t.has(H)){if(C.has(H)){q.onDestroy(()=>Wt(H,re.toStyles)),q.disabled=true,q.overrideTotalTime(re.totalTime),o.push(q);return}let He=ja;if(st.size>1){let pt=H,ti=[];for(;pt=pt.parentNode;){let ke=st.get(pt);if(ke){He=ke;break}ti.push(pt);}ti.forEach(ke=>st.set(ke,He));}let Ft=this._buildAnimation(q.namespaceId,re,at,r,Mi,Ni);if(q.setRealPlayer(Ft),He===ja)Ir.push(q);else {let pt=this.playersByElement.get(He);pt&&pt.length&&(q.parentPlayer=bi(pt)),o.push(q);}}else Ai(H,re.fromStyles),q.onDestroy(()=>Wt(H,re.toStyles)),Fa.push(q),C.has(H)&&o.push(q);}),Fa.forEach(F=>{let H=r.get(F.element);if(H&&H.length){let q=bi(H);F.setRealPlayer(q);}}),o.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy();});for(let F=0;F<ue.length;F++){let H=ue[F],q=H[Rt];if(on(H,ma),q&&q.hasAnimation)continue;let re=[];if(s.size){let Ft=s.get(H);Ft&&Ft.length&&re.push(...Ft);let pt=this.driver.query(H,ua,true);for(let ti=0;ti<pt.length;ti++){let ke=s.get(pt[ti]);ke&&ke.length&&re.push(...ke);}}let He=re.filter(Ft=>!Ft.destroyed);He.length?sy(this,H,He):this.processLeaveNode(H);}return ue.length=0,Ir.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let H=this.players.indexOf(F);this.players.splice(H,1);}),F.play();}),Ir}afterFlush(i){this._flushFns.push(i);}afterFlushAnimationsDone(i){this._whenQuietFns.push(i);}_getPreviousPlayers(i,e,t,o,r){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s);}else {let s=this.playersByElement.get(i);if(s){let c=!r||r==wn;s.forEach(m=>{m.queued||!c&&m.triggerName!=o||a.push(m);});}}return (t||o)&&(a=a.filter(s=>!(t&&t!=s.namespaceId||o&&o!=s.triggerName))),a}_beforeAnimationBuild(i,e,t){let o=e.triggerName,r=e.element,a=e.isRemovalTransition?undefined:i,s=e.isRemovalTransition?undefined:o;for(let c of e.timelines){let m=c.element,C=m!==r,M=vt(t,m,[]);this._getPreviousPlayers(m,C,a,s,e.toState).forEach(K=>{let $=K.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),K.destroy(),M.push(K);});}Ai(r,e.fromStyles);}_buildAnimation(i,e,t,o,r,a){let s=e.triggerName,c=e.element,m=[],C=new Set,M=new Set,W=e.timelines.map($=>{let U=$.element;C.add(U);let ue=U[Rt];if(ue&&ue.removedBeforeQueried)return new sp($.duration,$.delay);let Ne=U!==c,Ve=cy((t.get(U)||iy).map(at=>at.getRealPlayer())).filter(at=>{let st=at;return st.element?st.element===U:false}),rt=r.get(U),Ge=a.get(U),Di=Um(this._normalizer,$.keyframes,rt,Ge),Bt=this._buildPlayer($,Di,Ve);if($.subTimeline&&o&&M.add(U),Ne){let at=new Pn(i,s,U);at.setRealPlayer(Bt),m.push(at);}return Bt});m.forEach($=>{vt(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>oy(this.playersByQueriedElement,$.element,$));}),C.forEach($=>At($,xm));let K=bi(W);return K.onDestroy(()=>{C.forEach($=>on($,xm)),Wt(c,e.toStyles);}),M.forEach($=>{vt(o,$,[]).push(K);}),K}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new sp(i.duration,i.delay)}},Pn=class{namespaceId;triggerName;element;_player=new sp;_containsRealPlayer=false;_queuedCallbacks=new Map;destroyed=false;parentPlayer=null;markedForDestroy=false;disabled=false;queued=true;totalTime=0;constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t;}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(o=>Pa(i,t,undefined,o));}),this._queuedCallbacks.clear(),this._containsRealPlayer=true,this.overrideTotalTime(i.totalTime),this.queued=false);}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i;}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy());}_queueEvent(i,e){vt(this._queuedCallbacks,i,[]).push(e);}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i);}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i);}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i);}init(){this._player.init();}hasStarted(){return this.queued?false:this._player.hasStarted()}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=true,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(i){this.queued||this._player.setPosition(i);}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i);}};function oy(n,i,e){let t=n.get(i);if(t){if(t.length){let o=t.indexOf(e);t.splice(o,1);}t.length==0&&n.delete(i);}return t}function ry(n){return n??null}function cr(n){return n&&n.nodeType===1}function ay(n){return n=="start"||n=="done"}function Lm(n,i){let e=n.style.display;return n.style.display=i??"none",e}function Bm(n,i,e,t,o){let r=[];e.forEach(c=>r.push(Lm(c)));let a=[];t.forEach((c,m)=>{let C=new Map;c.forEach(M=>{let W=i.computeStyle(m,M,o);C.set(M,W),(!W||W.length==0)&&(m[Rt]=ny,a.push(m));}),n.set(m,C);});let s=0;return e.forEach(c=>Lm(c,r[s++])),a}function Fm(n,i){let e=new Map;if(n.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,o=new Set(i),r=new Map;function a(s){if(!s)return t;let c=r.get(s);if(c)return c;let m=s.parentNode;return e.has(m)?c=m:o.has(m)?c=t:c=a(m),r.set(s,c),c}return i.forEach(s=>{let c=a(s);c!==t&&e.get(c).push(s);}),e}function At(n,i){n.classList?.add(i);}function on(n,i){n.classList?.remove(i);}function sy(n,i,e){bi(e).onDone(()=>n.processLeaveNode(i));}function cy(n){let i=[];return Xm(n,i),i}function Xm(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof ap?Xm(t.players,i):i.push(t);}}function ly(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return  false;for(let o=0;o<e.length;o++){let r=e[o];if(!i.hasOwnProperty(r)||n[r]!==i[r])return  false}return  true}function jm(n,i,e){let t=e.get(n);if(!t)return  false;let o=i.get(n);return o?t.forEach(r=>o.add(r)):i.set(n,t),e.delete(n),true}var rn=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,t){this._driver=e,this._normalizer=t,this._transitionEngine=new Ta(i.body,e,t),this._timelineEngine=new wa(i.body,e,t),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r);}registerTrigger(i,e,t,o,r){let a=i+"-"+o,s=this._triggerCache[a];if(!s){let c=[],m=[],C=Gm(this._driver,r,c,m);if(c.length)throw lv();s=Qv(o,C,this._normalizer),this._triggerCache[a]=s;}this._transitionEngine.registerTrigger(e,o,s);}register(i,e){this._transitionEngine.register(i,e);}destroy(i,e){this._transitionEngine.destroy(i,e);}onInsert(i,e,t,o){this._transitionEngine.insertNode(i,e,t,o);}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t);}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e);}process(i,e,t,o){if(t.charAt(0)=="@"){let[r,a]=Im(t),s=o;this._timelineEngine.command(r,e,a,s);}else this._transitionEngine.trigger(i,e,t,o);}listen(i,e,t,o,r){if(t.charAt(0)=="@"){let[a,s]=Im(t);return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(i,e,t,o,r)}flush(i=-1){this._transitionEngine.flush(i);}get players(){return [...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i);}};function dy(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=pa(i[0]),i.length>1&&(t=pa(i[i.length-1]))):i instanceof Map&&(e=pa(i)),e||t?new py(n,e,t):null}var py=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r;}start(){this._state<1&&(this._startStyles&&Wt(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(Wt(this._element,this._initialStyles),this._endStyles&&(Wt(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ai(this._element,this._endStyles),this._endStyles=null),Wt(this._element,this._initialStyles),this._state=3);}}return n})();function pa(n){let i=null;return n.forEach((e,t)=>{my(t)&&(i=i||new Map,i.set(t,e));}),i}function my(n){return n==="display"||n==="position"}var vr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=false;_finished=false;_started=false;_destroyed=false;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,t,o){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=o,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=true,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=true;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t));}),e}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i);}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i);}onDestroy(i){this._onDestroyFns.push(i);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=true,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=false,this._finished=false,this._started=false,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=true,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[]);}setPosition(i){this.domPlayer===undefined&&this.init(),this.domPlayer.currentTime=i*this.time;}getPosition(){return +(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,o)=>{o!=="offset"&&i.set(o,this._finished?t:Oa(this.element,o));}),this.currentSnapshot=i;}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0;}},yr=class{validateStyleProperty(i){return  true}validateAnimatableStyleProperty(i){return  true}containsElement(i,e){return zm(i,e)}getParentElement(i){return Ea(i)}query(i,e,t){return Vm(i,e,t)}computeStyle(i,e,t){return Oa(i,e)}animate(i,e,t,o,r,a=[]){let s=o==0?"both":"forwards",c={duration:t,delay:o,fill:s};r&&(c.easing=r);let m=new Map,C=a.filter(K=>K instanceof vr);Av(t,o)&&C.forEach(K=>{K.currentSnapshot.forEach(($,U)=>m.set(U,$));});let M=Iv(e).map(K=>new Map(K));M=Ov(i,M,m);let W=dy(i,M);return new vr(i,M,c,W)}};var lr="@",Jm="@.disabled",Sr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,t,o){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=o;}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i);}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),this._onDestroy?.();}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,false);}insertBefore(i,e,t,o=true){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,o);}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate);}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,o){this.delegate.setAttribute(i,e,t,o);}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t);}addClass(i,e){this.delegate.addClass(i,e);}removeClass(i,e){this.delegate.removeClass(i,e);}setStyle(i,e,t,o){this.delegate.setStyle(i,e,t,o);}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t);}setProperty(i,e,t){e.charAt(0)==lr&&e==Jm?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t);}setValue(i,e){this.delegate.setValue(i,e);}listen(i,e,t,o){return this.delegate.listen(i,e,t,o)}disableAnimations(i,e){this.engine.disableAnimations(i,e);}},ka=class extends Sr{factory;constructor(i,e,t,o,r){super(e,t,o,r),this.factory=i,this.namespaceId=e;}setProperty(i,e,t){e.charAt(0)==lr?e.charAt(1)=="."&&e==Jm?(t=t===undefined?true:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t);}listen(i,e,t,o){if(e.charAt(0)==lr){let r=uy(i),a=e.slice(1),s="";return a.charAt(0)!=lr&&([a,s]=hy(a)),this.engine.listen(this.namespaceId,r,a,s,c=>{let m=c._data||-1;this.factory.scheduleListenerCallback(m,t,c);})}return this.delegate.listen(i,e,t,o)}};function uy(n){switch(n){case "body":return document.body;case "document":return document;case "window":return window;default:return n}}function hy(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return [e,t]}var _r=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,e.onRemovalComplete=(o,r)=>{r?.removeChild(null,o);};}createRenderer(i,e){let t="",o=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let m=this._rendererCache,C=m.get(o);if(!C){let M=()=>m.delete(o);C=new Sr(t,o,this.engine,M),m.set(o,C);}return C}let r=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=m=>{Array.isArray(m)?m.forEach(s):this.engine.registerTrigger(r,a,i,m.name,m);};return e.data.animation.forEach(s),new ka(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[a,s]=r;a(s);}),this._animationCallbacksBuffer=[];});}),o.push([e,t]);}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.delegate.componentReplaced?.(i);}};var gy=(()=>{class n extends rn{constructor(e,t,o){super(e,t,o);}ngOnDestroy(){this.flush();}static \u0275fac=function(t){return new(t||n)(pe$9(L$8),pe$9(Oi),pe$9($i))};static \u0275prov=H$9({token:n,factory:n.\u0275fac})}return n})();function vy(){return new mr}function yy(n,i,e){return new _r(n,i,e)}var tu=[{provide:$i,useFactory:vy},{provide:rn,useClass:gy},{provide:ho$5,useFactory:yy,deps:[ho$4,rn,te$6]}],eu=[{provide:Oi,useFactory:()=>new yr},{provide:fR,useValue:"BrowserAnimations"},...tu],Sy=[{provide:Oi,useClass:xa},{provide:fR,useValue:"NoopAnimations"},...tu],iu=(()=>{class n{static withConfig(e){return {ngModule:n,providers:e.disableAnimations?Sy:eu}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=EI({type:n});static \u0275inj=qh$2({providers:eu,imports:[Ph$2]})}return n})();var an=class{};var sn=class{};var Cr=class{};var Lt=class n extends v$1{constructor(i,e){super(),this.window=i,this.events$=e,this.manualOrderCompleted$=this.events$.pipe(G$6(rr$4),kc$2(()=>this.window.Appcues?.track("Manual Order Completed"))),this.productDiscovered$=this.events$.pipe(G$6(x$4),kc$2(()=>this.window.Appcues?.track("Product Discovered"))),this.bulkOrderCancellationSurvey$=$p$1(this.events$.pipe(G$6(mr$3),_h$1("payload"),Ye$b(t=>t.creationType===d$1.Bulk)),this.events$.pipe(G$6(lr$4),_h$1("payload"),Ye$b(t=>!!t.metadata.bulk_discount_shipping))).pipe(kc$2(()=>this.window.Appcues?.track("Bulk Order Cancellation Survey"))),this.printifyConnectOptOutSurvey$=this.events$.pipe(G$6(Sr$3),kc$2(()=>this.window.Appcues?.track("Printify Connect Opt Out"))),this.notificationCenterLoaded$=this.events$.pipe(G$6(sn),kc$2(()=>this.window.Appcues?.track("Notification Center Loaded"))),this.notificationCenterPageViewed$=this.events$.pipe(G$6(Cr),kc$2(()=>this.window.Appcues?.track("Notification Center Page Viewed"))),this.salesChannelConnectionReadinessSurveyTriggered$=this.events$.pipe(G$6(an),kc$2(()=>this.window.Appcues?.track("Sales Channel Connection Readiness Survey Triggered")));}isAvailable(){return !!this.window.Appcues}static{this.\u0275fac=function(e){return new(e||n)(pe$9(Q$9),pe$9(H$7))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],Lt.prototype,"manualOrderCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"productDiscovered$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"bulkOrderCancellationSurvey$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"printifyConnectOptOutSurvey$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"notificationCenterLoaded$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"notificationCenterPageViewed$",undefined);zD([ie$4(),QD("design:type",Object)],Lt.prototype,"salesChannelConnectionReadinessSurveyTriggered$",undefined);var In=class n extends v$1{constructor(i,e,t,o){super(),this.window=i,this.events=e,this.userService=t,this.userContactDetailsService=o,this.identification$=this.events.pipe(G$6(ri$4),Rc$2(this.userService.id$,this.userContactDetailsService.email$),kc$2(([,r,a])=>{this.registerUser(r,a);}));}isAvailable(){return !!this.window.FS}registerUser(i,e){this.window.FS?.setUserVars({uid:i,email:e});}static{this.\u0275fac=function(e){return new(e||n)(pe$9(Q$9),pe$9(H$7),pe$9(J$5),pe$9(G))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],In.prototype,"identification$",undefined);var yt=class n extends v$1{constructor(i,e,t,o,r,a,s,c,m){super(),this.window=i,this.httpBackend=e,this.events=t,this.userService=o,this.userProductsStatsService=r,this.userSegmentationService=a,this.onboardingService=s,this.storesService=c,this.authStorageService=m,this.httpClient=new _u$3(this.httpBackend),this.signedInUser$=this.userService.id$.pipe(Ac$3(()=>this.userService.user$.pipe(mt$8(1)))),this.signInType$=this.authStorageService.isAuthorized$.pipe(mt$8(1),Ye$b(Boolean),kc$2(()=>this.pushDataLayer({event:this.authStorageService.getSignInType()})),Ac$3(()=>this.trackAuthentication())),this.signedIn$=this.events.pipe(G$6(Ue$5),kc$2(()=>this.pushDataLayer({event:"CompleteLogin"})),Ac$3(()=>this.trackAuthentication())),this.signedUp$=this.events.pipe(G$6(ke$6),Ac$3(({payload:C})=>(this.pushDataLayer({event:"CompleteRegistration",eventCategory:"new-acquisition",eventAction:"CompleteRegistration",email:C.email}),this.sendMeasurementProtocolParameters("registered","new-acquisition",1)))),this.productCreated$=this.userProductsStatsService.productCreated$.pipe(Rc$2(this.userService.authenticatedUser$),Ac$3(([{isFirst:C},M])=>C?(this.pushDataLayer({event:"onboarding-design-created",eventCategory:"new-acquisition",eventAction:"onboarding-design-created",email:M.details.email}),this.sendMeasurementProtocolParameters("onboarding-design-created","new-acquisition",5)):this.sendMeasurementProtocolParameters("design-created","repeated-actions"))),this.storeCreated$=this.events.pipe(G$6(Pe$6),Ac$3(()=>this.sendMeasurementProtocolParameters("added-a-store","new-acquisition",6))),this.publishProduct$=this.userProductsStatsService.productPublished$.pipe(Ac$3(({isFirst:C,product:M})=>!M.external&&C?this.sendMeasurementProtocolParameters("product-published","new-acquisition",7):this.sendMeasurementProtocolParameters("product-published","repeated-actions"))),this.cardAdded$=this.events.pipe(G$6(be),Ac$3(()=>this.sendMeasurementProtocolParameters("added-payment-method","new-acquisition",8))),this.shopifySignIn$=this.events.pipe(G$6(Or$3),kc$2(()=>this.pushDataLayer({event:"ShopifyLogin"}))),this.onboarding$=this.signedInUser$.pipe(Ac$3(()=>this.onboardingService.shouldAskQuestions$),Ac$3(C=>C?$p$1(this.trackOnboardingAnswersChange(),this.trackStoreNameChange(),this.trackAccountUpdate(),this.trackOnboardingCompletion()):this.trackOnboardingCompletion()));}isAvailable(){return this.window.dataLayer.length>1}setup(){this.window.dataLayer=this.window.dataLayer??[];}trackOnboardingAnswersChange(){return $p$1(this.events.pipe(G$6(Ur$1))).pipe(Bt$7(J$7),kc$2(()=>{this.pushDataLayer({event:"onboarding-questions",eventCategory:"new-acquisition",eventAction:"onboarding-questions"}),this.userSegmentationService.isSellingOnline()&&this.pushDataLayer({event:"lead_online_store",eventCategory:"new-acquisition",eventAction:"onboarding-questions"});}),ie$b(()=>{}))}trackStoreNameChange(){return this.events.pipe(G$6(jr$2),kc$2(()=>this.pushDataLayer({event:"onboarding-store-name",eventCategory:"new-acquisition",eventAction:"onboarding-store-name"})),mt$8(1))}trackAccountUpdate(){return this.events.pipe(G$6(Mt$2),kc$2(()=>this.pushDataLayer({event:"onboarding-personal-details",eventCategory:"new-acquisition",eventAction:"onboarding-personal-details"})),mt$8(1))}trackOnboardingCompletion(){return this.events.pipe(G$6(Nr$2),Ac$3(()=>this.sendMeasurementProtocolParameters("onboarding-complete","new-acquisition")))}trackAuthentication(){return this.signedInUser$.pipe(mt$8(1),Rc$2(this.userService.isPowerSeller$,this.userService.isSuperPowerSeller$),kc$2(([i,e,t])=>{this.pushDataLayer({event:"login",clientId:i.ga_id,userId:i.details.id}),(e||t)&&this.pushDataLayer({event:"powerSellerLogin",clientId:i.ga_id,userId:i.details.id});}))}pushDataLayer(i){this.window.dataLayer.push(i);}sendMeasurementProtocolParameters(i,e,t){return this.signedInUser$.pipe(mt$8(1),Rc$2(this.storesService.salesChannelLabel$),Ac$3(([o,r])=>{let a=[["v","1"],["tid","UA-99780378-1"],["cid",o.ga_id],["uid",o.details.id],["t","event"],["ds","crm"],["ni","1"],["dh",this.window.location.hostname],["ec",e],["ea",i]];t&&a.push(["cos",t],["pa","checkout"]),r&&a.push(["el",r]);let s=a.map(c=>c.join("=")).join("&");return this.httpClient.post(`https://www.google-analytics.com/collect?${s}`,null,{headers:new je$6().set("Content-type","application/x-www-form-urlencoded"),observe:"body",responseType:"blob"})}),ie$b(()=>{}),yi$5(o=>(console.error("Failed to send measurement protocol parameters",o),be$8)))}static{this.\u0275fac=function(e){return new(e||n)(pe$9(Q$9),pe$9(fn$4),pe$9(H$7),pe$9(J$5),pe$9(W$1),pe$9(hs),pe$9(Xo$1),pe$9(Ro$2),pe$9(we$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],yt.prototype,"signInType$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"signedIn$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"signedUp$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"productCreated$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"storeCreated$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"publishProduct$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"cardAdded$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"shopifySignIn$",undefined);zD([ie$4(),QD("design:type",Object)],yt.prototype,"onboarding$",undefined);var De=class n extends v$1{static generateHeapUserPropertiesFromOnboardingState(i){return Object.entries(i).reduce((e,[t,o])=>{let{answers:r}=o;if(r.length===1){let[s]=r;return [...e,{[t]:n.formatAnswerValue(s.title,s.customAnswer?.value)}]}let a=r.map(({title:s,customAnswer:c})=>({[this.generateHeapUserPropertyNameForMultiAnswers(t,s)]:n.formatAnswerValue(s,c?.value)}));return [...e,...a]},[])}static formatAnswerValue(i,e=""){return i+(n.isAnswerOther(i)?`: ${e}`:"")}static isAnswerOther(i){return i.toLocaleLowerCase().trim()==="other"}static generateHeapUserPropertyNameForMultiAnswers(i,e){return `${i}-${e}`.toLocaleLowerCase().split(" ").join("-")}constructor(i,e,t,o,r,a){super(),this.window=i,this.router=e,this.routingService=t,this.events$=o,this.authStorageService=r,this.userSubscriptionService=a,this.routeAnalytics$=this.router.events.pipe(Ye$b(s=>s instanceof ie$a),kc$2(()=>{if(!this.window.heap)return;let s=this.routingService.getActivatedRoute(),c=Io$1.from(s.snapshot.data),m=Object.fromEntries(Object.entries({"Page Category":c.category,"Page Subcategory":c.subCategory,"Page Name":c.name,"Page Label":c.label}).filter(([,C])=>!!C));this.window.heap.clearEventProperties(),this.window.heap.addEventProperties(m);})),this.subscriptionStatus$=this.authStorageService.isAuthorized$.pipe(Ye$b(Boolean),Ac$3(()=>this.userSubscriptionService.isSubscribed$),kc$2(s=>{this.window.heap?.addUserProperties({"Subscription status":s?"active":"not active"});})),this.setOnboardingAnswers$=this.events$.pipe(G$6(Ur$1),_h$1("payload"),kc$2(s=>{this.window.heap&&n.generateHeapUserPropertiesFromOnboardingState(s).forEach(c=>{this.window.heap?.addUserProperties(c);});})),this.csvImportSucceeded$=this.events$.pipe(G$6(Yt$3),_h$1("payload"),kc$2(({csvOrdersImported:s,csvOrdersFailedToImport:c})=>{this.window.heap?.track("csv-import-succeeded",{csvOrdersImported:s,csvOrdersFailedToImport:c});})),this.csvImportFailed$=this.events$.pipe(G$6(qt$3),_h$1("payload"),kc$2(({csvOrdersImported:s,csvOrdersFailedToImport:c})=>{this.window.heap?.track("csv-import-failed",{csvOrdersImported:s,csvOrdersFailedToImport:c});})),this.csvImportApp$=this.events$.pipe(G$6(Ct$4),_h$1("payload"),kc$2(({csvOrdersImported:s,csvOrdersFailedToImport:c})=>{this.window.heap?.track("csv-import-app",{csvOrdersImported:s,csvOrdersFailedToImport:c});})),this.redirectToSearchResults$=this.events$.pipe(G$6(Ir$3),_h$1("url"),kc$2(s=>{this.window.heap?.track("redirect-to-search-results",{url:s});})),this.generatorAnalytics$=this.events$.pipe(G$6(Ht$3),_h$1("payload"),kc$2(({type:s,data:c})=>{this.window.heap?.track(`generator-${s}`,c);})),this.searchSuggestionsViewed$=this.events$.pipe(G$6(Pr$3),kc$2(s=>{this.window.heap?.track("search-suggestions-viewed",{numberOfSuggestions:s.numberOfSuggestions});})),this.numericReferenceProductClicked$=this.events$.pipe(G$6(t$2),kc$2(s=>{this.window.heap?.track("numeric-reference-product-clicked",{numericReferenceType:s.numericReferenceType,productId:s.productId,productName:s.productName});})),this.balanceTopupCompleted=this.events$.pipe(G$6(w$2),kc$2(s=>{this.window.heap?.track(`${s.method}-topup-completed`,{status:s.status});})),this.billingCurrencyUpdated=this.events$.pipe(G$6(Ee$1),kc$2(s=>{this.window.heap?.track("billing-currency-updated",{currency:s.currency});})),this.catalogCurrencyUpdated=this.events$.pipe(G$6(c$2),kc$2(s=>{this.window.heap?.track("catalog-currency-updated",{currency:s.currency});})),this.storefrontThemeSelected=this.events$.pipe(G$6(Hr$2),kc$2(s=>{this.window.heap?.track("Storefront Theme Selected",{id:s.id,name:s.name,version:s.version});})),this.orderPaymentErrorDisplayed=this.events$.pipe(G$6(a$1),kc$2(s=>{this.window.heap?.track("Order Payment Error Displayed",{errorTitle:s.errorTitle,orderId:s.orderId});})),this.turnstileErrorsThrown=this.events$.pipe(G$6(ti$3),kc$2(s=>{let c=s.turnstileError;c instanceof Error?this.window.heap?.track("Turnstile Error Thrown",{turnstileErrorTitle:s.turnstileErrorTitle,turnstileErrorCause:c.cause,turnstileErrorMessage:c.message,turnstileErrorName:c.name,turnstileErrorStack:c.stack}):typeof c=="string"?this.window.heap?.track("Turnstile Error Thrown",{turnstileErrorTitle:s.turnstileErrorTitle,turnstileErrorMessage:c,turnstileErrorCause:null,turnstileErrorName:null,turnstileErrorStack:null}):this.window.heap?.track("Turnstile Error Thrown",{turnstileErrorTitle:s.turnstileErrorTitle,turnstileErrorMessage:"Unknown error format",turnstileErrorCause:[`type: ${typeof c}`,`constructor: ${c?.constructor.toString()}`,JSON.stringify(c)].join(`
`),turnstileErrorName:null,turnstileErrorStack:null});})),this.cardAddingStarted$=this.events$.pipe(G$6(Pe$1),kc$2(()=>{this.window.heap?.track("card-adding-started",{});})),this.cardAddingCompleted$=this.events$.pipe(G$6(be),kc$2(()=>{this.window.heap?.track("card-adding-completed",{});}));}isAvailable(){return !!this.window.heap}static{this.\u0275fac=function(e){return new(e||n)(pe$9(Q$9),pe$9(ve$8),pe$9(Ya$1),pe$9(H$7),pe$9(we$5),pe$9(yt$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],De.prototype,"routeAnalytics$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"subscriptionStatus$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"setOnboardingAnswers$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"csvImportSucceeded$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"csvImportFailed$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"csvImportApp$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"redirectToSearchResults$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"generatorAnalytics$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"searchSuggestionsViewed$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"numericReferenceProductClicked$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"balanceTopupCompleted",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"billingCurrencyUpdated",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"catalogCurrencyUpdated",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"storefrontThemeSelected",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"orderPaymentErrorDisplayed",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"turnstileErrorsThrown",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"cardAddingStarted$",undefined);zD([ie$4(),QD("design:type",Object)],De.prototype,"cardAddingCompleted$",undefined);var En=class n extends v$1{constructor(i,e){super(),this.window=i,this.events$=e,this.indentifyAfterRegistration$=this.events$.pipe(G$6(ke$6),_h$1("payload"),kc$2(({id:t})=>{this.window.growsumo&&(this.window.growsumo.data.email=`${t}@email.com`,this.window.growsumo.data.customer_key=t);}));}isAvailable(){return !!this.window.growsumo}static{this.\u0275fac=function(e){return new(e||n)(pe$9(Q$9),pe$9(H$7))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],En.prototype,"indentifyAfterRegistration$",undefined);var Na="etsyMigrationSuccess",xn=class{},Cy=(()=>{class n{constructor(){this.router=N$8(ve$8),this.browserStorageService=N$8(Y$4),this.eventDispatcherService=N$8(X$6);}initialize(){this.trackDashboardVisitAfterSuccessfulMigration().subscribe();}trackDashboardVisitAfterSuccessfulMigration(){let e=this.eventDispatcherService.events$.pipe(G$6(Ar$3),Ye$b(()=>this.router.url.includes(`${r$7}/${x$9}`)),kc$2(()=>this.browserStorageService.set(Na,true,{storageType:I$8.Local,clearOnAuth:true}))),t=this.router.events.pipe(Ye$b(o=>{let r=o instanceof ie$a&&o.url.startsWith(`/${M$8}`),a=this.browserStorageService.getBoolean(Na,false,I$8.Local);return r&&a}),kc$2(()=>{this.browserStorageService.remove(Na,I$8.Local),this.eventDispatcherService.dispatch(new xn);}));return $p$1(e,t)}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),nu=qR(()=>N$8(Cy).initialize());var cn=class{constructor(i){this.payload=i;}};var ln=class{constructor(i){this.payload=i;}};var dn=class{constructor(i){this.payload=i;}};var ou=n=>({payload:i,next:e})=>{i.obj.type==="page"&&Object.assign(i.obj.properties,{url:n.location.href,path:n.location.pathname,search:n.location.search}),e(i);};var w=class n extends v$1{constructor(){super(...arguments),this.window=N$8(Q$9),this.events$=N$8(H$7),this.router=N$8(ve$8),this.routingService=N$8(Ya$1),this.userSegmentationService=N$8(hs),this.userAttributesService=N$8(P$2),this.salesChannelService=N$8(Pt$2),this.storesService=N$8(Ro$2),this.environment=N$8(f$c),this.userPrivacyService=N$8(Pa$1),this.onboardingAnswersUpdated$=this.events$.pipe(G$6(Ur$1),Bt$7(J$7)),this.page$=this.router.events.pipe(Ye$b(i=>i instanceof ie$a),kc$2(()=>{let i=this.routingService.getActivatedRoute(),e=Io$1.from(i.snapshot.data),t={subCategory:e.subCategory,label:e.label};if(e.category&&e.name){this.window.analytics.page(e.category,e.name,t);return}if(e.name){this.window.analytics.page(e.name,t);return}this.window.analytics.page();})),this.startDesigning$=this.events$.pipe(G$6(Lr$2),kc$2(({printProviderName:i,shopId:e})=>this.window.analytics.track("Design Started",{shop_id:e,print_provider:i}))),this.isSellingOnline$=this.onboardingAnswersUpdated$.pipe(Ye$b(()=>this.userSegmentationService.isSellingOnline()),kc$2(()=>this.window.analytics.track("Is Selling Online",{category:"new-acquisition",action:"onboarding-questions"}))),this.identify$=$p$1(this.onboardingAnswersUpdated$,this.events$.pipe(G$6(ri$4)),this.events$.pipe(G$6(Mt$2))).pipe(Ac$3(()=>this.userAttributesService.attributes$.pipe(mt$8(1))),kc$2(([i,e])=>this.window.analytics.identify(i,e))),this.indentifyAfterRegistration$=this.events$.pipe(G$6(ke$6),_h$1("payload"),kc$2(({id:i,email:e})=>this.window.analytics.identify(i,{email:e}))),this.csvImportCompleted$=this.events$.pipe(G$6(Wt$3),kc$2(()=>this.window.analytics.track("CSV Import Completed",{}))),this.draftSaved$=this.events$.pipe(G$6(Xt$4),kc$2(()=>this.window.analytics.track("Draft Saved",{}))),this.cardAdded$=this.events$.pipe(G$6(be),kc$2(()=>this.window.analytics.track("Payment Card Added",{}))),this.productPublished$=this.events$.pipe(G$6(br$3),_h$1("payload"),kc$2(({publishedFrom:i,storePlatform:e})=>this.window.analytics.track("Product Published",{published_from:i,store_platform:e}))),this.userSignedIn$=this.events$.pipe(G$6(Ue$5),kc$2(()=>this.window.analytics.track("Logged In",{category:"Login"}))),this.orderCreationStarted$=this.events$.pipe(G$6(hr$3),kc$2(()=>this.window.analytics.track("Order Creation Started",{}))),this.manualOrderAddressParserUsed$=this.events$.pipe(G$6(nr$4),_h$1("payload"),kc$2(({parsedAddressApplied:i})=>this.window.analytics.track("Manual Order Address Parser Used",{parsed_address_applied:i}))),this.replaceProductCompleted$=this.events$.pipe(G$6(wr$3),kc$2(()=>this.window.analytics.track("Product Replacement Completed",{}))),this.orderBulkActionPerformed$=this.events$.pipe(G$6(pr$3),_h$1("payload"),kc$2(({orderCount:i,bulkActionType:e})=>this.window.analytics.track("Order Bulk Action Performed",{bulk_action_type:e,order_count:i}))),this.orderLineItemReplacementSuggestionFlowStarted$=this.events$.pipe(G$6(ur$3),_h$1("payload"),kc$2(({orderId:i,orderLineItemId:e})=>this.window.analytics.track("Order Line Item Replacement Suggestion Flow Started",{order_id:i,order_line_id:e}))),this.orderLineItemReplacementSuggestionLoaded$=this.events$.pipe(G$6(fr$3),_h$1("payload"),kc$2(i=>this.window.analytics.track("Order Line Item Replacement Suggestion Loaded",i))),this.orderLineItemReplacementCompleted$=this.events$.pipe(G$6(dr$3),_h$1("payload"),kc$2(({orderId:i,orderLineItemId:e,isSuccess:t,isSimilarProduct:o})=>this.window.analytics.track("Order Line Item Replacement Completed",{order_id:i,order_line_id:e,is_success:t,is_similar_product:o}))),this.productAgentFeedbackFormSubmitted$=this.events$.pipe(G$6(s$d),_h$1("payload"),kc$2(({lastSentMerchantMessage:i,feedbackPositive:e,feedbackMessage:t,threadId:o})=>this.window.analytics.track("Product Agent Feedback Form Submitted",{last_sent_merchant_message:i,feedback_positive:e,feedback_message:t,thread_id:o},{integrations:{All:false,Appcues:true}}))),this.activityDashboardInitialized$=this.events$.pipe(G$6(Bt$5),kc$2(()=>this.window.analytics.track("Activity Dashboard Initialized",{},{integrations:{All:false,Appcues:true}}))),this.activityDashboardShown$=this.events$.pipe(G$6(Gt$4),kc$2(()=>this.window.analytics.track("Activity Dashboard Shown",{},{integrations:{All:false,Appcues:true}}))),this.activityDashboardConnectionStatus$=this.events$.pipe(G$6(Vt$5),kc$2(({isSuccess:i})=>this.window.analytics.track("Activity Dashboard Connection Status",{isSuccess:i},{integrations:{All:false,Heap:true}}))),this.couponAssigned$=this.events$.pipe(G$6(t),_h$1("payload"),kc$2(({name:i,type:e,initialAmount:t,campaignId:o})=>this.window.analytics.track("Coupon Added",{name:i,type:e,initial_amount:t,campaign_id:o}))),this.aiqcAnimationModalElapsedTime$=this.events$.pipe(G$6(cr$3),kc$2(({elapsedTimeInSeconds:i})=>this.window.analytics.track("AIQC Animation Modal Elapsed Time",{elapsed_time_in_seconds:i}))),this.appSessionStarted$=this.events$.pipe(G$6(zt$3),kc$2(({referrer:i})=>this.window.analytics.track("App Session Started",{referrer:i},{integrations:{All:false,Heap:true}}))),this.generatorAnalytics$=this.events$.pipe(G$6(Ht$3),_h$1("payload"),kc$2(({type:i,data:e})=>{switch(i){case "imageUploaded":this.window.analytics.track("Image Uploaded",{source:e.source});break;case "imageUploadFailure":this.window.analytics.track("Image Upload Failure",{source:e.source,reason:e.reason});break;case "uploadedImageChangePosition":this.window.analytics.track("Uploaded Image Changed Position",{source:e.source});break;case "helpWithDesignsRequested":this.window.analytics.track("Help With Designs Requested",{},{integrations:{All:false,Appcues:true}});break;case "zoomingUsed":this.window.analytics.track("Zooming Used",{source:e.source});break;case "shortcutUsed":this.window.analytics.track("Shortcut Used",{shortcut:e.shortcut});break;case "productWithUserDesignTemplateSaved":this.window.analytics.track("Product with user design template saved");break;case "pcSuccessfullyLoaded":this.window.analytics.track("PC - successfully loaded",e);break;case "pcActivePlaceholderChanged":this.window.analytics.track("PC - active placeholder changed",e);break;case "designerTimeToInteractive":this.window.analytics.track("Designer Time to Interactive",e);break}})),this.blueprintPrintProviderChosen$=this.events$.pipe(G$6(ir$4),kc$2(({payload:i})=>this.window.analytics.track("Blueprint Print Provider Chosen",i,{integrations:{All:false,Snowflake:true}}))),this.blueprintCardClicked$=this.events$.pipe(G$6(x$4),kc$2(({cardData:i})=>this.window.analytics.track("Blueprint Card Clicked",{id:i.id,target_market:i.targetMarkets?i.targetMarkets.join(", "):"unknown"}))),this.printifyChoiceViewed$=this.events$.pipe(G$6(s$1),kc$2(({blueprintId:i})=>this.window.analytics.track("Printify Choice Viewed",{blueprint_id:i}))),this.productUpdated$=this.events$.pipe(G$6(Er$3),_h$1("payload"),kc$2(({shopId:i,productId:e,updatedFrom:t,isPublishing:o,selectedStorePageName:r,totalStorePageCount:a})=>{this.window.analytics.track("Product Updated",{shop_id:i,product_id:e,updated_from:t,is_publishing:o,selected_store_page_name:r,total_store_page_count:a},{integrations:{All:false,Heap:true}});})),this.productPersonalizationToggleChanged$=this.events$.pipe(G$6(xr$3),_h$1("payload"),kc$2(({blueprintId:i,productId:e,personalizationEnabled:t,storeId:o})=>{this.window.analytics.track("Personalization toggle",{blueprint_id:i,product_id:e,personalization_enabled:t,store_id:o});})),this.ebaySellingLimitHint$=this.events$.pipe(G$6(er$4),Rc$2(this.salesChannelService.currentSalesChannel$),Ye$b(([i,e])=>i.isVisible&&e.id===b$9.Ebay),Bt$7(J$7),kc$2(()=>this.window.analytics.track("Selling Limit Hint For eBay Activated",{},{integrations:{All:false,Appcues:true}}))),this.dashboardViewed$=this.events$.pipe(G$6(Ft$3),kc$2(()=>this.window.analytics.track("Merchant Dashboard Viewed",{}))),this.dashboardChecklistStepStateChanged$=this.events$.pipe(G$6(Q$2),ie$b(({payload:i})=>i),kc$2(i=>{i.progress===o$b.finished?this.window.analytics.track("Dashboard Checklist Step Completed",{checklist_name:i.checklistAnalyticsName,step_name:i.stepAnalyticsName}):i.progress>0&&i.isFirstChange&&this.window.analytics.track("Dashboard Checklist Step Started",{checklist_name:i.checklistAnalyticsName,step_name:i.stepAnalyticsName});})),this.dashboardChecklistStepProgressUpdated$=this.events$.pipe(G$6(Q$2),ie$b(({payload:i})=>i),kc$2(i=>{this.window.analytics.track("Dashboard Checklist Step Progress Updated",{checklist_name:i.checklistAnalyticsName,step_name:i.stepAnalyticsName,progress:i.progress,is_first_change:!!i.isFirstChange});})),this.checklistStepActionTriggered$=this.events$.pipe(G$6(Y$1),ie$b(({payload:i})=>i),kc$2(i=>{this.window.analytics.track("Checklist Step Action Triggered",{checklist_name:i.checklistAnalyticsName,step_name:i.stepAnalyticsName,trigger:i.trigger});})),this.dashboardWidgetInteracted$=this.events$.pipe(G$6(i$4),kc$2(({widgetAnalyticsName:i,interactionType:e,currentStoreId:t,metadata:o})=>this.window.analytics.track("Dashboard Widget Interacted",{widget_name:i,interaction_type:e,store_id:t,metadata:o}))),this.nicheGenerationBotOpened$=this.events$.pipe(G$6(l$5),Rc$2(this.storesService.id$),kc$2(([{pageName:i},e])=>this.window.analytics.track("Niche Generation Bot Opened",{page_name:i,store_id:e}))),this.nicheHelpArticleViewed$=this.events$.pipe(G$6(d$5),Rc$2(this.storesService.id$),kc$2(([{pageName:i},e])=>this.window.analytics.track("Niche Help Article Viewed",{page_name:i,store_id:e}))),this.nicheBlogViewed$=this.events$.pipe(G$6(h$7),Rc$2(this.storesService.id$),kc$2(([{pageName:i},e])=>this.window.analytics.track("Niche Blog Viewed",{page_name:i,store_id:e}))),this.nicheBrowseCatalogClicked$=this.events$.pipe(G$6(u$6),Rc$2(this.storesService.id$),kc$2(([{pageName:i},e])=>this.window.analytics.track("Niche Browse Catalog Clicked",{page_name:i,store_id:e}))),this.nicheGenerationStarted$=this.events$.pipe(G$6(m$8),ie$b(({payload:i})=>i),Rc$2(this.storesService.id$),kc$2(([{promptText:i,promptType:e,isRetry:t},o])=>this.window.analytics.track("Niche Generation Started",{prompt_text:i,prompt_type:e,store_id:o,is_retry:t}))),this.nicheGenerationCompleted$=this.events$.pipe(G$6(x$a),ie$b(({payload:i})=>i),Rc$2(this.storesService.id$),kc$2(([{promptText:i,promptType:e},t])=>this.window.analytics.track("Niche Generation Completed",{prompt_text:i,prompt_type:e,store_id:t}))),this.nicheGenerationFailed$=this.events$.pipe(G$6(f$b),ie$b(({payload:i})=>i),Rc$2(this.storesService.id$),kc$2(([{promptText:i,promptType:e,errorType:t},o])=>this.window.analytics.track("Niche Generation Failed",{prompt_text:i,prompt_type:e,store_id:o,error_type:t}))),this.nicheOutputSaved$=this.events$.pipe(G$6(C$d),ie$b(({payload:i})=>i),Rc$2(this.storesService.id$),kc$2(([{promptText:i,promptType:e},t])=>this.window.analytics.track("Niche Output Saved",{prompt_text:i,prompt_type:e,store_id:t}))),this.setupWizardStarted$=this.events$.pipe(G$6(t$7),kc$2(()=>this.window.analytics.track("Onboarding Wizard Started",{}))),this.setupWizardCompleted$=this.events$.pipe(G$6(c$6),kc$2(()=>this.window.analytics.track("Onboarding Wizard Completed",{}))),this.setupWizardAbandoned$=this.events$.pipe(G$6(x$7),kc$2(()=>this.window.analytics.track("Onboarding Wizard Abandoned",{}))),this.setupWizardRecommendedProductsShown$=this.events$.pipe(G$6(r$2),ie$b(({payload:i})=>i),kc$2(({blueprintsId:i,catalogSlug:e,persona:t,onboardingVersion:o})=>this.window.analytics.track("Onboarding Wizard Recommended Products Shown",{blueprintsId:i,catalogSlug:e,persona:t,onboardingVersion:o}))),this.setupWizardRecommendedProductClicked$=this.events$.pipe(G$6(y$1),ie$b(({payload:i})=>i),kc$2(({blueprintId:i,catalogSlug:e,persona:t,onboardingVersion:o})=>this.window.analytics.track("Onboarding Wizard Recommended Product Clicked",{blueprintId:i,catalogSlug:e,persona:t,onboardingVersion:o}))),this.setupWizardRecommendedSalesChannelsShown$=this.events$.pipe(G$6(p$2),ie$b(({payload:i})=>i),kc$2(({salesChannels:i,persona:e,onboardingVersion:t,filterOption:o})=>this.window.analytics.track("Onboarding Wizard Sales Channels Recommendation Shown",{salesChannels:i,persona:e,onboardingVersion:t,filterOption:o}))),this.setupWizardRecommendedSalesChannelClicked$=this.events$.pipe(G$6(a$2),ie$b(({payload:i})=>i),kc$2(({salesChannel:i,persona:e,onboardingVersion:t})=>this.window.analytics.track("Onboarding Wizard Sales Channel Recommendation Clicked",{salesChannel:i,persona:e,onboardingVersion:t}))),this.setupWizardRecommendedSalesChannelSeeOtherClicked$=this.events$.pipe(G$6(l$1),ie$b(({payload:i})=>i),kc$2(({persona:i,onboardingVersion:e})=>this.window.analytics.track("Onboarding Wizard Sales Channel Recommendation See Other Link Clicked",{persona:i,onboardingVersion:e}))),this.setupWizardRecommendedSalesChannelFilterClicked$=this.events$.pipe(G$6(f$3),ie$b(({payload:i})=>i),kc$2(({filter:i,persona:e,onboardingVersion:t})=>this.window.analytics.track("Onboarding Wizard Sales Channel Recommendation Filter Clicked",{filter:i,persona:e,onboardingVersion:t}))),this.wizardAbandoned$=this.events$.pipe(G$6(s$8),kc$2(()=>this.window.analytics.track("Wizard Abandoned",{}))),this.impressionTracked$=this.events$.pipe(G$6(Pi$4),ie$b(({payload:i})=>i),kc$2(({impressionId:i})=>this.window.analytics.track("Impression",{impressionId:i}))),this.notificationClicked$=this.events$.pipe(G$6(yt$1),ie$b(({payload:i})=>i),kc$2(({messageId:i,title:e,target:t,notificationBody:o,origin:r})=>this.window.analytics.track("Notification Clicked",{message_id:i,title:e,target:t,notification_body:o,origin:r}))),this.notificationSaved$=this.events$.pipe(G$6(ln),ie$b(({payload:i})=>i),kc$2(({messageId:i,title:e,notificationBody:t,origin:o})=>this.window.analytics.track("Notification Saved",{message_id:i,title:e,notification_body:t,origin:o}))),this.notificationDrawerOpened$=this.events$.pipe(G$6(re$1),kc$2(()=>this.window.analytics.track("Notification Center Drawer Opened",{}))),this.notificationFilterChanged$=this.events$.pipe(G$6(_t),ie$b(({payload:i})=>i),kc$2(({type:i})=>this.window.analytics.track("Notification Center Filter Changed",{type:i}))),this.storefrontStoreBuilderLogoChanged$=this.events$.pipe(G$6(In$3),kc$2(()=>this.window.analytics.track("Storefront Store Builder Logo Changed"))),this.storefrontStoreBuilderSocialLinkAdded$=this.events$.pipe(G$6(An$4),ie$b(({payload:i})=>i),kc$2(({platform:i})=>this.window.analytics.track("Storefront Store Builder Social Link Added",{platform:i}))),this.storefrontStoreBuilderThemeChanged$=this.events$.pipe(G$6(En$3),ie$b(({payload:i})=>i),kc$2(({themeId:i,themeName:e,version:t})=>this.window.analytics.track("Storefront Theme Selected",{id:i,name:e,version:t}))),this.notificationViewed$=this.events$.pipe(G$6(Ct$1),ie$b(({payload:i})=>i),kc$2(({messageId:i,title:e,notificationBody:t,status:o,origin:r})=>this.window.analytics.track("Notification Viewed",{message_id:i,title:e,notification_body:t,status:o,origin:r}))),this.notificationReceived$=this.events$.pipe(G$6(cn),ie$b(({payload:i})=>i),kc$2(({messageId:i,title:e,notificationBody:t})=>this.window.analytics.track("Notification Received",{message_id:i,title:e,notification_body:t}))),this.storefrontDiscountCreated$=this.events$.pipe(G$6(Tr$4),kc$2(({payload:i})=>this.window.analytics.track("Storefront Discount Created",{discount_id:i.discountId,discount_type:i.discountType,discount_amount:i.discountAmount,discount_start_date:i.discountStartDate,discount_end_date:i.discountEndDate,discount_name:i.discountName}))),this.storefrontDiscountDeleted$=this.events$.pipe(G$6(Dr$3),kc$2(({payload:i})=>this.window.analytics.track("Storefront Discount Deleted",{discount_id:i.discountId,discount_type:i.discountType,discount_name:i.discountName}))),this.showedKycInConnectionFlow$=this.events$.pipe(G$6(Yr$3),kc$2(()=>this.window.analytics.track("Showed KYC In Connection Flow"))),this.skippedKyc$=this.events$.pipe(G$6(Kr$1),kc$2(()=>this.window.analytics.track("Skipped KYC"))),this.startedKyc$=this.events$.pipe(G$6(Qr$2),kc$2(()=>this.window.analytics.track("Started KYC"))),this.showedKycInPayouts$=this.events$.pipe(G$6(Fr$2),kc$2(()=>this.window.analytics.track("Showed KYC In Payouts"))),this.closedKyc$=this.events$.pipe(G$6(Br$3),kc$2(()=>this.window.analytics.track("Closed KYC"))),this.clickedKycBannerCallToAction$=this.events$.pipe(G$6(Vr$3),kc$2(({status:i})=>this.window.analytics.track("Clicked KYC Banner Call To Action",{status:i}))),this.showedKycBanner$=this.events$.pipe(G$6(qr$2),kc$2(({status:i})=>this.window.analytics.track("Displayed KYC Banner",{status:i}))),this.createdKycAccount$=this.events$.pipe(G$6(zr$2),kc$2(()=>this.window.analytics.track("Created KYC Account"))),this.completedKyc$=this.events$.pipe(G$6(Gr$3),kc$2(()=>this.window.analytics.track("Completed KYC"))),this.abandonedKyc$=this.events$.pipe(G$6(Mr$3),kc$2(()=>this.window.analytics.track("Abandoned KYC"))),this.kycModalShowed$=this.events$.pipe(G$6($t$2),kc$2(()=>this.window.analytics.track("KYC Modal Shown"))),this.kycModalSkipped$=this.events$.pipe(G$6(Ot$3),kc$2(()=>this.window.analytics.track("KYC Modal Verify Store Skipped"))),this.storefrontProductsArrangementSaved$=this.events$.pipe(G$6(Tn$3),kc$2(()=>this.window.analytics.track("Storefront Products Arrangement Saved"))),this.storefrontProductsArrangementProductMovedToTop$=this.events$.pipe(G$6(On$2),kc$2(()=>this.window.analytics.track("Storefront Products Arrangement Product Moved To Top"))),this.storefrontProductsArrangementProductMovedToBottom$=this.events$.pipe(G$6(Dn$3),kc$2(()=>this.window.analytics.track("Storefront Products Arrangement Product Moved To Bottom"))),this.storefrontProductsArrangementFailed$=this.events$.pipe(G$6(xn$3),kc$2(()=>this.window.analytics.track("Storefront Products Arrangement Failed"))),this.storefrontProductsArrangementEdited$=this.events$.pipe(G$6(wn$3),kc$2(()=>this.window.analytics.track("Storefront Products Arrangement Edited"))),this.storefrontStoreBuilderCoverBannerLaunched$=this.events$.pipe(G$6(vo$1),kc$2(({storeId:i})=>this.window.analytics.track("Cover banner launched",{store_id:i}))),this.storefrontStoreBuilderCoverBannerDisabled$=this.events$.pipe(G$6(yo$1),kc$2(({storeId:i})=>this.window.analytics.track("Cover banner disabled",{store_id:i}))),this.kycModalVerifyClicked$=this.events$.pipe(G$6(Lt$4),kc$2(()=>this.window.analytics.track("KYC Modal Verify Store Clicked"))),this.personalizationPromoModalShowed$=this.events$.pipe(G$6(c),kc$2(()=>this.window.analytics.track("Personalization Promo Modal Showed"))),this.personalizationPromoModalCTAClicked$=this.events$.pipe(G$6(x),kc$2(()=>this.window.analytics.track("Personalization Promo Modal CTA Clicked"))),this.personalizationPromoModalHelpCenterClicked$=this.events$.pipe(G$6(p),kc$2(()=>this.window.analytics.track("Personalization Promo Modal Help Center Clicked"))),this.stripeOnboardingStepChanged$=this.events$.pipe(G$6(ei$4),kc$2(({stepName:i,merchantId:e})=>{this.window.analytics.track("Stripe Onboarding Step Changed",{step_name:i,merchant_id:e});})),this.pcUpgradeSettingChanged$=this.events$.pipe(G$6(Ue$1),kc$2(({enabled:i,source:e,storeId:t})=>this.window.analytics.track("PC Upgrade Setting Changed",{is_enabled:i,source:e,store_id:t}))),this.appForceRefreshed$=this.events$.pipe(G$6(dn),ie$b(({payload:i})=>i),kc$2(({merchantVersionLabel:i,merchantVersionReleaseTimestamp:e,latestVersionLabel:t,latestVersionReleaseTimestamp:o,merchantLastForceRefreshTimestamp:r})=>this.window.analytics.track("App Force Refreshed",{merchant_version_label:i,merchant_version_release_timestamp:e,latest_version_label:t,latest_version_release_timestamp:o,merchant_last_force_refresh_timestamp:r}))),this.blueprintCollectionSelected$=this.events$.pipe(G$6(O$3),kc$2(({collection:i})=>this.window.analytics.track("Blueprint Collection Selected",{collection_name:i.analyticsName}))),this.productCollectionProgressUpdated$=this.events$.pipe(G$6(R$6),kc$2(({collection:i})=>this.window.analytics.track("Product Collection Progress Updated",{collection_name:i.analyticsName,progress:i.progress}))),this.storefrontPromoMaterialsClicked$=this.events$.pipe(G$6(Jr$2),kc$2(()=>this.window.analytics.track("Storefront Promo Materials Clicked"))),this.storefrontPromoPrintPrice$=this.events$.pipe(G$6(Xr$1),kc$2(()=>this.window.analytics.track("Storefront Promo Price Printed"))),this.storefrontPromoMarketingPackDownloaded$=this.events$.pipe(G$6(Zr$2),kc$2(()=>this.window.analytics.track("Storefront Promo Marketing Pack Downloaded"))),this.onboardingQuestionSkipped$=this.events$.pipe(G$6(tt$2),kc$2(({question:i})=>this.window.analytics.track("Onboarding Question Skipped",{name:i.routeAnalytics.name,label:i.routeAnalytics.label}))),this.etsyMigrationSuccessDashboardVisited$=this.events$.pipe(G$6(xn),kc$2(()=>this.window.analytics.track("Etsy Migration Success Dashboard Visited",{},{integrations:{All:false,Appcues:true}}))),this.youtubeVideoInteracted$=this.events$.pipe(G$6(a$4),kc$2(({videoId:i,title:e,state:t,shopId:o})=>this.window.analytics.track("Youtube Video Interaction",{video_id:i,title:e,state:t,shop_id:o}))),this.storefrontKYCResetClicked$=this.events$.pipe(G$6(Cr$3),kc$2(({stepName:i})=>{this.window.analytics.track("Storefront KYC Reset Clicked",{step_name:i});})),this.storefrontKYCResetCompleted$=this.events$.pipe(G$6(Wr$2),kc$2(()=>this.window.analytics.track("Storefront KYC Reset Completed"))),this.sellersClubFreeTrialNotificationTriggered$=this.events$.pipe(G$6($$1),kc$2(()=>this.window.analytics.track("Sellers Club Free Trial Notification Triggered")));}isAvailable(){return !!this.window.analytics?.initialized}setup(){this.userPrivacyService.isReady$.pipe(mt$8(1)).subscribe(()=>{this.loadSetupScript(),this.registerMiddlewares();});}loadSetupScript(){this.window.analytics.load(this.environment.segmentWriteKey,{integrations:{"Segment.io":{deliveryStrategy:{strategy:"batching",config:{size:10,timeout:1e3}}}}}),this.window.analytics.page();}registerMiddlewares(){this.window.analytics.addSourceMiddleware(ou(this.window));}static{this.\u0275fac=(()=>{let i;return function(t){return (i||(i=sR(n)))(t||n)}})();}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}};zD([ie$4(),QD("design:type",Object)],w.prototype,"page$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"startDesigning$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"isSellingOnline$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"identify$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"indentifyAfterRegistration$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"csvImportCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"draftSaved$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"cardAdded$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"productPublished$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"userSignedIn$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"orderCreationStarted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"manualOrderAddressParserUsed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"replaceProductCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"orderBulkActionPerformed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"orderLineItemReplacementSuggestionFlowStarted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"orderLineItemReplacementSuggestionLoaded$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"orderLineItemReplacementCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"productAgentFeedbackFormSubmitted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"activityDashboardInitialized$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"activityDashboardShown$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"activityDashboardConnectionStatus$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"couponAssigned$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"aiqcAnimationModalElapsedTime$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"appSessionStarted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"generatorAnalytics$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"blueprintPrintProviderChosen$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"blueprintCardClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"printifyChoiceViewed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"productUpdated$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"productPersonalizationToggleChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"ebaySellingLimitHint$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"dashboardViewed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"dashboardChecklistStepStateChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"dashboardChecklistStepProgressUpdated$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"checklistStepActionTriggered$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"dashboardWidgetInteracted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheGenerationBotOpened$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheHelpArticleViewed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheBlogViewed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheBrowseCatalogClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheGenerationStarted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheGenerationCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheGenerationFailed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"nicheOutputSaved$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardStarted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardAbandoned$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedProductsShown$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedProductClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedSalesChannelsShown$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedSalesChannelClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedSalesChannelSeeOtherClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"setupWizardRecommendedSalesChannelFilterClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"wizardAbandoned$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"impressionTracked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationSaved$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationDrawerOpened$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationFilterChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontStoreBuilderLogoChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontStoreBuilderSocialLinkAdded$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontStoreBuilderThemeChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationViewed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"notificationReceived$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontDiscountCreated$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontDiscountDeleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"showedKycInConnectionFlow$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"skippedKyc$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"startedKyc$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"showedKycInPayouts$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"closedKyc$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"clickedKycBannerCallToAction$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"showedKycBanner$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"createdKycAccount$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"completedKyc$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"abandonedKyc$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"kycModalShowed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"kycModalSkipped$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontProductsArrangementSaved$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontProductsArrangementProductMovedToTop$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontProductsArrangementProductMovedToBottom$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontProductsArrangementFailed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontProductsArrangementEdited$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontStoreBuilderCoverBannerLaunched$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontStoreBuilderCoverBannerDisabled$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"kycModalVerifyClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"personalizationPromoModalShowed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"personalizationPromoModalCTAClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"personalizationPromoModalHelpCenterClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"stripeOnboardingStepChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"pcUpgradeSettingChanged$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"appForceRefreshed$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"blueprintCollectionSelected$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"productCollectionProgressUpdated$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontPromoMaterialsClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontPromoPrintPrice$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontPromoMarketingPackDownloaded$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"onboardingQuestionSkipped$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"etsyMigrationSuccessDashboardVisited$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"youtubeVideoInteracted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontKYCResetClicked$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"storefrontKYCResetCompleted$",undefined);zD([ie$4(),QD("design:type",Object)],w.prototype,"sellersClubFreeTrialNotificationTriggered$",undefined);var ru=(()=>{class n{constructor(e){e.setup();}static{this.\u0275fac=function(t){return new(t||n)(pe$9(fe$1))};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({providers:[{provide:ee$2,useClass:Lt,multi:true},{provide:ee$2,useClass:De,multi:true},{provide:ee$2,useClass:w,multi:true},{provide:ee$2,useClass:yt,multi:true},{provide:ee$2,useClass:En,multi:true},{provide:ee$2,useClass:In,multi:true},{provide:ee$2,useClass:E$5,multi:true}]});}}return n})();var by=(()=>{class n{constructor(){this.eventDispatcherService=N$8(X$6),this.catalogUserSettingsService=N$8(Ie$2),this.userSegmentationService=N$8(hs);}initialize(){this.eventDispatcherService.events$.pipe(G$6(Ur$1),mt$8(1)).subscribe(()=>{let{isExperienced:e}=this.userSegmentationService.getUserOnboardingQuestionnaireAttributes();e&&this.catalogUserSettingsService.sendAcceptFreemiumIfHasAccessToFeature();});}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),au=qR(()=>N$8(by).initialize());var wy=5e3,My=(()=>{class n{constructor(){this.router=N$8(ve$8),this.errorHandler=N$8(it$a),this.eventDispatcherService=N$8(X$6);}initialize(){let e=this.eventDispatcherService.events$.pipe(G$6(ke$6)),t=this.router.events.pipe(Ye$b(a=>a instanceof ie$a&&a.url.startsWith(`/${M$8}`))),o=this.router.events.pipe(Ye$b(a=>a instanceof ot$b)),r=this.eventDispatcherService.events$.pipe(G$6(Be$2));e.pipe(Ac$3(()=>t.pipe(Ac$3(()=>de$7(wy).pipe(Oc$2(o))),mt$8(1),Oc$2(r)))).subscribe(()=>this.errorHandler.handleError(new Error("Checklist failed to load")));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),su=qR(()=>N$8(My).initialize());var Ty=(()=>{class n{constructor(){this.router=N$8(ve$8),this.toastService=N$8(rO),this.currencyService=N$8(Eo$3),this.checklistApiService=N$8(ee$3);}initialize(){this.router.events.pipe(Ye$b(t=>t instanceof ie$a&&t.url.startsWith(`/${M$8}`))).pipe(Ac$3(()=>this.checklistApiService.getAutoClaimedReward()),Ye$b(Boolean),Ac$3(t=>$p$1(this.markAsNotified(t),this.showNotification(t)))).subscribe();}markAsNotified(e){return this.checklistApiService.markAutoClaimedRewardAsNotified(e)}showNotification(e){return this.currencyService.formatPrice(e.amount,"USD","symbol").pipe(Ac$3(t=>this.toastService.success({content:`Your coupon of ${t} discount on next order is ready to use.`,action:"View coupons",timeoutWithAction:true}).confirmed$),kc$2(()=>this.router.navigate(["account","coupons"])))}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),cu={provide:Vf$2,useFactory:n=>()=>n.initialize(),deps:[Ty],multi:true};var ky=(()=>{class n{constructor(){this.toastService=N$8(rO),this.checklistService=N$8(Ge$3);}initialize(){this.checklistService.checklistGotCompleted$.pipe(Ac$3(()=>this.checklistService.checklistCompletionNotification$.pipe(mt$8(1))),Ye$b(Boolean),Ac$3(e=>this.toastService.success({content:e.text,action:e.action?.text}).confirmed$.pipe(ie$b(()=>e)))).subscribe(e=>e?.action?.onAction());}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),lu={provide:Vf$2,useFactory:n=>()=>n.initialize(),deps:[ky],multi:true};var Py=(()=>{class n{constructor(){this.destroyRef=N$8(mn$6),this.router=N$8(ve$8),this.eventDispatcherService=N$8(X$6),this.featureTogglesService=N$8(te$5);}initialize(){let e=this.featureTogglesService.isFeatureEnabled$(jt$2.ShowingAppcuesBasedOnSCConnectionAbandonment),t=this.router.events.pipe(Ye$b(a=>a instanceof ie$a&&a.url.includes(o$5))),o=this.router.events.pipe(Ye$b(a=>a instanceof ie$a&&!r$8(a.url)),mt$8(1)),r=this.eventDispatcherService.events$.pipe(G$6(Ar$3));e.pipe(Ac$3(a=>a?t.pipe(Ac$3(()=>o.pipe(Oc$2(r)))):be$8),X$7(this.destroyRef)).subscribe(()=>this.eventDispatcherService.dispatch(new an));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})(),du=qR(()=>N$8(Py).initialize());var pu=[lu,cu,du,su,Ti$2,Vt,lt$3];var Iy=1,Ey=3,xy=500,pn=class n{constructor(i,e,t){this.metadataRepository=i,this.modal=e,this.externalShouldShowCondition=t,this.router=N$8(ve$8),this.dialogService=N$8(zu$1),this.sessionService=N$8(M$3),this.dashboardVisited$=this.router.events.pipe(Ye$b(o=>o instanceof ie$a),ie$b(o=>o.url.startsWith(`/${M$8}`)));}static initialize(i){new n(i.metadataRepository,i.modal,i.showingCondition).initialize();}shouldShowModal(){return this.externalShouldShowCondition().pipe(Ac$3(i=>i?this.metadataRepository.metadata$.pipe(ie$b(({dashboardModal:{dismissed:e}})=>!e.at||Wo$2(Date.now(),e.at)>=Iy&&e.times<Ey&&!e.permanently)):hi$7(false)))}initialize(){this.sessionService.isAuthenticated$.pipe(Ac$3(i=>i?Hp$2([this.shouldShowModal(),this.dashboardVisited$]):be$8),ie$b(i=>i.every(Boolean)),Dr$5(),Mc$2(xy),Ac$3(i=>i?this.showModal():be$8)).subscribe();}showModal(){let i=this.dialogService.open(this.modal.component);return $p$1(i.afterPrimaryAction().pipe(ie$b(()=>({dismissPermanently:false}))),i.afterClosed().pipe(ie$b(()=>({dismissPermanently:false}))),i.afterSecondaryAction()).pipe(kc$2(({dismissPermanently:e})=>this.metadataRepository.dismissModal({permanently:e})),mt$8(1),xc$2(()=>i.close()))}};var mu=(()=>{class n{constructor(){this.dialogRef=N$8(Zn$3),this.etsyRecommendationService=N$8(F),this.buttonType=Ze$5,this.modalSize=Sl$1;}onClose(){this.dialogRef.secondaryActionPerformed({dismissPermanently:true});}onSecondaryButtonClick(){this.dialogRef.secondaryActionPerformed({dismissPermanently:false});}onPrimaryButtonClick(){this.etsyRecommendationService.openWizard("modal"),this.dialogRef.primaryActionPerformed();}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-etsy-recommendation-modal"]],decls:21,vars:6,consts:[["pfaImpressionId","etsyRecommendationDashboardModal",3,"modalSize","hideCloseButton"],[1,"modal-header"],["data-testid","closeButton","data-analyticsid","etsyRecommendationModalCloseButton",3,"buttonClick","type"],["name","close"],[1,"modal-content"],["src","/assets/img/etsy-recommendation/etsy-recommendation-modal.png","alt","Etsy store illustration",1,"etsy-store-illustration"],[1,"details"],[1,"subtitle"],["name","lightbulb",1,"subtitle-icon",3,"colorInherit"],[1,"description"],[1,"modal-footer"],["data-testid","secondaryButton","data-analyticsid","etsyRecommendationModalSecondaryButton",3,"buttonClick","type"],["data-testid","primaryButton","data-analyticsid","etsyRecommendationModalPrimaryButton",3,"buttonClick","type"]],template:function(t,o){t&1&&(Kf$2(0,"pfy-modal-dialog",0)(1,"pfy-modal-dialog-header",1)(2,"pfy-button",2),VE("buttonClick",function(){return o.onClose()}),fP(3," Don't show again "),ME(4,"pfy-icon",3),Xf$2()(),Kf$2(5,"pfy-modal-dialog-content",4),ME(6,"img",5),Kf$2(7,"div",6)(8,"h6",7),ME(9,"pfy-icon",8),fP(10," Growth opportunity "),Xf$2(),Kf$2(11,"h4"),fP(12,"80% of merchants who expand to Etsy increase their sales within 3 months."),Xf$2(),Kf$2(13,"p",9),fP(14," We will help you to connect, optimize and publish your created products to Etsy \u2014 you won\u2019t lose any of your created products. "),Xf$2()(),ME(15,"pfa-etsy-success-stories"),Xf$2(),Kf$2(16,"pfy-modal-dialog-footer",10)(17,"pfy-button",11),VE("buttonClick",function(){return o.onSecondaryButtonClick()}),fP(18," Maybe later "),Xf$2(),Kf$2(19,"pfy-button",12),VE("buttonClick",function(){return o.onPrimaryButtonClick()}),fP(20," Try Etsy "),Xf$2()()()),t&2&&(lE("modalSize",o.modalSize.M)("hideCloseButton",true),xR(2),lE("type",o.buttonType.Ghost),xR(7),lE("colorInherit",true),xR(8),lE("type",o.buttonType.Secondary),xR(2),lE("type",o.buttonType.Alternative));},dependencies:[dT,We$8,Fo$1,bs$2,Cs$4,Nu$1,ge$9,ts,W],styles:['@charset "UTF-8";.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.subtitle[_ngcontent-%COMP%]{color:#af5604}.subtitle-icon[_ngcontent-%COMP%]{vertical-align:bottom}.description[_ngcontent-%COMP%]{color:#64634a}.etsy-store-illustration[_ngcontent-%COMP%]{width:100%;aspect-ratio:2/1}.modal-footer[_ngcontent-%COMP%]{gap:1rem}@media (max-width: 599px){.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}'],changeDetection:0});}}return n})();var uu=qR(()=>{let n=N$8(F),i=N$8(ee$1);pn.initialize({showingCondition:()=>n.hasRecommendation$,modal:{component:mu},metadataRepository:i});});var hu=(()=>{class n{constructor(){this.widgetMetadataRepository=u$2.create({widgetName:"storefront_recommendation",initialMetadata:L$1}),this.metadata$=this.widgetMetadataRepository.metadata$;}dismissModal({permanently:e}){this.widgetMetadataRepository.update(b({permanently:e}));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();function Ay(n,i){if(n&1&&ME(0,"img",2),n&2){let e=tP().$implicit;lE("src",e.image,sy$2)("alt",e.name);}}function Oy(n,i){n&1&&ME(0,"pfy-skeleton",3);}function $y(n,i){if(n&1&&(Kf$2(0,"li",1),kI(1,Ay,1,2,"img",2)(2,Oy,1,0,"pfy-skeleton",3),Xf$2()),n&2){let e=i.$implicit;xR(),QR(e.image?1:2);}}function Dy(n,i){if(n&1&&(Kf$2(0,"ul",0),JR(1,$y,3,1,"li",1,ZR),Xf$2(),Kf$2(3,"p"),fP(4),TP(5,"plural"),Xf$2()),n&2){let e=tP();xR(),KR(e.previews()),xR(3),zE(" +",e.moreProductsToPublishCount()," ",SP(5,2,e.moreProductsToPublishCount(),"product","products")," to publish ");}}var fu=(()=>{class n{constructor(){this.recentProductPreviewService=N$8($e$1),this.storesService=N$8(Ro$2),this.previews=Wn$4(this.recentProductPreviewService.getPreviews()),this.moreProductsToPublishCount=Wn$4(this.storesService.selectedStore$.pipe(ie$b(e=>Math.max(e.products.count-Le$2,0))),{initialValue:0});}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-more-products-to-publish"]],decls:1,vars:1,consts:[[1,"product-preview-list"],[1,"product-preview"],[1,"product-preview-image",3,"src","alt"],["data-testid","productPreviewImageSkeleton",1,"product-preview-image-skeleton"]],template:function(t,o){t&1&&kI(0,Dy,6,6),t&2&&QR(o.moreProductsToPublishCount()>0?0:-1);},dependencies:[hu$1,dT,Hu$1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;gap:.75rem;align-items:center}.product-preview-list[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center}.product-preview[_ngcontent-%COMP%]{border:2px solid #ffffff;border-radius:1000px;position:relative;width:55px;height:55px;overflow:hidden}.product-preview[_ngcontent-%COMP%]:not(:last-child){margin-left:-.75rem}.product-preview[_ngcontent-%COMP%]:nth-child(1){z-index:20}.product-preview[_ngcontent-%COMP%]:nth-child(2){z-index:10}.product-preview-image[_ngcontent-%COMP%]{width:100%}.product-preview-image-skeleton[_ngcontent-%COMP%]{width:100%;padding-top:100%}'],changeDetection:0});}}return n})();var gu=(()=>{class n{constructor(){this.dialogRef=N$8(Zn$3),this.storefrontRecommendationService=N$8(It),this.buttonType=Ze$5,this.modalSize=Sl$1;}onClose(){this.dialogRef.secondaryActionPerformed({dismissPermanently:true});}onSecondaryButtonClick(){this.dialogRef.secondaryActionPerformed({dismissPermanently:false});}onPrimaryButtonClick(){this.storefrontRecommendationService.startConnection(),this.dialogRef.primaryActionPerformed();}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-storefront-recommendation-modal"]],decls:18,vars:6,consts:[["pfaImpressionId","storefrontRecommendationDashboardModal","data-testid","storefrontRecommendationModal",3,"modalSize","hideCloseButton"],[1,"modal-header"],["data-testid","closeButton","data-analyticsid","storefrontRecommendationModalCloseButton",3,"buttonClick","type"],["name","close"],[1,"modal-content"],[3,"showLoading"],[1,"details"],[1,"description"],[1,"modal-footer"],["data-testid","secondaryButton","data-analyticsid","storefrontRecommendationModalSecondaryButton",3,"buttonClick","type"],["data-testid","primaryButton","data-analyticsid","storefrontRecommendationModalPrimaryButton",3,"buttonClick","type"]],template:function(t,o){t&1&&(Kf$2(0,"pfy-modal-dialog",0)(1,"pfy-modal-dialog-header",1)(2,"pfy-button",2),VE("buttonClick",function(){return o.onClose()}),fP(3," Don't show again "),ME(4,"pfy-icon",3),Xf$2()(),Kf$2(5,"pfy-modal-dialog-content",4),ME(6,"pfa-storefront-recent-products-preview",5),Kf$2(7,"div",6)(8,"h4"),fP(9,"Share your products with friends & family for free using Printify Pop-Up"),Xf$2(),Kf$2(10,"p",7),fP(11," Create your store for free, in minutes, and share its link to all friends and family (or the world!) with Printify Pop-Up. "),Xf$2(),ME(12,"pfa-more-products-to-publish"),Xf$2()(),Kf$2(13,"pfy-modal-dialog-footer",8)(14,"pfy-button",9),VE("buttonClick",function(){return o.onSecondaryButtonClick()}),fP(15," Maybe later "),Xf$2(),Kf$2(16,"pfy-button",10),VE("buttonClick",function(){return o.onPrimaryButtonClick()}),fP(17," Launch Pop-up store "),Xf$2()()()),t&2&&(lE("modalSize",o.modalSize.M)("hideCloseButton",true),xR(2),lE("type",o.buttonType.Ghost),xR(4),lE("showLoading",true),xR(8),lE("type",o.buttonType.Secondary),xR(2),lE("type",o.buttonType.Alternative));},dependencies:[dT,We$8,Fo$1,bs$2,Cs$4,Nu$1,ge$9,ts,Gt$1,fu],styles:['@charset "UTF-8";.modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.description[_ngcontent-%COMP%]{color:#64634a}.modal-footer[_ngcontent-%COMP%]{gap:1rem}@media (max-width: 599px){.modal-footer[_ngcontent-%COMP%]{flex-direction:column}}'],changeDetection:0});}}return n})();var vu=qR(()=>{let n=N$8(It),i=N$8(hu);pn.initialize({showingCondition:()=>n.shouldShowModal$,modal:{component:gu},metadataRepository:i});});var yu=[nu,uu,vu];var Su=[pt$3,y$2];var _u=(()=>{class n{constructor(e,t){this.router=e,this.env=t;}intercept(e,t){let o=this.resolveHttpErrorConfig(e);return !o.enabled||e.method!=="GET"?t.handle(e):t.handle(e).pipe(yi$5(r=>(o.statusCodes.includes(r.status)&&this.router.navigateByUrl(`${o.redirectTo}`),Xp$2(`Error: ${r.error.message}`))))}resolveHttpErrorConfig(e){let t=e.context.get(li$3);return w$9(w$9({},yo$2),t)}static{this.\u0275fac=function(t){return new(t||n)(pe$9(ve$8),pe$9(f$c))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var br=(()=>{class n{constructor(){this.messageCountPerRequest=50,this.window=N$8(Q$9),this.environment=N$8(f$c);}init({authorizationToken:e,userId:t}){this.window.courier?.init({authorization:e,userId:t,clientKey:this.environment.courierClientKey});}addTag(e,t){this.window.courier?.inbox.addTag(e,t);}removeTag(e,t){this.window.courier?.inbox.removeTag(e,t);}fetchUnreadMessagesCount(){this.window.courier?.inbox.getUnreadMessageCount();}addEventHandler(e){return jc$3(t=>this.window.courier?.on(e,t))}fetchMessages({tags:e,after:t}){this.window.courier?.inbox.fetchMessages({params:{tags:e,limit:this.messageCountPerRequest},after:t});}markAllAsRead(){this.window.courier?.inbox.markAllAsRead();}archiveMessage(e){this.window.courier?.inbox.markMessageArchived(e);}markMessageAsRead(e){this.window.courier?.inbox.markMessageRead(e);}getRecentlyArchivedMessages(){return this.window.courier?.inbox.recentlyArchiveMessageIds||[]}getLastMarkedAllReadTimestamp(){return this.window.courier?.inbox.lastMarkedAllRead||0}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var Cu=(()=>{class n{constructor(){this.sessionService=N$8(M$3),this.storage=N$8(Y$4),this.http=N$8(_u$3),this.userService=N$8(J$5),this.courierService=N$8(br),this.environment=N$8(f$c),this.invalidateToken$=new Z$a,this.courierAuthorizationUrl=`${this.environment.apiURL}v1/merchant-notification/inbox/issue-token`,this.notificationCenterTokenName="notification_center_token",this.authorizationToken$=Hp$2([this.sessionService.isAuthenticated$,this.invalidateToken$.pipe(Sc$2(null))]).pipe(Ac$3(([e])=>{if(!e)return hi$7(null);let t=this.getStoredToken();return t?hi$7(t):this.authorizeCourier()}));}ngOnDestroy(){this.invalidateToken$.complete();}subscribeToAuthorizedEvents(e){Hp$2([this.sessionService.isAuthenticated$,this.authorizationToken$]).pipe(Rc$2(this.userService.id$),Ye$b(([[t,o],r])=>t&&!!r&&!!o),ie$b(([[,t],o],r)=>[o,r===0,t])).subscribe(([t,o,r])=>{try{this.courierService.init({authorizationToken:r,userId:`${t}`});}catch{this.invalidateSessionToken();}o&&e();});}authorizeCourier(){return this.http.post(this.courierAuthorizationUrl,{}).pipe(ie$b(e=>e.token),kc$2(e=>{this.storage.setString(this.notificationCenterTokenName,e,{storageType:I$8.Local,clearOnAuth:true});}))}invalidateSessionToken(){this.storage.remove(this.notificationCenterTokenName,I$8.Local),this.invalidateToken$.next();}getStoredToken(){let e=this.storage.get(this.notificationCenterTokenName,null,I$8.Local);return e&&f(e).exp*1e3>Date.now()?e:null}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var Tu=(()=>{class n{constructor(){this.sessionService=N$8(M$3),this.eventDispatcherService=N$8(X$6),this.notificationAuthorizationService=N$8(Cu),this.window=N$8(Q$9),this.browserStorageService=N$8(Y$4),this.userService=N$8(J$5),this.destroyRef=N$8(mn$6),this.notificationArchivingService=N$8(G$1),this.courierService=N$8(br),this.notificationService=N$8(x$3),this.previousStartCursor=new yn$7(undefined),this.lastNotificationReceivedTimestamp=new Z$a,this.storedLastReceivedDate$=this.userService.id$.pipe(ie$b(e=>this.browserStorageService.getNumber(wu(e),0,I$8.Local))),this.lastNotificationReceivedTimestamp$=$p$1(this.storedLastReceivedDate$,this.lastNotificationReceivedTimestamp),this.messages=new yn$7([]),this.messages$=this.messages.pipe(Rc$2(this.lastNotificationReceivedTimestamp$,this.userService.id$),kc$2(([e,t,o])=>{let r=Math.max(...e.map(a=>new Date(a.created).getTime()),t||0);e.filter(a=>new Date(a.created).getTime()>(t||0)).forEach(a=>{this.eventDispatcherService.dispatch(new cn({messageId:a.messageId,title:a.title,notificationBody:a.preview}));}),this.lastNotificationReceivedTimestamp.next(r),this.browserStorageService.set(wu(o),r,{storageType:I$8.Local,clearOnAuth:true});}),$c$2(this.notificationArchivingService.archivingMessage$),ie$b(([[e],t])=>{let o=this.courierService.getLastMarkedAllReadTimestamp();return e.every(r=>r.messageId===t)?[]:e.map(r=>bu(r,o))}),Mr$6({connector:()=>new In$7(1)})),this.unreadMessagesCount=new yn$7(0);}ngOnDestroy(){this.messages.complete(),this.unreadMessagesCount.complete(),this.lastNotificationReceivedTimestamp.complete(),this.previousStartCursor.complete();}initialize(){this.notificationAuthorizationService.subscribeToAuthorizedEvents(()=>{this.initializeMessageHandlers();}),this.subscribeToUnauthorizedEvents(),this.subscribeToNotificationCenterLoadedEvent(),this.notificationService.markAllAsReadTrigger$.subscribe(()=>this.courierService.markAllAsRead()),this.notificationService.markAsReadTrigger$.subscribe(e=>{e.read||this.courierService.markMessageAsRead(e.messageId);}),this.notificationService.selectedTab$.pipe(X$7(this.destroyRef),Nc$2(1)).subscribe(e=>{this.fetchMessagesBasedOnTab(e);}),this.subscribeToToggleSavedState(),this.subscribeToLoadMoreMessages(),this.subscribeToShowUnreadMessages(),this.subscribeToNotificationArchiveAction(),this.subscribeToNotificationArchived(),this.messages$.subscribe(e=>{this.notificationService.updateMessages(e);});}setSelectedTab(e){this.notificationService.setSelectedTab(e);}subscribeToShowUnreadMessages(){Hp$2([this.unreadMessagesCount,this.notificationService.isNotificationPageOpen$,this.notificationService.isNotificationDrawerOpen$]).pipe(X$7(this.destroyRef),ie$b(([e,t,o])=>!t&&!o&&e>0)).subscribe(e=>{this.notificationService.setShowUnreadMessages(e);});}subscribeToNotificationCenterLoadedEvent(){this.sessionService.isAuthenticated$.pipe(mt$8(1)).subscribe(e=>{e&&this.eventDispatcherService.dispatch(new sn);});}subscribeToUnauthorizedEvents(){this.sessionService.isAuthenticated$.pipe(Ye$b(e=>!e)).subscribe(()=>{this.window.courier?.transport?.closeConnection();});}initializeMessageHandlers(){this.courierService.addEventHandler(he$1.Init).pipe(X$7(this.destroyRef)).subscribe(()=>{this.fetchMessagesBasedOnTab(h$2.All);}),this.courierService.addEventHandler(he$1.FetchMessagesDone).pipe(X$7(this.destroyRef),kc$2(e=>{this.previousStartCursor.next(e.payload.startCursor);}),kc$2(()=>this.notificationService.setMessagesLoading(false))).subscribe(e=>{let t=this.courierService.getLastMarkedAllReadTimestamp(),o=this.messages.getValue(),r=e.payload.messages||[],a=e.payload.appendMessages?o.concat(r):r,s=this.courierService.getRecentlyArchivedMessages(),c=Mu(a,this.courierService.getRecentlyArchivedMessages()),m=a.filter(C=>!c.includes(C)&&!s.includes(C.messageId));this.messages.next(m.map(C=>bu(C,t))),this.notificationArchivingService.archiveMessages(c),this.courierService.fetchUnreadMessagesCount();}),this.courierService.addEventHandler(he$1.NewMessage).pipe(Rc$2(this.notificationService.selectedTab$),X$7(this.destroyRef)).subscribe(([e,t])=>{let o=Mu([e.payload],this.courierService.getRecentlyArchivedMessages());if(o.length>0){this.notificationArchivingService.archiveMessages(o);return}this.unreadMessagesCount.next(this.unreadMessagesCount.getValue()+1),(t===h$2.All||e.payload.tags?.includes(t))&&this.messages.next([e.payload].concat(this.messages.getValue()));}),this.courierService.addEventHandler(he$1.UnreadMessageCountDone).pipe(Ye$b(e=>e?.payload?.count!==undefined),X$7(this.destroyRef)).subscribe(e=>{this.unreadMessagesCount.next(e.payload.count);}),this.courierService.addEventHandler(he$1.MarkAllRead).pipe(X$7(this.destroyRef)).subscribe(()=>{this.addReadStatusToMessages(),this.unreadMessagesCount.next(0);}),this.courierService.addEventHandler(he$1.MarkMessageRead).pipe(X$7(this.destroyRef)).subscribe(e=>{this.unreadMessagesCount.next(this.unreadMessagesCount.getValue()-1),this.messages.next(this.messages.getValue().map(t=>t.messageId===e.payload.messageId?x$d(w$9({},t),{read:new Date().toISOString()}):t));});}addReadStatusToMessages(){this.messages.next(this.messages.getValue().map(e=>x$d(w$9({},e),{read:e.read||new Date().toISOString()})));}fetchMessagesBasedOnTab(e){this.messages.next([]),this.notificationService.setMessagesLoading(true),this.courierService.fetchMessages({tags:e===h$2.All?undefined:[e]});}subscribeToLoadMoreMessages(){this.notificationService.loadMoreMessagesTrigger$.pipe(Rc$2(this.previousStartCursor,this.notificationService.messagesLoading$,this.notificationService.selectedTab$)).pipe(Ye$b(([,e,t])=>!!e&&!t),kc$2(()=>{this.notificationService.setMessagesLoading(true);})).subscribe(([,,,e])=>{let t=e===h$2.All?undefined:[e];this.courierService.fetchMessages({tags:t,after:this.previousStartCursor.getValue()});});}subscribeToToggleSavedState(){this.notificationService.toggleSavedStateTrigger$.pipe(Rc$2(this.notificationService.selectedTab$)).subscribe(([{message:e,location:t},o])=>{let r=e.tags?.includes(h$2.Saved);r?this.courierService.removeTag(e.messageId,h$2.Saved):this.courierService.addTag(e.messageId,h$2.Saved);let a=this.messages.getValue();if(o===h$2.Saved){this.messages.next(a.filter(s=>s.messageId!==e.messageId));return}this.messages.next(a.map(s=>s.messageId===e.messageId?x$d(w$9({},s),{tags:r?s.tags?.filter(c=>c!==h$2.Saved):s.tags?.concat(h$2.Saved)}):s)),r||this.eventDispatcherService.dispatch(new ln({messageId:e.messageId,title:e.title,notificationBody:e.preview,origin:t})),this.notificationService.markAsRead(e);});}subscribeToNotificationArchiveAction(){this.notificationArchivingService.notificationArchiveTrigger$.subscribe(e=>{this.courierService.archiveMessage(e);});}subscribeToNotificationArchived(){this.courierService.addEventHandler(he$1.MarkMessageArchived).pipe(X$7(this.destroyRef)).subscribe(e=>{let t=this.messages.getValue(),o=t.find(r=>r.messageId===e.payload.messageId);o&&(this.messages.next(t.filter(r=>r.messageId!==e.payload.messageId)),o.read||this.unreadMessagesCount.next(this.unreadMessagesCount.getValue()-1));});}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();function bu(n,i){return !i||n.read||new Date(n.created).getTime()>i?n:x$d(w$9({},n),{read:new Date(i).toISOString()})}function wu(n){return `notification_received_timestamp_${n}`}function Mu(n,i=[]){let t=ha$1(new Date,Le$3);return n.filter(o=>{let r=new Date(o.created),a=pa$1(t,r),s=o.tags?.includes(h$2.Saved),c=i.includes(o.messageId),m=!o.title;return (a&&!s||m)&&!c})}var Ra="appForceRefreshedEventPayload",wr=(()=>{class n{constructor(){this.eventDispatcherService=N$8(X$6),this.browserStorageService=N$8(Y$4);}saveAppForceRefreshedEventPayload(e){this.browserStorageService.set(Ra,e,{storageType:I$8.Local,clearOnAuth:false});}dispatchAppForceRefreshedEvent(){let e=this.browserStorageService.getNonPrimitive(Ra,undefined,I$8.Local);e&&(this.eventDispatcherService.dispatch(new dn(e)),this.browserStorageService.remove(Ra,I$8.Local));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var ku=(()=>{class n extends Cr$5{constructor(e,t,o){super(t,e),this.ngZone=o;}pushState(e,t,o,r){this.ngZone.runOutsideAngular(()=>super.pushState(e,t,o,r));}replaceState(e,t,o,r){this.ngZone.runOutsideAngular(()=>super.replaceState(e,t,o,r));}historyGo(e){this.ngZone.runOutsideAngular(()=>super.historyGo(e));}back(){this.ngZone.runOutsideAngular(()=>super.back());}forward(){this.ngZone.runOutsideAngular(()=>super.forward());}static{this.\u0275fac=function(t){return new(t||n)(pe$9(ks$3),pe$9(yr$5),pe$9(te$6))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var Pu=(()=>{class n{constructor(e,t,o,r,a){this.metaDataService=e,this.salesChannelsService=t,this.redirectToSearchResultsService=o,this.notificationService=r,this.courierNotificationService=a,this.metaDataService.initialize(),this.salesChannelsService.initialize(),this.redirectToSearchResultsService.initialize(),this.notificationService.initialize(),this.courierNotificationService.initialize();}static{this.\u0275fac=function(t){return new(t||n)(pe$9($r),pe$9(ep),pe$9(Vn$1),pe$9(x$3),pe$9(Tu))};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({providers:[{provide:it$a,useExisting:Cr$2},{provide:ks$3,useFactory(e){return e.appRoot},deps:[f$c]},{provide:pe$8,useClass:ku},{provide:Nu$2,useClass:_u,multi:true},{provide:yt$5,useExisting:BP},pu,Su,yu,{provide:Vf$2,multi:true,useFactory(e){return ()=>e.dispatchAppForceRefreshedEvent()},deps:[wr]},au]});}}return n})();function Ry(n,i){if(n&1){let e=XR();Kf$2(0,"pfa-designer-loader",1),VE("generatorSave",function(o){nR(e);let r=tP();return rR(r.saveProduct(o))})("dispatchNotification",function(o){nR(e);let r=tP();return rR(r.onDispatchNotification(o))})("authError",function(){nR(e);let o=tP();return rR(o.onAuthError())})("goBack",function(){nR(e);let o=tP();return rR(o.onGoBack())})("dispatchAnalyticsEvent",function(o){nR(e);let r=tP();return rR(r.onDispatchAnalyticsEvent(o))})("htmlTitleChange",function(o){nR(e);let r=tP();return rR(r.onHtmlTitleChange(o))}),Xf$2();}if(n&2){let e=i;lE("productId",e.productId)("blueprintId",e.blueprintId)("selectedDecorationMethod",e.selectedDecorationMethod)("printProviderId",e.printProviderId)("backButtonLabel",e.backButtonLabel)("saveButtonLabel",e.saveButtonLabel)("saveButtonAnalyticsId",e.saveButtonAnalyticsId)("featureTests",e.featureTests)("measurementUnits",e.measurementUnits)("authenticationKey",e.authenticationKey)("googleApiIsLoaded",e.googleApiIsLoaded)("salesChannel",e.salesChannel)("hideIneligibleVariants",e.hideIneligibleVariants)("initTimestamp",e.initTimestamp)("personalisationBuyerResponseLimits",e.personalisationBuyerResponseLimits);}}var Mr=(()=>{class n{constructor(){this.designerService=N$8(vn),this.location=N$8(Xe$4),this.route=N$8(Ge$9),this.router=N$8(ve$8),this.userService=N$8(J$5),this.toastService=N$8(rO),this.metaDataService=N$8($r),this.eventDispatcherService=N$8(X$6),this.googleApiService=N$8(bo$2),this.browserStorageService=N$8(Y$4),this.authenticationService=N$8($e$5),this.routingService=N$8(Ya$1),this.featureTogglesService=N$8(te$5),this.aiDescriptionGeneratorService=N$8(Q$1),this.salesChannelProductsRestrictionsService=N$8(ke$3),this.merchantSalesChannelSettingsService=N$8(wt$4),this.destroyRef=N$8(mn$6),this.window=N$8(Q$9),this.productId$=this.route.params.pipe(ie$b(({productId:e})=>e)),this.blueprintId$=this.route.params.pipe(ie$b(({blueprintId:e})=>e)),this.selectedDecorationMethod$=this.route.params.pipe(ie$b(({decorationMethod:e})=>e)),this.printProviderId$=this.route.params.pipe(ie$b(({printProviderId:e})=>e)),this.routeParams$=Hp$2([this.productId$,this.blueprintId$,this.selectedDecorationMethod$,this.printProviderId$]),this.hideIneligibleVariants$=Hp$2([this.salesChannelProductsRestrictionsService.salesChannelSelectorState$,this.routeParams$]).pipe(ie$b(([e,[t,o,,r]])=>o&&r&&!t?e:false)),this.measurementUnits$=this.userService.units$,this.authenticationKey$=this.designerService.authenticationKey$,this.isProduct$=this.productId$.pipe(ie$b(e=>!!e)),this.googleApiIsLoaded$=this.googleApiService.isLoaded$,this.initTimestamp$=gi$4(()=>hi$7(this.window.performance.now())),this.designerState$=Hp$2([this.routeParams$,this.authenticationKey$,this.measurementUnits$,this.googleApiIsLoaded$,this.designerService.enabledFeatures$,this.routingService.hasHistory$,this.designerService.salesChannel$,this.hideIneligibleVariants$,this.initTimestamp$]).pipe(Hc$3(0,Yp$1),ie$b(([[e,t,o,r],a,s,c,m,C,M,W,K])=>{if(e&&!a)return;let $=this.getBackButtonLabel(e,C);return {productId:e,printProviderId:r,blueprintId:t,selectedDecorationMethod:o,authenticationKey:a,backButtonLabel:$,saveButtonLabel:"",saveButtonAnalyticsId:"",measurementUnits:s,googleApiIsLoaded:c,featureTests:m,salesChannel:M,hideIneligibleVariants:W,initTimestamp:K,personalisationBuyerResponseLimits:{min:1,max:1024,default:256}}}),Dr$5((e,t)=>au$4(e,t)));}ngOnInit(){this.metaDataService.addRobots([Ot$1.NoFollow,Ot$1.NoIndex]),this.eventDispatcherService.dispatch(new er$4(true));}ngOnDestroy(){this.metaDataService.removeRobots(),this.eventDispatcherService.dispatch(new er$4(false));}saveProduct({data:e,aborted:t}){this.isProduct$.pipe(mt$8(1)).subscribe(o=>{if(o){this.updateProduct(e,t);return}this.createProduct(e,t);});}updateProduct(e,t){this.designerService.updateProduct(e,this.route.snapshot.params.productId).pipe(yi$5(o=>{t();let r=o?.error?.errors,a="Sorry, we couldn't save your product. Please try again.",s=r?.exception_code===Wo$3?r?.product_saving_error:a;return this.toastService.error({content:s||a}),Xp$2(()=>o)})).subscribe(o=>{let{_id:r}=o,a=e$1(r);this.browserStorageService.remove(be$7,I$8.Session),this.router.navigateByUrl(a);});}createProduct(e,t){this.userService.isAuthorized()?this.designerService.createProduct(e).pipe(yi$5(r=>(t(),this.toastService.error({content:"Sorry, we couldn't save your product. Please try again."}),Xp$2(()=>r))),ie$b(r=>({product:r,isNotEarlyAccess:this.isNotEarlyAccess(r)})),mt$8(1),X$7(this.destroyRef)).subscribe(({product:r,isNotEarlyAccess:a})=>{let{_id:s,blueprint_id:c}=r;this.generateAiTitleAndDescription(r),this.browserStorageService.remove(be$7,I$8.Session),this.eventDispatcherService.dispatch(new Ae$5({productId:s,blueprintId:c}));let{url:m,extras:C}=this.getNavigationData(r,a);this.location.replaceState(`/editor/${s}`),this.router.navigateByUrl(m,C);}):(this.browserStorageService.set(r$9,e,{storageType:I$8.Session,clearOnAuth:true}),this.router.navigateByUrl("register"));}getNavigationData(e,t){let{shop_id:o,_id:r}=e;return t?{url:st(o,r),extras:{state:{showProductEmbroideryBanner:mt(e)}}}:{url:e$1(r)}}onDispatchNotification(e){this.designerService.dispatchNotification(e);}onAuthError(){this.authenticationService.logout();}onDispatchAnalyticsEvent(e){this.designerService.dispatchAnalyticsEvent(e);}onHtmlTitleChange(e){this.metaDataService.applyPageSEO({metaTitle:e});}onGoBack(){this.location.back();}getBackButtonLabel(e,t){return t?e?t$b.myProducts:t$b.internal:t$b.external}isNotEarlyAccess(e){return !e?.hidden_tags?.includes(S$9.EarlyAccess)}generateAiTitleAndDescription(e){this.featureTogglesService.isFeatureEnabled(jt$2.AutogenerateTitleAndDescription)&&(this.featureTogglesService.isFeatureEnabled(jt$2.ListingOptimizationOptOut)||this.aiDescriptionGeneratorService.generateAndStore(e),this.merchantSalesChannelSettingsService.allowAi$.pipe(mt$8(1),Ye$b(Boolean),X$7(this.destroyRef)).subscribe(()=>{this.aiDescriptionGeneratorService.generateAndStore(e);}));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-designer"]],standalone:false,features:[gP([vn])],decls:2,vars:3,consts:[["data-testid","designer",3,"productId","blueprintId","selectedDecorationMethod","printProviderId","backButtonLabel","saveButtonLabel","saveButtonAnalyticsId","featureTests","measurementUnits","authenticationKey","googleApiIsLoaded","salesChannel","hideIneligibleVariants","initTimestamp","personalisationBuyerResponseLimits"],["data-testid","designer",3,"generatorSave","dispatchNotification","authError","goBack","dispatchAnalyticsEvent","htmlTitleChange","productId","blueprintId","selectedDecorationMethod","printProviderId","backButtonLabel","saveButtonLabel","saveButtonAnalyticsId","featureTests","measurementUnits","authenticationKey","googleApiIsLoaded","salesChannel","hideIneligibleVariants","initTimestamp","personalisationBuyerResponseLimits"]],template:function(t,o){if(t&1&&(kI(0,Ry,1,15,"pfa-designer-loader",0),TP(1,"async")),t&2){let r;QR((r=_P(1,1,o.designerState$))?0:-1,r);}},dependencies:[Ho,zd$1],styles:["[_nghost-%COMP%]{position:absolute;display:block;top:0;left:0;right:0}"]});}}return n})();var Tr=function(n){return n.Current="Current",n.Latest="Latest",n}(Tr||{}),An=class{constructor(i,e,t){this.version=i,this.timestamp=e,this.type=t;}isOutdated(i,e){return this.isLabelOutdated(i)&&this.isTimestampOutdated(i,e)}isLabelInvalid(i=this.version){let e=new RegExp(/^[0-9]+-[0-9a-zA-Z]+$/g);return !i||!e.exec(i)}isTimestampInvalid(i=this.timestamp){return !i||isNaN(La(i))}getLabelError(i){return new Error(`${i?`${i}: `:""}Cannot compare current app version to latest app version: ${this.type} version "${this.version}" has invalid format.`)}getTimestampError(i){return new Error(`${i?`${i}: `:""}${this.type} app version ${this.version} has invalid timestamp "${this.timestamp}". Timestamp should be in ISO format.`)}parseLabel(i=this.version){return i?Number(i.split("-")[0]):undefined}isLabelOutdated(i){if(this.isLabelInvalid()||i.isLabelInvalid())return  false;let e=this.parseLabel(),t=i.parseLabel();return !e||!t?false:e<t}isTimestampOutdated(i,e){return this.isTimestampInvalid()||i.isTimestampInvalid()?false:La(i.timestamp)-La(this.timestamp)>e}};function La(n){return new Date(n).getTime()}var Iu="lastForceRefresh",kr="invalidateAppVersionGuard",Eu=(n,i)=>{let e=N$8(te$5),t=N$8(f$c),o=N$8(Y$4),r=N$8(_u$3),a=N$8(it$a),s=N$8(Q$9),c=N$8(wr);if(!e.isFeatureEnabled(jt$2.ForceRefreshOnOutdatedAppVersion))return hi$7(true);let m=new An(t.releaseVersion,t.releaseVersionTimestamp,Tr.Current);if(m.isLabelInvalid())return a.handleError(m.getLabelError(kr)),hi$7(true);if(m.isTimestampInvalid())return a.handleError(m.getTimestampError(kr)),hi$7(true);let C=Date.now(),M=o.getNumber(Iu,0,I$8.Local),W=e.getFeatureVariable(jt$2.ForceRefreshOnOutdatedAppVersion,"refresh_timeout_ms"),K=e.getFeatureVariable(jt$2.ForceRefreshOnOutdatedAppVersion,"outdated_version_diff_ms");return Ly(C,M,W)?hi$7(true):r.get(`/assets/latest-app-version.json?t=${C}`,{headers:new je$6({"Content-Type":"application/json"}),responseType:"json"}).pipe(c$7(),ie$b($=>new An($.version,$.timestamp,Tr.Latest)),ie$b($=>{if($.isLabelInvalid())return a.handleError($.getLabelError(kr)),true;if($.isTimestampInvalid())return a.handleError($.getTimestampError(kr)),true;if(m.isOutdated($,K)){let U={merchantVersionLabel:m.version,merchantVersionReleaseTimestamp:m.timestamp,latestVersionLabel:$.version,latestVersionReleaseTimestamp:$.timestamp,merchantLastForceRefreshTimestamp:M?new Date(M).toISOString():null};return c.saveAppForceRefreshedEventPayload(U),o.set(Iu,C,{storageType:I$8.Local,clearOnAuth:false}),s.location.href=`/app${i.url}`,false}return  true}),yi$5($=>(a.handleError($),hi$7(true))))};function Ly(n,i,e){return !e||!!i&&n-i<=e}var By=[{path:":blueprintId/:printProviderId/:decorationMethod",component:Mr},{path:":blueprintId/:printProviderId",component:Mr},{path:":productId",canActivate:[o],component:Mr}],Fy=[{path:"editor",children:By,canActivateChild:[Eu],data:{rootClass:at$1.Fullscreen}}],xu=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[tf$2.forChild(Fy),tf$2]});}}return n})();var Au=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[Gs$2,xu]});}}return n})();var Ou=(()=>{class n{constructor(){this.router=N$8(ve$8),this.route=N$8(Ge$9),this.zendeskService=N$8(se$1),this.toastService=N$8(rO),this.env=N$8(f$c),this.document=N$8(L$8),this.jwt$=this.zendeskService.getZendeskToken().pipe(yi$5(()=>(this.router.navigateByUrl("account/settings"),this.toastService.error({content:"You have to verify your email before you can access your requests",closingTimeout:0}),"")),kc$2(e=>{setTimeout(()=>{e&&this.document.forms.namedItem("sso-form")?.submit();},100);})),this.returnUrl$=this.route.queryParams.pipe(ie$b(e=>e.return_to??""));}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-zendesk-auth-view"]],standalone:false,decls:7,vars:7,consts:[[1,"zendesk-loader"],["method","post","ngNoForm","","id","sso-form",2,"display","none",3,"action"],["type","text","name","jwt","id","jwt",3,"value"],["type","text","name","return_to","id","return_to",3,"value"]],template:function(t,o){t&1&&(Kf$2(0,"div",0),ME(1,"pfy-loader-circular"),Kf$2(2,"form",1),ME(3,"input",2),TP(4,"async"),ME(5,"input",3),TP(6,"async"),Xf$2()()),t&2&&(xR(2),lE("action",o.env.zendeskUrl+"/access/jwt",sy$2),xR(),lE("value",_P(4,3,o.jwt$)),xR(2),lE("value",_P(6,5,o.returnUrl$)));},dependencies:[du$2,zd$1],styles:[".zendesk-loader[_ngcontent-%COMP%]{height:500px}"],changeDetection:0});}}return n})();var $u=(()=>{class n{constructor(e,t,o,r){this.window=e,this.env=t,this.userService=o,this.zendeskService=r;}ngOnInit(){if(!this.userService.isAuthorized()){this.sendMessage("","","");return}let e=this.userService.getUserData(),t=e?e.details.email:"",o=e?e.contacts.email:"";this.zendeskService.getZendeskClassicWebWidgetToken().subscribe(r=>{this.sendMessage(r,t,o);});}sendMessage(e,t,o){this.window.parent.postMessage({zendesk_token:e,email:t,contact_email:o},`${this.env.zendeskHelpCenterUrl}/hc/en-us`);}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(Q$9),Yo$4(f$c),Yo$4(J$5),Yo$4(se$1))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-zendesk-help-center-auth-check"]],standalone:false,decls:2,vars:0,consts:[[1,"zendesk-loader"]],template:function(t,o){t&1&&(Kf$2(0,"div",0),ME(1,"pfy-loader-circular"),Xf$2());},dependencies:[du$2],styles:[".zendesk-loader[_ngcontent-%COMP%]{height:300px}"],changeDetection:0});}}return n})();var Du=(()=>{class n{constructor(e,t){this.document=e,this.env=t;}canActivate(){return this.document.referrer.includes(this.env.zendeskHelpCenterUrl)}static{this.\u0275fac=function(t){return new(t||n)(pe$9(L$8),pe$9(f$c))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var jy=[{path:"zendesk/sso",component:Ou,canActivate:[o]},{path:"zendesk/help-center",component:$u,canActivate:[Du]}],Nu=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[tf$2.forChild(jy),tf$2]});}}return n})();var Ru=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[eb,dT,Nu]});}}return n})();var Pr=(()=>{class n{constructor(e,t,o){this.authStorageService=e,this.overlay=t,this.userService=o,this.isConsentGiven$=o.authenticatedUser$.pipe(ie$b(r=>{let a=r.consents;return a?Object.values(a).every(s=>s.agreed):false}));}openIfRequired(){return Hp$2([this.authStorageService.state$,this.isConsentGiven$]).pipe(ie$b(([e,t])=>e.authorized&&!t),Dr$5(),ie$b(e=>{if(!e)return;let t=this.overlay.create({hasBackdrop:false,disposeOnNavigation:false,width:"100vw",scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global()});t.attach(new Mn$5(Lu)).instance.isAgreed.pipe(mt$8(1)).subscribe(()=>{t.dispose();});}))}giveConsent(){return this.authStorageService.isAuthorized$.pipe(Ac$3(e=>e?this.userService.giveConsent():hi$7(undefined)))}static{this.\u0275fac=function(t){return new(t||n)(pe$9(we$5),pe$9(Jt$6),pe$9(J$5))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var zy=["consentDetails"];function Vy(n,i){n&1&&ME(0,"pfy-loader-circular",14);}function Hy(n,i){if(n&1){let e=XR();Kf$2(0,"pfy-button",15),VE("buttonClick",function(){nR(e);let o=tP(2);return rR(o.close())}),fP(1,"Cancel signup"),Xf$2();}}function Ky(n,i){n&1&&ME(0,"pfy-loader-circular",14);}function Wy(n,i){if(n&1){let e=XR();Kf$2(0,"div",16),kI(1,Ky,1,0,"pfy-loader-circular",4),Kf$2(2,"iframe",5),TP(3,"safeResourceUrl"),VE("load",function(){nR(e);let o=tP(2);return rR(o.hideConsentLoader())})("error",function(){nR(e);let o=tP(2);return rR(o.hideConsentLoader())}),Xf$2()();}if(n&2){let e=i.pathSuffix,t=tP().ngIf,o=tP();xR(),lE("ngIf",t.isLoadingConsent),xR(),lE("src",_P(3,2,o.homepageURL+e+"/?content-only=true"),ay$2);}}function qy(n,i){if(n&1){let e=XR();Kf$2(0,"div",2)(1,"div",3),kI(2,Vy,1,0,"pfy-loader-circular",4),Kf$2(3,"iframe",5),TP(4,"safeResourceUrl"),VE("load",function(){nR(e);let o=tP();return rR(o.hideContentLoader())})("error",function(){nR(e);let o=tP();return rR(o.hideContentLoader())}),Xf$2()(),Kf$2(5,"footer",6)(6,"div",7)(7,"pfy-checkbox",8),VE("stateChange",function(){nR(e);let o=tP();return rR(o.toggleIsAgreed())}),Xf$2(),Kf$2(8,"span",9),fP(9," I accept the "),Kf$2(10,"pfy-link",10),VE("click",function(){nR(e);let o=tP();return rR(o.showConsent("terms-of-service"))}),fP(11,"Terms of Service"),Xf$2(),fP(12," , the "),Kf$2(13,"pfy-link",10),VE("click",function(){nR(e);let o=tP();return rR(o.showConsent("privacy-policy"))}),fP(14,"Privacy Policy"),Xf$2(),fP(15," , and the "),Kf$2(16,"pfy-link",10),VE("click",function(){nR(e);let o=tP();return rR(o.showConsent("intellectual-property-policy"))}),fP(17,"Intellectual Property Policy"),Xf$2()()(),Kf$2(18,"div",11),kI(19,Hy,2,0,"pfy-button",12),Kf$2(20,"pfy-button",13),VE("buttonClick",function(){nR(e);let o=tP();return rR(o.agree())}),fP(21," Continue "),Xf$2()()(),kI(22,Wy,4,4,"ng-template",null,0,OP),Xf$2();}if(n&2){let e=i.ngIf,t=tP();xR(2),lE("ngIf",e.isLoadingContent),xR(),lE("src",_P(4,6,t.homepageURL+"privacy-summary/?content-only=true"),ay$2),xR(4),lE("checked",e.isAgreed),xR(12),lE("ngIf",t.showCancel),xR(),lE("disabled",!e.isAgreed)("loading",e.isSaving);}}var Lu=(()=>{class n{constructor(e,t,o){this.dialogService=e,this.consentScreenService=t,this.showCancel=false,this.isAgreed=new Xe$5,this.isLoadingContent$=new yn$7(true),this.isLoadingConsent$=new yn$7(false),this.isAgreed$=new yn$7(false),this.isSaving$=new yn$7(false),this.homepageURL=o.homepageURL,this.state$=Hp$2([this.isLoadingContent$,this.isLoadingConsent$,this.isAgreed$,this.isSaving$]).pipe(ie$b(([r,a,s,c])=>({isLoadingContent:r,isLoadingConsent:a,isAgreed:s,isSaving:c})));}hideContentLoader(){this.isLoadingContent$.next(false);}hideConsentLoader(){this.isLoadingConsent$.next(false);}toggleIsAgreed(){this.isAgreed$.next(!this.isAgreed$.value);}showConsent(e){this.isLoadingConsent$.next(true);let t=this.dialogService.open(this.consentDetailsTemplate,{hideCloseButton:true,showTitleBackButton:true,modalSize:Sl$1.XL,inputs:{pathSuffix:e}});t.afterBackAction().pipe(mt$8(1)).subscribe(()=>t.close());}close(){this.isAgreed.emit(false);}agree(){this.isSaving$.next(true),this.consentScreenService.giveConsent().pipe(mt$8(1),xc$2(()=>this.isSaving$.next(false))).subscribe(()=>{this.isAgreed.emit(true);});}static{this.\u0275fac=function(t){return new(t||n)(Yo$4(zu$1),Yo$4(Pr),Yo$4(f$c))};}static{this.\u0275cmp=LR({type:n,selectors:[["pfa-consent-screen"]],viewQuery:function(t,o){if(t&1&&iP(zy,5),t&2){let r;sP(r=aP())&&(o.consentDetailsTemplate=r.first);}},inputs:{showCancel:"showCancel"},outputs:{isAgreed:"isAgreed"},standalone:false,decls:2,vars:3,consts:[["consentDetails",""],["class","consent-content",4,"ngIf"],[1,"consent-content"],[1,"content"],["class","loader",4,"ngIf"],[3,"load","error","src"],[1,"footer"],[1,"checkbox"],["data-testid","consent.agreementCheckbox",3,"stateChange","checked"],[1,"label"],[3,"click"],[1,"form-actions"],["type","secondary",3,"buttonClick",4,"ngIf"],[3,"buttonClick","disabled","loading"],[1,"loader"],["type","secondary",3,"buttonClick"],[1,"content","content-details"]],template:function(t,o){t&1&&(kI(0,qy,24,8,"div",1),TP(1,"async")),t&2&&lE("ngIf",_P(1,1,o.state$));},dependencies:[xd$2,We$8,Ti$7,Vu$2,du$2,zd$1,Ul],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;background-color:#f5f5f0}.consent-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;min-height:568px;width:100%;height:100%;overflow:hidden;-webkit-overflow-scrolling:touch}@media (min-width: 960px){.consent-content[_ngcontent-%COMP%]{width:65%;height:90%;margin:5% auto 0;max-height:900px}}.footer[_ngcontent-%COMP%]{flex-grow:0;padding:1.5rem;margin-top:0;border-top:1px solid #e0e0d7}.content[_ngcontent-%COMP%]{position:relative;overflow:hidden;flex-grow:1}.content-details[_ngcontent-%COMP%]{height:90vh}@media (min-width: 600px){.content-details[_ngcontent-%COMP%]{height:75vh}}.checkbox[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.label[_ngcontent-%COMP%]{flex-grow:1}iframe[_ngcontent-%COMP%]{width:100%;height:100%}.loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}.form-actions[_ngcontent-%COMP%]{text-align:right}.form-actions[_ngcontent-%COMP%]   pfy-button[_ngcontent-%COMP%] + pfy-button[_ngcontent-%COMP%]{margin-left:1.5rem}'],changeDetection:0});}}return n})();var Bu=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({providers:[{provide:Vf$2,multi:true,deps:[Pr],useFactory(e){return ()=>e.openIfRequired().subscribe()}}],imports:[Gs$2,eb,dT]});}}return n})();var Gy=[/^\/account\/payment\//,/^\/products/,/^\/store\/manual-order\/products/,/^\/store\/bulk-order\/products/,/^\/store\/sample-order\/products/,/^\/store\/[^\/]+\/orders\/csv-import/,/^\/subscription-payment\?/],ju={provide:Vf$2,multi:true,deps:[we$5,te$5,Q$9,f$c,le$8,ve$8],useFactory(n,i,e,t,o,r){return ()=>{if(!t.riskified)return;let a;try{a=i.getAbTestToken()||Fu();}catch{a=Fu();}let s=`/app-scripts/riskified?shop=${t.riskified.shop}&sid=${a}`,c=o.loadLib(s,()=>e.RISKX,{skipAnonymous:true});Hp$2([c,n.isAuthorized$]).subscribe(([C])=>{let M=i.getAbTestToken();M&&C?.setSid(M);});let m=r.events.pipe(Ye$b(C=>C instanceof ie$a),ie$b(C=>C.url),Ye$b(C=>Gy.some(M=>M.test(C))));Hp$2([c,m]).subscribe(([C,M])=>{C.go(M);});}}};function Fu(){return typeof crypto?.randomUUID=="function"?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2,12).padStart(12,"0")}var Qy="X-Antifraud-Session-Id",Yy=[{method:"POST",path:/^\/api\/v1\/card/},{method:"POST",path:/^\/api\/v1\/payments\/primer\/[^\/]+\/client-session/},{method:"POST",path:/^\/api\/v1\/payments\/primer\/[^\/]+\/topup-client-session/},{method:"POST",path:/^\/api\/v1\/users\/[^\/]+\/shops\/[^\/]+\/orders/},{method:"POST",path:/^\/api\/v1\/users\/[^\/]+\/subscribe/},{method:"POST",path:/^\/api\/v1\/users\/[^\/]+\/unsubscribe/},{method:"POST",path:/^\/api\/v1\/users\/[^\/]+\/upgrade-subscription/}],Uu=(()=>{class n{constructor(e,t){this.featureTogglesService=e,this.env=t;}intercept(e,t){if(!this.env.riskified)return t.handle(e);let o=Yy.some(s=>s.method==="POST"&&s.path.test(e.url)),r=this.featureTogglesService.getAbTestToken();if(!o||!r)return t.handle(e);let a=e.clone({headers:e.headers.set(Qy,r)});return t.handle(a)}static{this.\u0275fac=function(t){return new(t||n)(pe$9(te$5),pe$9(f$c))};}static{this.\u0275prov=H$9({token:n,factory:n.\u0275fac});}}return n})();var zu=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({providers:[{provide:Nu$2,useClass:Uu,multi:true},{provide:Nu$2,useClass:we$1,multi:true},{provide:Vo$3,useExisting:z$1},VS,{provide:$1,deps:[_e$8],useFactory:e=>({url:`${e.get(f$c).apiURL}v1/supported-currencies`})},ju,{provide:_i$5,deps:[hi$1],useFactory:e=>({currencyCode$:gi$4(()=>e.loadPaymentProfile()).pipe(Ac$3(()=>e.billingCurrencyCode$))})}],imports:[qp.forRoot()]});}}return n})();var Vu=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n});}static{this.\u0275inj=qh$2({imports:[F$1]});}}return n})();var Hu=[iu,tc$1,ru,Au,zu,Ru,_e,Pu,Vu,Bu,or];var Ku=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275mod=EI({type:n,bootstrap:[Tm]});}static{this.\u0275inj=qh$2({providers:[{provide:Vf$2,multi:true,deps:[zp],useFactory(e){return ()=>e.initialize()}},{provide:Vf$2,multi:true,deps:[$e$5],useFactory(e){return ()=>e.checkAuth()}},{provide:Nu$2,useClass:y,multi:true},gh$1(mh$1()),{provide:Nu$2,useClass:km,multi:true},{provide:Nu$2,useClass:Up,multi:true}],imports:[eb.forRoot(),Ph$2,Hu]});}}return n})();var Wu={provide:f$c,deps:[L$8],useFactory:qu};qu(document);function qu(n){let i=n.getElementById("pfyAppConfig");if(!i)throw new Error("Cannot find configuration. App is not usable.");return JSON.parse(i.innerText)}Oh$1([Wu]).bootstrapModule(Ku).catch(n=>{console.error(n),z$7(n,{tags:{domain:"app.bootstrap"}});});
var chunkNDRTNXBC=/*#__PURE__*/Object.freeze({__proto__:null,Configuration:So$1,DesktopFrameSize:bo$1,LivePreviewComponent:Is$1,LivePreviewModule:As$2,MobileFrameSize:Co$2,STOREFRONT_STORE_BUILDER_CONFIGURATION:Er$1,STOREFRONT_STORE_BUILDER_EVENT_DISPATCHER_SERVICE:Vt$3,STOREFRONT_STORE_BUILDER_FEATURE_TOGGLES:Po$4,STOREFRONT_STORE_BUILDER_MERCHANT_SERVICE:Ts$1,StorefrontProductsArrangementEdited:wn$3,StorefrontProductsArrangementFailed:xn$3,StorefrontProductsArrangementProductMovedToBottom:Dn$3,StorefrontProductsArrangementProductMovedToTop:On$2,StorefrontProductsArrangementSaved:Tn$3,StorefrontStoreBuilderAboutPageChanged:go$1,StorefrontStoreBuilderComponent:qs$1,StorefrontStoreBuilderCoverBannerDisabled:yo$1,StorefrontStoreBuilderCoverBannerLaunched:vo$1,StorefrontStoreBuilderLogoChanged:In$3,StorefrontStoreBuilderModule:fh$1,StorefrontStoreBuilderService:ot$7,StorefrontStoreBuilderSocialLinkAdded:An$4,StorefrontStoreBuilderThemeChanged:En$3,ThemeVersion:Rn$3,tabRoutes:ac$1});export{Ze$5 as $,Ac$3 as A,qd$1 as B,C$3 as C,Dr$5 as D,E$e as E,dT as F,Ge$3 as G,H$9 as H,vS as I,o$b as J,Kf$2 as K,LR as L,ME as M,N$8 as N,WR as O,P$4 as P,QR as Q,uE as R,GI as S,TP as T,Xe$5 as U,VE as V,Wn$4 as W,Xf$2 as X,Ye$b as Y,yn$7 as Z,_P as _,Gs$2 as a,Ai$5 as a$,lt$7 as a0,rt$3 as a1,k$4 as a2,X$7 as a3,Be$2 as a4,y$6 as a5,Je$2 as a6,gP as a7,O$9 as a8,HR as a9,me$1 as aA,sR as aB,kc$2 as aC,Tc$2 as aD,Rc$2 as aE,In$7 as aF,pc$4 as aG,A$f as aH,Nd$4 as aI,yi$5 as aJ,Ah$2 as aK,vh$1 as aL,wn$7 as aM,wh$1 as aN,ve$9 as aO,Sc$2 as aP,Qc$3 as aQ,Oc$2 as aR,Bt$7 as aS,Uc$3 as aT,Yc$3 as aU,Oe$4 as aV,Nc$2 as aW,Ei$9 as aX,Ni$5 as aY,Hc$3 as aZ,Bp$1 as a_,bI as aa,Ji$1 as ab,Pi$1 as ac,dE as ad,We$8 as ae,ge$9 as af,ts as ag,JR as ah,KR as ai,XR as aj,nR as ak,rR as al,sy$2 as am,ip$2 as an,D$a as ao,Kc$2 as ap,Z$a as aq,$p$1 as ar,Wc$3 as as,oi$5 as at,$c$2 as au,pe$9 as av,m as aw,qe$9 as ax,It$4 as ay,Zc$4 as az,b$9 as b,nP as b$,ye$7 as b0,gt$7 as b1,gi$4 as b2,ot$a as b3,_c$3 as b4,Op$2 as b5,Je$5 as b6,be$8 as b7,_i$7 as b8,Yo$4 as b9,wu$2 as bA,iP as bB,sP as bC,aP as bD,tR as bE,h1 as bF,vl$1 as bG,In$5 as bH,Su$1 as bI,ft$6 as bJ,kd$2 as bK,xd$2 as bL,Tt$4 as bM,Vt$6 as bN,jt$3 as bO,dP as bP,x1 as bQ,wl$1 as bR,yi$3 as bS,Fe$6 as bT,uu$4 as bU,US as bV,hs$2 as bW,xo$3 as bX,gs$1 as bY,ms$2 as bZ,yl$1 as b_,jR as ba,Mr$6 as bb,Mn$5 as bc,KO as bd,ph$2 as be,Cc$3 as bf,Je$6 as bg,$u$1 as bh,Xp$2 as bi,ih$1 as bj,_h$1 as bk,zc$3 as bl,M$a as bm,Gc$3 as bn,Eh$2 as bo,yh$1 as bp,Sn$5 as bq,xh$1 as br,eh$3 as bs,Ch$1 as bt,Mc$2 as bu,B$8 as bv,Aw as bw,bd$3 as bx,zD as by,QD as bz,_p$1 as c,EP as c$,rP as c0,mt$6 as c1,$d$2 as c2,OS as c3,$w as c4,Fo$1 as c5,bs$2 as c6,Cs$4 as c7,Dx as c8,Tn$4 as c9,hu$1 as cA,XE as cB,KE as cC,wn$5 as cD,Xn$3 as cE,pO as cF,Zu as cG,bO as cH,xO as cI,op$1 as cJ,vP as cK,Vu$2 as cL,Nu$1 as cM,MO as cN,Wd$1 as cO,Ti$7 as cP,ml$1 as cQ,Il$1 as cR,yO as cS,Ol$1 as cT,Vs$2 as cU,Ud$1 as cV,BS as cW,oI as cX,Ja$3 as cY,zE as cZ,Ie$6 as c_,cn$4 as ca,_e$8 as cb,So$3 as cc,ps$2 as cd,fl$1 as ce,_l$1 as cf,OP as cg,Sl$1 as ch,cs$2 as ci,VR as cj,_1 as ck,fu$1 as cl,EI as cm,qh$2 as cn,cR as co,Nu$3 as cp,Uo$5 as cq,RR as cr,HP as cs,Lr$3 as ct,Nt$1 as cu,cP as cv,ew$1 as cw,hP as cx,BM as cy,xr$4 as cz,d$8 as d,ZS as d$,XO as d0,fd$1 as d1,Qh as d2,Xu$2 as d3,ds$3 as d4,hl$1 as d5,du$2 as d6,Hu$1 as d7,uh$2 as d8,jd$2 as d9,yS as dA,HS as dB,UP as dC,TE as dD,k$5 as dE,Nu$2 as dF,gh$1 as dG,mh$1 as dH,B$a as dI,GE as dJ,mP as dK,Ja$5 as dL,Ii$3 as dM,it$a as dN,Zd$3 as dO,Wc$4 as dP,z$c as dQ,mn$6 as dR,de$7 as dS,_u$3 as dT,rO as dU,bw$1 as dV,L$8 as dW,Yp$1 as dX,hh$3 as dY,ES as dZ,Po$6 as d_,FS as da,jx as db,sT as dc,Zd$1 as dd,LS as de,ns$2 as df,IS as dg,Ki$4 as dh,QO as di,ep$2 as dj,tp$2 as dk,$n$5 as dl,Or$4 as dm,ha$3 as dn,GS as dp,oP as dq,qS as dr,cu$2 as ds,jw as dt,QS as du,px as dv,gl$1 as dw,Pp as dx,xi$4 as dy,Uc$2 as dz,hs as e,YR as e$,Jt$6 as e0,J$7 as e1,Kp$1 as e2,zu$1 as e3,NR as e4,nn$6 as e5,Mi$5 as e6,fs$1 as e7,Zn$3 as e8,mc$3 as e9,Jc$5 as eA,Kw as eB,xc$2 as eC,TS as eD,iR as eE,_g$1 as eF,$e$b as eG,uP as eH,tO as eI,Gd$1 as eJ,sO as eK,Ld$1 as eL,is$2 as eM,XS as eN,ay$2 as eO,eT as eP,lO as eQ,Be$5 as eR,Ge$6 as eS,Ve$2 as eT,Bd$1 as eU,kS as eV,y1 as eW,J1 as eX,dx as eY,bg as eZ,bR as e_,fo$3 as ea,pn$6 as eb,Io$3 as ec,te$6 as ed,pP as ee,en$2 as ef,sl$1 as eg,sg$1 as eh,ya$4 as ei,rl$1 as ej,Eu$2 as ek,We$5 as el,MS as em,Ar$4 as en,Vo$3 as eo,y$9 as ep,oR as eq,Yp$2 as er,Ic$3 as es,gn$3 as et,rh$1 as eu,Wp$1 as ev,ER as ew,Eo$3 as ex,bh$1 as ey,gh$3 as ez,Pt$2 as f,ie$a as f$,IP as f0,ZR as f1,SP as f2,Mu$1 as f3,w1 as f4,SS as f5,zR as f6,QE as f7,DP as f8,ve$8 as f9,le$3 as fA,$r as fB,Ee$4 as fC,ei$2 as fD,Ro$2 as fE,ke$3 as fF,ei$1 as fG,B$2 as fH,at$1 as fI,tf$2 as fJ,eb as fK,yi as fL,io as fM,Fe as fN,wP as fO,eh$2 as fP,_o$2 as fQ,f$c as fR,zS as fS,gx as fT,dt$4 as fU,Ut$4 as fV,_c$1 as fW,Oe as fX,Te as fY,hc$2 as fZ,S$9 as f_,Ge$9 as fa,Q$9 as fb,ce$3 as fc,Ae$3 as fd,g$4 as fe,Le as ff,BP as fg,me$2 as fh,Ti$6 as fi,Kn as fj,Wu$2 as fk,iT as fl,Io$2 as fm,Ec$1 as fn,K$7 as fo,F1 as fp,mt$3 as fq,Dr as fr,Pr$1 as fs,Gv$1 as ft,we$5 as fu,Da$1 as fv,Re as fw,Ie$2 as fx,ge as fy,Na$1 as fz,th$2 as g,Nx as g$,fe$3 as g0,gt$3 as g1,kx as g2,Po as g3,Ci$3 as g4,Io$1 as g5,bi$2 as g6,Xo$1 as g7,xe$5 as g8,M$8 as g9,Pt$1 as gA,Mr$1 as gB,F$5 as gC,Bn$2 as gD,Lc$3 as gE,mn$2 as gF,hn$1 as gG,Nd$2 as gH,Pl as gI,Dl as gJ,qm$1 as gK,Yx as gL,b_ as gM,tx as gN,sr$3 as gO,Jt$5 as gP,Zt$4 as gQ,J$5 as gR,q$2 as gS,Em$1 as gT,Kn$3 as gU,tl$1 as gV,dn$5 as gW,pa$1 as gX,Vo$2 as gY,ns as gZ,lx as g_,ti$3 as ga,no$2 as gb,le$8 as gc,X$6 as gd,xn$5 as ge,$E as gf,Ml$1 as gg,Ee$5 as gh,ti$1 as gi,p$5 as gj,R$a as gk,JO as gl,Io$4 as gm,Hr as gn,Yr$1 as go,jv$1 as gp,f as gq,De$6 as gr,$e$5 as gs,Vn$1 as gt,Y$4 as gu,j$1 as gv,nn$5 as gw,Be$7 as gx,I$8 as gy,ax as gz,hi$7 as h,xw as h$,Fu$2 as h0,rs as h1,Gu as h2,ca$2 as h3,na$1 as h4,oT as h5,Oa$1 as h6,Bi$2 as h7,Po$2 as h8,K as h9,ze$4 as hA,Ze$2 as hB,F as hC,U$c as hD,o$9 as hE,_$4 as hF,C$9 as hG,E$9 as hH,A$1 as hI,ze$1 as hJ,Ke$1 as hK,Ft$3 as hL,m$8 as hM,x$a as hN,f$b as hO,C$d as hP,ie$9 as hQ,Fr$4 as hR,Fe$5 as hS,u$6 as hT,n$3 as hU,l$5 as hV,d$5 as hW,h$7 as hX,wR as hY,z1 as hZ,j1 as h_,Q as ha,qp as hb,ZE as hc,YE as hd,JE as he,o as hf,pn$3 as hg,E$7 as hh,e$4 as hi,W$1 as hj,ft$2 as hk,ge$3 as hl,Pe$4 as hm,c$7 as hn,t$2 as ho,kt as hp,tT as hq,nl$1 as hr,Ne as hs,nt$9 as ht,It as hu,o$5 as hv,t$6 as hw,s$c as hx,BR as hy,Jd$2 as hz,ie$b as i,yn$2 as i$,wS as i0,Va$2 as i1,be$3 as i2,ri$1 as i3,Gt$1 as i4,ct$2 as i5,Ei$3 as i6,Z$8 as i7,an$5 as i8,ln$5 as i9,ai$1 as iA,em$1 as iB,ls as iC,$r$3 as iD,so$5 as iE,kn$6 as iF,ro$4 as iG,gm$1 as iH,AR as iI,Jd as iJ,Pw$1 as iK,Cr$3 as iL,ei$4 as iM,lP as iN,Br as iO,mx as iP,Ue$1 as iQ,yt$2 as iR,rc$1 as iS,jr as iT,Hr$2 as iU,q$3 as iV,Wr$2 as iW,Zi$3 as iX,Go$1 as iY,n as iZ,$d as i_,Tt$6 as ia,yc$4 as ib,Wc$1 as ic,No$2 as id,Ce$7 as ie,Lr as ig,_$6 as ih,In$3 as ii,An$4 as ij,Uo$2 as ik,Dh$2 as il,jr$2 as im,_i$5 as io,m1 as ip,hi$1 as iq,nx as ir,ho$2 as is,Ya$1 as it,wd$1 as iu,qr as iv,Ad as iw,Sr$3 as ix,e as iy,bt as iz,jt$2 as j,r$9 as j$,K$1 as j0,ep as j1,ia$1 as j2,yP as j3,dn$2 as j4,on$2 as j5,vi$2 as j6,re as j7,Da as j8,nn$3 as j9,h$6 as jA,s$9 as jB,g$9 as jC,S$1 as jD,d$1 as jE,R$d as jF,Sh$2 as jG,$ as jH,d as jI,A$d as jJ,I$1 as jK,Ci$4 as jL,mr$3 as jM,t$a as jN,hr$3 as jO,Ai$3 as jP,V$7 as jQ,Oi$2 as jR,cs as jS,Gi$2 as jT,Eo$2 as jU,td as jV,__ as jW,NS as jX,x$2 as jY,u$1 as jZ,pe$7 as j_,hg$1 as ja,A$3 as jb,Yc$2 as jc,Tr$4 as jd,Dr$3 as je,Lh$3 as jf,Ii$4 as jg,Mc as jh,n$1 as ji,n$5 as jj,a$3 as jk,x$8 as jl,f$9 as jm,c$a as jn,ur$3 as jo,fr$3 as jp,dr$3 as jq,We as jr,Pi as js,m$9 as jt,to as ju,KS as jv,Fr as jw,Wr as jx,l$3 as jy,p$a as jz,Hp$2 as k,Nh$2 as k$,$$5 as k0,nr$4 as k1,Uu$2 as k2,zr as k3,ar$3 as k4,s as k5,d$4 as k6,M$6 as k7,B$6 as k8,o$8 as k9,gc as kA,V$5 as kB,zo$4 as kC,u$5 as kD,y$4 as kE,Co$3 as kF,h$1 as kG,cr$3 as kH,m$1 as kI,z$8 as kJ,m$6 as kK,_$7 as kL,b$6 as kM,r$6 as kN,F$9 as kO,I$6 as kP,lr$4 as kQ,qt$4 as kR,_r$4 as kS,rr$4 as kT,UE as kU,re$6 as kV,Yd$1 as kW,Li$4 as kX,E$b as kY,j$6 as kZ,vr$3 as k_,E as ka,Qt$4 as kb,gr$3 as kc,Kt$3 as kd,T$9 as ke,Wt$3 as kf,i$3 as kg,rr$2 as kh,xo$2 as ki,Oi$3 as kj,Er as kk,fh$2 as kl,Yt$3 as km,Ct$4 as kn,qt$3 as ko,P$9 as kp,pr$3 as kq,He$8 as kr,Nd as ks,Ec as kt,ar$1 as ku,P$1 as kv,fc$2 as kw,v$6 as kx,So$2 as ky,ad as kz,lE as l,R$4 as l$,z$1 as l0,Nv$1 as l1,Or as l2,G as l3,Cr$2 as l4,Hs$2 as l5,ir$3 as l6,N$6 as l7,a$1 as l8,Nx$1 as l9,Eo$1 as lA,ko$1 as lB,D$2 as lC,jn$1 as lD,bt$1 as lE,H as lF,re$1 as lG,Nn$1 as lH,fi$1 as lI,Wn$1 as lJ,R$3 as lK,ae$6 as lL,ah$2 as lM,Ce$4 as lN,U$7 as lO,R$5 as lP,z$4 as lQ,t$8 as lR,S$5 as lS,o$7 as lT,t$9 as lU,bP as lV,e$1 as lW,Br$4 as lX,Sk as lY,gk as lZ,T$2 as l_,GR as la,ir$4 as lb,Lr$2 as lc,Gp$1 as ld,Fp as le,He as lf,Op as lg,Ep as lh,Ja$2 as li,nt$4 as lj,Kr as lk,Di$4 as ll,ye$6 as lm,ji$3 as ln,lt as lo,pt as lp,dt as lq,ft as lr,Jc$2 as ls,nm$1 as lt,qr$2 as lu,Vr$3 as lv,Z$5 as lw,rm$1 as lx,qe$4 as ly,Po$3 as lz,mt$8 as m,l$6 as m$,y$1 as m0,Xe$4 as m1,P$2 as m2,s$6 as m3,t$7 as m4,C$4 as m5,r$1 as m6,_$2 as m7,n$4 as m8,A$6 as m9,Re$2 as mA,Di$2 as mB,x$6 as mC,O$6 as mD,kn$2 as mE,Nn$2 as mF,Ze$3 as mG,Mn$2 as mH,D$7 as mI,g$a as mJ,w$6 as mK,Z$7 as mL,r$3 as mM,i$5 as mN,OR as mO,o$6 as mP,E$8 as mQ,R$9 as mR,_$3 as mS,I$4 as mT,U$6 as mU,e$5 as mV,p$4 as mW,C$8 as mX,aR as mY,M$2 as mZ,r$b as m_,t$5 as ma,S$3 as mb,c$5 as mc,th$3 as md,i$2 as me,r$2 as mf,b$2 as mg,Uc$1 as mh,S$8 as mi,Ar$3 as mj,r$7 as mk,f$a as ml,JS as mm,is as mn,se$4 as mo,Jn$1 as mp,ne$2 as mq,Hi$2 as mr,pi$6 as ms,Cs$1 as mt,ie$6 as mu,le$4 as mv,xi$2 as mw,Ei$5 as mx,me$4 as my,Me$4 as mz,au$4 as n,Sr$4 as n$,c$b as n0,BP$1 as n1,c$2 as n2,_x as n3,AS as n4,o$2 as n5,Dc$1 as n6,ai$4 as n7,x$4 as n8,yt$5 as n9,D$6 as nA,y$3 as nB,go as nC,Ua as nD,yo as nE,xr$3 as nF,et as nG,r$5 as nH,Xt$4 as nI,v$2 as nJ,Ll as nK,he$4 as nL,zi$2 as nM,ot as nN,Y as nO,Q$1 as nP,wt$4 as nQ,Ou$1 as nR,Mi$4 as nS,VP as nT,Tw$1 as nU,Zi$4 as nV,ht$5 as nW,yM as nX,Ca$4 as nY,bl$3 as nZ,CM as n_,Ni$4 as na,s$1 as nb,Pt$3 as nc,Ko$1 as nd,rs$2 as ne,ix as nf,L1 as ng,yr$3 as nh,mo$3 as ni,Re$4 as nj,dR as nk,Qd$1 as nl,aT as nm,v$5 as nn,k$3 as no,Di as np,C$c as nq,Mn$6 as nr,N$7 as ns,Ba$1 as nt,br$3 as nu,r as nv,g$6 as nw,qe$3 as nx,mh$2 as ny,c$9 as nz,kI as o,e$3 as o$,Vg as o0,Td$1 as o1,ok as o2,Xd as o3,np$1 as o4,Pd$1 as o5,Ki$2 as o6,t$c as o7,st as o8,jS as o9,dt$2 as oA,N$1 as oB,a as oC,Me as oD,mt$2 as oE,x$5 as oF,Th$2 as oG,w$2 as oH,C$2 as oI,ke as oJ,H$7 as oK,G$6 as oL,Ut$1 as oM,je as oN,Ee$1 as oO,fv$1 as oP,Fe$1 as oQ,be as oR,nr$1 as oS,rr$1 as oT,er$1 as oU,Qt as oV,tr$1 as oW,qt as oX,lr$1 as oY,Zt as oZ,zt as o_,Wp as oa,Je$3 as ob,dt$3 as oc,it$3 as od,Ve$1 as oe,We$3 as of,Ye$5 as og,qe$2 as oh,An$3 as oi,U$4 as oj,y$5 as ok,lo$3 as ol,He$1 as om,x$1 as on,cr$1 as oo,Xt as op,De$1 as oq,Oe$1 as or,b$1 as os,or$1 as ot,ir$1 as ou,sr$1 as ov,Pe$1 as ow,Jt$1 as ox,Ge as oy,ct$1 as oz,tP as p,Ft$2 as p$,st$2 as p0,lt$2 as p1,ht$1 as p2,ut$2 as p3,Hx as p4,Kd$1 as p5,pt$2 as p6,AP$1 as p7,oe$4 as p8,bi$3 as p9,G$2 as pA,L$2 as pB,N$2 as pC,_$1 as pD,I$2 as pE,E$1 as pF,O as pG,_ as pH,Te$7 as pI,$e$4 as pJ,e$2 as pK,Xd$1 as pL,ya$1 as pM,go$2 as pN,PR as pO,bl$1 as pP,u as pQ,lt$1 as pR,st$1 as pS,ut$1 as pT,dt$1 as pU,u1 as pV,PS as pW,yc$1 as pX,s$d as pY,M$3 as pZ,Dt$1 as p_,vo$2 as pa,bo$2 as pb,Mc$3 as pc,Fl as pd,eh as pe,Pt as pf,t$3 as pg,Xl$1 as ph,c$3 as pi,Bt as pj,U as pk,xS as pl,rT as pm,Bx as pn,Yu$2 as po,s$8 as pp,cT as pq,U$3 as pr,O$2 as ps,D$3 as pt,R$2 as pu,E$6 as pv,T$1 as pw,t$4 as px,P$3 as py,o$4 as pz,NE as q,yo$1 as q$,he$3 as q0,ia$4 as q1,ec as q2,_v$1 as q3,li$3 as q4,Xt$1 as q5,Qr$4 as q6,Bn$1 as q7,R$8 as q8,D$4 as q9,Ol as qA,ct$3 as qB,c as qC,x as qD,p as qE,it as qF,ge$7 as qG,ct as qH,so$2 as qI,w$5 as qJ,ve$5 as qK,rr$3 as qL,ot$7 as qM,tr$3 as qN,dh$1 as qO,Gs$1 as qP,go$1 as qQ,Ys$1 as qR,Ht$2 as qS,Br$1 as qT,it$6 as qU,Er$1 as qV,Vt$3 as qW,kR as qX,Vn$2 as qY,Os$1 as qZ,vo$1 as q_,qo$1 as qa,Ot$1 as qb,Vw as qc,fa$1 as qd,kr$2 as qe,tc$1 as qf,$l as qg,Nl as qh,Ma$2 as qi,ot$4 as qj,uo$4 as qk,se$5 as ql,Ue$4 as qm,xd$1 as qn,In$2 as qo,_n$2 as qp,wt$1 as qq,pe$5 as qr,T$7 as qs,Ra$1 as qt,Pw as qu,tn$2 as qv,rn$2 as qw,$t$2 as qx,Ot$3 as qy,Lt$4 as qz,fP as r,nt as r$,Xs$1 as r0,Po$4 as r1,Zt$2 as r2,Rn$3 as r3,mh as r4,Jt$3 as r5,nt$7 as r6,p$7 as r7,ph$1 as r8,Bs$1 as r9,Ui$7 as rA,Ro$3 as rB,Xa as rC,z as rD,T as rE,mc$2 as rF,g$1 as rG,k as rH,vt$4 as rI,d$6 as rJ,WS as rK,z$9 as rL,V$6 as rM,K$6 as rN,md as rO,ee$1 as rP,W as rQ,Rl as rR,Jr$2 as rS,Xr$1 as rT,Zr$2 as rU,ge$5 as rV,gc$1 as rW,Ih$2 as rX,q as rY,X as rZ,rt as r_,Es$2 as ra,Ln$3 as rb,Qt$2 as rc,m$3 as rd,ic$1 as re,En$3 as rf,q1 as rg,Qs$2 as rh,hh$1 as ri,wo$1 as rj,Bc$1 as rk,ji$5 as rl,wh$2 as rm,c$c as rn,lt$9 as ro,jh$2 as rp,Cc$4 as rq,k$6 as rr,Li$6 as rs,Bi$4 as rt,Mh$3 as ru,er$6 as rv,ir$6 as rw,zt$6 as rx,Ue$8 as ry,Ph$4 as rz,xR as s,I$7 as s$,xP as s0,C_ as s1,w$1 as s2,_i$1 as s3,I$5 as s4,gt$1 as s5,ee$8 as s6,J as s7,Z as s8,D as s9,MP as sA,at as sB,hv$1 as sC,tp as sD,t as sE,ht$3 as sF,ee$7 as sG,xe$6 as sH,ze$2 as sI,bt$3 as sJ,Z$4 as sK,j$7 as sL,MR as sM,O$8 as sN,$$6 as sO,aa$1 as sP,F$a as sQ,M$7 as sR,Rr$1 as sS,Ye$6 as sT,B$7 as sU,W$6 as sV,b$7 as sW,Kn$2 as sX,s$a as sY,Zi$2 as sZ,jn$3 as s_,Vi$3 as sa,tt as sb,ut as sc,CP as sd,DS as se,Ul as sf,N$4 as sg,W$7 as sh,zo$2 as si,ZO as sj,Po$5 as sk,Ht as sl,Ds$3 as sm,oo$3 as sn,Fr$3 as so,_i$6 as sp,Sd$1 as sq,jP as sr,Ji$6 as ss,mt as st,so$4 as su,Er$3 as sv,ga$2 as sw,Tt$1 as sx,ki$3 as sy,So as sz,te$5 as t,m$7 as t0,H$6 as t1,l$4 as t2,q$1 as t3,C$1 as t4,Y$3 as t5,x$9 as t6,U$2 as t7,Ye$2 as t8,Qi$2 as t9,o$3 as ta,J$4 as tb,RS as tc,ss$3 as td,$S as te,f$8 as tf,m$4 as tg,Lu$1 as th,h$4 as ti,$n$1 as tj,ua$2 as tk,ma$2 as tl,Hl$1 as tm,ze$7 as tn,Mt$2 as to,Hd$1 as tp,u$2 as u,WE as v,w$9 as w,x$d as x,NP as y,zd$1 as z};